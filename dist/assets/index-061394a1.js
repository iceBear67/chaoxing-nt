import"./base-82955267.js";/* empty css                    */import{E as et}from"./el-input-983a785f.js";import{a as fe,r as h,C as Ve,c as Ce,l as u,b as y,e as s,i as P,y as X,h as e,p as _,j as d,f as v,w as ae,v as He,G as fs,m as x,_ as Ee,H as Ge,J as q,I as H,$ as Ae,g as te,F as oe,k as ke,o as ss,q as st,u as tt,x as ot}from"./index-26603ea5.js";import{B as _e}from"./index-94663b0f.js";import{_ as se}from"./lodash-4dfbea43.js";import{u as ms}from"./index-46519fef.js";import{T as re,c as Je}from"./index-b0b4f58c.js";import{M as $e}from"./index-51260f4b.js";import{D as es,aw as lt,ax as at,M as nt,ad as je}from"./message-4d42f580.js";import{_ as Ie}from"./index.vue_vue_type_style_index_0_lang-dc190aa5.js";import{p as rt,D as ds}from"./pbulic-folder-24297465.js";import{E as ts}from"./index-3e12c228.js";/* empty css                     */import{t as os}from"./index.vue_vue_type_style_index_0_lang-dfb9c5c0.js";import{o as ys}from"./index-fb2938e5.js";import{E as ve}from"./index-853a0f6e.js";import{M as ct}from"./index-403401b5.js";import{E as it,a as dt}from"./el-radio-771bb81d.js";import{D as ut}from"./index-d3d722e6.js";import"./index-9c66cebd.js";import"./index-952b158c.js";import"./icon-803f5cc0.js";import"./typescript-defaf979.js";import"./index-15f48857.js";import"./_baseGet-ad9634b7.js";import"./event-9519ab40.js";import"./use-form-common-props-325f2441.js";import"./index-08289d2b.js";import"./constants-84857360.js";import"./index-12f9ba11.js";import"./aria-60e0cdc6.js";import"./_commonjsHelpers-de833af9.js";import"./index-ab028c07.js";/* empty css                                                              */import"./message-fe5b63d1.js";import"./validate-f7672251.js";import"./forward-bb18e89e.js";import"./index-e5f0a9f0.js";import"./el-popper-548470bb.js";import"./index-57013d5d.js";import"./createAttachment-a64a5f42.js";import"./isEqual-c46d625c.js";import"./_Uint8Array-24db2bd7.js";import"./index-f81182f6.js";/* empty css                   */import"./index-7e6c4fb9.js";import"./vnode-45baa450.js";import"./use-global-config-c67545e0.js";/* empty css                                                              */var J=(i=>(i[i.ALL=-1]="ALL",i[i.NOTICE=0]="NOTICE",i[i.LETTER=1e3]="LETTER",i[i.APPROVAL=4e3]="APPROVAL",i[i.NO_READ=99]="NO_READ",i))(J||{});const Re={[-1]:"全部",0:"通知",1e3:"站内信函",4e3:"审批",99:"未读"};var $=(i=>(i.drafts="drafts",i.myLetter="myLetter",i.public="public",i.session="session",i))($||{});const vt="data:image/png;base64,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",pt=["src"],ht={class:"folder_info"},Xe=fe({__name:"index",props:{type:{type:String,default:"public",validator:i=>["drafts","private","public","recovery"].includes(i)},title:String,disabled:{type:Boolean,default:!0},isChecked:Boolean,count:Number,isEdit:{type:Boolean,default:!1},noticeFilters:Array},emits:{change:i=>i,"update:modelValue":i=>i},setup(i,{emit:l}){var L,f,U,M;const o=i,r=_e("inbox-folder"),c=h(!1),w=h(""),V=h("");if((L=o.noticeFilters)!=null&&L.length){w.value=(U=(f=o.noticeFilters)==null?void 0:f.filter(N=>N.name))==null?void 0:U.map(N=>N.name).join(",");let S=(M=o.noticeFilters)==null?void 0:M.filter(N=>N.extendParams).map(N=>N.extendParams).join();S&&(V.value=JSON.parse(S).keyword.map(N=>N.keywords).join("、")),console.log("noticeFilters",w.value)}Ve(()=>o.isChecked,()=>{c.value=o.isChecked},{immediate:!0});const g=Ce(()=>o==null?void 0:o.disabled),m=Ce(()=>{switch(o.type){case"drafts":return vt;case"public":return rt;case"private":default:return es}}),k=S=>{l("change",S)};return(S,N)=>{var T;const I=ts,R=Ee;return u(),y("div",{class:d(e(r).b())},[s("div",{class:d(e(r).e("left"))},[o.isEdit?(u(),P(I,{key:0,modelValue:c.value,"onUpdate:modelValue":N[0]||(N[0]=Y=>c.value=Y),onChange:k,onClick:N[1]||(N[1]=X(()=>{},["stop"])),disabled:e(g)},null,8,["modelValue","disabled"])):_("",!0),s("img",{class:d(e(r).e("ico")),src:e(m)},null,10,pt),s("div",ht,[s("span",{class:d(e(r).e("title"))},v(i.title),3),(T=i.noticeFilters)!=null&&T.length?(u(),y("div",{key:0,class:d(e(r).e("tip"))},[ae(s("span",null,"指定发件人:"+v(w.value),513),[[He,w.value]]),ae(s("span",null,"指定标题关键字:"+v(V.value),513),[[He,V.value]])],2)):_("",!0)])],2),s("div",{class:d(e(r).e("right"))},[s("span",{class:d(e(r).e("operation"))},[fs(S.$slots,"default")],2),s("span",{class:d(e(r).e("counter"))},v(i.count),3),x(R,{"my-style":{"margin-left":"4px"},"icon-class":"date_r",width:"12px",height:"12px",color:"#8A8B99"})],2)],2)}}});const gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQxSURBVHgB7Zw/TBNxFMdfjYOAU0lkEAeMOImM1E3ESRQXBjHBCTHRARYXSRyMEhMXHFVc0KgDDjiwAW60I8IkBk3EQRKYsB3xXn/95X693l3vz/dKj7xPQnqUu+Puc+/ee7/fNc0c3L9+QAKMYyRAEaFgRCgYEQpGhIIRoWBEKBgRCkaEghGhYEQoGBEKRoSCEaFgRCgYEQpGhIIRoWBEKBgRCkaEghGhYEQoGBEKRoSCEaFgRCiY45R22jvUa2mfqPgv/HbM7l9C0Tih7aeInry1f5+bISosUSzK+5xVy3lrX+9m7L8NjxFdvKSWXz8j2t6q3nZiWm3PPLhBKNIfoV60tNnCeLlBxBdavtIdoTej4btEg7eDresWYU1KfKEsU0dCGFrb1E8QGhhhccHe8jOPiPZ2CMK4ta/Os+5/G51Ur6bo7h77/fk3FBm+yKcr/5fPJWTBwgqtdwC5AaJsJZoLy/7r+lVs3o8TvkvaK+8vfqTIXBsh6r+plh+PUVjiC11bta7qSbVc3Pdft8864fM9anlzw1/ot7wd7SWH3LlKNef/O1w56c11otWlYMfhhSlz5Uukdiq+0M+zlAh8Ql7odoujUgvd3fFuwziiuy/YvzsjmNPF4Ih6Zb6vR04buFv+3pSde7wwc974VG3kOUFVd2eKcAqdnFavfDzL1oVc/EBRwQk90Rau2gep8qjqzk2/3+27smClrgLRn61woy0XkmnsvZK5WblfPbVO4FftOuURTo6gsFDOsV7M49JWMkK9osG8+qWi+3pRC4qG8+AhDgKOztCTRb74pNJIhHYHRTJC+wbc3zdzZm+f3ZOaZOsMYzlPn7Pknemqbvx1/uYKHTfKY5CM0DuT9dfR/V5YWLjb/vk251zolysbQDJC8x79YG/Ortxrefe2iRv/bIBugftOlqdbou2fhy6TSUaoOS9pkp22R0rcuLsJGJ2wJF0lTzgSH95SBY5v89wANRPpK0qleH1i0jTfMyU9L5BSkolQnmRww5yIdo6vGe4CdFO/t9MUOTEsyQgNMhNfL/flYz5v8oIvWoJfuYATWliqH1FcbHS/6DW+5hyZRMVmkf1DRJetdu35hP+6/DCRj5MnzEMeB05okIji0YwptFG39JUhNRgI+silNfqkTLo/6NASsIBxXmZJHP08Jch3RskYTZnpx+yVI5DOsXy5oPVUz0r5Rbue5/y6YE/Q8MBCD135WdSoY/QVsSimUyh3B2ZUlU9+o3Y9N5Ga8iRzRs0pmHMCvM1va/Dw/iVFIdPQrxnioqAPnkdKUafZODI7u9TJ8xD0x3qtMI5gwIRxWDLyvU1Y5NN3YEQoGBEKRoSCEaFgRCgYEQpGhIIRoWBEKBgRCkaEghGhYEQoGBEKRoSCEaFgRCgYEQpGhIIRoWBEKBgRCkaEghGhYEQoGBEK5j+YXRrO+kI9YAAAAABJRU5ErkJggg==",ft="data:image/png;base64,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",mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATBSURBVHgB7ZwvexNBEIdneRB1VNZRXB2RdQRXR3G4hk9AcbiWT0BwOILDUVxdIyuLqyyujuKqWPY3d3vZ29y/3E03EfM+T5+WXHrZfXd2djMbav6dkCVFjEekiKJChVGhwqhQYVSoMCpUGBUqjAoVRoUKo0KFUaHCqFBhVKgwKlQYFSqMChVGhQqjQoVRocKoUGFUqDAqVBgVKowKFUaFCqNChVGhwqhQYR7TEHbHZEZH/KM9f090f0epMB/+EG1tE93Myc5e0qYwTOjtFdHoIvv57jfR/LS4ZN78INoZ0RDs9Fn1BYjEF55z+4s2iWFCEZEuQjhS99+RvZwWUWrv/5JZ5V6BpFaCgTJbT8iOJtXPu7vJ2rd3SObgE3WFIx6/24NhQvHi1z/JOKEsA9+vz7ILZ5Psg6d43HWoAB2MGovBoIPp4gF33Z69rX/RMPKdTFMnlNPBPGvD9i6lYLBQupo5Gdnoc5R6oZ48Ys34JOsUZM0/Zr/nxHDkYCBy+FoQ6VXwAACkHE47k3J7PBVRxrk+biPJpCgwXCg6jk6hMXUNcp20Llp8o83hVyfhqCSSowlR2TLVWGYebfb7a35+GKGNke3bW/UaQgvqcKGU55w4/1UItpefF5HqZbqO2Ktv2aCEggEiKewo7jc+ze6FSO6Z5x4SEaHc6XiEsRBAXhtuIIopHGFnN1nO9ewf8/N52l5OaRPpLxQLTRyVPqdFLEWTm+4mj8ama0u4e9sv08rX2BR6C+XFJFo5WU5VZxFlYaRFubP2WsyGRmVI/wh12yVye8BSPlT6C7Xnx9kP2NRPxo3P5dU9zLFBqmi6tgQGrm3w8kWrIIz+BMgsSm00bUlW2a5g8FoWuvi6nVPS3UASobw3DCPlcLYoqjRcWwJ71Xn0WLRLwNasNEi4d6J3SSBNhEoRL2AAe9Nw24WFK47IuremD0AaodEG32w/7XatC3H04X5r3PAnEdpU6VmlClT5+3uvyg+EBZo1kCaHomCBemkOS8gjs+laJ6JV3+w8X+t/r04z5fFePch91k1T46U1XWsDMv2U9wUa/9iapv3GnSmhYFzQVnnyWySUBMNjkISLUIys0FUXlADjCsxmcrEoRkNmk1BI8/UARLmvWlG5xJea4ULD44iwMt8EpjhyJ778nhG50+dD7DdR66wDaSGIzuIsC99xP+xNV13swndoA9LF4Bxqdl8s/oGOuI5ykcR1zgaHdiVQcA4r60SLKVtVCoxfE29XfZE5nOr5aQDLxOCi3BcVVPgMKopejmgfGANz7yCh3BAflflhHd5LG9dgnn59Ghcf1kWCWZbfIVRV+J1Amw8sD268hUJqOaivWvm00RfT94+4cMf2jxeNcIdy3NiaYnFfOJL9sQaK1nkxhYvMUZSXwMBCKJ6Dg8S2FIDoRj+a7tmB/hEKmeiYP1QDrgLFEYGTSLcf7Hws3IQ7ji7A/dBx5Ne2IjNSDr5joXRtsok2+70jlKc3OpXw0yKcNzvk2BJIDwkr/Eb/bpMs+mExYVSoMCpUGBUqjAoVRoUKo0KFUaHCqFBhVKgwKlQYFSqMChVGhQqjQoVRocKoUGFUqDAqVBgVKowKFUaFCqNChVGhwqhQYVSoMCpUmP/8tMvy4Fdo7QAAAABJRU5ErkJggg==",yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARmSURBVHgB7Zy/TxRBFMffGKONBoIUYsPFBBo1EGi0EWK00kRCZYXoHyDRP0Cjf4AGS00QqKxUEitNyGGDFcGIhZAoNGAhBIONVzjOm92F4djd2x/fPTjzPgm5vd29ZfezM++9mb2c+vtMaRJgHCIBiggFI0LBiFAwIhSMCAUjQsGIUDAiFIwIBSNCwYhQMCIUjAgFI0LBiFAwIhSMCAUjQsGIUDAiFIwIBSNCwYhQMCIUjAgFI0LBHKZG53jJe61sEv3ZTP85ZmuZUNRPqLkAdePb9ltdvkW0NEG5cI6pF8eJZm7vbLvwhFT7dW/b+0Gi9fldH1VXp7el6ue4jtr4LTSKI807rZCX60Ruoe6dTvU504Ko90GifcNa2EElfwtlmRmE0tFm7y8JdWxheYF2ef32EtHvZUKgLr8iau0O39Y35i04olVbP5G/Xs/eo8zwTW7x/y9fS8qEhY2htU6gc5joWLu3zAkpbt/KZvxxqrE9xV8/94iyonpMGDo7Ypf1y9OUlvxCl6fMXW3ylmuULapjiOhUv13WazOxQvXKFKmgtVfJ1WU/m5v/a2NxcLyvE4nOI/L8XJkLo5nKqdxC9ce7VAjmgiK//L807r1yq/SF0tb3nfXVdJob2da3837u4e7tJlyo3vv21bJaJprNdl2wLq+umJh3ojt+Jzfm8f6V+JaEyu6qKkToKqHq2rS3YM5Hfx7dKzwFuBjq1n1JSJLlQdndFv1bK9HbuXtz6NqYzxwuAgop7KOCuZu59btB7wKqOf+YVGmAoCxOEq2Vo7fP4sJWMSOlqGDudnFeDtuv8otywXFwHwcB/83Q09ahQxs2jGQpd1AUI7RjOHy9GzNLZuLiWGnPLiqoU6PgOH3SZOXWLpMEu3avZ1bLueNgHgoRqvrHau/j13upMTch9Pimm9sRUlysrAPFtFDOqmFwsgky9/Kb8LKJC/+QlrsHE3+5mFedN+1bzXFzn2UyxWR5d17SQbGoYKS08DRcQN8LI6lEkXBLnGzxujV3c1/oQaHxklJl/+JjEg7cMyV1pIkamWJaaE/ExLE7kqoeXxsUVwFBUc8TIwcgJqalmCyfYCZehU3BOejFnM+bouCbVuBPLsCE6iUe3s3E7mMzcvBgLGp8zTFy/RO+dRqRtlQ7M0L6dU/srvbBnzlPO2Ge8jxwLTSqVHLhLh50+1rjayDq3B07GEj8yCXpfiE09hcdks5GtQ94knh6jqcEeQ7BHU05pZdya+UMNOZY3sRf1XbRExUQF26Cec4vo9si7RMBf+ZLmdqX699dZEyKjSmUQ4db0NuLDxEaInIbM4nMucl+GcJ9GMgx/KcZPHwIH5zUQtX1Z4ZMUlD+hIYdKWWdZuOWycexU4Amsf0o7xXGs0+ACeO0KPndJizy7TswIhSMCAUjQsGIUDAiFIwIBSNCwYhQMCIUjAgFI0LBiFAwIhSMCAUjQsGIUDAiFIwIBSNCwYhQMCIUjAgFI0LBiFAwIhSMCAXzD2/RQu1wXcLQAAAAAElFTkSuQmCC",wt=["src"],Se=fe({__name:"index",props:{type:{type:String,default:"public",validator:i=>["drafts","myLetter","public","session"].includes(i)},title:String,isChecked:Boolean,source:Object,isEdit:{type:Boolean,default:!1},sessionTag:Number,selectMode:Number,isHome:Boolean},emits:{change:i=>i,"update:modelValue":i=>i},setup(i,{emit:l}){const o=i,r=Ge.global.t,c=_e("notice-item"),w=h(1),V=h(!1),g=h(!0);Ve(()=>o.isChecked,()=>{V.value=o.isChecked},{immediate:!0}),Ve(()=>o.selectMode,async()=>{w.value=o.selectMode||await window.RendererHelper.getUserStore("currentMode")},{immediate:!0}),Ve(()=>o.isHome,async()=>{g.value=o.isHome},{immediate:!0});const m=Ce(()=>{var f,U,M,S;return o.type=="drafts"?((f=o.source)==null?void 0:f.sourceType)==J.LETTER?ft:((U=o.source)==null?void 0:U.sourceType)==J.APPROVAL?yt:mt:((M=o.source)==null?void 0:M.sourceType)==J.LETTER?lt:((S=o.source)==null?void 0:S.sourceType)==J.APPROVAL?gt:at}),k=f=>{l("change",f)},L=Ce(()=>{var f,U;if(o.source&&((f=o.source)!=null&&f.insertTime||(U=o.source)!=null&&U.updateTime))return ms.timeago(o.source.insertTime||o.source.updateTime,!0)});return(f,U)=>{var S,N,I,R,T,Y,E,K,Q,Z;const M=ts;return u(),y("div",{class:d(e(c).b())},[s("div",{class:d(e(c).e("left"))},[o.isEdit?(u(),P(M,{key:0,modelValue:V.value,"onUpdate:modelValue":U[0]||(U[0]=z=>V.value=z),onChange:k,onClick:U[1]||(U[1]=X(()=>{},["stop"]))},null,8,["modelValue"])):_("",!0),s("div",{class:d([e(c).e("ico-wrapper"),e(c).is("red-dot",((S=i.source)==null?void 0:S.redDot)===0)])},[s("img",{class:d(e(c).e("ico")),src:e(m)},null,10,wt)],2),s("div",{class:d(e(c).e("info-wrapper"))},[s("h1",{class:d(e(c).e("title"))},[q(v(i.title||((N=i.source)==null?void 0:N.content)),1),w.value!=1&&((I=i.source)!=null&&I.sessionTag)&&((R=i.source)==null?void 0:R.sessionTag)>1&&g.value?(u(),y("div",{key:0,class:d(e(c).e("seeionnum"))},v((T=i.source)==null?void 0:T.sessionTag),3)):_("",!0)],2),o.type!="drafts"?(u(),y("p",{key:0,class:d(e(c).e("info"))},v((Y=i.source)==null?void 0:Y.createrName)+" "+v(((E=i.source)==null?void 0:E.isread)===0?e(r)("message.unread"):e(r)("message.read"))+" "+v(((K=i.source)==null?void 0:K.count_all)===1?"":`${(Q=i.source)==null?void 0:Q.count_read}/${(Z=i.source)==null?void 0:Z.count_all}`),3)):_("",!0)],2)],2),s("div",{class:d(e(c).e("right"))},[s("span",{class:d(e(c).e("operation"))},[fs(f.$slots,"default")],2),s("span",{class:d([e(c).e("time"),e(c).is("notDraft",o.type!="drafts")])},v(e(L)),3)],2)],2)}}});const kt=""+new URL("tip-80e78512.svg",import.meta.url).href,Ct=""+new URL("tip_active-08878274.svg",import.meta.url).href,At=""+new URL("close-d4e0990a.svg",import.meta.url).href,ls=""+new URL("arrow_b-0d45f360.svg",import.meta.url).href,_t=""+new URL("letter_close-cbac24a9.svg",import.meta.url).href,xt=""+new URL("add-54fcd430.svg",import.meta.url).href,pe="https://notice.chaoxing.com/",bt=()=>new Promise(async(i,l)=>{try{const o=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/checkNoticeRedDot",method:"get",getParams:{t:1}});i(o)}catch(o){console.error(o),l(o)}}),Ft=()=>new Promise(async(i,l)=>{try{const o=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/clearNoticeRedDot",method:"get",getParams:{t:1}});i(o)}catch(o){console.error(o),l(o)}}),us=(i,l,o)=>new Promise(async(r,c)=>{try{let w=o?{folderName:i,rules:JSON.stringify(l),keywordRule:JSON.stringify(o)}:{folderName:i,rules:JSON.stringify(l)};const V=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/addFolder",method:"post",getParams:{t:1},postParams:w});V.status&&r(V.msg)}catch(w){console.error(w),c(w)}}),Ut=(i,l,o)=>new Promise(async(r,c)=>{try{const w=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/updateFolderName",method:"get",getParams:{folderId:i,folderName:l,rules:o}});r(w)}catch(w){console.error(w),c(w)}}),vs=i=>new Promise(async(l,o)=>{try{const r=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/delFolderOrNotice",method:"post",getParams:{t:1},postParams:{folder_uuids:i}});l(r)}catch(r){console.error(r),o(r)}}),Bt=(i,l)=>new Promise(async(o,r)=>{try{const c=await window.MainWindowHelper.genRequest({baseUrl:pe,url:`pc/notice/${i}/topNotice`,method:"post",getParams:{t:1},postParams:{top:l}});o(c)}catch(c){console.error(c),r(c)}}),ps=(i,l)=>new Promise(async(o,r)=>{try{const c=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/moveNoticeToFolder",method:"post",getParams:{t:1},postParams:{noticeIds:i,folder_uuid:l}});console.log("postParams",i,l),o(c)}catch(c){console.error(c),r(c)}}),hs=i=>new Promise(async(l,o)=>{try{const r=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/delNoitce",method:"post",getParams:{t:1},postParams:{noticeIds:i,sendTag:0}});l(r)}catch(r){console.error(r),o(r)}}),It=i=>new Promise(async(l,o)=>{try{const r=await window.MainWindowHelper.genRequest({baseUrl:pe,url:"pc/notice/setNoticeUnread",method:"post",getParams:{t:1},postParams:{noticeId:i}});l(r)}catch(r){console.error(r),o(r)}}),Rt=["placeholder"],Et=["src"],Nt={class:"default"},Lt={class:"keywords"},Mt={class:"type"},St={key:0,class:"right"},Vt=["onMouseenter","onMouseleave"],Ht={class:"left"},Tt={class:"logic"},Dt={class:"keywords"},Pt={class:"type"},Kt={key:0,class:"right"},Qt=["onClick"],qt={class:"header"},Ot={class:"title"},Yt={key:0,src:kt,alt:""},jt={key:1,src:Ct,alt:""},Xt=s("img",{src:At,alt:""},null,-1),Wt=[Xt],Gt={key:0,class:"caption"},Jt=s("div",{class:"arrow"},null,-1),Zt=s("div",{class:"text"},[q(" 1. 包含: 标题中字段包含关键字"),s("br"),q(" 2. 不包含: 标题中字段不包含关键字"),s("br"),q(" 3. 与: 所有关键字同时出现在标题中"),s("br"),q(" 4. 或: 至少一个关键字出现在标题中"),s("br"),q(" 5. 运算符优先级:与>或 ")],-1),zt=[Jt,Zt],$t={class:"main"},eo={class:"default"},so=s("img",{src:ls,alt:""},null,-1),to=s("div",null,"包含",-1),oo=s("div",null,"不包含",-1),lo=[to,oo],ao={key:0,class:"newkeywords"},no=["onClick"],ro=s("img",{src:ls,alt:""},null,-1),co=["onClick"],io=s("li",null,"与",-1),uo=s("li",null,"或",-1),vo=[io,uo],po=["onUpdate:modelValue"],ho=["onClick"],go=s("img",{src:ls,alt:""},null,-1),fo=["onClick"],mo=s("div",null,"包含",-1),yo=s("div",null,"不包含",-1),wo=[mo,yo],ko=["onClick"],Co=s("img",{src:xt,alt:""},null,-1),Ao=s("span",null,"加关键字",-1),_o=[Co,Ao],xo=fe({__name:"index",emits:{"add-folder":()=>{},close:()=>!0},setup(i,{emit:l}){const o=Ge.global.t,r=_e("add-folder"),c=h([]),w=async()=>{const C=se.cloneDeep(c.value);let b=[];try{b=(await ys({peopleList:C})).filter(D=>D.uid!=null)}catch(D){console.error(D)}c.value=[...c.value,...b]},V=h(0),g=h([]),m=h({kid:V.value,keywords:"",type:0,logic:0,menuselect:!1,ishover:!1}),k=h(!1),L=h(!1),f=h([]),U=h(!0),M=h(!0),S=h(""),N=()=>{U.value=!U.value},I=()=>{k.value=!0},R=()=>{M.value=!M.value},T=C=>{for(let b in c.value)if(c.value[b].puid===C.puid){c.value.splice(Number(b),1);break}},Y=()=>{l("close")},E=()=>{Y()},K=h("");let Q=!0;const Z=async()=>{var D;if(!K.value){re({content:"请输入文件夹名称",duration:2e3,icon:"redx"});return}const C=[];let b={keyword:[]};if(g.value.length&&(b.keyword=f.value=g.value.map(O=>{const{isImport:A,kid:j,isContain:Fe,ishover:Ze,...G}=O;return G})),m.value.keywords!=""){const{kid:O,menuselect:A,ishover:j,...Fe}=m.value;b.keyword.unshift(Fe)}for(let O of c.value)C.push({dataId:String(O==null?void 0:O.puid),type:1,name:O==null?void 0:O.name});try{if(Q){Q=!1;let O=b.keyword.length?await us(K.value,C,b):await us(K.value,C);O.noticeFilters=[],O.noticeFilters.push({name:(D=c.value)==null?void 0:D.map(j=>j.name)}),b.keyword.length&&O.noticeFilters.push({extendParams:JSON.stringify(b)}),console.log("targetPeople",c.value,b.keyword);const A=await window.NoticeDbHelper.insertFolder(O);console.log("insertFolder",A)}l("add-folder")}catch{}Y()},z=C=>{C.target.innerText=="不包含"?m.value.type=1:m.value.type=0,m.value.menuselect=!1},ce=()=>{m.value.menuselect=!m.value.menuselect},xe=()=>{g.value.length<10?(V.value=V.value+1,g.value.push({kid:V.value,keywords:"",logic:0,type:0,isImport:!1,isContain:!1,ishover:!1})):re({content:"指定标题关键字数量已达上限",duration:2e3,icon:"redx"})},de=()=>{k.value=!0},ie=C=>{C.isImport=!C.isImport},Te=C=>{C.isContain=!C.isContain},ue=C=>{g.value=g.value.filter(b=>b.kid!=C),f.value=g.value.filter(b=>b.kid!=C)},be=(C,b)=>{const D=g.value.findIndex(O=>O.kid===C.kid);D!==-1&&(g.value[D].logic=b.target.innerText=="与"?0:1,g.value[D].isImport=!1)},De=(C,b)=>{const D=g.value.findIndex(O=>O.kid===C.kid);D!==-1&&(g.value[D].type=b.target.innerText=="包含"?0:1,g.value[D].isContain=!1)},me=()=>{console.log(m.value,g.value),m.value.keywords==""&&g.value.length>0&&(m.value.keywords=g.value[0].keywords,m.value.type=g.value[0].type,g.value.shift(),console.log(m.value,g.value)),f.value=g.value.map(C=>{const{...b}=C;return b}),S.value=m.value.keywords,k.value=!1},Pe=()=>{g.value=f.value.map(C=>{const{...b}=C;return b}),m.value.keywords=S.value,k.value=!1},ye=()=>{f.value.length>0?(m.value.keywords=f.value[0].keywords,m.value.type=f.value[0].type,S.value=f.value[0].keywords,f.value.shift(),g.value.shift()):m.value.keywords=""};return(C,b)=>{const D=Ee,O=ve;return u(),P(os,{center:!0,shouldWrapper:!1},{default:H(()=>[s("div",{class:d(e(r).e("cover"))},null,2),s("div",{class:d(e(r).b())},[s("header",{class:d(e(r).e("header"))},[s("span",{class:d(e(r).e("title"))},v(e(o)("message.newfolder")),3),s("i",{onClick:Y,class:d(e(r).e("close"))},[x(D,{"icon-class":"close",width:"20",height:"20",color:"#8A8B99"})],2)],2),s("main",{class:d(e(r).e("main"))},[ae(s("input",{"onUpdate:modelValue":b[0]||(b[0]=A=>K.value=A),type:"text",placeholder:e(o)("message.enterFoldername")},null,8,Rt),[[Ae,K.value]]),s("div",{class:d(e(r).e("list-wrapper"))},[x(O,null,{default:H(()=>[s("p",{class:d(e(r).e("select-people"))},[s("i",{class:d([e(r).e("show-list"),e(r).is("active",U.value)])},[x(D,{onClick:N,"icon-class":"arrow_r",width:"12px",height:"12px",color:"#A3B9D9"})],2),s("span",null,[q(v(e(o)("message.storeletters")),1),s("span",{class:d(e(r).e("counter"))},[q("( "+v(c.value.length>1?e(o)("message.thereAlreadys"):e(o)("message.thereAlready"))+" ",1),s("span",{class:d([e(r).e("number"),e(r).is("blue",c.value.length>0)])},v(c.value.length),3),q(v(c.value.length>1?e(o)("message.records"):e(o)("message.record"))+" )",1)],2)]),s("i",{onClick:w,class:d(e(r).e("add-people"))},[x(D,{"icon-class":"add_account",width:"20px",height:"20px",color:"#3A8BFF"})],2)],2),ae(s("ul",{class:d(e(r).e("list"))},[(u(!0),y(oe,null,te(c.value,A=>(u(),y("li",{key:A==null?void 0:A.puid},[s("div",{class:d(e(r).e("info"))},[s("img",{src:A==null?void 0:A.pic},null,8,Et),q(" "+v(A==null?void 0:A.name),1)],2),x(D,{onClick:j=>T(A),"icon-class":"close","class-name":e(r).e("del-people"),width:"18px",height:"18px",color:"#d7e0ed"},null,8,["onClick","class-name"])]))),128))],2),[[He,U.value]]),s("p",{class:d(e(r).e("select-keywords"))},[s("i",{class:d([e(r).e("show-list"),e(r).is("active",M.value)])},[x(D,{onClick:R,"icon-class":"arrow_r",width:"12px",height:"12px",color:"#A3B9D9"})],2),s("span",null,[q("存放指定标题关键字信件"),s("span",{class:d(e(r).e("counter"))},[q("( "+v(m.value.keywords!=""&&f.value.length+1>1?e(o)("message.thereAlreadys"):e(o)("message.thereAlready"))+" ",1),s("span",{class:d([e(r).e("number"),e(r).is("blue",m.value.keywords!=""&&f.value.length+1>0)])},v(m.value.keywords==""?0:f.value.length+1),3),q(v(c.value.length>1?e(o)("message.records"):e(o)("message.record"))+" )",1)],2)]),s("i",{onClick:I,class:d(e(r).e("add-people"))},[x(D,{"icon-class":"add_account",width:"20px",height:"20px",color:"#3A8BFF"})],2)],2),m.value.keywords!=""&&M.value?(u(),y("ul",{key:0,class:d(e(r).e("keywords_collect"))},[s("li",{onMouseenter:b[1]||(b[1]=A=>m.value.ishover=!0),onMouseleave:b[2]||(b[2]=A=>m.value.ishover=!1),style:ke(m.value.ishover?{backgroundColor:"#F0F6FF"}:{})},[s("div",Nt,[s("div",Lt,v(m.value.keywords),1),s("div",Mt,v(m.value.type==0?"包含":"不包含"),1)]),m.value.ishover?(u(),y("div",St,[s("div",{onClick:de},"修改"),s("div",{onClick:ye},"删除")])):_("",!0)],36),(u(!0),y(oe,null,te(g.value,A=>(u(),y("li",{key:A.kid,onMouseenter:j=>A.ishover=!0,onMouseleave:j=>A.ishover=!1,style:ke(A.ishover?{backgroundColor:"#F0F6FF"}:{})},[s("div",Ht,[s("div",Tt,v(A.logic==0?"与":"非"),1),s("div",Dt,v(A.keywords),1),s("div",Pt,v(A.type==0?"包含":"不包含"),1)]),A.ishover?(u(),y("div",Kt,[s("div",{onClick:de},"修改"),s("div",{onClick:j=>ue(A.kid)},"删除",8,Qt)])):_("",!0)],44,Vt))),128))],2)):_("",!0)]),_:1})],2)],2),k.value?(u(),y("div",{key:0,class:d(e(r).e("setting"))},[s("div",qt,[s("div",Ot,[q("设置标题关键字"),s("span",{onMouseenter:b[3]||(b[3]=A=>L.value=!0),onMouseleave:b[4]||(b[4]=A=>L.value=!1)},[L.value?_("",!0):(u(),y("img",Yt)),L.value?(u(),y("img",jt)):_("",!0)],32)]),s("div",{onClick:b[5]||(b[5]=A=>k.value=!1),class:"close"},Wt)]),L.value?(u(),y("div",Gt,zt)):_("",!0),s("div",$t,[x(O,null,{default:H(()=>[s("div",eo,[ae(s("input",{type:"text",placeholder:"请输入标题关键字","onUpdate:modelValue":b[6]||(b[6]=A=>m.value.keywords=A)},null,512),[[Ae,m.value.keywords]]),s("div",{class:"select_contain",onClick:ce},[s("div",null,v(m.value.type==0?"包含":"不包含"),1),so]),m.value.menuselect?(u(),y("div",{key:0,class:"menus",onClick:z},lo)):_("",!0)]),g.value.length>0?(u(),y("ul",ao,[(u(!0),y(oe,null,te(g.value,A=>(u(),y("li",{key:A.kid},[s("div",{class:"import",onClick:j=>ie(A)},[s("div",null,v(A.logic===0?"与":"或"),1),ro],8,no),A.isImport?(u(),y("ul",{key:0,class:"condition",onClick:j=>be(A,j)},vo,8,co)):_("",!0),ae(s("input",{type:"text",placeholder:"请输入标题关键字","onUpdate:modelValue":j=>A.keywords=j},null,8,po),[[Ae,A.keywords]]),s("div",{class:"select_contain",onClick:j=>Te(A)},[s("div",null,v(A.type?"不包含":"包含"),1),go],8,ho),A.isContain?(u(),y("div",{key:1,class:"menus",onClick:j=>De(A,j)},wo,8,fo)):_("",!0),s("img",{src:_t,alt:"",onClick:j=>ue(A.kid),class:"deleteKey"},null,8,ko)]))),128))])):_("",!0),s("div",{class:"addkey",onClick:xe},_o)]),_:1})]),s("div",{class:"footer"},[s("div",{class:"cancel",onClick:Pe},"取消"),s("div",{class:"confirm",onClick:me},"确认")])],2)):_("",!0),s("footer",{class:d(e(r).e("footer"))},[s("button",{onClick:E,class:"cancel"},v(e(o)("message.cancel")),1),s("button",{onClick:Z,class:"confirm"},v(e(o)("message.done")),1)],2)],2)]),_:1})}}});const bo=i=>{const{instance:l,destroy:o}=Je(xo,i);try{return l.props&&(l.props.onClose=()=>{o()}),{instance:l,destroy:o}}catch{o()}},Fo=["placeholder"],Uo=["src"],Bo=fe({__name:"index",props:{folder:Object},emits:{"update-folder":i=>i,close:()=>!0},setup(i,{emit:l}){var N;const o=i,r=Ge.global.t,c=_e("update-folder"),w=h([]),V=async()=>{const I=se.cloneDeep(w.value);let R=[];try{R=(await ys({peopleList:I})).filter(T=>T.uid!=null)}catch(T){console.error(T)}w.value=[...w.value,...R]},g=h(!0),m=()=>{g.value=!g.value},k=I=>{for(let R in w.value)if(w.value[R].puid===I.puid){w.value.splice(Number(R),1);break}},L=()=>{l("close")},f=()=>{L()},U=h((N=o==null?void 0:o.folder)==null?void 0:N.folderName);let M=!0;const S=async()=>{var T,Y;const I=[],R=U.value;for(let E of w.value)I.push({dataId:String(E==null?void 0:E.puid),type:1,name:E==null?void 0:E.name});try{if(M){M=!1;const E=await Ut((T=o==null?void 0:o.folder)==null?void 0:T.uuid,R,I);if(E!=null&&E.status){const K=await window.NoticeDbHelper.updateFolder(((Y=o==null?void 0:o.folder)==null?void 0:Y.uuid)||"",{folderName:R});l("update-folder",R)}}}catch(E){console.error(E)}L()};return(I,R)=>{const T=Ee,Y=ve;return u(),P(os,{center:!0,shouldWrapper:!1},{default:H(()=>[s("div",{class:d(e(c).e("cover"))},null,2),s("div",{class:d(e(c).b())},[s("header",{class:d(e(c).e("header"))},[s("span",{class:d(e(c).e("title"))},v(e(r)("message.newfolder")),3),s("i",{onClick:L,class:d(e(c).e("close"))},[x(T,{"icon-class":"close",width:"20",height:"20",color:"#8A8B99"})],2)],2),s("main",{class:d(e(c).e("main"))},[ae(s("input",{"onUpdate:modelValue":R[0]||(R[0]=E=>U.value=E),type:"text",placeholder:e(r)("message.enterFoldername")},null,8,Fo),[[Ae,U.value]]),s("div",{class:d(e(c).e("list-wrapper"))},[x(Y,null,{default:H(()=>[s("p",{class:d(e(c).e("select-people"))},[s("i",{class:d([e(c).e("show-list"),e(c).is("active",g.value)])},[x(T,{onClick:m,"icon-class":"arrow_r",width:"12px",height:"12px",color:"#A3B9D9"})],2),s("span",null,[q(v(e(r)("message.storeletters")),1),s("span",{class:d(e(c).e("counter"))},[q("( "+v(w.value.length>1?e(r)("message.thereAlreadys"):e(r)("message.thereAlready")),1),s("span",{class:d([e(c).e("number"),e(c).is("blue",w.value.length>0)])},v(w.value.length),3),q(v(w.value.length>1?e(r)("message.records"):e(r)("message.record"))+")",1)],2)]),s("i",{onClick:V,class:d(e(c).e("add-people"))},[x(T,{"icon-class":"add_account",width:"20px",height:"20px",color:"#3A8BFF"})],2)],2),ae(s("ul",{class:d(e(c).e("list"))},[(u(!0),y(oe,null,te(w.value,E=>(u(),y("li",{key:E==null?void 0:E.puid},[s("div",{class:d(e(c).e("info"))},[s("img",{src:E==null?void 0:E.pic},null,8,Uo),q(" "+v(E==null?void 0:E.name),1)],2),x(T,{onClick:K=>k(E),"icon-class":"close","class-name":e(c).e("del-people"),width:"18px",height:"18px",color:"#d7e0ed"},null,8,["onClick","class-name"])]))),128))],2),[[He,g.value]])]),_:1})],2)],2),s("footer",{class:d(e(c).e("footer"))},[s("button",{onClick:f,class:"cancel"},v(e(r)("message.cancel")),1),s("button",{onClick:S,class:"confirm"},v(e(r)("message.done")),1)],2)],2)]),_:1})}}});const Io=i=>{const{instance:l,destroy:o}=Je(Bo,i);try{return l.props&&(l.props.onClose=()=>{o()}),{instance:l,destroy:o}}catch{o()}},Ro=s("span",null,"(选择目标目录)",-1),Eo=["src"],No=s("span",null,"根目录",-1),Lo=["onClick"],Mo=["src"],So=fe({__name:"index",props:{noticeIds:String,noticeIdCollect:Array,updateHandler:Function,noticeIdCodes:Array},emits:{destroy:()=>{}},setup(i,{emit:l}){const o=i,r=_e("move-to"),c=()=>{l("destroy")},w=h([]),V=async()=>{try{const f=await window.NoticeDbHelper.queryFolderList();f.success&&(w.value=f.data.folderList,w.value.sort((U,M)=>U.top>M.top?-1:U.top<M.top?1:0),console.log("folderList",w.value))}catch(f){console.error(f)}},g=async(f,U)=>{var S;console.log("updateMultiple",f,U);let M=await window.NoticeDbHelper.updateMoreNotice(U,f);console.log("updateNotice",M,o),M&&((S=o.updateHandler)==null||S.call(o,M))},m=async()=>{var U,M,S,N,I,R,T,Y,E,K,Q,Z,z;let f;if(o.noticeIds)if(f=await ps(o==null?void 0:o.noticeIds,(U=k.value)==null?void 0:U.uuid),console.log("res",f),f.status){let ce=await window.NoticeDbHelper.updateNotice(o.noticeIds,{folderId:(M=k.value)==null?void 0:M.id});await window.NoticeDbHelper.updateFolder((S=k.value)==null?void 0:S.uuid,{noticeCount:((N=k.value)==null?void 0:N.noticeCount)+1}),(I=o.updateHandler)==null||I.call(o,ce)}else re({content:"请检查网络",duration:2e3});if((R=o.noticeIdCollect)!=null&&R.length){const ce=(T=o.noticeIdCollect)==null?void 0:T.join(","),xe=(Y=o.noticeIdCodes)==null?void 0:Y.join(",");f=await ps(xe,(E=k.value)==null?void 0:E.uuid),f.status?(await window.NoticeDbHelper.updateFolder((K=k.value)==null?void 0:K.uuid,{noticeCount:Number((Q=k.value)==null?void 0:Q.noticeCount)+Number((Z=o.noticeIdCodes)==null?void 0:Z.length)}),g({folderId:(z=k.value)==null?void 0:z.id},ce)):re({content:"请检查网络",duration:2e3})}l("destroy")},k=h(),L=f=>{k.value=f};return ss(async()=>{await window.MainWindowHelper.syncAllNotice(),V()}),(f,U)=>{const M=Ee,S=ve;return u(),P(os,{center:!0,shouldWrapper:!1},{default:H(()=>[s("div",{class:d(e(r).e("cover"))},null,2),s("div",{class:d(e(r).b())},[s("header",{class:d(e(r).e("header"))},[s("span",{class:d(e(r).e("title"))},[q("移动到"),Ro],2),s("i",{onClick:c,class:d(e(r).e("close"))},[x(M,{"icon-class":"close",width:"20",height:"20",color:"#8A8B99"})],2)],2),s("main",{class:d(e(r).e("main"))},[x(S,null,{default:H(()=>{var N;return[s("div",{onClick:U[0]||(U[0]=I=>L({id:-1})),class:d([e(r).e("folder-list"),e(r).is("checked",((N=k.value)==null?void 0:N.id)==-1)])},[s("img",{src:e(es)},null,8,Eo),No],2),(u(!0),y(oe,null,te(w.value,I=>{var R;return u(),y("div",{onClick:T=>L(I),key:I==null?void 0:I.id,class:d([e(r).e("folder-list"),e(r).is("checked",(I==null?void 0:I.id)==((R=k.value)==null?void 0:R.id))])},[s("img",{src:e(es)},null,8,Mo),s("span",null,v(I==null?void 0:I.folderName),1)],10,Lo)}),128))]}),_:1})],2),s("footer",{class:d(e(r).e("footer"))},[s("button",{onClick:c,class:d(e(r).e("cancel"))},"取消",2),s("button",{onClick:m,class:d(e(r).e("confirm"))},"确定",2)],2)],2)]),_:1})}}});const gs=i=>{const{instance:l,destroy:o}=Je(So,i);try{l.props&&(l.props.onDestroy=()=>{o()})}catch{o()}},Vo=["onClick"],Ho=fe({__name:"index",props:{breadcrumbArray:{type:Array,default:()=>[]}},emits:["item-click"],setup(i,{emit:l}){const o=i,r=_e("breadcrumb"),c=(w,V)=>{V+1!=(o==null?void 0:o.breadcrumbArray.length)&&l("item-click",w)};return(w,V)=>{const g=Ee;return u(),y("div",{class:d([e(r).b()])},[(u(!0),y(oe,null,te(o.breadcrumbArray,(m,k)=>(u(),y("div",{class:d([e(r).e("breadcrumbItem")]),key:k},[s("span",{class:"name",onClick:L=>c(m,k)},v(m.name),9,Vo),k<o.breadcrumbArray.length-1?(u(),P(g,{key:0,style:{margin:"0 2px"},"icon-class":"msg_arrow_r",width:"10px",height:"10px",color:"#ACB4BF"})):_("",!0)],2))),128))],2)}}});const We=st(Ho,[["__scopeId","data-v-7b785887"]]),To={class:"main"},Do={class:"tip"},Po=fe({__name:"index",props:{isSetting:{type:Boolean,default:!1},selectMode:{type:Number}},emits:["switchColse","confirmMode"],setup(i,{emit:l}){const o=i,r=Ge.global.t,c=h(String(o.selectMode));ss(async()=>{let g=await window.RendererHelper.getUserStore("currentMode");(g!=null||g!=null)&&(c.value=g)});const w=()=>{l("switchColse")},V=()=>{l("confirmMode",c.value),w()};return(g,m)=>{const k=it,L=dt;return u(),P(ut,{visible:i.isSetting,title:e(r)("message.listViewSettings"),width:"440",onClose:w,onConfirm:V,"close-text":e(r)("message.cancel"),"confirm-text":e(r)("message.done")},{default:H(()=>[s("div",To,[x(L,{modelValue:c.value,"onUpdate:modelValue":m[0]||(m[0]=f=>c.value=f)},{default:H(()=>[x(k,{label:"1",size:"large"},{default:H(()=>[q(v(e(r)("message.standardMode")),1)]),_:1}),x(k,{label:"0",size:"large"},{default:H(()=>[q(v(e(r)("message.conversationalMode")),1)]),_:1})]),_:1},8,["modelValue"]),s("div",Do,v(e(r)("message.multipleletters")),1)])]),_:1},8,["visible","title","close-text","confirm-text"])}}});const Ko={key:0,class:"expand"},Qo=["placeholder"],qo={class:"search-header"},Oo={class:"title"},Yo={class:"search-main"},jo={class:"keywords"},Xo=["placeholder"],Wo={class:"frompeo"},Go=["placeholder"],Jo={class:"select_time"},Zo=s("div",{class:"heng"},null,-1),zo={class:"search-footer"},$o={key:0,style:{color:"#8a8b99"}},el=["onClick"],sl=["onClick"],tl=["onClick"],ol=["onClick"],ll=["onClick"],al=["onClick"],nl={key:1,class:"breadcrumb_scrollbar"},rl=["onClick"],cl=["onClick"],il=["onClick"],dl=["onClick"],ul={key:2,class:"breadcrumb_scrollbar"},vl={key:3,class:"breadcrumb_scrollbar"},pl=["onClick"],hl=["onClick"],gl=["onClick"],fl={key:4,class:"breadcrumb_scrollbar"},ml=["onClick"],yl=["onClick"],wl=["onClick"],ma=fe({__name:"index",setup(i){const{t:l}=tt(),o=_e("inbox"),r=nt(),c=h(!0),w=h([]),V=h([]),g=h($.public),m=h(!1),k=h([{name:l("message.rootDirectory"),level:0}]),L=h({time:""}),f=h({time:""}),U=h(!1),M=h(!1),S=h(),N=h(!1),I=h(!1),R=h([]),T=h(!1),Y=h(1),E=h(!1),K=h(!1),Q=h(""),Z=h(""),z=h(!1),ce=h(!1),xe=h(),de=h(!1),ie=h(new Date().getFullYear()),Te=h(),ue=h(!1),be=h(!1),De=h(),me=h(!1),Pe=h(),ye=h(!1),C=h([]),b=h([]),D=()=>{var a;((a=Te.value)==null?void 0:a.offsetWidth)<764?ue.value=!0:ue.value=!1},O=()=>{be.value=!be.value},A=()=>{be.value=!1},j=async()=>{try{const t=await window.NoticeDbHelper.queryFolderList();t.success&&(w.value=t.data.folderList,w.value.sort((a,p)=>a.top>p.top?-1:a.top<p.top?1:0),console.log("folderList",w.value))}catch(t){console.error(t)}},Fe=(t,a)=>{for(let p of C.value)if((p==null?void 0:p.idCode)===(t==null?void 0:t.idCode)){Object.assign(p,a);break}console.log("obj",a),window.NoticeDbHelper.updateNotice(t==null?void 0:t.idCode,a)},Ze=t=>{se.remove(C.value,a=>(a==null?void 0:a.idCode)===(t==null?void 0:t.idCode)),window.NoticeDbHelper.delteNotice(t==null?void 0:t.idCode)},G=async t=>{const{lastValue:a,reset:p,sourceType:F,createrId:W,folderId:n}=t;try{const B=await window.NoticeDbHelper.queryNoticeList(String(a),F,W);if(console.log("queryNoticeList",B),B.success){p&&(C.value=[]);let he=[...C.value,...B.data.noticeList];if(he=he.filter(ge=>ge.folderId==0),W||(he=he.filter(ge=>ge.createrPuid!=r.puid)),t.isSePage){c.value=!1,ws(t==null?void 0:t.foldId);return}await window.RendererHelper.getUserStore("currentMode")==0?(E.value=!0,he=he.reduce((ge,Me)=>(Me.foldId&&!ge.find($s=>$s.foldId===Me.foldId)?ge.push(Me):Me.foldId||ge.push(Me),ge),[])):E.value=!1,console.log("_notoceList",he),C.value=he}}catch(B){console.error(B)}},as=async t=>{const{lastValue:a,reset:p}=t;try{const F=await window.NoticeDbHelper.queryNoticeList(String(a));F.success&&(p&&(C.value=[]),C.value=[...C.value,...F.data.noticeList].filter(W=>W.createrPuid!=r.puid&&W.isread==0))}catch(F){console.error(F)}},ws=async(t,a)=>{try{const p=await window.NoticeDbHelper.queryfoldIdList(t,a);p.success&&(C.value=p.data.noticeList)}catch(p){console.error(p)}},we=h(),ks=()=>{var a;const t=(a=we.value)==null?void 0:a.wrapRef;if(t)return t.scrollTop+t.clientHeight+100>=t.scrollHeight},ze=se.debounce(t=>{if(ks()){const a=C.value.slice(-1)[0].insertTime;ee.value===J.NO_READ?as({lastValue:a}):de.value?(console.log("lastValue",de.value),Ye(I?{keyword:Q.value,year:ie.value,reset:!1,createName:Z.value,start:L.value.time,end:f.value.time,lastValue:a}:{keyword:Q.value,year:ie.value,reset:!1,lastValue:a})):ye.value||G({lastValue:a,sourceType:ee.value})}},50),ee=h(J.ALL),Cs=Ce(()=>(console.log("11111",Re[ee.value]),Re[ee.value]=="全部"?l("message.allqb"):Re[ee.value]=="通知"?l("message.notice"):Re[ee.value]=="站内信函"?l("message.stationLetter"):Re[ee.value]=="审批"?l("message.approval"):Re[ee.value]=="未读"?l("message.unread"):l("message.allqb"))),As=[[{name:l("message.allqb"),handler:()=>{ee.value=J.ALL,G({reset:!0})}},{name:l("message.notice"),handler:()=>{ee.value=J.NOTICE,G({reset:!0,sourceType:J.NOTICE})}},{name:l("message.stationLetter"),handler:()=>{ee.value=J.LETTER,G({reset:!0,sourceType:J.LETTER})}},{name:l("message.approval"),handler:()=>{ee.value=J.APPROVAL,G({reset:!0,sourceType:J.APPROVAL})}},{name:l("message.unread"),handler:()=>{ee.value=J.NO_READ,as({reset:!0})}}]],_s=(t,a)=>{const p=t.target.closest("span"),F=p.offsetLeft,W=p.offsetTop+p.clientHeight,{destroy:n}=Je(ct,{menuList:a,left:F,top:W});ms.windowClickOnce(n)},xs=async()=>{const t=await bt();t!=null&&t.status?$e({content:l("message.sureClearRed"),confirmBtn:{text:l("message.cleanUp"),callback:async()=>{(await Ft()).status&&(C.value.forEach(p=>p.redDot=1),window.NoticeDbHelper.updateNoticeColumn("redDot","1"))}}}):re({content:l("message.noUnreadreddots"),duration:2e3})},Ke=t=>{t.level==0&&bs()},bs=()=>{g.value=$.public,j(),G({reset:!0}),k.value=[{name:l("message.rootDirectory"),level:0}],c.value=!0,K.value=!1,de.value=!1,Q.value="",ye.value=!1},Fs=()=>{c.value=!1,K.value=!1,g.value=$.drafts;const t=V.value;C.value=t,k.value.push({name:l("message.drafts"),level:k.value.length,folderId:"-2"})},Us=()=>{c.value=!1,K.value=!1,g.value=$.myLetter,G({createrId:String(r.puid),reset:!0}),k.value.push({name:l("message.sent"),level:k.value.length,folderId:"-3"})},Bs=async t=>{console.log(t),c.value=!1,ye.value=!0,k.value.push({name:t.folderName,level:k.value.length,folderId:"-5"}),Is(t)},Is=async(t,a)=>{let p=await window.NoticeDbHelper.queryfolderIdList(t.id);console.log(p),b.value=p.data.noticeList},Ne=(t,a=!1)=>{a?window.open(`https://notice.chaoxing.com/pc/notice/richtextNotice?sourceType=${t.sourceType}&isRtf=${t.isRtf}&draft_uuid=${t.uuid}&noticeId=`):E.value&&c.value&&t.sessionTag>1?(K.value=!0,g.value=$.session,G({reset:!0,isSePage:!0,foldId:t.foldId}),k.value.push({name:l("message.correspondence"),level:k.value.length,folderId:"-4"})):(Fe(t,{redDot:1}),Fe(t,{isread:1}),window.open(`https://notice.chaoxing.com/pc/notice/${t==null?void 0:t.id}/detail?sendTag=0`))},Rs=()=>{window.open("https://notice.chaoxing.com/pc/notice/richtextNotice?sourceType=1000&isRtf=1")},Es=()=>{const{instance:t}=bo({});t.props.onAddFolder=()=>{j(),re({content:l("message.addedSuccessfully"),duration:2e3})}},Ns=t=>{const{instance:a}=Io({folder:t});a.props.onUpdateFolder=p=>{for(let F of w.value)if((F==null?void 0:F.uuid)===(t==null?void 0:t.uuid)){F.folderName=p||F.folderName;break}re({content:l("message.successModified"),duration:2e3})}},Ls=async t=>{const a=await vs(t==null?void 0:t.uuid);a!=null&&a.status&&(await window.NoticeDbHelper.updateFolder(t==null?void 0:t.uuid,{status:"1"}),se.remove(w.value,p=>(p==null?void 0:p.uuid)===(t==null?void 0:t.uuid)),re({content:l("message.successDeleted"),duration:2e3}))},Qe=t=>{Bt(t.idCode,t.top==1?0:1)},qe=t=>{gs({noticeIds:t==null?void 0:t.idCode,folderList:w.value,updateHandler:async a=>{if(a.success)try{j(),G({reset:!0}),Ue(!1);let p=await window.MainWindowHelper.updateNoticeFoldTag();console.log("updateNoticeFoldTag",p)}catch(p){console.log(p)}}}),Ze(t)},Ms=async()=>{const t=le.value.map(p=>p.id),a=le.value.map(p=>p.idCode);gs({noticeIdCollect:t,noticeIdCodes:a,folderList:w.value,updateHandler:async p=>{if(p.success)try{j(),G({reset:!0}),Ue(!1);let F=await window.MainWindowHelper.updateNoticeFoldTag();console.log("updateNoticeFoldTag",F)}catch(F){console.log(F)}}})},Oe=t=>{$e({title:l("message.reminder"),content:l("message.afterDeletion"),cancelBtn:{text:l("message.cancel")},confirmBtn:{text:l("message.delete"),callback:async()=>{const a=await hs(t==null?void 0:t.idCode);a!=null&&a.status&&Ze(t)}}})},Ss=()=>{$e({title:l("message.reminder"),content:l("message.afterDeletion"),cancelBtn:{text:l("message.cancel")},confirmBtn:{text:l("message.delete"),callback:async()=>{if(le.value.length){const t=le.value.map(F=>F.id).join(","),a=le.value.map(F=>F.idCode).join(","),p=await hs(a);p!=null&&p.status&&(a.split(",").forEach(F=>{se.remove(C.value,W=>(W==null?void 0:W.idCode)===F)}),await window.NoticeDbHelper.deleteMoreNotice(t))}if(ne.value.length){console.log(ne.value);const t=ne.value.map(F=>F.uuid).map(F=>F="'"+F+"'").join(","),a=ne.value.map(F=>F.uuid).join(",");(await vs(a)).status&&(await window.NoticeDbHelper.updateMoreFolder(t,{status:1}),a.split(",").forEach(F=>{se.remove(w.value,W=>(W==null?void 0:W.uuid)===F),re({content:l("message.successDeleted"),duration:2e3})}))}Ue(!1)}}})},ns=async t=>{(await It(t==null?void 0:t.idCode)).status&&Fe(t,{redDot:0})},Ue=t=>{m.value=t,ne.value=[],le.value=[]},rs=()=>{T.value=!T.value},Vs=()=>{T.value=!1},Hs=t=>{Y.value=t,window.RendererHelper.setUserStore("currentMode",Y.value),G({reset:!0})},ne=h([]),Ts=(t,a)=>{t?ne.value.push(se.cloneDeep(a)):se.remove(ne.value,p=>p.uuid===a.uuid)},le=h([]),Le=(t,a)=>{t?le.value.push(se.cloneDeep(a)):se.remove(le.value,p=>p.id===a.id)},Ds=t=>{t?(ne.value=se.cloneDeep(w.value),le.value=se.cloneDeep(C.value)):(ne.value=[],le.value=[])},cs=h(!1),Ps=Ce(()=>{var t,a;return((t=ne.value)==null?void 0:t.length)+((a=le.value)==null?void 0:a.length)}),Be=Ce(()=>t=>{const a=ne.value.map(F=>F.uuid),p=le.value.map(F=>F.id);return a.length&&!p.length?me.value=!1:!a.length&&p.length?me.value=!0:(!a.length&&p.length,me.value=!1),a.concat(p).some(F=>F==t.id)}),Ye=async t=>{try{let a=await window.NoticeDbHelper.querykeyList(String(t.lastValue||""),t.keyword,t.year,t.createName||"",t.start||"",t.end||"");if(console.log("getSearchList",a),a.success){t.reset&&(C.value=[]);let p=[...C.value,...a.data.noticeList];C.value=p}}catch(a){console.log(a)}},Ks=()=>{L.value.time="",S.value.focus()},Qs=()=>{f.value.time="",S.value.focus()},qs=t=>{console.log("startchangeTime",t),f.value.time&&f.value.time<t?re({content:l("message.lessendtime"),duration:2e3,icon:"redx"}):L.value.time=t},Os=t=>{L.value.time&&L.value.time>t?re({content:l("message.greaterstarttime"),duration:2e3,icon:"redx"}):f.value.time=t},Ys=()=>{U.value=!1},js=()=>{M.value=!1},is=()=>{N.value=!1,z.value=!1,I.value=!1,c.value=!1,de.value=!0;const t=R.value.findIndex(a=>a.value==Q.value);Q.value&&t==-1&&(R.value.push({hid:R.value.length+1,value:Q.value}),R.value.sort((a,p)=>p.hid-a.hid)),k.value.length>1&&k.value.pop(),k.value.push({name:`${l("message.search")}"${Q.value?Q.value:Z.value?Z.value:L.value.time&&f.value.time?L.value.time+"至"+f.value.time:ie.value?ie.value:""}"`,level:k.value.length,folderId:"-5"}),Ye(I?{keyword:Q.value,year:ie.value,reset:!0,createName:Z.value,start:L.value.time,end:f.value.time}:{keyword:Q.value,year:ie.value,reset:!0})},Xs=()=>{Q.value="",R.value=[]},Ws=()=>{ce.value=!0},Gs=()=>{ce.value=!1,N.value=!1,z.value=!1,I.value=!1},Js=t=>{t.target.innerText&&(ie.value=t.target.innerText),z.value=!0},Zs=()=>{z.value=!z.value,N.value&&(N.value=!1)},zs=t=>{R.value=R.value.filter(a=>a.hid!=t),Q.value=""};return ss(async()=>{r.sqlReady||Ve(()=>r.sqlReady,async a=>{a&&G({reset:!0})},{immediate:!0}),r.getIsEnterNotice||(window.MainWindowHelper.useMode("noticeDb"),(await window.NoticeDbHelper.loadNoticeDb()).success&&r.setIsEnterNotice(!0));let t=await window.RendererHelper.getUserStore("currentMode");t!=null||t!=null?Y.value=t:window.RendererHelper.setUserStore("currentMode",Y.value),j(),G({}),window.MainWindowHelper.syncNoticeDraft().then(a=>{console.log(a),a.state==0&&(V.value=a.data||[])}),D(),je(S,Ys),je(S,js),je(xe,Gs),je(De,A),window.addEventListener("resize",D),Pe.value=await window.MainWindowHelper.getLanguage()}),ot(()=>{window.removeEventListener("resize",D)}),(t,a)=>{const p=Ee,F=et,W=ts;return u(),y("div",{class:d(e(o).b()),ref_key:"inbox",ref:Te,onResize:D},[m.value?(u(),y("div",{key:1,class:d(e(o).e("table-header"))},[s("div",{class:d(e(o).e("check-all"))},[x(W,{modelValue:cs.value,"onUpdate:modelValue":a[14]||(a[14]=n=>cs.value=n),onChange:Ds},null,8,["modelValue"]),q(" "+v(e(l)("message.all"))+"   "+v(e(l)("message.selected"))+" ",1),s("span",null,v(e(Ps)),1),Pe.value!="en_US"?(u(),y("span",$o,"个")):_("",!0)],2),s("button",{class:"move-notice",onClick:Ms,style:ke(me.value?{}:{pointerEvents:"none",border:"1px solid #8CBDFF66",color:"#8CBDFF66"})},v(e(l)("message.moveTo")),5),s("button",{class:"delete-notice",onClick:Ss},v(e(l)("message.delete")),1),x(e(Ie),{class:"quit-edit",onClick:a[15]||(a[15]=n=>Ue(!1)),title:e(l)("message.exitEditing"),"text-color":"#3A8BFF"},{prefix:H(()=>[x(p,{"my-style":{"margin-right":"4px"},"icon-class":"notice_edit_blue",width:"16px",height:"16px",color:"#3A8BFF"})]),_:1},8,["title"])],2)):(u(),y("header",{key:0,class:d(e(o).e("header"))},[s("div",{class:d(e(o).e("main-op"))},[s("button",{onClick:Rs,class:"create-letter"},v(e(l)("message.writeStationLette")),1),s("button",{onClick:Es,class:"create-folder"},v(e(l)("message.newFolder")),1)],2),s("div",{class:d(e(o).e("operations"))},[s("span",{class:d(e(o).e("extra-op"))},[c.value&&!K.value?(u(),P(e(Ie),{key:0,onClick:a[0]||(a[0]=n=>_s(n,As)),title:e(Cs),"text-color":"#6B89B3"},{suffix:H(()=>[x(p,{"my-style":{"margin-left":"4px"},"icon-class":"arrow_fill",width:"12px",height:"12px",color:"#6B89B3"})]),_:1},8,["title"])):_("",!0),c.value&&!K.value?(u(),P(e(Ie),{key:1,onClick:xs,title:ue.value?"":e(l)("message.clearRedDots"),"text-color":"#6B89B3"},{prefix:H(()=>[x(p,{"my-style":{"margin-right":"4px"},"icon-class":"besom",width:"16px",height:"16px"})]),_:1},8,["title"])):_("",!0),ue.value?_("",!0):(u(),P(e(Ie),{key:2,onClick:a[1]||(a[1]=n=>Ue(!0)),title:e(l)("message.bulkdit"),"text-color":"#6B89B3"},{prefix:H(()=>[x(p,{"my-style":{"margin-right":"4px"},"icon-class":"notice_edit",width:"16px",height:"16px"})]),_:1},8,["title"])),c.value&&!K.value&&!ue.value?(u(),P(e(Ie),{key:3,title:e(l)("message.settings"),"text-color":"#6B89B3",onClick:rs},{prefix:H(()=>[x(p,{"my-style":{"margin-right":"4px"},"icon-class":"setting-line",width:"16px",height:"16px",color:"#6B89B3"})]),_:1},8,["title"])):_("",!0),c.value&&!K.value&&ue.value?(u(),P(e(Ie),{key:4,onClick:O,class:"expandEditor",ref_key:"expandEditor",ref:De},{prefix:H(()=>[x(p,{"icon-class":"three_h"}),be.value?(u(),y("div",Ko,[s("span",{class:"editor",onClick:a[2]||(a[2]=n=>Ue(!0))},v(e(l)("message.bulkdit")),1),s("span",{class:"setting",onClick:rs},v(e(l)("message.settings")),1)])):_("",!0)]),_:1},512)):_("",!0),x(e(Po),{isSetting:T.value,onSwitchColse:Vs,selectMode:Y.value,onConfirmMode:Hs},null,8,["isSetting","selectMode"])],2),s("div",{class:d(e(o).e("inbox-search")),ref_key:"inboxSearch",ref:xe,onClick:Ws},[ae(s("div",{class:"selectYear",tabindex:"10",onClick:Zs},[s("div",null,v(ie.value),1),x(p,{"icon-class":"arrow_fill",width:"12px",height:"12px",color:"#6B89B3"}),z.value?(u(),y("div",{key:0,class:"yearListPop",onClick:Js},[s("p",null,v(new Date().getFullYear()),1),s("p",null,v(new Date().getFullYear()-1),1)])):_("",!0)],512),[[He,ce.value]]),ae(s("input",{type:"text",placeholder:e(l)("message.search"),onFocus:a[3]||(a[3]=n=>(N.value=!0,z.value=!1)),"onUpdate:modelValue":a[4]||(a[4]=n=>Q.value=n),style:ke(ce.value?{paddingLeft:"74px",borderColor:"#3A8BFF",caretColor:"#3A8BFF"}:{paddingLeft:"14px"})},null,44,Qo),[[Ae,Q.value]]),x(p,{"icon-class":"search",width:"18px",height:"18px",color:"#ACB4BF",onClick:is}),N.value?(u(),y("div",{key:0,class:d(e(o).e("search-list"))},[s("ul",{class:"historyList",style:ke(R.value.length>5?{height:"200px"}:R.value.length?{marginTop:"6px"}:{})},[x(e(ve),{ref_key:"scrollBar",ref:we},{default:H(()=>[(u(!0),y(oe,null,te(R.value,n=>(u(),y("li",{key:n==null?void 0:n.hid},[s("span",null,v(n.value),1),x(p,{"icon-class":"search_x",onClick:B=>zs(n.hid)},null,8,["onClick"])]))),128))]),_:1},512)],4),s("div",{class:"bottom",style:ke(R.value.length?{}:{backgroundColor:"#FFFFFF",padding:"6px 14px 6px 20px",height:"52px"})},[s("div",{onClick:a[5]||(a[5]=n=>I.value=!0)},v(e(l)("message.advancedSearch")),1),R.value.length?(u(),y("span",{key:0,onClick:Xs},v(e(l)("message.clear")),1)):_("",!0)],4)],2)):_("",!0),I.value?(u(),y("div",{key:1,class:d(e(o).e("search-dialog"))},[s("div",qo,[s("div",Oo,v(e(l)("message.advancedSearch")),1),s("div",{onClick:a[6]||(a[6]=n=>I.value=!1),class:"close"},[x(p,{"icon-class":"search_close",width:"20px",height:"20px"})])]),s("div",Yo,[s("div",jo,[q(v(e(l)("message.keywords")),1),ae(s("input",{type:"text",placeholder:e(l)("message.enterKeywords"),"onUpdate:modelValue":a[7]||(a[7]=n=>Q.value=n)},null,8,Xo),[[Ae,Q.value]])]),s("div",Wo,[q(v(e(l)("message.addresser")),1),ae(s("input",{type:"text",placeholder:e(l)("message.enterSenderName"),"onUpdate:modelValue":a[8]||(a[8]=n=>Z.value=n)},null,8,Go),[[Ae,Z.value]])]),s("div",Jo,[q(v(e(l)("message.selectTime"))+" ",1),s("div",{ref_key:"dateInputRef",ref:S,class:"dateselect"},[x(F,{modelValue:L.value.time,"onUpdate:modelValue":a[9]||(a[9]=n=>L.value.time=n),readonly:"",maxlength:"16",onFocus:a[10]||(a[10]=n=>(U.value=!0,M.value=!1)),placeholder:e(l)("message.timeon")},{suffix:H(()=>[L.value.time.length&&U.value?(u(),P(p,{key:0,class:"clear","icon-class":"input_clear",width:"14px",height:"14px",onClick:Ks})):_("",!0),L.value.time.length?_("",!0):(u(),P(p,{key:1,class:"clear","icon-class":"date",width:"18px",height:"18px"}))]),_:1},8,["modelValue","placeholder"]),Zo,x(F,{modelValue:f.value.time,"onUpdate:modelValue":a[11]||(a[11]=n=>f.value.time=n),readonly:"",maxlength:"16",onFocus:a[12]||(a[12]=n=>(M.value=!0,U.value=!1)),placeholder:e(l)("message.endTime")},{suffix:H(()=>[f.value.time.length&&M.value?(u(),P(p,{key:0,class:"clear","icon-class":"input_clear",width:"14px",height:"14px",onClick:Qs})):_("",!0),f.value.time.length?_("",!0):(u(),P(p,{key:1,class:"clear","icon-class":"date",width:"18px",height:"18px"}))]),_:1},8,["modelValue","placeholder"]),U.value?(u(),P(ds,{key:0,date:L.value.time,onChange:qs,style:{position:"absolute",top:"33px",left:"0","z-index":"20"}},null,8,["date"])):_("",!0),M.value?(u(),P(ds,{key:1,date:f.value.time,onChange:Os,style:{position:"absolute",top:"33px",left:"51px","z-index":"20"}},null,8,["date"])):_("",!0)],512)])]),s("div",zo,[s("div",{class:"cancel",onClick:a[13]||(a[13]=n=>I.value=!1)},v(e(l)("message.cancel")),1),s("div",{class:"search",onClick:is},v(e(l)("message.search")),1)])],2)):_("",!0)],2)],2)],2)),s("main",{class:d(e(o).e("main"))},[c.value&&!K.value?(u(),P(e(ve),{key:0,onScroll:e(ze),ref_key:"scrollBar",ref:we,style:ke(c.value?{height:"100%"}:{height:"95%"})},{default:H(()=>[s("div",{class:d(e(o).e("main-list"))},[e(V).length>0?(u(),P(e(Xe),{key:0,onClick:a[16]||(a[16]=()=>{}),type:"recovery",title:"回收站","is-edit":m.value,count:e(V).length},null,8,["is-edit","count"])):_("",!0),e(V).length>0?(u(),P(e(Xe),{key:1,onClick:Fs,type:"drafts",title:e(l)("message.drafts"),"is-edit":m.value,count:e(V).length},null,8,["title","is-edit","count"])):_("",!0),x(e(Xe),{onClick:Us,type:"private","is-edit":m.value,title:e(l)("message.sent")},null,8,["is-edit","title"]),(u(!0),y(oe,null,te(w.value,n=>(u(),P(e(Xe),{onClick:B=>Bs(n),onChange:B=>Ts(B,n),"is-edit":m.value,"is-checked":e(Be)(n),key:n==null?void 0:n.uuid,disabled:!1,title:n==null?void 0:n.folderName,count:n==null?void 0:n.noticeCount,noticeFilters:n==null?void 0:n.noticeFilters,type:"private",selectMode:Y.value},{default:H(()=>[s("span",{onClick:X(B=>Ns(n),["stop"])},v(e(l)("message.modify")),9,el),s("span",{onClick:X(B=>Ls(n),["stop"])},v(e(l)("message.delete")),9,sl)]),_:2},1032,["onClick","onChange","is-edit","is-checked","title","count","noticeFilters","selectMode"]))),128)),(u(!0),y(oe,null,te(C.value,n=>(u(),P(e(Se),{onClick:B=>Ne(n),onChange:B=>Le(B,n),"is-edit":m.value,"is-checked":e(Be)(n),key:n==null?void 0:n.id,title:n==null?void 0:n.title,source:n,isHome:c.value},{default:H(()=>[s("span",{onClick:X(B=>Qe(n),["stop"])},v(e(l)("message.top")),9,tl),s("span",{onClick:X(B=>qe(n),["stop"])},v(e(l)("message.move")),9,ol),s("span",{onClick:X(B=>Oe(n),["stop"])},v(e(l)("message.delete")),9,ll),(n==null?void 0:n.isread)==1?(u(),y("span",{key:0,onClick:X(B=>ns(n),["stop"])},v(e(l)("message.markUnread")),9,al)):_("",!0)]),_:2},1032,["onClick","onChange","is-edit","is-checked","title","source","isHome"]))),128))],2)]),_:1},8,["onScroll","style"])):_("",!0),!c.value&&!K.value&&!de.value&&!ye.value?(u(),y("div",nl,[x(e(We),{"breadcrumb-array":e(k),onItemClick:Ke},null,8,["breadcrumb-array"]),x(e(ve),{ref_key:"scrollBar",ref:we},{default:H(()=>[s("div",{class:d(e(o).e("main-list"))},[(u(!0),y(oe,null,te(C.value,n=>(u(),P(e(Se),{type:e(g),onClick:B=>Ne(n,e(g)==e($).drafts),onChange:B=>Le(B,n),"is-edit":m.value,"is-checked":e(Be)(n),key:n==null?void 0:n.id,title:n.title,source:n,isHome:c.value},{default:H(()=>[e(g)!=e($).drafts?(u(),y("span",{key:0,onClick:X(B=>Qe(n),["stop"])},v(e(l)("message.top")),9,rl)):_("",!0),e(g)==e($).public?(u(),y("span",{key:1,onClick:X(B=>qe(n),["stop"])},v(e(l)("message.move")),9,cl)):_("",!0),s("span",{onClick:X(B=>Oe(n),["stop"])},v(e(l)("message.delete")),9,il),e(g)==e($).public&&n.isread==1?(u(),y("span",{key:2,onClick:X(B=>ns(n),["stop"])},v(e(l)("message.markUnread")),9,dl)):_("",!0),e(g)==e($).myLetter&&n.status==0?(u(),y("span",{key:3,onClick:a[17]||(a[17]=X(()=>{},["stop"]))},"撤回")):_("",!0)]),_:2},1032,["type","onClick","onChange","is-edit","is-checked","title","source","isHome"]))),128))],2)]),_:1},512)])):_("",!0),K.value?(u(),y("div",ul,[x(e(We),{"breadcrumb-array":e(k),onItemClick:Ke},null,8,["breadcrumb-array"]),x(e(ve),{ref_key:"scrollBar",ref:we},{default:H(()=>[s("div",{class:d(e(o).e("main-list"))},[(u(!0),y(oe,null,te(C.value,n=>(u(),P(e(Se),{type:e(g),onClick:B=>Ne(n,e(g)==e($).drafts),onChange:B=>Le(B,n),"is-edit":m.value,"is-checked":e(Be)(n),key:n==null?void 0:n.id,title:n.title,source:n,isHome:c.value},null,8,["type","onClick","onChange","is-edit","is-checked","title","source","isHome"]))),128))],2)]),_:1},512)])):_("",!0),de.value?(u(),y("div",vl,[x(e(We),{"breadcrumb-array":e(k),onItemClick:Ke},null,8,["breadcrumb-array"]),x(e(ve),{ref_key:"scrollBar",ref:we,onScroll:e(ze)},{default:H(()=>[s("div",{class:d(e(o).e("main-list"))},[(u(!0),y(oe,null,te(C.value,n=>(u(),P(e(Se),{type:e(g),onClick:B=>Ne(n,e(g)==e($).drafts),onChange:B=>Le(B,n),"is-edit":m.value,"is-checked":e(Be)(n),key:n==null?void 0:n.id,title:n.title,source:n,isHome:c.value},{default:H(()=>[s("span",{onClick:X(B=>Qe(n),["stop"])},v(e(l)("message.top")),9,pl),s("span",{onClick:X(B=>qe(n),["stop"])},v(e(l)("message.move")),9,hl),s("span",{onClick:X(B=>Oe(n),["stop"])},v(e(l)("message.delete")),9,gl)]),_:2},1032,["type","onClick","onChange","is-edit","is-checked","title","source","isHome"]))),128))],2)]),_:1},8,["onScroll"])])):_("",!0),ye.value?(u(),y("div",fl,[x(e(We),{"breadcrumb-array":e(k),onItemClick:Ke},null,8,["breadcrumb-array"]),x(e(ve),{ref_key:"scrollBar",ref:we,onScroll:e(ze)},{default:H(()=>[s("div",{class:d(e(o).e("main-list"))},[(u(!0),y(oe,null,te(b.value,n=>(u(),P(e(Se),{type:e(g),onClick:B=>Ne(n,e(g)==e($).drafts),onChange:B=>Le(B,n),"is-edit":m.value,"is-checked":e(Be)(n),key:n==null?void 0:n.id,title:n.title,source:n,isHome:c.value},{default:H(()=>[s("span",{onClick:X(B=>Qe(n),["stop"])},v(e(l)("message.top")),9,ml),s("span",{onClick:X(B=>qe(n),["stop"])},v(e(l)("message.move")),9,yl),s("span",{onClick:X(B=>Oe(n),["stop"])},v(e(l)("message.delete")),9,wl)]),_:2},1032,["type","onClick","onChange","is-edit","is-checked","title","source","isHome"]))),128))],2)]),_:1},8,["onScroll"])])):_("",!0)],2)],34)}}});export{ma as default};
