import{u as M,_ as I,d as q,r as L,w as j}from"./base-82955267.js";/* empty css                     */import{E as J}from"./el-input-983a785f.js";import{a as $,l as n,b as i,e,h as l,c as g,G as E,m as v,j as V,k as Z,f as C,p as z,u as K,r as x,o as O,i as N,I as b,g as R,F as w,J as Q,_ as W,q as X}from"./index-26603ea5.js";/* empty css                    */import{D as Y}from"./index-d3d722e6.js";import{a as ee,i as le}from"./validate-f7672251.js";import{l as se}from"./lodash-4dfbea43.js";import{E as te}from"./index-3e12c228.js";import{E as ae}from"./index-853a0f6e.js";import{u as oe}from"./index-08289d2b.js";import{u as re}from"./index-e5f0a9f0.js";import"./index-9c66cebd.js";import"./index-952b158c.js";import"./icon-803f5cc0.js";import"./typescript-defaf979.js";import"./index-15f48857.js";import"./_baseGet-ad9634b7.js";import"./event-9519ab40.js";import"./use-form-common-props-325f2441.js";import"./constants-84857360.js";import"./index-12f9ba11.js";import"./aria-60e0cdc6.js";/* empty css                   */import"./index-7e6c4fb9.js";import"./vnode-45baa450.js";import"./index-57013d5d.js";import"./use-global-config-c67545e0.js";import"./index-f81182f6.js";/* empty css                                                              */import"./_commonjsHelpers-de833af9.js";import"./isEqual-c46d625c.js";import"./_Uint8Array-24db2bd7.js";const ne=$({name:"ImgEmpty"}),ie=$({...ne,setup(u){const s=M("empty"),o=oe();return(f,_)=>(n(),i("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[e("defs",null,[e("linearGradient",{id:`linearGradient-1-${l(o)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[e("stop",{"stop-color":`var(${l(s).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),e("stop",{"stop-color":`var(${l(s).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),e("linearGradient",{id:`linearGradient-2-${l(o)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[e("stop",{"stop-color":`var(${l(s).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),e("stop",{"stop-color":`var(${l(s).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),e("rect",{id:`path-3-${l(o)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),e("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[e("g",{transform:"translate(-1268.000000, -535.000000)"},[e("g",{transform:"translate(1268.000000, 535.000000)"},[e("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${l(s).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),e("polygon",{fill:`var(${l(s).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),e("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[e("polygon",{fill:`var(${l(s).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),e("polygon",{fill:`var(${l(s).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),e("rect",{fill:`url(#linearGradient-1-${l(o)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),e("polygon",{fill:`var(${l(s).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),e("rect",{fill:`url(#linearGradient-2-${l(o)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),e("g",{transform:"translate(53.000000, 45.000000)"},[e("use",{fill:`var(${l(s).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${l(o)}`},null,8,["fill","xlink:href"]),e("polygon",{fill:`var(${l(s).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${l(o)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),e("polygon",{fill:`var(${l(s).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var ce=I(ie,[["__file","img-empty.vue"]]);const de=q({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),ue=$({name:"ElEmpty"}),me=$({...ue,props:de,setup(u){const s=u,{t:o}=re(),f=M("empty"),_=g(()=>s.description||o("el.table.emptyText")),m=g(()=>({width:L(s.imageSize)}));return(d,y)=>(n(),i("div",{class:V(l(f).b())},[e("div",{class:V(l(f).e("image")),style:Z(l(m))},[d.image?(n(),i("img",{key:0,src:d.image,ondragstart:"return false"},null,8,["src"])):E(d.$slots,"image",{key:1},()=>[v(ce)])],6),e("div",{class:V(l(f).e("description"))},[d.$slots.description?E(d.$slots,"description",{key:0}):(n(),i("p",{key:1},C(l(_)),1))],2),d.$slots.default?(n(),i("div",{key:0,class:V(l(f).e("bottom"))},[E(d.$slots,"default")],2)):z("v-if",!0)],2))}});var pe=I(me,[["__file","empty.vue"]]);const fe=j(pe);function he(u){return u.reduce((s,o)=>o.checked?s.concat([o.typeValue]):s,[]).join(",")}function _e(u,s){if(s==null||s==="")return[u];{const o=new RegExp(`(${se.escapeRegExp(s)})`,"i");return u.split(o)}}const ve={class:"channels"},ge={class:"content"},ye={class:"unread-members"},ke={class:"search-area"},xe={class:"quick-select-area"},be={class:"member-list"},we={class:"group-member"},Ve={class:"checkbox"},Ce={class:"avatar"},$e=["src"],Ne={class:"name"},Re={class:"selected-members"},Ee={class:"selected-info"},Se={class:"member-list"},Be={class:"group-member"},Me={class:"avatar"},Ie=["src"],ze={class:"name"},Ue=$({__name:"index",setup(u){const{t:s}=K(),o=x([{label:s("unreadReminder.voiceChannel"),key:"showVoiceRemindSet",checked:!1,visible:!1,typeValue:"3"},{label:s("unreadReminder.smsChannel"),key:"showSmsRemindSet",checked:!1,visible:!1,typeValue:"2"},{label:s("unreadReminder.appChannel"),key:"showAppRemindSet",checked:!1,visible:!1,typeValue:"4"},{label:s("unreadReminder.emailChannel"),key:"showEmailRemindSet",checked:!1,visible:!1,typeValue:"1"}]),f=g(()=>{const t=o.value.some(k=>k.checked),a=c.value.size>0;return t&&a});g(()=>c.value.size>0&&c.value.size<h.value.length);const _=x(!1),m=x("");let d;const y={sourceId:"",groupName:""},c=x(new Set),h=x([]),S=g(()=>h.value.filter(t=>le(m.value)?t.name.includes(m.value):!0));function U(){window.close()}const G=g(()=>h.value.filter(t=>c.value.has(t.uid)));function A(t){c.value.clear();for(const a of h.value)a.selected=t,t&&c.value.add(a.uid)}function T(t,a){t?c.value.add(a.uid):c.value.delete(a.uid),a.selected=t,_.value=c.value.size===h.value.length}function D(){const t=he(o.value);ee({sendRemindType:t,tuids:Array.from(c.value.values()).join(","),sourceId:y.sourceId,sourceName:y.groupName,puid:d.puid}).then(a=>{a.result===1?window.close():console.error("sendUnReadMessageNotification error",a.errorMsg??a.msg)})}return O(()=>{window.RendererHelper.getTempStore("unreadReminderPermission").then(t=>{for(const a of o.value)t[a.key]===1&&(a.visible=!0)}),window.RendererHelper.getUser().then(t=>{d=t}),window.RendererHelper.getTempStore("unreadMessageGroupMembers").then(t=>{Array.isArray(t)?h.value=t:h.value=[]}),window.RendererHelper.getTempStore("unreadMessageExt").then(t=>{t?(y.sourceId=t.sourceId,y.groupName=t.groupName):console.error("unreadMessageExt is empty")})}),(t,a)=>{const k=te,H=W,F=J,B=ae,P=fe;return n(),N(Y,{width:"860",visible:!0,title:l(s)("unreadReminder.dialogTitle"),"close-on-click-modal":!1,disabeldConfirm:!l(f),"confirm-text":l(s)("dialog.ok"),"close-text":l(s)("dialog.cancel"),onClose:U,onConfirm:D},{cancelBtn:b(()=>[e("div",ve,[(n(!0),i(w,null,R(o.value,r=>(n(),i(w,{key:r.key},[r.visible?(n(),N(k,{key:0,modelValue:r.checked,"onUpdate:modelValue":p=>r.checked=p,label:r.label,value:r.key},null,8,["modelValue","onUpdate:modelValue","label","value"])):z("",!0)],64))),128))])]),default:b(()=>[e("div",ge,[e("div",ye,[e("div",ke,[v(F,{placeholder:l(s)("unreadReminder.search"),modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=r=>m.value=r),class:"search-input"},{suffix:b(()=>[v(H,{"icon-class":"search",width:"18px",height:"18px",color:"#ACB4BF"})]),_:1},8,["placeholder","modelValue"])]),e("div",xe,[v(k,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=r=>_.value=r),onChange:A},null,8,["modelValue"]),Q(" "+C(l(s)("unreadReminder.selectAll")),1)]),e("div",be,[l(S).length>0?(n(),N(B,{key:0,height:"356px"},{default:b(()=>[(n(!0),i(w,null,R(l(S),r=>(n(),i("div",we,[e("div",Ve,[v(k,{modelValue:r.selected,"onUpdate:modelValue":p=>r.selected=p,onChange:p=>{T(p,r)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]),e("div",Ce,[e("img",{src:r.pic,alt:"avatar",loading:"lazy"},null,8,$e)]),e("div",Ne,[(n(!0),i(w,null,R(l(_e)(r.name,m.value),p=>(n(),i("span",{class:V(["name-part",{highlight:p===m.value}])},C(p),3))),256))])]))),256))]),_:1})):(n(),N(P,{key:1,description:l(s)("unreadReminder.noData")},null,8,["description"]))])]),e("div",Re,[e("div",Ee,C(l(s)("unreadReminder.selectedCount",{count:c.value.size})),1),e("div",Se,[v(B,{height:"428px"},{default:b(()=>[(n(!0),i(w,null,R(l(G),r=>(n(),i("div",Be,[e("div",Me,[e("img",{src:r.pic,alt:"avatar",loading:"lazy"},null,8,Ie)]),e("div",ze,C(r.name),1)]))),256))]),_:1})])])])]),_:1},8,["title","disabeldConfirm","confirm-text","close-text"])}}});const hl=X(Ue,[["__scopeId","data-v-4338e4fa"]]);export{hl as default};
