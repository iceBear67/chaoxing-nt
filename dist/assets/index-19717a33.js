import{b as ce,D as pe,d as q,g,N as C,u as V,_ as I,q as ee,n as Ee,w as Ae}from"./base-82955267.js";/* empty css                     *//* empty css                   */import{E as ke}from"./el-progress-fd159002.js";import{E as Ce,a as Re}from"./el-radio-771bb81d.js";import{E as we}from"./index-853a0f6e.js";import{a as D,r as j,c as Q,l as h,i as U,I as v,b as P,F as Fe,g as Le,j as b,h as a,S as fe,G as w,p as E,e as R,y as N,m as y,f as te,k as Se,aa as Te,aH as Pe,bc as Y,C as se,P as Ue,Z as Be,Y as De,a0 as ae,L as oe,J as L}from"./index-26603ea5.js";import{E as O,C as $e,k as Oe,m as Ne,c as Ke,x as Ve,D as je}from"./index-952b158c.js";import{t as x,d as qe}from"./index-15f48857.js";import{m as Z}from"./typescript-defaf979.js";import{u as Ie}from"./index-e5f0a9f0.js";import{c as M}from"./use-form-common-props-325f2441.js";import{e as Me}from"./use-global-config-c67545e0.js";import{b as Xe}from"./_baseClone-d5fa5726.js";import{i as ze}from"./isEqual-c46d625c.js";import{f as Ge}from"./index-9c66cebd.js";import{E as He}from"./index-7e6c4fb9.js";import"./icon-803f5cc0.js";import"./event-9519ab40.js";import"./index-f81182f6.js";import"./index-08289d2b.js";import"./_baseGet-ad9634b7.js";import"./constants-84857360.js";import"./index-57013d5d.js";import"./_Uint8Array-24db2bd7.js";import"./vnode-45baa450.js";import"./index-12f9ba11.js";import"./aria-60e0cdc6.js";var Je=1,Qe=4;function le(o){return Xe(o,Je|Qe)}const me=Symbol("uploadContextKey"),Ye="ElUpload";class Ze extends Error{constructor(n,s,c,i){super(n),this.name="UploadAjaxError",this.status=s,this.method=c,this.url=i}}function ne(o,n,s){let c;return s.response?c=`${s.response.error||s.response}`:s.responseText?c=`${s.responseText}`:c=`fail to ${n.method} ${o} ${s.status}`,new Ze(c,s.status,n.method,o)}function We(o){const n=o.responseText||o.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const xe=o=>{typeof XMLHttpRequest>"u"&&x(Ye,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,s=o.action;n.upload&&n.upload.addEventListener("progress",u=>{const p=u;p.percent=u.total>0?u.loaded/u.total*100:0,o.onProgress(p)});const c=new FormData;if(o.data)for(const[u,p]of Object.entries(o.data))ce(p)&&p.length?c.append(u,...p):c.append(u,p);c.append(o.filename,o.file,o.file.name),n.addEventListener("error",()=>{o.onError(ne(s,o,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return o.onError(ne(s,o,n));o.onSuccess(We(n))}),n.open(o.method,s,!0),o.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const i=o.headers||{};if(i instanceof Headers)i.forEach((u,p)=>n.setRequestHeader(p,u));else for(const[u,p]of Object.entries(i))pe(p)||n.setRequestHeader(u,String(p));return n.send(c),n},ve=["text","picture","picture-card"];let et=1;const W=()=>Date.now()+et++,ge=q({action:{type:String,default:"#"},headers:{type:g(Object)},method:{type:String,default:"post"},data:{type:g([Object,Function,Promise]),default:()=>Z({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:g(Array),default:()=>Z([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:ve,default:"text"},httpRequest:{type:g(Function),default:xe},disabled:Boolean,limit:Number}),tt=q({...ge,beforeUpload:{type:g(Function),default:C},beforeRemove:{type:g(Function)},onRemove:{type:g(Function),default:C},onChange:{type:g(Function),default:C},onPreview:{type:g(Function),default:C},onSuccess:{type:g(Function),default:C},onProgress:{type:g(Function),default:C},onError:{type:g(Function),default:C},onExceed:{type:g(Function),default:C},crossorigin:{type:g(String)}}),st=q({files:{type:g(Array),default:()=>Z([])},disabled:Boolean,handlePreview:{type:g(Function),default:C},listType:{type:String,values:ve,default:"text"},crossorigin:{type:g(String)}}),at={remove:o=>!!o},ot=D({name:"ElUploadList"}),lt=D({...ot,props:st,emits:at,setup(o,{emit:n}){const s=o,{t:c}=Ie(),i=V("upload"),u=V("icon"),p=V("list"),A=M(),m=j(!1),_=Q(()=>[i.b("list"),i.bm("list",s.listType),i.is("disabled",s.disabled)]),k=f=>{n("remove",f)};return(f,S)=>(h(),U(Te,{tag:"ul",class:b(a(_)),name:a(p).b()},{default:v(()=>[(h(!0),P(Fe,null,Le(f.files,(t,l)=>(h(),P("li",{key:t.uid||t.name,class:b([a(i).be("list","item"),a(i).is(t.status),{focusing:m.value}]),tabindex:"0",onKeydown:fe(e=>!a(A)&&k(t),["delete"]),onFocus:e=>m.value=!0,onBlur:e=>m.value=!1,onClick:e=>m.value=!1},[w(f.$slots,"default",{file:t,index:l},()=>[f.listType==="picture"||t.status!=="uploading"&&f.listType==="picture-card"?(h(),P("img",{key:0,class:b(a(i).be("list","item-thumbnail")),src:t.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):E("v-if",!0),t.status==="uploading"||f.listType!=="picture-card"?(h(),P("div",{key:1,class:b(a(i).be("list","item-info"))},[R("a",{class:b(a(i).be("list","item-name")),onClick:N(e=>f.handlePreview(t),["prevent"])},[y(a(O),{class:b(a(u).m("document"))},{default:v(()=>[y(a($e))]),_:1},8,["class"]),R("span",{class:b(a(i).be("list","item-file-name")),title:t.name},te(t.name),11,["title"])],10,["onClick"]),t.status==="uploading"?(h(),U(a(ke),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(t.percentage),style:Se(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):E("v-if",!0)],2)):E("v-if",!0),R("label",{class:b(a(i).be("list","item-status-label"))},[f.listType==="text"?(h(),U(a(O),{key:0,class:b([a(u).m("upload-success"),a(u).m("circle-check")])},{default:v(()=>[y(a(Oe))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(h(),U(a(O),{key:1,class:b([a(u).m("upload-success"),a(u).m("check")])},{default:v(()=>[y(a(Ne))]),_:1},8,["class"])):E("v-if",!0)],2),a(A)?E("v-if",!0):(h(),U(a(O),{key:2,class:b(a(u).m("close")),onClick:e=>k(t)},{default:v(()=>[y(a(Ke))]),_:2},1032,["class","onClick"])),E(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),E(" This is a bug which needs to be fixed "),E(" TODO: Fix the incorrect navigation interaction "),a(A)?E("v-if",!0):(h(),P("i",{key:3,class:b(a(u).m("close-tip"))},te(a(c)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(h(),P("span",{key:4,class:b(a(i).be("list","item-actions"))},[R("span",{class:b(a(i).be("list","item-preview")),onClick:e=>f.handlePreview(t)},[y(a(O),{class:b(a(u).m("zoom-in"))},{default:v(()=>[y(a(Ve))]),_:1},8,["class"])],10,["onClick"]),a(A)?E("v-if",!0):(h(),P("span",{key:0,class:b(a(i).be("list","item-delete")),onClick:e=>k(t)},[y(a(O),{class:b(a(u).m("delete"))},{default:v(()=>[y(a(je))]),_:1},8,["class"])],10,["onClick"]))],2)):E("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),w(f.$slots,"append")]),_:3},8,["class","name"]))}});var re=I(lt,[["__file","upload-list.vue"]]);const nt=q({disabled:Boolean}),rt={file:o=>ce(o)},ye="ElUploadDrag",it=D({name:ye}),ut=D({...it,props:nt,emits:rt,setup(o,{emit:n}){Pe(me)||x(ye,"usage: <el-upload><el-upload-dragger /></el-upload>");const c=V("upload"),i=j(!1),u=M(),p=_=>{if(u.value)return;i.value=!1,_.stopPropagation();const k=Array.from(_.dataTransfer.files),f=_.dataTransfer.items||[];k.forEach((S,t)=>{var l;const e=f[t],d=(l=e==null?void 0:e.webkitGetAsEntry)==null?void 0:l.call(e);d&&(S.isDirectory=d.isDirectory)}),n("file",k)},A=()=>{u.value||(i.value=!0)},m=_=>{_.currentTarget.contains(_.relatedTarget)||(i.value=!1)};return(_,k)=>(h(),P("div",{class:b([a(c).b("dragger"),a(c).is("dragover",i.value)]),onDrop:N(p,["prevent"]),onDragover:N(A,["prevent"]),onDragleave:N(m,["prevent"])},[w(_.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var dt=I(ut,[["__file","upload-dragger.vue"]]);const ct=q({...ge,beforeUpload:{type:g(Function),default:C},onRemove:{type:g(Function),default:C},onStart:{type:g(Function),default:C},onSuccess:{type:g(Function),default:C},onProgress:{type:g(Function),default:C},onError:{type:g(Function),default:C},onExceed:{type:g(Function),default:C}}),pt=D({name:"ElUploadContent",inheritAttrs:!1}),ft=D({...pt,props:ct,setup(o,{expose:n}){const s=o,c=V("upload"),i=M(),u=Y({}),p=Y(),A=e=>{if(e.length===0)return;const{autoUpload:d,limit:r,fileList:F,multiple:T,onStart:B,onExceed:X}=s;if(r&&F.length+e.length>r){X(e,F);return}T||(e=e.slice(0,1));for(const z of e){const K=z;K.uid=W(),B(K),d&&m(K)}},m=async e=>{if(p.value.value="",!s.beforeUpload)return k(e);let d,r={};try{const T=s.data,B=s.beforeUpload(e);r=ee(s.data)?le(s.data):s.data,d=await B,ee(s.data)&&ze(T,r)&&(r=le(s.data))}catch{d=!1}if(d===!1){s.onRemove(e);return}let F=e;d instanceof Blob&&(d instanceof File?F=d:F=new File([d],e.name,{type:e.type})),k(Object.assign(F,{uid:e.uid}),r)},_=async(e,d)=>Ee(e)?e(d):e,k=async(e,d)=>{const{headers:r,data:F,method:T,withCredentials:B,name:X,action:z,onProgress:K,onSuccess:be,onError:he,httpRequest:_e}=s;try{d=await _(d??F,e)}catch{s.onRemove(e);return}const{uid:G}=e,H={headers:r||{},withCredentials:B,file:e,data:d,method:T,filename:X,action:z,onProgress:$=>{K($,e)},onSuccess:$=>{be($,e),delete u.value[G]},onError:$=>{he($,e),delete u.value[G]}},J=_e(H);u.value[G]=J,J instanceof Promise&&J.then(H.onSuccess,H.onError)},f=e=>{const d=e.target.files;d&&A(Array.from(d))},S=()=>{i.value||(p.value.value="",p.value.click())},t=()=>{S()};return n({abort:e=>{Me(u.value).filter(e?([r])=>String(e.uid)===r:()=>!0).forEach(([r,F])=>{F instanceof XMLHttpRequest&&F.abort(),delete u.value[r]})},upload:m}),(e,d)=>(h(),P("div",{class:b([a(c).b(),a(c).m(e.listType),a(c).is("drag",e.drag),a(c).is("disabled",a(i))]),tabindex:a(i)?"-1":"0",onClick:S,onKeydown:fe(N(t,["self"]),["enter","space"])},[e.drag?(h(),U(dt,{key:0,disabled:a(i),onFile:A},{default:v(()=>[w(e.$slots,"default")]),_:3},8,["disabled"])):w(e.$slots,"default",{key:1}),R("input",{ref_key:"inputRef",ref:p,class:b(a(c).e("input")),name:e.name,disabled:a(i),multiple:e.multiple,accept:e.accept,type:"file",onChange:f,onClick:N(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var ie=I(ft,[["__file","upload-content.vue"]]);const ue="ElUpload",de=o=>{var n;(n=o.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(o.url)},mt=(o,n)=>{const s=Ge(o,"fileList",void 0,{passive:!0}),c=t=>s.value.find(l=>l.uid===t.uid);function i(t){var l;(l=n.value)==null||l.abort(t)}function u(t=["ready","uploading","success","fail"]){s.value=s.value.filter(l=>!t.includes(l.status))}function p(t){s.value=s.value.filter(l=>l.uid!==t.uid)}const A=(t,l)=>{const e=c(l);e&&(console.error(t),e.status="fail",p(e),o.onError(t,e,s.value),o.onChange(e,s.value))},m=(t,l)=>{const e=c(l);e&&(o.onProgress(t,e,s.value),e.status="uploading",e.percentage=Math.round(t.percent))},_=(t,l)=>{const e=c(l);e&&(e.status="success",e.response=t,o.onSuccess(t,e,s.value),o.onChange(e,s.value))},k=t=>{pe(t.uid)&&(t.uid=W());const l={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if(o.listType==="picture-card"||o.listType==="picture")try{l.url=URL.createObjectURL(t)}catch(e){qe(ue,e.message),o.onError(e,l,s.value)}s.value=[...s.value,l],o.onChange(l,s.value)},f=async t=>{const l=t instanceof File?c(t):t;l||x(ue,"file to be removed not found");const e=d=>{i(d),p(d),o.onRemove(d,s.value),de(d)};o.beforeRemove?await o.beforeRemove(l,s.value)!==!1&&e(l):e(l)};function S(){s.value.filter(({status:t})=>t==="ready").forEach(({raw:t})=>{var l;return t&&((l=n.value)==null?void 0:l.upload(t))})}return se(()=>o.listType,t=>{t!=="picture-card"&&t!=="picture"||(s.value=s.value.map(l=>{const{raw:e,url:d}=l;if(!d&&e)try{l.url=URL.createObjectURL(e)}catch(r){o.onError(r,l,s.value)}return l}))}),se(s,t=>{for(const l of t)l.uid||(l.uid=W()),l.status||(l.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:i,clearFiles:u,handleError:A,handleProgress:m,handleStart:k,handleSuccess:_,handleRemove:f,submit:S,revokeFileObjectURL:de}},vt=D({name:"ElUpload"}),gt=D({...vt,props:tt,setup(o,{expose:n}){const s=o,c=M(),i=Y(),{abort:u,submit:p,clearFiles:A,uploadFiles:m,handleStart:_,handleError:k,handleRemove:f,handleSuccess:S,handleProgress:t,revokeFileObjectURL:l}=mt(s,i),e=Q(()=>s.listType==="picture-card"),d=Q(()=>({...s,fileList:m.value,onStart:_,onProgress:t,onSuccess:S,onError:k,onRemove:f}));return Ue(()=>{m.value.forEach(l)}),Be(me,{accept:De(s,"accept")}),n({abort:u,submit:p,clearFiles:A,handleStart:_,handleRemove:f}),(r,F)=>(h(),P("div",null,[a(e)&&r.showFileList?(h(),U(re,{key:0,disabled:a(c),"list-type":r.listType,files:a(m),crossorigin:r.crossorigin,"handle-preview":r.onPreview,onRemove:a(f)},ae({append:v(()=>[y(ie,oe({ref_key:"uploadRef",ref:i},a(d)),{default:v(()=>[r.$slots.trigger?w(r.$slots,"trigger",{key:0}):E("v-if",!0),!r.$slots.trigger&&r.$slots.default?w(r.$slots,"default",{key:1}):E("v-if",!0)]),_:3},16)]),_:2},[r.$slots.file?{name:"default",fn:v(({file:T,index:B})=>[w(r.$slots,"file",{file:T,index:B})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):E("v-if",!0),!a(e)||a(e)&&!r.showFileList?(h(),U(ie,oe({key:1,ref_key:"uploadRef",ref:i},a(d)),{default:v(()=>[r.$slots.trigger?w(r.$slots,"trigger",{key:0}):E("v-if",!0),!r.$slots.trigger&&r.$slots.default?w(r.$slots,"default",{key:1}):E("v-if",!0)]),_:3},16)):E("v-if",!0),r.$slots.trigger?w(r.$slots,"default",{key:2}):E("v-if",!0),w(r.$slots,"tip"),!a(e)&&r.showFileList?(h(),U(re,{key:3,disabled:a(c),"list-type":r.listType,files:a(m),crossorigin:r.crossorigin,"handle-preview":r.onPreview,onRemove:a(f)},ae({_:2},[r.$slots.file?{name:"default",fn:v(({file:T,index:B})=>[w(r.$slots,"file",{file:T,index:B})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):E("v-if",!0)]))}});var yt=I(gt,[["__file","upload.vue"]]);const bt=Ae(yt);const ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIdSURBVHgB7dw/TuNAGAXwNyNWK7Fb+AjLSquUqz3BslqJ0CFqIJAbcAOGG3AD/oqWltAAJ0B0RBTADVJABx5mTBzsJEZCROJFeb8mNlECfsT+bM+XMejabbVXLbAVFhMP3DbqtZn8ucOT679PPj3L173HTmO+1szX91vtjfDg8nUDrC3Xa7u950+uTuHNbL5up778WPr/867wet9778/83cbONuZ+naNo+/Qm2T66SDCh4rYXt9/sxf/Iw/1lc/FPB5IFZKenF6wpfEwlSBJkh5TiPiYvYiY2HKxuISXKRGR0YrmGlMRMVK6HiJlYyFAKpoL13uxASpSJyOh0b/RIQcwkViUHEkRX+o6tXDuQoApmpV7bBAnr07QJKaHLhKkQ6BhTQddKFez+cRiQ4uFAIMtEowSDslECyFBUwVBVpcc0nQEPBwJkmVBdK+k8Rt5L5XoQXblmqkpTGIHup87ltw362r/e9fOwjI++T1g3+KiDVvsGJFh2a6ZMMrr/LGOMqQ2EZVdibANxIKA2kDfoWqkCVRsIy7iS2kDGhcaVqjmQsDoNH0TXBgKev4WrDYSq2wEyFFUbCMvxjrENRPefZVyRtYFQiJlYmNcva0tXyETluoKCqcDWBkJBmYiMjk7DB6lr8w0hGNOZ5Al1+sUJhuKjNfDrkLI0/ddb7p+KaNL0b3+vo+rrt++/4yRZsaNpIifvMqZjfLb3ZK99BmW0ZN2OLKP/AAAAAElFTkSuQmCC",_t=R("div",{class:"header"}," 举报 ",-1),Et={class:"main"},At=R("div",{class:"report_type"}," 请选择举报类型 ",-1),kt={class:"detail_info"},Ct=R("div",{class:"report_detail"}," 为了帮助审核人员更快处理，请补充转载来源等详细信息 ",-1),Rt={class:"report_img"},wt=R("span",null,[L("("),R("span",null,"*"),L("必填，以保证真实性)")],-1),Ft=R("img",{src:ht,alt:""},null,-1),Lt=["src"],as=D({__name:"index",setup(o){const n=j(""),s=j(""),c=j(!1),i=p=>{console.log(p)},u=p=>{s.value=p.url,c.value=!0};return(p,A)=>{const m=Ce,_=Re,k=bt,f=He,S=we;return h(),U(S,null,{default:v(()=>[_t,R("div",Et,[At,y(_,{modelValue:n.value,"onUpdate:modelValue":A[0]||(A[0]=t=>n.value=t),class:"re_select",onChange:i},{default:v(()=>[y(m,{label:"1",size:"large"},{default:v(()=>[L("广告或垃圾信息")]),_:1}),y(m,{label:"2",size:"large"},{default:v(()=>[L("盗版或侵权，未获得权利人的合法授权、侵犯个人隐私或泄露单位商业机密")]),_:1}),y(m,{label:"3",size:"large"},{default:v(()=>[L("色情、淫秽、低俗信息")]),_:1}),y(m,{label:"4",size:"large"},{default:v(()=>[L("反政府、反人类、反社会等反动信息")]),_:1}),y(m,{label:"5",size:"large"},{default:v(()=>[L("散布赌博、暴力、凶杀、恐怖或教唆犯罪等信息")]),_:1}),y(m,{label:"6",size:"large"},{default:v(()=>[L("侮辱、诽谤等人身攻击信息")]),_:1}),y(m,{label:"7",size:"large"},{default:v(()=>[L("散布谣言、扰乱社会秩序、破坏社会稳定等信息")]),_:1}),y(m,{label:"8",size:"large"},{default:v(()=>[L("经济诈骗")]),_:1}),y(m,{label:"9",size:"large"},{default:v(()=>[L("其他")]),_:1})]),_:1},8,["modelValue"]),R("div",kt,[Ct,R("div",Rt,[L(" 上传相关图片"),wt,y(k,{action:"#","list-type":"picture-card","auto-upload":!1,"on-preview":u},{default:v(()=>[Ft]),_:1}),y(f,{modelValue:c.value,"onUpdate:modelValue":A[1]||(A[1]=t=>c.value=t)},{default:v(()=>[R("img",{"w-full":"",src:s.value,alt:"Preview Image"},null,8,Lt)]),_:1},8,["modelValue"])])])])]),_:1})}}});export{as as default};
