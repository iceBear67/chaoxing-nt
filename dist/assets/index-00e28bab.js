import"./base-82955267.js";/* empty css                     */import{a as V,H as R,r,o as b,b as t,e,m,p as c,f as o,h as s,I as H,_ as M,z as U,A as L,l as i,F as T,g as O,q as z}from"./index-26603ea5.js";import{u as k}from"./index-46519fef.js";import{E as B}from"./index-853a0f6e.js";import"./index-9c66cebd.js";import"./index-15f48857.js";import"./_baseGet-ad9634b7.js";const W=""+new URL("chaoxing_logo-feacd56e.png",import.meta.url).href,j=_=>(U("data-v-d456495c"),_=_(),L(),_),F={class:"version_popup"},G={key:0,class:"mac_controls"},Y={key:1,class:"window_controls"},$={class:"version_content"},q={class:"version_popup_header"},J=j(()=>e("img",{src:W,alt:"",class:"chaoxing_logo"},null,-1)),K={key:0,class:"version_title"},Q={class:"name"},X={class:"dec"},Z={key:1,class:"version_title"},ee={class:"name"},oe={key:2,class:"version_title3"},se={class:"name"},ne={class:"version_popup_content"},te={class:"content_one"},ie={key:0,class:"version_popup_button"},ce={key:1,class:"version_popup_button2"},ae={key:2,class:"version_popup_button3"},le=V({__name:"index",setup(_){const n=R.global.t,a=r(""),w=r(!1),g=r({}),d=r({}),h=r([]),p=r("close"),x=window.RendererHelper.getAppName(),E=window.RendererHelper.getPlatform()!="darwin";b(async()=>{let l=await window.RendererHelper.getInitDataAsync();console.log("getInitDataAsync",l),g.value=l.currInfo,d.value=l.onLineVersionInfo,a.value=l.type,h.value=l.onLineVersionInfo.message.split(`\r
`),window.RendererHelper.on("maximize",()=>{w.value=!0}),window.RendererHelper.on("unmaximize",()=>{w.value=!1})});const P=()=>{window.MainWindowHelper.setAppSystemConfig("skipVersion",d.value.version),window.close()},C=()=>{window.close()},D=()=>{window.RendererHelper.openExternal(d.value.downloadurl)},A=()=>{window.MainWindowHelper.showUpdateReadyPopLater(),window.close()},S=()=>{window.MainWindowHelper.relaunchToNewVersion()},N=()=>{window.close()},f=()=>{window.RendererHelper.closeWindow()};return(l,v)=>{const y=M,I=B;return i(),t("div",F,[E?c("",!0):(i(),t("div",G,[e("div",{class:"mac_icon_bg mac_close",onClick:f},[m(y,{class:"mac_icon_common","icon-class":"mac-close",width:"6px",height:"6px",color:"#4D0100"})])])),E?(i(),t("div",Y,[e("div",{class:"windows_icon_bg close_icon",onClick:f,onMouseover:v[0]||(v[0]=u=>p.value="close_hover"),onMouseleave:v[1]||(v[1]=u=>p.value="close")},[m(y,{"icon-class":p.value,"class-name":"icon-size",width:"12px",height:"12px",color:p.value=="close_hover"?"#fff":"#8A8B99"},null,8,["icon-class","color"])],32)])):c("",!0),e("div",$,[e("div",q,[J,a.value=="NEED_UPDATE_MESSAGE_POP"?(i(),t("div",K,[e("div",Q,o(s(n)("setting.versionReleased")),1),e("div",X,o(s(x))+o(s(n)("setting.Client"))+o(s(k).formatVersion(d.value.version))+o(s(n)("setting.downloadVersion"))+o(s(k).formatVersion(g.value.currentVersion)),1)])):c("",!0),a.value=="NEED_UPDATE_READY_POP"?(i(),t("div",Z,[e("div",ee,o(s(n)("setting.versionReady")),1)])):c("",!0),a.value=="NEED_UPDATE_SUCCESS_POP"?(i(),t("div",oe,[e("div",se,o(s(n)("setting.UpdatLatestversion")),1)])):c("",!0)]),e("div",ne,[m(I,{height:"156px",always:"true"},{default:H(()=>[e("div",te,[(i(!0),t(T,null,O(h.value,u=>(i(),t("p",{key:u},o(u),1))),128))])]),_:1})]),a.value=="NEED_UPDATE_MESSAGE_POP"?(i(),t("div",ie,[e("div",{class:"jump_version",onClick:P},o(s(n)("setting.skipVersion")),1),e("div",{class:"cancel_version",onClick:C},o(s(n)("setting.waitMoment")),1),e("div",{class:"sumbit_version",onClick:D},o(s(n)("setting.updaterightNow")),1)])):c("",!0),a.value=="NEED_UPDATE_READY_POP"?(i(),t("div",ce,[e("div",{class:"cancel_version",onClick:A},o(s(n)("setting.waitMinute")),1),e("div",{class:"sumbit_version",onClick:S},o(s(n)("setting.useImmediately")),1)])):c("",!0),a.value=="NEED_UPDATE_SUCCESS_POP"?(i(),t("div",ae,[e("div",{class:"cancel_version",onClick:N},o(s(n)("setting.gotIt")),1)])):c("",!0)])])}}});const ge=z(le,[["__scopeId","data-v-d456495c"]]);export{ge as default};
