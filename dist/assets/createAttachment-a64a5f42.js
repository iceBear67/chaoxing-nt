import{u}from"./index-46519fef.js";function T(o){return{name:o.name,path:o.path,size:o.size,type:o.type}}const _=async({data:o,file:n,createFakeMsg:e})=>{let i=`file://${n.path}`;const{videoHeight:r,videoWidth:p,duration:h}=await u.getVideoInfo(i);return{att_video:{coverUrl:e?"":o==null?void 0:o.thumbnail,createTime:e?"":new Date(o==null?void 0:o.uploadDate).getTime(),fileLength:e?n==null?void 0:n.size:o==null?void 0:o.size,fileTitle:e?n.name:o==null?void 0:o.name,isMirror:0,objectId:e?"":o==null?void 0:o.objectId,objectId2:e?"":o==null?void 0:o.objectId,resid:e?"":o==null?void 0:o.residstr,status:0,thumbnails_url:e?"":o==null?void 0:o.thumbnail,titleEdited:0,type:e?n.type:o==null?void 0:o.suffix,url:e?"":o==null?void 0:o.preview,videoHeight:r,videoWidth:p,videoLength:h,filePath:e?n==null?void 0:n.path:""},attachmentType:29}},v=({data:o,file:n,createFakeMsg:e})=>{var i,r;return{att_clouddisk:{name:e?n==null?void 0:n.name:o==null?void 0:o.name,downPath:"",suffix:e?(r=(i=n==null?void 0:n.name)==null?void 0:i.split("."))==null?void 0:r.reverse()[0]:o==null?void 0:o.suffix,modtime:e?"":new Date(o==null?void 0:o.uploadDate).getTime(),fileSize:u.formatSize(e?n==null?void 0:n.size:o==null?void 0:o.size),size:e?n==null?void 0:n.size:o==null?void 0:o.size,isfile:e?"":o==null?void 0:o.isfile,objectId:e?"":o==null?void 0:o.objectId,resid:e?"":o==null?void 0:o.residstr,fileId:e?"":o==null?void 0:o.objectId,thumbnail:e?"":o==null?void 0:o.thumbnail,preview:e?"":o==null?void 0:o.preview,extinfo:e?"":o==null?void 0:o.extinfo,filetype:e?n==null?void 0:n.type:o==null?void 0:o.filetype,filePath:e?n==null?void 0:n.path:o==null?void 0:o.filePath,puid:e?"":o==null?void 0:o.puid,parentPath:"",duration:e?"":o==null?void 0:o.duration},cid:(o==null?void 0:o.cid)||u.createCid(),attachmentType:18}},S=({data:o})=>({att_web:{delete:o.delete,logo:o.logo,resType:o.resType,showContent:o.showContent,title:o.title,toolbarType:o.toolbarType,type:o.type,url:o.url},attachmentType:25}),P=({data:o,ext:n})=>({att_voice:{createTime:new Date().getTime(),fileLength:o.size,fileTitle:`${(n==null?void 0:n.sendName)||(n==null?void 0:n.from)}的语音消息`,isMirror:0,local_path:"/storage/emulated/0/Android/data/com.chaoxing.mobileinhouse/cache/temp/语音20240109172018.amr",objectId2:o.objectId,status:0,titleEdited:1,type:o.suffix||"amr",voiceLength:Math.floor((n==null?void 0:n.length)||0)},attachmentType:26}),D=({data:o})=>({att_chat_group:{groupId:o.groupId,groupName:o.groupName,inviteCode:o.inviteCode,listPic:o.listPic},attachmentType:23}),A=({data:o})=>({att_user:{dept:(o==null?void 0:o.dept)||"",email:(o==null?void 0:o.email)||"",expireTime:(o==null?void 0:o.expireTime)||"",fid:o.fid,hiddenDept:(o==null?void 0:o.hiddenDept)||0,hiddenEmail:(o==null?void 0:o.hiddenEmail)||0,hiddenName:(o==null?void 0:o.hiddenName)||0,hiddenPhone:(o==null?void 0:o.hiddenPhone)||0,hiddenSchoolName:(o==null?void 0:o.hiddenSchoolName)||0,inviteCode:o.inviteCode,isShield:o.isShield||0,myFriendCount:o.myFriendCount||0,myReplyCount:o.myReplyCount||0,mySpecialCount:o.mySpecialCount||0,mySpecialsSubCount:o.mySpecialsSubCount||0,myStarCount:o.myStarCount||0,name:o.name,openedNoteCount:0,phone:o.phone,pic:o.pic,puid:o.puid,replyCount:0,rights:o.rights||1,schoolname:o.schoolname,sex:o.sex,showQrcode:o.showQrcode||0,subScribeCount:0,topicCount:0,uid:o.uid},attachmentType:20,cid:u.createCid()}),l=({data:o,file:n,createFakeMsg:e})=>{var i,r,p,h,s,m,c,y,b,C,I,w;return{att_cloudFolder:{filetype:e?n==null?void 0:n.type:o==null?void 0:o.filetype,isMirror:0,isfile:!1,name:e?n==null?void 0:n.name:o==null?void 0:o.name,parentPath:"{}",puid:e?"":o==null?void 0:o.puid,resid:e?"":o==null?void 0:o.residstr,restype:"RES_TYPE_YUNPAN_FOLDER",shareInfo:{begin:e?0:(i=o==null?void 0:o.shareInfo)!=null&&i.uploadDate?(r=o==null?void 0:o.shareInfo)==null?void 0:r.uploadDate:o==null?void 0:o.uploadDate,end:"-1",fType:"dir",name:e?n==null?void 0:n.name:(p=o==null?void 0:o.shareInfo)!=null&&p.name?(h=o==null?void 0:o.shareInfo)==null?void 0:h.name:o==null?void 0:o.name,owner:e?"":(s=o==null?void 0:o.shareInfo)!=null&&s.owner?(m=o==null?void 0:o.shareInfo)==null?void 0:m.owner:o==null?void 0:o.owner,restype:"RES_TYPE_YUNPAN_SHARE",shareid:e?0:(c=o==null?void 0:o.shareInfo)!=null&&c.shareid?(y=o==null?void 0:o.shareInfo)==null?void 0:y.shareid:o==null?void 0:o.shareid,type:"SHARE_APP",weburl:e?"":(b=o==null?void 0:o.shareInfo)!=null&&b.weburl?(C=o==null?void 0:o.shareInfo)==null?void 0:C.weburl:o==null?void 0:o.weburl},size:e?n==null?void 0:n.size:o==null?void 0:o.size,sort:0,suffix:e?(w=(I=n==null?void 0:n.name)==null?void 0:I.split("."))==null?void 0:w.reverse()[0]:o==null?void 0:o.suffix,topsort:0,uploadDate:e?"":new Date(o==null?void 0:o.uploadDate).getTime(),filePath:e?n==null?void 0:n.path:""},cid:(o==null?void 0:o.cid)||u.createCid(),attachmentType:38}},N=({data:o,file:n,type:e,createFakeMsg:i,ext:r})=>{switch(n instanceof File&&(n=T(n)),e){case"att_video":return _({data:o,file:n,createFakeMsg:i});case"att_clouddisk":return v({data:o,file:n,createFakeMsg:i});case"att_cloudFolder":return l({data:o,file:n,createFakeMsg:i});case"att_voice":return P({data:o,ext:r});case"att_web":return S({data:o})}};export{A as a,N as b,D as c,S as d,T as g};
