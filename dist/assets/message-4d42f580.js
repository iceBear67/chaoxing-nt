var Y0=Object.defineProperty;var Z0=(a,m,n)=>m in a?Y0(a,m,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[m]=n;var Ri=(a,m,n)=>(Z0(a,typeof m!="symbol"?m+"":m,n),n);import{u as utils}from"./index-46519fef.js";import{g as getDefaultExportFromCjs,c as commonjsGlobal}from"./_commonjsHelpers-de833af9.js";import{l as lodashExports,_}from"./lodash-4dfbea43.js";import{s as safetyToJson,G as GroupType,c as safetyParseJson,C as ChatType,g as INTERNAL_MESSAGE_SOURCE_TYPE,h as INTERNAL_MESSAGE_SHOW_TEXT,P as PreMessageType,f as FakeMsgType,M as MessageType,i as CustomMessageType,A as AffixConversationType,L as LocalAckType,a as AffixConversationTypeToId,I as IdToAffixConversationType}from"./message-fe5b63d1.js";import{d as defineStore,H as i18n,a as defineComponent,l as openBlock,b as createElementBlock,f as toDisplayString,h as unref,X as ATTACHMENT,r as ref,c as computed,j as normalizeClass,e as createBaseVNode,F as Fragment,g as renderList,p as createCommentVNode,k as normalizeStyle,y as withModifiers,w as withDirectives,v as vShow,aH as inject,q as _export_sfc,m as createVNode,o as onMounted,s as storeToRefs,u as useI18n,J as createTextVNode,_ as __unplugin_components_1,i as createBlock,D as useRouter,aA as getCurrentScope,aY as onScopeDispose,C as watch,bc as shallowRef,O as router,n as nextTick}from"./index-26603ea5.js";import{c as computeUnreadReminderPermission,i as isValidString}from"./validate-f7672251.js";import{T as Toast}from"./index-b0b4f58c.js";import{B as BEM}from"./index-94663b0f.js";import"./base-82955267.js";import{E as ElSlider,a as upload,F as FORWARD_WINDOW_HEIGHT}from"./forward-bb18e89e.js";import"./el-input-983a785f.js";import"./el-popper-548470bb.js";import{b as createAtt,d as createAttWeb}from"./createAttachment-a64a5f42.js";var EasemobChat={exports:{}};(function(module,exports){(function(a,m){module.exports=m()})(commonjsGlobal,function(){return function(){var __webpack_modules__={4537:function(a){a.exports=function(m,n){for(var c=new Array(arguments.length-1),l=0,v=2,y=!0;v<arguments.length;)c[l++]=arguments[v++];return new Promise(function(T,I){c[l]=function(g){if(y)if(y=!1,g)I(g);else{for(var P=new Array(arguments.length-1),M=0;M<P.length;)P[M++]=arguments[M];T.apply(null,P)}};try{m.apply(n||null,c)}catch(g){y&&(y=!1,I(g))}})}},7419:function(a,m){var n=m;n.length=function(T){var I=T.length;if(!I)return 0;for(var g=0;--I%4>1&&T.charAt(I)==="=";)++g;return Math.ceil(3*T.length)/4-g};for(var c=new Array(64),l=new Array(123),v=0;v<64;)l[c[v]=v<26?v+65:v<52?v+71:v<62?v-4:v-59|43]=v++;n.encode=function(T,I,g){for(var P,M=null,U=[],x=0,H=0;I<g;){var L=T[I++];switch(H){case 0:U[x++]=c[L>>2],P=(3&L)<<4,H=1;break;case 1:U[x++]=c[P|L>>4],P=(15&L)<<2,H=2;break;case 2:U[x++]=c[P|L>>6],U[x++]=c[63&L],H=0}x>8191&&((M||(M=[])).push(String.fromCharCode.apply(String,U)),x=0)}return H&&(U[x++]=c[P],U[x++]=61,H===1&&(U[x++]=61)),M?(x&&M.push(String.fromCharCode.apply(String,U.slice(0,x))),M.join("")):String.fromCharCode.apply(String,U.slice(0,x))};var y="invalid encoding";n.decode=function(T,I,g){for(var P,M=g,U=0,x=0;x<T.length;){var H=T.charCodeAt(x++);if(H===61&&U>1)break;if((H=l[H])===void 0)throw Error(y);switch(U){case 0:P=H,U=1;break;case 1:I[g++]=P<<2|(48&H)>>4,P=H,U=2;break;case 2:I[g++]=(15&P)<<4|(60&H)>>2,P=H,U=3;break;case 3:I[g++]=(3&P)<<6|H,U=0}}if(U===1)throw Error(y);return g-M},n.test=function(T){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(T)}},5124:function(a){function m(n,c){typeof n=="string"&&(c=n,n=void 0);var l=[];function v(T){if(typeof T!="string"){var I=y();if(m.verbose&&console.log("codegen: "+I),I="return "+I,T){for(var g=Object.keys(T),P=new Array(g.length+1),M=new Array(g.length),U=0;U<g.length;)P[U]=g[U],M[U]=T[g[U++]];return P[U]=I,Function.apply(null,P).apply(null,M)}return Function(I)()}for(var x=new Array(arguments.length-1),H=0;H<x.length;)x[H]=arguments[++H];if(H=0,T=T.replace(/%([%dfijs])/g,function(L,W){var F=x[H++];switch(W){case"d":case"f":return String(Number(F));case"i":return String(Math.floor(F));case"j":return JSON.stringify(F);case"s":return String(F)}return"%"}),H!==x.length)throw Error("parameter count mismatch");return l.push(T),v}function y(T){return"function "+(T||c||"")+"("+(n&&n.join(",")||"")+`){
  `+l.join(`
  `)+`
}`}return v.toString=y,v}a.exports=m,m.verbose=!1},9211:function(a){function m(){this._listeners={}}a.exports=m,m.prototype.on=function(n,c,l){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:c,ctx:l||this}),this},m.prototype.off=function(n,c){if(n===void 0)this._listeners={};else if(c===void 0)this._listeners[n]=[];else for(var l=this._listeners[n],v=0;v<l.length;)l[v].fn===c?l.splice(v,1):++v;return this},m.prototype.emit=function(n){var c=this._listeners[n];if(c){for(var l=[],v=1;v<arguments.length;)l.push(arguments[v++]);for(v=0;v<c.length;)c[v].fn.apply(c[v++].ctx,l)}return this}},9054:function(a,m,n){a.exports=v;var c=n(4537),l=n(7199)("fs");function v(y,T,I){return typeof T=="function"?(I=T,T={}):T||(T={}),I?!T.xhr&&l&&l.readFile?l.readFile(y,function(g,P){return g&&typeof XMLHttpRequest<"u"?v.xhr(y,T,I):g?I(g):I(null,T.binary?P:P.toString("utf8"))}):v.xhr(y,T,I):c(v,this,y,T)}v.xhr=function(y,T,I){var g=new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===4){if(g.status!==0&&g.status!==200)return I(Error("status "+g.status));if(T.binary){var P=g.response;if(!P){P=[];for(var M=0;M<g.responseText.length;++M)P.push(255&g.responseText.charCodeAt(M))}return I(null,typeof Uint8Array<"u"?new Uint8Array(P):P)}return I(null,g.responseText)}},T.binary&&("overrideMimeType"in g&&g.overrideMimeType("text/plain; charset=x-user-defined"),g.responseType="arraybuffer"),g.open("GET",y),g.send()}},945:function(a){function m(y){return typeof Float32Array<"u"?function(){var T=new Float32Array([-0]),I=new Uint8Array(T.buffer),g=I[3]===128;function P(H,L,W){T[0]=H,L[W]=I[0],L[W+1]=I[1],L[W+2]=I[2],L[W+3]=I[3]}function M(H,L,W){T[0]=H,L[W]=I[3],L[W+1]=I[2],L[W+2]=I[1],L[W+3]=I[0]}function U(H,L){return I[0]=H[L],I[1]=H[L+1],I[2]=H[L+2],I[3]=H[L+3],T[0]}function x(H,L){return I[3]=H[L],I[2]=H[L+1],I[1]=H[L+2],I[0]=H[L+3],T[0]}y.writeFloatLE=g?P:M,y.writeFloatBE=g?M:P,y.readFloatLE=g?U:x,y.readFloatBE=g?x:U}():function(){function T(g,P,M,U){var x=P<0?1:0;if(x&&(P=-P),P===0)g(1/P>0?0:2147483648,M,U);else if(isNaN(P))g(2143289344,M,U);else if(P>34028234663852886e22)g((x<<31|2139095040)>>>0,M,U);else if(P<11754943508222875e-54)g((x<<31|Math.round(P/1401298464324817e-60))>>>0,M,U);else{var H=Math.floor(Math.log(P)/Math.LN2);g((x<<31|H+127<<23|8388607&Math.round(P*Math.pow(2,-H)*8388608))>>>0,M,U)}}function I(g,P,M){var U=g(P,M),x=2*(U>>31)+1,H=U>>>23&255,L=8388607&U;return H===255?L?NaN:x*(1/0):H===0?1401298464324817e-60*x*L:x*Math.pow(2,H-150)*(L+8388608)}y.writeFloatLE=T.bind(null,n),y.writeFloatBE=T.bind(null,c),y.readFloatLE=I.bind(null,l),y.readFloatBE=I.bind(null,v)}(),typeof Float64Array<"u"?function(){var T=new Float64Array([-0]),I=new Uint8Array(T.buffer),g=I[7]===128;function P(H,L,W){T[0]=H,L[W]=I[0],L[W+1]=I[1],L[W+2]=I[2],L[W+3]=I[3],L[W+4]=I[4],L[W+5]=I[5],L[W+6]=I[6],L[W+7]=I[7]}function M(H,L,W){T[0]=H,L[W]=I[7],L[W+1]=I[6],L[W+2]=I[5],L[W+3]=I[4],L[W+4]=I[3],L[W+5]=I[2],L[W+6]=I[1],L[W+7]=I[0]}function U(H,L){return I[0]=H[L],I[1]=H[L+1],I[2]=H[L+2],I[3]=H[L+3],I[4]=H[L+4],I[5]=H[L+5],I[6]=H[L+6],I[7]=H[L+7],T[0]}function x(H,L){return I[7]=H[L],I[6]=H[L+1],I[5]=H[L+2],I[4]=H[L+3],I[3]=H[L+4],I[2]=H[L+5],I[1]=H[L+6],I[0]=H[L+7],T[0]}y.writeDoubleLE=g?P:M,y.writeDoubleBE=g?M:P,y.readDoubleLE=g?U:x,y.readDoubleBE=g?x:U}():function(){function T(g,P,M,U,x,H){var L=U<0?1:0;if(L&&(U=-U),U===0)g(0,x,H+P),g(1/U>0?0:2147483648,x,H+M);else if(isNaN(U))g(0,x,H+P),g(2146959360,x,H+M);else if(U>17976931348623157e292)g(0,x,H+P),g((L<<31|2146435072)>>>0,x,H+M);else{var W;if(U<22250738585072014e-324)g((W=U/5e-324)>>>0,x,H+P),g((L<<31|W/4294967296)>>>0,x,H+M);else{var F=Math.floor(Math.log(U)/Math.LN2);F===1024&&(F=1023),g(4503599627370496*(W=U*Math.pow(2,-F))>>>0,x,H+P),g((L<<31|F+1023<<20|1048576*W&1048575)>>>0,x,H+M)}}}function I(g,P,M,U,x){var H=g(U,x+P),L=g(U,x+M),W=2*(L>>31)+1,F=L>>>20&2047,w=4294967296*(1048575&L)+H;return F===2047?w?NaN:W*(1/0):F===0?5e-324*W*w:W*Math.pow(2,F-1075)*(w+4503599627370496)}y.writeDoubleLE=T.bind(null,n,0,4),y.writeDoubleBE=T.bind(null,c,4,0),y.readDoubleLE=I.bind(null,l,0,4),y.readDoubleBE=I.bind(null,v,4,0)}(),y}function n(y,T,I){T[I]=255&y,T[I+1]=y>>>8&255,T[I+2]=y>>>16&255,T[I+3]=y>>>24}function c(y,T,I){T[I]=y>>>24,T[I+1]=y>>>16&255,T[I+2]=y>>>8&255,T[I+3]=255&y}function l(y,T){return(y[T]|y[T+1]<<8|y[T+2]<<16|y[T+3]<<24)>>>0}function v(y,T){return(y[T]<<24|y[T+1]<<16|y[T+2]<<8|y[T+3])>>>0}a.exports=m(m)},7199:function(module){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}module.exports=inquire},8626:function(a,m){var n=m,c=n.isAbsolute=function(v){return/^(?:\/|\w+:)/.test(v)},l=n.normalize=function(v){var y=(v=v.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),T=c(v),I="";T&&(I=y.shift()+"/");for(var g=0;g<y.length;)y[g]===".."?g>0&&y[g-1]!==".."?y.splice(--g,2):T?y.splice(g,1):++g:y[g]==="."?y.splice(g,1):++g;return I+y.join("/")};n.resolve=function(v,y,T){return T||(y=l(y)),c(y)?y:(T||(v=l(v)),(v=v.replace(/(?:\/|^)[^/]+$/,"")).length?l(v+"/"+y):y)}},6662:function(a){a.exports=function(m,n,c){var l=c||8192,v=l>>>1,y=null,T=l;return function(I){if(I<1||I>v)return m(I);T+I>l&&(y=m(l),T=0);var g=n.call(y,T,T+=I);return 7&T&&(T=1+(7|T)),g}}},4997:function(a,m){var n=m;n.length=function(c){for(var l=0,v=0,y=0;y<c.length;++y)(v=c.charCodeAt(y))<128?l+=1:v<2048?l+=2:(64512&v)==55296&&(64512&c.charCodeAt(y+1))==56320?(++y,l+=4):l+=3;return l},n.read=function(c,l,v){if(v-l<1)return"";for(var y,T=null,I=[],g=0;l<v;)(y=c[l++])<128?I[g++]=y:y>191&&y<224?I[g++]=(31&y)<<6|63&c[l++]:y>239&&y<365?(y=((7&y)<<18|(63&c[l++])<<12|(63&c[l++])<<6|63&c[l++])-65536,I[g++]=55296+(y>>10),I[g++]=56320+(1023&y)):I[g++]=(15&y)<<12|(63&c[l++])<<6|63&c[l++],g>8191&&((T||(T=[])).push(String.fromCharCode.apply(String,I)),g=0);return T?(g&&T.push(String.fromCharCode.apply(String,I.slice(0,g))),T.join("")):String.fromCharCode.apply(String,I.slice(0,g))},n.write=function(c,l,v){for(var y,T,I=v,g=0;g<c.length;++g)(y=c.charCodeAt(g))<128?l[v++]=y:y<2048?(l[v++]=y>>6|192,l[v++]=63&y|128):(64512&y)==55296&&(64512&(T=c.charCodeAt(g+1)))==56320?(y=65536+((1023&y)<<10)+(1023&T),++g,l[v++]=y>>18|240,l[v++]=y>>12&63|128,l[v++]=y>>6&63|128,l[v++]=63&y|128):(l[v++]=y>>12|224,l[v++]=y>>6&63|128,l[v++]=63&y|128);return v-I}},4188:function(a,m,n){var c,l,v;(function(y){if(m!=null&&typeof m.nodeType!="number")a.exports=y();else if(n.amdO!=null)l=[],(v=typeof(c=y)=="function"?c.apply(m,l):c)===void 0||(a.exports=v);else{var T=y(),I=typeof self<"u"?self:$.global;typeof I.btoa!="function"&&(I.btoa=T.btoa),typeof I.atob!="function"&&(I.atob=T.atob)}})(function(){var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T(I){this.message=I}return T.prototype=new Error,T.prototype.name="InvalidCharacterError",{btoa:function(I){for(var g,P,M=String(I),U=0,x=y,H="";M.charAt(0|U)||(x="=",U%1);H+=x.charAt(63&g>>8-U%1*8)){if((P=M.charCodeAt(U+=.75))>255)throw new T("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");g=g<<8|P}return H},atob:function(I){var g=String(I).replace(/[=]+$/,"");if(g.length%4==1)throw new T("'atob' failed: The string to be decoded is not correctly encoded.");for(var P,M,U=0,x=0,H="";M=g.charAt(x++);~M&&(P=U%4?64*P+M:M,U++%4)?H+=String.fromCharCode(255&P>>(-2*U&6)):0)M=y.indexOf(M);return H}}})},9667:function(a,m,n){n.r(m),n.d(m,{addUsersToChatRoom:function(){return w},addUsersToChatRoomAllowlist:function(){return Re},addUsersToChatRoomWhitelist:function(){return Ae},blockChatRoomMember:function(){return vt},blockChatRoomMembers:function(){return wt},chatRoomBlockMulti:function(){return It},chatRoomBlockSingle:function(){return st},createChatRoom:function(){return P},deleteChatRoomSharedFile:function(){return mt},destroyChatRoom:function(){return M},disableSendChatRoomMsg:function(){return _t},enableSendChatRoomMsg:function(){return Lt},fetchChatRoomAnnouncement:function(){return Je},fetchChatRoomSharedFileList:function(){return pt},getChatRoomAdmin:function(){return Q},getChatRoomAllowlist:function(){return Fe},getChatRoomAttributes:function(){return Xt},getChatRoomBlacklist:function(){return Xe},getChatRoomBlacklistNew:function(){return ct},getChatRoomBlocklist:function(){return bt},getChatRoomDetails:function(){return U},getChatRoomMuteList:function(){return Et},getChatRoomMuted:function(){return qe},getChatRoomMutelist:function(){return et},getChatRoomSharedFilelist:function(){return Mt},getChatRoomWhitelist:function(){return Ye},getChatRooms:function(){return g},getJoinedChatRooms:function(){return Ot},isChatRoomWhiteUser:function(){return Ve},isInChatRoomAllowlist:function(){return $e},isInChatRoomMutelist:function(){return ke},joinChatRoom:function(){return G},leaveChatRoom:function(){return re},listChatRoomMember:function(){return q},listChatRoomMembers:function(){return X},modifyChatRoom:function(){return x},muteChatRoomMember:function(){return Oe},quitChatRoom:function(){return S},removeChatRoomAdmin:function(){return se},removeChatRoomAllowlistMember:function(){return nt},removeChatRoomAttribute:function(){return Ke},removeChatRoomAttributes:function(){return tr},removeChatRoomBlockMulti:function(){return Se},removeChatRoomBlockSingle:function(){return Ht},removeChatRoomMember:function(){return L},removeChatRoomMembers:function(){return F},removeChatRoomWhitelistMember:function(){return lt},removeMultiChatRoomMember:function(){return W},removeMuteChatRoomMember:function(){return xe},removeSingleChatRoomMember:function(){return H},rmUsersFromChatRoomWhitelist:function(){return Me},setChatRoomAdmin:function(){return ee},setChatRoomAttribute:function(){return zt},setChatRoomAttributes:function(){return jt},unblockChatRoomMember:function(){return ue},unblockChatRoomMembers:function(){return Ue},unmuteChatRoomMember:function(){return Ne},updateChatRoomAnnouncement:function(){return yt},uploadChatRoomSharedFile:function(){return Ct}}),n(1539),n(8674),n(8309),n(2526),n(1817),n(2222),n(9753),n(9600),n(1249),n(4916),n(3123),n(2165),n(6992),n(8783),n(3948);var c=n(5531),l=n(4024),v=n(3246),y=n(7360),T=n(1595);function I(j){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},I(j)}function g(j){var Y=this;if(typeof j.pagenum!="number"||typeof j.pagesize!="number")throw Error("Invalid parameter");var _e=v.XZ.call(this).error;if(_e)return Promise.reject(_e);var De={pagenum:j.pagenum||1,pagesize:j.pagesize||20},ve=this.context,ze=ve.orgName,ot=ve.appName,ut=ve.accessToken,St={url:this.apiUrl+"/"+ze+"/"+ot+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+ut},data:De,success:function(xt){typeof j.success=="function"&&j.success(xt)},error:function(xt){xt.error&&xt.error_description&&Y.onError&&Y.onError({type:c.E.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:xt.error_description,data:xt}),typeof j.error=="function"&&j.error(xt)}};return y.kg.debug("Call getChatRooms",j),l.hj.call(this,St,T.fI.GET_CHATROOM_LIST)}function P(j){if(typeof j.name!="string")throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e={name:j.name,description:j.description,maxusers:j.maxusers,owner:this.user,members:j.members},De=this.context,ve=De.orgName,ze=De.appName,ot=De.accessToken,ut=De.jid,St={url:"".concat(this.apiUrl,"/").concat(ve,"/").concat(ze,"/chatrooms?resource=").concat(ut.clientResource),dataType:"json",type:"POST",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+(j.token||ot),"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call createChatRoom",j),l.hj.call(this,St,T.fI.CREATE_CHATROOM)}function M(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(j.chatRoomId,"?resource=").concat(ot.clientResource,"&version=v3"),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+(j.token||ze)},success:j.success,error:j.error};return y.kg.debug("Call destroyChatRoom",j),l.hj.call(this,ut,T.fI.DESTROY_CHATROOM)}function U(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot={url:this.apiUrl+"/"+De+"/"+ve+"/chatrooms/"+j.chatRoomId,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call getChatRoomDetails",j),l.hj.call(this,ot,T.fI.GET_CHATROOM_DETAIL)}function x(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={groupname:j.chatRoomName,description:j.description,maxusers:j.maxusers},xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"?resource=").concat(ot.clientResource),type:"PUT",data:JSON.stringify(St),dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call modifyChatRoom",j),l.hj.call(this,xt,T.fI.MODIFY_CHATROOM)}function H(j){if(typeof j.chatRoomId!="string"||j.chatRoomId===""||typeof j.username!="string")throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St=j.username,xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/users/").concat(St,"?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call removeChatRoomMember",j),l.hj.call(this,xt,T.fI.REMOVE_CHATROOM_MEMBER)}var L=H;function W(j){if(typeof j.chatRoomId!="string"||j.chatRoomId===""||!Array.isArray(j.users))throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=j.chatRoomId,De=j.users.join(","),ve=this.context,ze=ve.orgName,ot=ve.appName,ut=ve.accessToken,St=ve.jid,xt={url:"".concat(this.apiUrl,"/").concat(ze,"/").concat(ot,"/chatrooms/").concat(_e,"/users/").concat(De,"?resource=").concat(St.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ut,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call removeChatRoomMembers",j),l.hj.call(this,xt,T.fI.MULTI_REMOVE_CHATROOM_MEMBER)}var F=W;function w(j){if(typeof j.chatRoomId!="string"||j.chatRoomId===""||!Array.isArray(j.users))throw Error("Invalid parameter");var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=j.chatRoomId,De={usernames:j.users},ve=this.context,ze=ve.orgName,ot=ve.appName,ut=ve.accessToken,St=ve.jid,xt={url:"".concat(this.apiUrl,"/").concat(ze,"/").concat(ot,"/chatrooms/").concat(_e,"/users?resource=").concat(St.clientResource),type:"POST",data:JSON.stringify(De),dataType:"json",headers:{Authorization:"Bearer "+ut,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call addUsersToChatRoom",j),l.hj.call(this,xt,T.fI.ADD_USERS_TO_CHATROOM)}function G(j){var Y=j.roomId,_e=j.message,De=_e===void 0?"":_e,ve=j.ext,ze=ve===void 0?"":ve,ot=j.leaveOtherRooms,ut=ot!==void 0&&ot,St=j.success,xt=j.error;if(typeof Y!="string"||Y==="")throw Error("Invalid parameter roomId");if(typeof ze!="string")throw Error("Invalid parameter ext");if(typeof ut!="boolean")throw Error("Invalid parameter leaveOtherRooms");var Bt=v.XZ.call(this).error;return Bt?Promise.reject(Bt):(y.kg.debug("Call joinChatRoom",j),this.logOut?Promise.reject({type:c.E.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom({roomId:Y,ext:ze,leaveOtherRooms:ut,message:De,success:St,errorCb:xt},"join"))}function S(j){if(typeof j.roomId!="string"||j.roomId==="")throw Error("Invalid parameter");var Y=v.XZ.call(this).error;return Y?Promise.reject(Y):(y.kg.debug("Call leaveChatRoom",j),this.logOut?Promise.reject({type:c.E.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom(j,"leave"))}var re=S;function q(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(isNaN(j.pageNum)||j.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(j.pageSize)||j.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e={pagenum:j.pageNum,pagesize:j.pageSize},De=this.context,ve=De.orgName,ze=De.appName,ot=De.accessToken,ut={url:this.apiUrl+"/"+ve+"/"+ze+"/chatrooms/"+j.chatRoomId+"/users",dataType:"json",type:"GET",data:_e,headers:{Authorization:"Bearer "+ot,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call listChatRoomMembers",j),l.hj.call(this,ut,T.fI.LIST_CHATROOM_MEMBERS)}var X=q;function Q(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.chatRoomId,ut={url:this.apiUrl+"/"+De+"/"+ve+"/chatrooms/"+ot+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call getChatRoomAdmin",j),l.hj.call(this,ut,T.fI.GET_CHATROOM_ADMIN)}function ee(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.username!="string"||j.username==="")throw Error('Invalid parameter: "username"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={newadmin:j.username},xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/admin?resource=").concat(ot.clientResource),type:"POST",dataType:"json",data:JSON.stringify(St),headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call setChatRoomAdmin",j),l.hj.call(this,xt,T.fI.SET_CHATROOM_ADMIN)}function se(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.username!="string"||j.username==="")throw Error('Invalid parameter: "username"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St=j.username,xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/admin/").concat(St,"?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call removeChatRoomAdmin",j),l.hj.call(this,xt,T.fI.REMOVE_CHATROOM_ADMIN)}function Oe(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "groupId"');if(typeof j.username!="string"||j.username==="")throw Error('Invalid parameter: "username"');if(typeof j.muteDuration!="number")throw Error('Invalid parameter: "muteDuration"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={usernames:[j.username],mute_duration:j.muteDuration},xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/mute?resource=").concat(ot.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},data:JSON.stringify(St),success:j.success,error:j.error};return y.kg.debug("Call muteChatRoomMember",j),l.hj.call(this,xt,T.fI.MUTE_CHATROOM_MEMBER)}function xe(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.username!="string"||j.username==="")throw Error('Invalid parameter: "username"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St=j.username,xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/mute/").concat(St,"?resource=").concat(ot.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call unmuteChatRoomMember",j),l.hj.call(this,xt,T.fI.REMOVE_MUTE_CHATROOM_MEMBER)}var Ne=xe;function qe(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.chatRoomId,ut={url:this.apiUrl+"/"+De+"/"+ve+"/chatrooms/"+ot+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call getChatRoomMutelist",j),l.hj.call(this,ut,T.fI.GET_MUTE_CHATROOM_MEMBERS)}var Et=qe,et=qe;function st(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.username!="string"||j.username==="")throw Error('Invalid parameter: "username"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St=j.username,xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/blocks/users/").concat(St,"?resource=").concat(ot.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call blockChatRoomMember",j),l.hj.call(this,xt,T.fI.SET_CHATROOM_MEMBER_TO_BLACK)}var vt=st;function It(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(j.usernames))throw Error('Invalid parameter: "usernames"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={usernames:j.usernames},xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/blocks/users?resource=").concat(ot.clientResource),data:JSON.stringify(St),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Chat blockChatRoomMembers:",xt),l.hj.call(this,xt,T.fI.MULTI_SET_CHATROOM_MEMBER_TO_BLACK)}var wt=It;function Ht(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.username!="string"||j.username==="")throw Error('Invalid parameter: "username"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St=j.username,xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/blocks/users/").concat(St,"?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call unblockChatRoomMember",j),l.hj.call(this,xt,T.fI.REMOVE_CHATROOM_MEMBER_BLACK)}var ue=Ht;function Se(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(j.usernames))throw Error('Invalid parameter: "usernames"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St=j.usernames.join(","),xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/blocks/users/").concat(St,"?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call unblockChatRoomMembers",j),l.hj.call(this,xt,T.fI.MULTI_REMOVE_CHATROOM_MEMBER_BLACK)}var Ue=Se;function ct(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.chatRoomId,ut={url:this.apiUrl+"/"+De+"/"+ve+"/chatrooms/"+ot+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call getChatRoomBlocklist",j),l.hj.call(this,ut,T.fI.GET_CHATROOM_BLOCK_MEMBERS)}var Xe=ct,bt=ct;function _t(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/ban?resource=").concat(ot.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call disableSendChatRoomMsg",j),l.hj.call(this,St,T.fI.DISABLED_CHATROOM_SEND_MSG)}function Lt(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/ban?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call enableSendChatRoomMsg",j),l.hj.call(this,St,T.fI.ENABLE_CHATROOM_SEND_MSG)}function Ae(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(j.users))throw Error('Invalid parameter: "users"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={usernames:j.users},xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/white/users?resource=").concat(ot.clientResource),type:"POST",data:JSON.stringify(St),dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call addUsersToChatRoomWhitelist",j),l.hj.call(this,xt,T.fI.ADD_USERS_TO_CHATROOM)}var Re=Ae;function Me(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.userName!="string"||j.userName==="")throw Error('Invalid parameter: "userName"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.chatRoomId,St={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/white/users/").concat(j.userName,"?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call removeChatRoomAllowlistMember",j),l.hj.call(this,St,T.fI.REMOVE_CHATROOM_WHITE_USERS)}var lt=Me,nt=Me;function Ye(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.chatRoomId,ut={url:this.apiUrl+"/"+De+"/"+ve+"/chatrooms/"+ot+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call getChatRoomAllowlist",j),l.hj.call(this,ut,T.fI.GET_CHATROOM_WHITE_USERS)}var Fe=Ye;function Ve(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof j.userName!="string"||j.userName==="")throw Error('Invalid parameter: "userName"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.chatRoomId,ut={url:this.apiUrl+"/"+De+"/"+ve+"/chatrooms/"+ot+"/white/users/"+j.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call isInChatRoomAllowlist",j),l.hj.call(this,ut,T.fI.CHECK_CHATROOM_WHITE_USER)}var $e=Ve;function ke(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.userId,ut={url:this.apiUrl+"/"+De+"/"+ve+"/sdk/chatrooms/"+j.chatRoomId+"/mute/"+ot,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+ze}};return y.kg.debug("Call isInChatRoomMutelist",j),l.hj.call(this,ut).then(function(St){return{type:St.type,data:St.data}})}function Je(j){if(typeof j.roomId!="string"||j.roomId==="")throw Error('Invalid parameter: "roomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.roomId,ut={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ot,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call fetchChatRoomAnnouncement",j),l.hj.call(this,ut,T.fI.GET_CHATROOM_ANN)}function yt(j){if(typeof j.roomId!="string"||j.roomId==="")throw Error('Invalid parameter: "roomId"');if(typeof j.announcement!="string")throw Error('Invalid parameter: "announcement"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.roomId,St={announcement:j.announcement},xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/announcement?resource=").concat(ot.clientResource),type:"POST",dataType:"json",data:JSON.stringify(St),headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call updateChatRoomAnnouncement:",j),l.hj.call(this,xt,T.fI.UPDATE_CHATROOM_ANN)}function Ct(j){var Y;if(typeof j.roomId!="string"||j.roomId==="")throw Error('Invalid parameter: "roomId"');if(I(j.file)!=="object")throw Error('Invalid parameter: "file"');var _e=v.XZ.call(this).error;if(_e)return(Y=j.onFileUploadError)===null||Y===void 0?void 0:Y.call(j,_e);var De=this.context,ve=De.orgName,ze=De.appName,ot=De.accessToken,ut=De.jid,St=j.roomId;l.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(ve,"/").concat(ze,"/chatrooms/").concat(St,"/share_files?resource=").concat(ut.clientResource),onFileUploadProgress:j.onFileUploadProgress,onFileUploadComplete:j.onFileUploadComplete,onFileUploadError:j.onFileUploadError,onFileUploadCanceled:j.onFileUploadCanceled,accessToken:ot,apiUrl:this.apiUrl,file:j.file,appKey:this.context.appKey},T.fI.UPLOAD_CHATROOM_FILE),y.kg.debug("Call uploadChatRoomSharedFile",j)}function mt(j){if(typeof j.roomId!="string"||j.roomId==="")throw Error('Invalid parameter: "roomId"');if(typeof j.fileId!="string"||j.fileId==="")throw Error('Invalid parameter: "fileId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.jid,ut=j.roomId,St=j.fileId,xt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ut,"/share_files/").concat(St,"?resource=").concat(ot.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"},success:j.success,error:j.error};return y.kg.debug("Call deleteChatRoomSharedFile",j),l.hj.call(this,xt,T.fI.DELETE_CHATROOM_FILE)}function pt(j){if(typeof j.roomId!="string"||j.roomId==="")throw Error('Invalid parameter: "roomId"');var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=j.roomId,ut={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/chatrooms/").concat(ot,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json",accept:"application/json"},success:j.success,error:j.error};return y.kg.debug("Call fetchChatRoomSharedFileList",j),l.hj.call(this,ut,T.fI.GET_CHATROOM_FILES)}var Mt=pt;function Xt(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+j.chatRoomId);if(j.attributeKeys&&!Array.isArray(j.attributeKeys))throw Error('"Invalid parameter attributeKeys": '+j.attributeKeys);var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=(_e.jid,j.chatRoomId),ut={keys:j.attributeKeys},St={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/metadata/chatroom/").concat(ot),type:"POST",dataType:"json",data:JSON.stringify(ut),headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"}};return y.kg.debug("Call getChatRoomAttributes:",j),l.hj.call(this,St,T.fI.GET_CHATROOM_ATTR).then(function(xt){return{data:xt.data,type:xt.type}})}function jt(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+j.chatRoomId);if(I(j.attributes)!=="object")throw Error("Invalid parameter attributes: "+j.attributes);var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.userId,ut=j.chatRoomId,St=j.attributes,xt=j.autoDelete,Bt=xt===void 0||xt,Zt=j.isForced?"/forced":"",fe={metaData:St,autoDelete:Bt?"DELETE":"NO_DELETE"},z={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/metadata/chatroom/").concat(ut,"/user/").concat(ot)+Zt,type:"PUT",dataType:"json",data:JSON.stringify(fe),headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"}};return y.kg.debug("Call setChatRoomAttributes:",j),l.hj.call(this,z,T.fI.SET_CHATROOM_ATTR).then(function(te){return(0,v._W)(te)})}function zt(j){var Y;if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+j.chatRoomId);if(typeof j.attributeKey!="string"||j.attributeKey==="")throw Error("Invalid parameter attributeKey: "+j.attributeKey);if(typeof j.attributeValue!="string"||j.attributeValue==="")throw Error("Invalid parameter attributeValue: "+j.attributeValue);var _e=v.XZ.call(this).error;if(_e)return Promise.reject(_e);var De=this.context,ve=De.orgName,ze=De.appName,ot=De.accessToken,ut=De.userId,St=j.chatRoomId,xt=j.attributeKey,Bt=j.attributeValue,Zt=j.autoDelete,fe=Zt===void 0||Zt,z=j.isForced?"/forced":"",te={metaData:(Y={},Y[xt]=Bt,Y),autoDelete:fe?"DELETE":"NO_DELETE"},ye={url:"".concat(this.apiUrl,"/").concat(ve,"/").concat(ze,"/metadata/chatroom/").concat(St,"/user/").concat(ut)+z,type:"PUT",dataType:"json",data:JSON.stringify(te),headers:{Authorization:"Bearer "+ot,"Content-Type":"application/json"}};return y.kg.debug("Call setChatRoomAttribute:",j),l.hj.call(this,ye,T.fI.SET_CHATROOM_ATTR).then(function(oe){var be=(0,v.H7)(oe);if(be)throw be})}function tr(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+j.chatRoomId);if(!Array.isArray(j.attributeKeys))throw Error('"Invalid parameter attributes": '+j.attributeKeys);var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.userId,ut=j.chatRoomId,St=j.attributeKeys,xt=j.isForced?"/forced":"",Bt={keys:St},Zt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/metadata/chatroom/").concat(ut,"/user/").concat(ot)+xt,type:"DELETE",dataType:"json",data:JSON.stringify(Bt),headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"}};return y.kg.debug("Call removeChatRoomAttributes:",j),l.hj.call(this,Zt,T.fI.DELETE_CHATROOM_ATTR).then(function(fe){return(0,v._W)(fe)})}function Ke(j){if(typeof j.chatRoomId!="string"||j.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+j.chatRoomId);if(typeof j.attributeKey!="string"||j.attributeKey==="")throw Error('"Invalid parameter attributeKey": '+j.attributeKey);var Y=v.XZ.call(this).error;if(Y)return Promise.reject(Y);var _e=this.context,De=_e.orgName,ve=_e.appName,ze=_e.accessToken,ot=_e.userId,ut=j.chatRoomId,St=j.attributeKey,xt=j.isForced?"/forced":"",Bt={keys:[St]},Zt={url:"".concat(this.apiUrl,"/").concat(De,"/").concat(ve,"/metadata/chatroom/").concat(ut,"/user/").concat(ot)+xt,type:"DELETE",dataType:"json",data:JSON.stringify(Bt),headers:{Authorization:"Bearer "+ze,"Content-Type":"application/json"}};return y.kg.debug("Call removeChatRoomAttribute:",j),l.hj.call(this,Zt,T.fI.DELETE_CHATROOM_ATTR).then(function(fe){var z=(0,v.H7)(fe);if(z)throw z})}function Ot(j){var Y=this,_e=j||{},De=_e.pageNum,ve=_e.pageSize;if(isNaN(De)||De<=0)throw Error("Invalid parameter pageNum:".concat(De));if(isNaN(ve)||ve<=0)throw Error("Invalid parameter pageSize:".concat(ve));var ze=v.XZ.call(this).error;if(ze)return Promise.reject(ze);var ot={pagenum:De,pagesize:ve,detail:!0},ut=this.context,St=ut.orgName,xt=ut.appName,Bt=ut.accessToken,Zt={url:"".concat(this.apiUrl,"/").concat(St,"/").concat(xt,"/users/").concat(this.user,"/joined_chatrooms"),dataType:"json",type:"GET",data:ot,headers:{Authorization:"Bearer "+Bt,"Content-Type":"application/json"}};return y.kg.debug("Call getJoinedChatRooms",j),l.hj.call(this,Zt,T.fI.GET_USER_JOINED_CHATROOM).then(function(fe){var z=(fe.data||[]).map(function(te){var ye=te.id,oe=te.title,be=te.owner,Pe=te.created,ie=te.description,at=te.max_users;return{id:ye,name:oe,owner:be.split("".concat(Y.appKey,"_"))[1],created:Pe,description:ie,maxusers:at}});return{type:fe.type,data:z}})}},4363:function(a,m,n){n.d(m,{U:function(){return T},w:function(){return I}}),n(9601),n(2772),n(1249);var c=n(7360),l=n(8161),v=n(4024),y=function(){return y=Object.assign||function(g){for(var P,M=1,U=arguments.length;M<U;M++)for(var x in P=arguments[M])Object.prototype.hasOwnProperty.call(P,x)&&(g[x]=P[x]);return g},y.apply(this,arguments)},T={chat:"singleChat",chatroom:"chatRoom",groupchat:"groupChat",singleChat:"singleChat",chatRoom:"chatRoom",groupChat:"groupChat"};function I(g,P){var M,U,x,H=P||{},L=H.formatCustomExts,W=L===void 0||L,F=H.formatChatType,w=F!==void 0&&F,G=g.id,S=g.payload,re=g.timestamp,q=g.to,X=S.bodies&&S.bodies.length>0?S.bodies[0]:{},Q={},ee={},se=S.type?S.type:q.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";se=se==="chat"?"singleChat":se,w&&S.type&&(se=T[S.type]);var Oe="";switch(X.type){case"txt":if(Object.prototype.hasOwnProperty.call(X,"subType")&&X.subType==="sub_combine")Oe=l.t.call(this,{remotePath:X==null?void 0:X.url,secret:X==null?void 0:X.secret}),Q={id:G,type:"combine",chatType:se,to:S.to,from:S.from,ext:S.ext,time:re,title:X.title||"",summary:X.summary||"",url:Oe||"",secret:X.secret||"",file_length:X.file_length||0,filename:X.filename||"",compatibleText:X.msg,combineLevel:X.combineLevel||0};else{var xe=(M=S==null?void 0:S.meta)===null||M===void 0?void 0:M.edit_msg;if(Q={id:G,type:"txt",chatType:se,msg:X.msg||"",to:S.to||"",from:S.from,time:re,ext:S.ext},xe){var Ne=xe.edit_time,qe=xe.operator,Et=xe.count;Q.modifiedInfo={operationTime:Ne,operatorId:qe,operationCount:Et}}}break;case"img":Oe=this.useOwnUploadFun?X==null?void 0:X.url:l.t.call(this,{remotePath:X==null?void 0:X.url,secret:X==null?void 0:X.secret}),Q={id:G,type:"img",chatType:se,to:S.to,from:S.from,time:re,ext:S.ext,width:((U=X.size)===null||U===void 0?void 0:U.width)||0,height:((x=X.size)===null||x===void 0?void 0:x.height)||0,thumb:this.useOwnUploadFun?"":"".concat(Oe,"&thumbnail=true"),thumb_secret:X.secret,secret:X.secret||"",url:Oe||"",file_length:X.file_length||0,file:{}};break;case"video":Oe=this.useOwnUploadFun?X==null?void 0:X.url:l.t.call(this,{remotePath:X==null?void 0:X.url,secret:X==null?void 0:X.secret}),Q={id:G,type:"video",chatType:se,from:S.from,to:S.to,thumb:v.P6.formatAttachUrl.call(this,X.thumb),thumb_secret:X.thumb_secret||"",url:Oe||"",secret:X.secret||"",filename:X.filename,length:X.length||0,file:{},file_length:X.file_length||0,filetype:S.ext.file_type||"",ext:S.ext,time:re};break;case"loc":Q={id:G,type:"loc",chatType:se,from:S.from,to:S.to,buildingName:X.buildingName||"",addr:X.addr,lat:X.lat,lng:X.lng,ext:S.ext,time:re};break;case"audio":Oe=this.useOwnUploadFun?X==null?void 0:X.url:l.t.call(this,{remotePath:X==null?void 0:X.url,secret:X==null?void 0:X.secret}),Q={id:G,type:"audio",chatType:se,from:S.from,to:S.to,secret:X.secret||"",ext:S.ext,time:re,url:Oe||"",file:{},filename:X.filename,length:X.length||0,file_length:X.file_length||0,filetype:S.ext.file_type||""};break;case"file":Oe=this.useOwnUploadFun?X==null?void 0:X.url:l.t.call(this,{remotePath:X==null?void 0:X.url,secret:X==null?void 0:X.secret}),Q={id:G,type:"file",chatType:se,from:S.from,to:S.to,ext:S.ext,time:re,url:Oe||"",secret:X.secret||"",file:{},filename:X.filename||"",file_length:X.file_length||0,filetype:S.ext.file_type||""};break;case"cmd":Q={id:G,type:"cmd",chatType:se,from:S.from,to:S.to,ext:S.ext,time:re,action:X.action||""};break;case"custom":var et=X.customExts||{};W&&X.customExts&&(et={},X.customExts.map(function(vt){et=y(y({},et),vt)})),Q={id:G,type:"custom",chatType:se,from:S.from,to:S.to,ext:S.ext,time:re,customEvent:X.customEvent||"",customExts:et};break;case"combine":Oe=l.t.call(this,{remotePath:X==null?void 0:X.url,secret:X==null?void 0:X.secret}),Q={id:G,type:"combine",chatType:se,msg:X.msg||"",to:S.to||"",from:S.from,time:re,ext:S.ext,title:X.title||"",summary:X.summary||"",url:Oe||"",compatibleText:X.text,combineLevel:X.combineLevel||0,secret:X.secret||"",filename:X.filename||"",file_length:X.file_length||0};break;default:c.kg.error("unexpected message: ".concat(g))}if(S.msgConfig&&(ee.msgConfig=S.msgConfig),S==null?void 0:S.meta){var st=S.meta;st.thread&&(ee.chatThread={messageId:st.thread.msg_parent_id,parentId:st.thread.muc_parent_id,chatThreadName:st.thread.thread_name}),st.reaction&&(ee.reactions=st.reaction),st.translations&&(ee.translations=st.translations)}return y(y({},Q),ee)}},2856:function(a,m,n){n.r(m),n.d(m,{acceptGroupInvite:function(){return ct},acceptGroupJoinRequest:function(){return Ht},addUsersToGroupAllowlist:function(){return Y},addUsersToGroupWhitelist:function(){return j},agreeInviteIntoGroup:function(){return Ue},agreeJoinGroup:function(){return wt},blockGroup:function(){return U},blockGroupMember:function(){return Je},blockGroupMembers:function(){return Ct},blockGroupMessages:function(){return x},changeGroupOwner:function(){return G},changeOwner:function(){return w},createGroup:function(){return M},createGroupNew:function(){return P},deleteGroupSharedFile:function(){return ye},destroyGroup:function(){return qe},disableSendGroupMsg:function(){return Ke},dissolveGroup:function(){return Ne},downloadGroupSharedFile:function(){return Pe},enableSendGroupMsg:function(){return Ot},fetchGroupAnnouncement:function(){return fe},fetchGroupSharedFileList:function(){return oe},getGroup:function(){return W},getGroupAdmin:function(){return Q},getGroupAllowlist:function(){return ot},getGroupBlacklist:function(){return zt},getGroupBlacklistNew:function(){return jt},getGroupBlocklist:function(){return tr},getGroupInfo:function(){return S},getGroupMemberAttributes:function(){return at},getGroupMembersAttributes:function(){return we},getGroupMsgReadUser:function(){return Zt},getGroupMuteList:function(){return Ve},getGroupMutelist:function(){return $e},getGroupSharedFilelist:function(){return be},getGroupWhitelist:function(){return ze},getJoinedGroups:function(){return F},getMuted:function(){return Fe},getPublicGroups:function(){return L},groupBlockMulti:function(){return yt},groupBlockSingle:function(){return ke},inviteToGroup:function(){return st},inviteUsersToGroup:function(){return vt},isGroupWhiteUser:function(){return ut},isInGroupAllowlist:function(){return xt},isInGroupMutelist:function(){return Bt},isInGroupWhiteList:function(){return St},joinGroup:function(){return It},leaveGroup:function(){return et},listGroupMember:function(){return q},listGroupMembers:function(){return X},listGroups:function(){return H},modifyGroup:function(){return re},mute:function(){return Me},muteGroupMember:function(){return lt},quitGroup:function(){return Et},rejectGroupInvite:function(){return bt},rejectGroupJoinRequest:function(){return Se},rejectInviteIntoGroup:function(){return Xe},rejectJoinGroup:function(){return ue},removeAdmin:function(){return Oe},removeGroupAdmin:function(){return xe},removeGroupAllowlistMember:function(){return ve},removeGroupBlockMulti:function(){return Mt},removeGroupBlockSingle:function(){return mt},removeGroupMember:function(){return Lt},removeGroupMembers:function(){return Re},removeGroupWhitelistMember:function(){return De},removeMultiGroupMember:function(){return Ae},removeMute:function(){return nt},removeSingleGroupMember:function(){return _t},rmUsersFromGroupWhitelist:function(){return _e},setAdmin:function(){return ee},setGroupAdmin:function(){return se},setGroupMemberAttributes:function(){return ie},unblockGroupMember:function(){return pt},unblockGroupMembers:function(){return Xt},unmuteGroupMember:function(){return Ye},updateGroupAnnouncement:function(){return z},uploadGroupSharedFile:function(){return te}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2222),n(6699),n(2023),n(9554),n(4747),n(8309),n(9753),n(9600);var c=n(4024),l=n(3246),v=n(7360),y=n(1595);function T(V){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},T(V)}var I=function(V,Le,Ce,rt){return new(Ce||(Ce=Promise))(function(ge,Be){function He(Tt){try{ht(rt.next(Tt))}catch(Yt){Be(Yt)}}function Ie(Tt){try{ht(rt.throw(Tt))}catch(Yt){Be(Yt)}}function ht(Tt){var Yt;Tt.done?ge(Tt.value):(Yt=Tt.value,Yt instanceof Ce?Yt:new Ce(function(dt){dt(Yt)})).then(He,Ie)}ht((rt=rt.apply(V,Le||[])).next())})},g=function(V,Le){var Ce,rt,ge,Be,He={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return Be={next:Ie(0),throw:Ie(1),return:Ie(2)},typeof Symbol=="function"&&(Be[Symbol.iterator]=function(){return this}),Be;function Ie(ht){return function(Tt){return function(Yt){if(Ce)throw new TypeError("Generator is already executing.");for(;He;)try{if(Ce=1,rt&&(ge=2&Yt[0]?rt.return:Yt[0]?rt.throw||((ge=rt.return)&&ge.call(rt),0):rt.next)&&!(ge=ge.call(rt,Yt[1])).done)return ge;switch(rt=0,ge&&(Yt=[2&Yt[0],ge.value]),Yt[0]){case 0:case 1:ge=Yt;break;case 4:return He.label++,{value:Yt[1],done:!1};case 5:He.label++,rt=Yt[1],Yt=[0];continue;case 7:Yt=He.ops.pop(),He.trys.pop();continue;default:if(!((ge=(ge=He.trys).length>0&&ge[ge.length-1])||Yt[0]!==6&&Yt[0]!==2)){He=0;continue}if(Yt[0]===3&&(!ge||Yt[1]>ge[0]&&Yt[1]<ge[3])){He.label=Yt[1];break}if(Yt[0]===6&&He.label<ge[1]){He.label=ge[1],ge=Yt;break}if(ge&&He.label<ge[2]){He.label=ge[2],He.ops.push(Yt);break}ge[2]&&He.ops.pop(),He.trys.pop();continue}Yt=Le.call(V,He)}catch(dt){Yt=[6,dt],rt=0}finally{Ce=ge=0}if(5&Yt[0])throw Yt[1];return{value:Yt[0]?Yt[1]:void 0,done:!0}}([ht,Tt])}}};function P(V){if(!V||!V.data)throw Error("Invalid parameter");var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups?resource=").concat(He.clientResource),dataType:"json",type:"POST",data:JSON.stringify({owner:this.user,groupname:V.data.groupname,desc:V.data.desc,members:V.data.members,public:V.data.public,approval:V.data.approval,allowinvites:V.data.allowinvites,invite_need_confirm:V.data.inviteNeedConfirm,maxusers:V.data.maxusers,custom:V.data.ext}),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:function(ht){V.success&&V.success(ht)},error:V.error};return v.kg.debug("Call createGroup:",V),c.hj.call(this,Ie,y.fI.CREATE_GROUP)}var M=P;function U(V){var Le;if(typeof V.groupId!="string"||V.groupId==="")throw Error("Invalid parameter");var Ce=l.XZ.call(this).error;if(Ce)return Promise.reject(Ce);var rt=this.context,ge=rt.orgName,Be=rt.appName,He=rt.accessToken,Ie=rt.jid,ht={entities:[(Le={},Le["notification_ignore_"+V.groupId]=!0,Le)]},Tt={type:"PUT",url:"".concat(this.apiUrl,"/").concat(ge,"/").concat(Be,"/users/").concat(this.user,"?resource=").concat(Ie.clientResource),data:JSON.stringify(ht),dataType:"json",headers:{Authorization:"Bearer "+He,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call blockGroupMessages",V),c.hj.call(this,Tt,y.fI.BLOCK_GROUP)}var x=U;function H(V){if(typeof V.limit!="number")throw Error("Invalid parameter");var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He={limit:V.limit,cursor:V.cursor};V.cursor||delete He.cursor;var Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/publicchatgroups",type:"GET",dataType:"json",data:He,headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call listGroups",V),c.hj.call(this,Ie,y.fI.LIST_GROUP)}var L=H;function W(V){var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He={url:this.apiUrl+"/"+rt+"/"+ge+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V&&(V==null?void 0:V.success),error:V&&(V==null?void 0:V.error)};return v.kg.debug("Call getJoinedGroups",V),c.hj.call(this,He,y.fI.GET_USER_GROUP)}function F(V){if(typeof V.pageNum!="number"||typeof V.pageSize!="number")throw Error('Invalid parameter: "pageNum or pageSize"');if(V.pageNum<0||V.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.needAffiliations||V.needRole?"/chatgroups/user/".concat(this.user,"?pagenum=").concat(V.pageNum,"&pagesize=").concat(V.pageSize,"&needAffiliations=").concat(V.needAffiliations,"&needRole=").concat(V.needRole):"/users/".concat(this.user,"/joined_chatgroups?pagenum=").concat(V.pageNum,"&pagesize=").concat(V.pageSize),Ie={url:this.apiUrl+"/"+rt+"/"+ge+He,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V&&(V==null?void 0:V.success),error:V&&(V==null?void 0:V.error)};return v.kg.debug("Call getGroup",V),c.hj.call(this,Ie,y.fI.GET_USER_GROUP).then(function(ht){var Tt=ht.uri,Yt=ht.entities,dt=[];return Tt.includes("joined_chatgroups")||(Yt.forEach(function(Qe){var kt={affiliationsCount:Qe.affiliations_count,groupName:Qe.name,groupId:Qe.groupId,role:Qe.permission,disabled:Qe.disabled,approval:Qe.membersonly,allowInvites:Qe.allowinvites,description:Qe.description,maxUsers:Qe.maxusers,public:Qe.public};dt.push(kt)}),ht.entities=dt),ht})}function w(V){if(typeof V.groupId!="string"||typeof V.newOwner!="string")throw Error("Invalid parameter");var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce={newowner:V.newOwner},rt=this.context,ge=rt.orgName,Be=rt.appName,He=rt.accessToken,Ie=rt.jid,ht={url:"".concat(this.apiUrl,"/").concat(ge,"/").concat(Be,"/chatgroups/").concat(V.groupId,"?resource=").concat(Ie.clientResource),type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+He,"Content-Type":"application/json"},data:JSON.stringify(Ce),success:V.success,error:V.error};return v.kg.debug("Call changeOwner",V),c.hj.call(this,ht,y.fI.CHANGE_OWNER)}var G=w;function S(V){if(typeof V.groupId!="string"&&!Array.isArray(V.groupId))throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+V.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call getGroupInfo",V),c.hj.call(this,He,y.fI.GET_GROUP_INFO)}function re(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error("Invalid parameter");var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={groupname:V.groupName,description:V.description,custom:V.ext},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"?resource=").concat(He.clientResource),type:"PUT",data:JSON.stringify(ht),dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call modifyGroup",V),c.hj.call(this,Tt,y.fI.MODIFY_GROUP)}function q(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(isNaN(V.pageNum)||V.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(V.pageSize)||V.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce={pagenum:V.pageNum,pagesize:V.pageSize},rt=this.context,ge=rt.orgName,Be=rt.appName,He=rt.accessToken,Ie={url:this.apiUrl+"/"+ge+"/"+Be+"/chatgroups/"+V.groupId+"/users",dataType:"json",type:"GET",data:Ce,headers:{Authorization:"Bearer "+He,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call listGroupMember",V),c.hj.call(this,Ie,y.fI.LIST_GROUP_MEMBER)}var X=q;function Q(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.groupId,Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+He+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call getGroupAdmin",V),c.hj.call(this,Ie,y.fI.GET_GROUP_ADMIN)}function ee(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={newadmin:V.username},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/admin?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(ht),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call setGroupAdmin",V),c.hj.call(this,Tt,y.fI.SET_GROUP_ADMIN)}var se=ee;function Oe(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.username,Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/admin/").concat(ht,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call removeAdmin",V),c.hj.call(this,Tt,y.fI.REMOVE_GROUP_ADMIN)}var xe=Oe;function Ne(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"?version=v3&resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call destroyGroup",V),c.hj.call(this,ht,y.fI.DISSOLVE_GROUP)}var qe=Ne;function Et(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/quit?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call quitGroup",V),c.hj.call(this,ht,y.fI.QUIT_GROUP)}var et=Et;function st(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.users))throw Error('Invalid parameter: "users"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=V.groupId,rt={usernames:V.users},ge=this.context,Be=ge.orgName,He=ge.appName,Ie=ge.accessToken,ht=ge.jid,Tt={url:"".concat(this.apiUrl,"/").concat(Be,"/").concat(He,"/chatgroups/").concat(Ce,"/invite?resource=").concat(ht.clientResource),type:"POST",data:JSON.stringify(rt),dataType:"json",headers:{Authorization:"Bearer "+Ie,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call inviteUsersToGroup",V),c.hj.call(this,Tt,y.fI.INVITE_TO_GROUP)}var vt=st;function It(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(V.groupId,"/apply?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify({message:V.message||""}),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call joinGroup",V),c.hj.call(this,Ie,y.fI.JOIN_GROUP)}function wt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.applicant!="string"||V.applicant==="")throw Error('Invalid parameter: "applicant"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={applicant:V.applicant,verifyResult:!0,reason:"no clue"},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/apply_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(ht),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call agreeJoinGroup",V),c.hj.call(this,Tt,y.fI.AGREE_JOIN_GROUP)}var Ht=wt;function ue(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.applicant!="string"||V.applicant==="")throw Error('Invalid parameter: "applicant"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={applicant:V.applicant,verifyResult:!1,reason:V.reason||""},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/apply_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(ht),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call rejectGroupJoinRequest",V),c.hj.call(this,Tt,y.fI.REJECT_JOIN_GROUP)}var Se=ue;function Ue(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.invitee!="string"||V.invitee==="")throw Error('Invalid parameter: "invitee"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={invitee:V.invitee,verifyResult:!0},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/invite_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(ht),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call acceptGroupInvite",V),c.hj.call(this,Tt,y.fI.AGREE_INVITE_GROUP)}var ct=Ue;function Xe(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.invitee!="string"||V.invitee==="")throw Error('Invalid parameter: "invitee"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={invitee:V.invitee,verifyResult:!1},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/invite_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(ht),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call rejectGroupInvite",V),c.hj.call(this,Tt,y.fI.REJECT_INVITE_GROUP)}var bt=Xe;function _t(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=V.groupId,rt=V.username,ge=this.context,Be=ge.orgName,He=ge.appName,Ie=ge.accessToken,ht=ge.jid,Tt={url:"".concat(this.apiUrl,"/").concat(Be,"/").concat(He,"/chatgroups/").concat(Ce,"/users/").concat(rt,"?resource=").concat(ht.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Ie,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call removeGroupMember",V),c.hj.call(this,Tt,y.fI.REMOVE_GROUP_MEMBER)}var Lt=_t;function Ae(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.users))throw Error('Invalid parameter: "users"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.users.join(","),Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/users/").concat(ht,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call removeGroupMembers",V),c.hj.call(this,Tt,y.fI.MULTI_REMOVE_GROUP_MEMBER)}var Re=Ae;function Me(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(V.username)||typeof V.username=="string"&&V.username!==""))throw Error('Invalid parameter: "username"');if(typeof V.muteDuration!="number")throw Error('Invalid parameter: "muteDuration"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={usernames:typeof V.username=="string"?[V.username]:V.username,mute_duration:V.muteDuration},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/mute?resource=").concat(He.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},data:JSON.stringify(ht),success:V.success,error:V.error};return v.kg.debug("Call muteGroupMember",V),c.hj.call(this,Tt,y.fI.MUTE_GROUP_MEMBER)}var lt=Me;function nt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(V.username)||typeof V.username=="string"&&V.username!==""))throw Error('Invalid parameter: "username"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.username,Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/mute/").concat(ht,"?resource=").concat(He.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call unmuteGroupMember",V),c.hj.call(this,Tt,y.fI.UNMUTE_GROUP_MEMBER)}var Ye=nt;function Fe(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.groupId,Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+He+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call getGroupMuteList",V),c.hj.call(this,Ie,y.fI.GET_GROUP_MUTE_LIST)}var Ve=Fe,$e=Fe;function ke(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.username,Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/blocks/users/").concat(ht,"?resource=").concat(He.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call blockGroupMember",V),c.hj.call(this,Tt,y.fI.BLOCK_GROUP_MEMBER)}var Je=ke;function yt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.usernames))throw Error('Invalid parameter: "usernames"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={usernames:V.usernames},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/blocks/users?resource=").concat(He.clientResource),data:JSON.stringify(ht),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call blockGroupMembers",V),c.hj.call(this,Tt,y.fI.BLOCK_GROUP_MEMBERS)}var Ct=yt;function mt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.username,Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/blocks/users/").concat(ht,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call unblockGroupMember",V),c.hj.call(this,Tt,y.fI.UNBLOCK_GROUP_MEMBER)}var pt=mt;function Mt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.usernames))throw Error('Invalid parameter: "usernames"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.usernames.join(","),Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/blocks/users/").concat(ht,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call unblockGroupMembers",V),c.hj.call(this,Tt,y.fI.UNBLOCK_GROUP_MEMBERS)}var Xt=Mt;function jt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.groupId,Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+He+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call getGroupBlacklist",V),c.hj.call(this,Ie,y.fI.GET_GROUP_BLACK_LIST)}var zt=jt,tr=jt;function Ke(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/ban?resource=").concat(He.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call disableSendGroupMsg",V),c.hj.call(this,ht,y.fI.DISABLED_SEND_GROUP_MSG)}function Ot(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/ban?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call enableSendGroupMsg",V),c.hj.call(this,ht,y.fI.ENABLE_SEND_GROUP_MSG)}function j(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.users))throw Error('Invalid parameter: "users"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={usernames:V.users},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/white/users?resource=").concat(He.clientResource),type:"POST",data:JSON.stringify(ht),dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call addUsersToGroupWhitelist",V),c.hj.call(this,Tt,y.fI.ADD_USERS_TO_GROUP_WHITE)}var Y=j;function _e(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.userName!="string"||V.userName==="")throw Error('Invalid parameter: "userName"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/white/users/").concat(V.userName,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call removeGroupAllowlistMember",V),c.hj.call(this,ht,y.fI.REMOVE_GROUP_WHITE_MEMBER)}var De=_e,ve=_e;function ze(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.groupId,Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+He+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call getGroupAllowlist",V),c.hj.call(this,Ie,y.fI.GET_GROUP_WHITE_LIST)}var ot=ze;function ut(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.userName!="string"||V.userName==="")throw Error('Invalid parameter: "userName"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.groupId,Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+He+"/white/users/"+V.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call isInGroupAllowlist",V),c.hj.call(this,Ie,y.fI.IS_IN_GROUP_WHITE_LIST)}var St=ut,xt=ut;function Bt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.userId,Ie={url:this.apiUrl+"/"+rt+"/"+ge+"/sdk/chatgroups/"+V.groupId+"/mute/"+He,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Be}};return v.kg.debug("Call isInGroupMutelist",V),c.hj.call(this,Ie).then(function(ht){return{type:ht.type,data:ht.data}})}function Zt(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.msgId!="string"||V.msgId==="")throw Error('Invalid parameter: "msgId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He={url:this.apiUrl+"/"+rt+"/"+ge+"/chatgroups/"+V.groupId+"/acks/"+V.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+Be},success:V.success,error:V.error};return v.kg.debug("Call getGroupMsgReadUser",V),c.hj.call(this,He,y.fI.GET_GROUP_MSG_READ_USER)}function fe(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.groupId,Ie={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(He,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call fetchGroupAnnouncement",V),c.hj.call(this,Ie,y.fI.GET_GROUP_ANN)}function z(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.announcement!="string")throw Error('Invalid parameter: "announcement"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht={announcement:V.announcement},Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/announcement?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(ht),headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call updateGroupAnnouncement",V),c.hj.call(this,Tt,y.fI.UPDATE_GROUP_ANN)}function te(V){var Le;if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(T(V.file)!=="object")throw Error('Invalid parameter: "file"');var Ce=l.XZ.call(this).error;if(Ce)return(Le=V.onFileUploadError)===null||Le===void 0?void 0:Le.call(V,Ce);var rt=this.context,ge=rt.orgName,Be=rt.appName,He=rt.accessToken,Ie=rt.jid,ht=V.groupId;c.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(ge,"/").concat(Be,"/chatgroups/").concat(ht,"/share_files?resource=").concat(Ie.clientResource),onFileUploadProgress:V.onFileUploadProgress,onFileUploadComplete:V.onFileUploadComplete,onFileUploadError:V.onFileUploadError,onFileUploadCanceled:V.onFileUploadCanceled,accessToken:He,apiUrl:this.apiUrl,file:V.file,appKey:this.context.appKey},y.fI.UPLOAD_GROUP_FILE),v.kg.debug("Call uploadGroupSharedFile",V)}function ye(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.fileId!="string"||V.fileId==="")throw Error('Invalid parameter: "file"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=Ce.jid,Ie=V.groupId,ht=V.fileId,Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(Ie,"/share_files/").concat(ht,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call deleteGroupSharedFile",V),c.hj.call(this,Tt,y.fI.DELETE_GROUP_FILE)}function oe(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');var Le=l.XZ.call(this).error;if(Le)return Promise.reject(Le);var Ce=this.context,rt=Ce.orgName,ge=Ce.appName,Be=Ce.accessToken,He=V.pageNum||1,Ie=V.pageSize||10,ht=V.groupId,Tt={url:"".concat(this.apiUrl,"/").concat(rt,"/").concat(ge,"/chatgroups/").concat(ht,"/share_files?pagenum=").concat(He,"&pagesize=").concat(Ie),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Be,"Content-Type":"application/json"},success:V.success,error:V.error};return v.kg.debug("Call getGroupSharedFilelist",V),c.hj.call(this,Tt,y.fI.GET_GROUP_FILE_LIST)}var be=oe;function Pe(V){var Le=this.context,Ce=Le.orgName,rt=Le.appName,ge=Le.accessToken,Be=this.apiUrl,He=V.groupId,Ie=V.fileId;c.LR.call(this,{url:"".concat(Be,"/").concat(Ce,"/").concat(rt,"/chatgroups/").concat(He,"/share_files/").concat(Ie),onFileDownloadComplete:V.onFileDownloadComplete,onFileDownloadError:V.onFileDownloadError,accessToken:ge,id:Ie,secret:V.secret},y.fI.DOWN_GROUP_FILE),v.kg.debug("Call downloadGroupSharedFile",V)}function ie(V){return I(this,void 0,void 0,function(){var Le,Ce,rt,ge,Be,He,Ie,ht,Tt,Yt,dt;return g(this,function(Qe){switch(Qe.label){case 0:if(Le=V.groupId,Ce=V.userId,rt=V.memberAttributes,typeof Le!="string"||Le==="")throw Error('Invalid parameter: "groupId"');if(typeof Ce!="string"||Ce==="")throw Error('Invalid parameter: "userId"');if(T(rt)!=="object")throw Error('Invalid parameter: "memberAttributes"');return(ge=l.XZ.call(this).error)?[2,Promise.reject(ge)]:(Be=this.context,He=Be.orgName,Ie=Be.appName,ht=Be.accessToken,Tt=Be.jid,Yt={metaData:rt},dt={url:"".concat(this.apiUrl,"/").concat(He,"/").concat(Ie,"/sdk/metadata/chatgroup/").concat(Le,"/user/").concat(Ce,"?resource=").concat(Tt.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(Yt),headers:{Authorization:"Bearer "+ht,"Content-Type":"application/json"}},v.kg.debug("Call setGroupMemberAttributes",V),[4,c.hj.call(this,dt,y.fI.SET_GROUP_MEMBER_ATTRS)]);case 1:return Qe.sent(),[2]}})})}function at(V){var Le=V.groupId,Ce=V.userId;return we.call(this,{groupId:Le,userIds:[Ce]}).then(function(rt){var ge;return{type:rt.type,data:(ge=rt.data)===null||ge===void 0?void 0:ge[Ce]}})}function we(V){var Le=V.groupId,Ce=V.userIds,rt=V.keys,ge=rt===void 0?[]:rt;if(typeof Le!="string"||Le==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(Ce)||(Ce==null?void 0:Ce.length)<=0)throw Error('Invalid parameter: "userIds"');if(!Array.isArray(ge))throw Error('Invalid parameter: "keys"');var Be=l.XZ.call(this).error;if(Be)return Promise.reject(Be);var He=this.context,Ie=He.orgName,ht=He.appName,Tt=He.accessToken,Yt={targets:Ce,properties:ge},dt={url:"".concat(this.apiUrl,"/").concat(Ie,"/").concat(ht,"/sdk/metadata/chatgroup/").concat(Le,"/get"),type:"POST",dataType:"json",data:JSON.stringify(Yt),headers:{Authorization:"Bearer "+Tt,"Content-Type":"application/json"}};return v.kg.debug("Call getGroupMembersAttributes",V),c.hj.call(this,dt,y.fI.GET_GROUP_MEMBER_ATTR).then(function(Qe){return{type:Qe.type,data:(Qe==null?void 0:Qe.data)||{}}})}},7479:function(a,m,n){n.r(m),n.d(m,{acceptContactInvite:function(){return _t},acceptInvitation:function(){return bt},addContact:function(){return Ue},addConversationMark:function(){return _e},addReaction:function(){return ke},addToBlackList:function(){return Re},addUsersToBlacklist:function(){return Me},addUsersToBlocklist:function(){return lt},declineContactInvite:function(){return Ae},declineInvitation:function(){return Lt},deleteAllMessagesAndConversations:function(){return ot},deleteContact:function(){return Xe},deleteConversation:function(){return Et},deleteReaction:function(){return Je},deleteSession:function(){return qe},fetchHistoryMessages:function(){return Ht},fetchUserInfoById:function(){return vt},getAllContacts:function(){return Ot},getBlacklist:function(){return re},getBlocklist:function(){return q},getContacts:function(){return Q},getContactsWithCursor:function(){return j},getConversationlist:function(){return xe},getHistoryMessages:function(){return Se},getReactionDetail:function(){return mt},getReactionList:function(){return yt},getReactionlist:function(){return Ct},getRoster:function(){return X},getSelfIdsOnOtherPlatform:function(){return ze},getServerConversations:function(){return Xt},getServerConversationsByFilter:function(){return ve},getServerPinnedConversations:function(){return zt},getServerPinnedMessages:function(){return Bt},getSessionList:function(){return Oe},getTokenExpireTimestamp:function(){return wt},modifyMessage:function(){return $e},pinConversation:function(){return tr},pinMessage:function(){return St},recallMessage:function(){return Ve},removeConversationMark:function(){return De},removeFromBlackList:function(){return nt},removeHistoryMessages:function(){return Mt},removeRoster:function(){return ct},removeUserFromBlackList:function(){return Ye},removeUserFromBlocklist:function(){return Fe},reportMessage:function(){return pt},setContactRemark:function(){return Ke},unbindPushToken:function(){return Zt},unpinMessage:function(){return xt},updateCurrentUserNick:function(){return It},updateOwnUserInfo:function(){return et},updateUserInfo:function(){return st},uploadPushToken:function(){return se},uploadToken:function(){return ee}}),n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(9554),n(4747),n(2222),n(7941),n(6699),n(3710),n(9714),n(9600),n(5069),n(561),n(9753),n(8309),n(1249),n(7327);var c=n(3246),l=n(5531),v=n(7252),y=n(4024),T=n(9937),I=n(8161),g=n(4188),P=n.n(g),M=n(7360),U=n(1595),x=n(4363),H=n(7288),L=n(9743),W=n(6801),F=function(){return F=Object.assign||function(fe){for(var z,te=1,ye=arguments.length;te<ye;te++)for(var oe in z=arguments[te])Object.prototype.hasOwnProperty.call(z,oe)&&(fe[oe]=z[oe]);return fe},F.apply(this,arguments)},w=function(fe,z,te,ye){return new(te||(te=Promise))(function(oe,be){function Pe(we){try{at(ye.next(we))}catch(V){be(V)}}function ie(we){try{at(ye.throw(we))}catch(V){be(V)}}function at(we){var V;we.done?oe(we.value):(V=we.value,V instanceof te?V:new te(function(Le){Le(V)})).then(Pe,ie)}at((ye=ye.apply(fe,z||[])).next())})},G=function(fe,z){var te,ye,oe,be,Pe={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return be={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function ie(at){return function(we){return function(V){if(te)throw new TypeError("Generator is already executing.");for(;Pe;)try{if(te=1,ye&&(oe=2&V[0]?ye.return:V[0]?ye.throw||((oe=ye.return)&&oe.call(ye),0):ye.next)&&!(oe=oe.call(ye,V[1])).done)return oe;switch(ye=0,oe&&(V=[2&V[0],oe.value]),V[0]){case 0:case 1:oe=V;break;case 4:return Pe.label++,{value:V[1],done:!1};case 5:Pe.label++,ye=V[1],V=[0];continue;case 7:V=Pe.ops.pop(),Pe.trys.pop();continue;default:if(!((oe=(oe=Pe.trys).length>0&&oe[oe.length-1])||V[0]!==6&&V[0]!==2)){Pe=0;continue}if(V[0]===3&&(!oe||V[1]>oe[0]&&V[1]<oe[3])){Pe.label=V[1];break}if(V[0]===6&&Pe.label<oe[1]){Pe.label=oe[1],oe=V;break}if(oe&&Pe.label<oe[2]){Pe.label=oe[2],Pe.ops.push(V);break}oe[2]&&Pe.ops.pop(),Pe.trys.pop();continue}V=z.call(fe,Pe)}catch(Le){V=[6,Le],ye=0}finally{te=oe=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([at,we])}}},S={singleChat:"chat",chatRoom:"chatroom",groupChat:"groupchat"};function re(fe){var z=c.XZ.call(this).error;if(z)return Promise.reject(z);var te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe={url:this.apiUrl+"/"+ye+"/"+oe+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+be},success:function(ie){ie.data.forEach(function(at){}),typeof(fe==null?void 0:fe.success)=="function"&&fe.success(ie)},error:function(ie){typeof(fe==null?void 0:fe.error)=="function"&&fe.error(ie)}};return M.kg.debug("Call getBlocklist"),y.hj.call(this,Pe,U.fI.GET_BLACK_LIST)}var q=re,X=Q;function Q(fe){var z=this,te=c.XZ.call(this).error;if(te)return Promise.reject(te);var ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie={url:this.apiUrl+"/"+oe+"/"+be+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Pe},success:function(at){var we=[];at.data.forEach(function(V){we.push({name:V,subscription:"both",jid:z.context.jid})}),typeof(fe==null?void 0:fe.success)=="function"&&fe.success(we)},error:function(at){typeof(fe==null?void 0:fe.error)=="function"&&fe.error(at)}};return M.kg.debug("Call getContacts"),y.hj.call(this,ie,U.fI.GET_CONTACTS)}function ee(fe){return M.kg.debug("Call uploadPushToken"),W.r.call(this,fe)}var se=ee;function Oe(fe){var z=c.XZ.call(this).error;if(z)return Promise.reject(z);var te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/users/").concat(this.user,"/user_channels"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"},success:fe&&(fe==null?void 0:fe.success),error:fe&&(fe==null?void 0:fe.error)};return M.kg.debug("Call getSessionList"),y.hj.call(this,Pe,U.fI.GET_SESSION_LIST)}function xe(fe){var z=this,te=c.XZ.call(this).error;if(te)return Promise.reject(te);var ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie=!!(fe&&typeof fe.pageNum=="number"&&typeof fe.pageSize=="number"&&fe.pageNum>0&&fe.pageSize>0),at={url:"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/users/").concat(this.user,"/user_channels").concat(ie?"/page":""),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Pe,"Content-Type":"application/json"},success:fe&&(fe==null?void 0:fe.success),error:fe&&(fe==null?void 0:fe.error)};return ie&&(at.data={pageNum:fe.pageNum,pageSize:fe.pageSize}),M.kg.debug("Call getConversationlist"),y.hj.call(this,at,U.fI.GET_SESSION_LIST).then(function(we){return Ne.call(z,we)})}function Ne(fe){var z=this,te=fe.data.channel_infos;return te==null||te.forEach(function(ye){ye.meta&&JSON.stringify(ye.meta)!=="{}"?(ye.meta.payload=JSON.parse(ye.meta.payload),ye.lastMessage=x.w.call(z,ye.meta,{formatCustomExts:!1})):ye.lastMessage=ye.meta,delete ye.meta}),fe}function qe(fe){if(fe&&typeof fe.channel!="string")throw Error("Invalid parameter channel: ".concat(fe.channel));if(fe&&fe.chatType!=="singleChat"&&fe.chatType!=="groupChat")throw Error("Invalid parameter chatType: ".concat(fe.chatType));if(fe&&typeof fe.deleteRoam!="boolean")throw Error("Invalid parameter deleteRoam: ".concat(fe.deleteRoam));var z=c.XZ.call(this).error;if(z)return Promise.reject(z);var te,ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie=ye.jid;te=fe.chatType==="singleChat"?"chat":"groupChat";var at={url:"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/user/").concat(this.user,"/user_channel?resource=").concat(ie.clientResource),dataType:"json",type:"DELETE",data:JSON.stringify({channel:fe.channel,type:te,delete_roam:fe.deleteRoam}),headers:{Authorization:"Bearer "+Pe,"Content-Type":"application/json"},success:fe.success,error:fe.error};return M.kg.debug("Call deleteSession",fe),y.hj.call(this,at,U.fI.DELETE_SESSION)}var Et=qe;function et(fe,z){var te=c.XZ.call(this).error;if(te)return Promise.reject(te);var ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie=["nickname","avatarurl","mail","phone","gender","sign","birth","ext"],at={},we=y.P6.getEnvInfo();if(we.platform==="wx"||we.platform==="qq")if(typeof fe=="string"&&z!==void 0){if(!ie.includes(fe))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");at[fe]=z}else{if(Object.prototype.toString.call(fe)!=="[object Object]")throw new Error("illegal params");ie.forEach(function(Ce){ie.includes(Ce)&&fe[Ce]!==void 0&&(at[Ce]=fe[Ce])})}else if(typeof fe=="string"){if(!ie.includes(fe))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");at=fe+"="+z}else{if(Object.prototype.toString.call(fe)!=="[object Object]")throw new Error("illegal params");var V=[];ie.forEach(function(Ce){if(ie.includes(Ce)&&fe[Ce]!==void 0){var rt=encodeURIComponent(Ce),ge=encodeURIComponent(fe[Ce]);V.push(rt+"="+ge)}}),at=V.join("&")}var Le={url:"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/metadata/user/").concat(this.user),type:"PUT",data:at,dataType:"json",headers:{Authorization:"Bearer "+Pe,"Content-Type":"application/x-www-form-urlencoded"}};return M.kg.debug("Call updateOwnUserInfo",fe),y.hj.call(this,Le,U.fI.UPDATE_USER_INFO)}var st=et;function vt(fe,z){var te=c.XZ.call(this).error;if(te)return Promise.reject(te);var ye,oe=this.context,be=oe.orgName,Pe=oe.appName,ie=oe.accessToken,at=[];if(typeof fe=="string")at=[fe];else{if(Object.prototype.toString.call(fe)!=="[object Array]")throw new Error("illegal params");at=fe}ye=typeof z=="string"?[z]:z&&Object.prototype.toString.call(z)==="[object Array]"?z:["nickname","avatarurl","mail","phone","gender","sign","birth","ext"];var we={url:"".concat(this.apiUrl,"/").concat(be,"/").concat(Pe,"/metadata/user/get"),type:"POST",data:JSON.stringify({targets:at,properties:ye}),dataType:"json",headers:{Authorization:"Bearer "+ie,"Content-Type":"application/json"}};return M.kg.debug("Call fetchUserInfoById",fe),y.hj.call(this,we,U.fI.GET_USER_INFO)}function It(fe){var z=c.XZ.call(this).error;if(z)return Promise.reject(z);var te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/users/").concat(this.user),type:"PUT",dataType:"json",data:JSON.stringify({nickname:fe}),headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}};return M.kg.debug("Call updateCurrentUserNick",fe),y.hj.call(this,Pe)}function wt(fe){if(typeof fe!="string"||fe==="")throw Error('Invalid parameter: "token"');var z=this.context,te=z.orgName,ye=z.appName,oe={url:"".concat(this.apiUrl,"/").concat(te,"/").concat(ye,"/sdk/users/").concat(this.user,"/token/expires"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+fe,"Content-Type":"application/json"}};return M.kg.debug("Call getTokenExpireTimestamp",fe),y.hj.call(this,oe,U.fI.SDK_INTERNAL)}function Ht(fe){var z=this;return new Promise(function(te,ye){if(!fe.queue)throw Error('Invalid parameter: "specified"');var oe=c.XZ.call(z).error;if(oe)return Promise.reject(oe);(function be(Pe){var ie=this,at=Pe.count||20;ue.call(this,{count:at,isGroup:!!Pe.isGroup,queue:Pe.queue,start:Pe.start,format:Pe.format,success:function(we){if(we.msgs.length>=at||we.is_last){var V=we.msgs.splice(0,at).reverse();Pe.success&&Pe.success(V),te(V)}else be.call(ie,F(F({},Pe),{start:null}))},fail:function(we){ye(we),Pe.fail&&Pe.fail(we)}})}).call(z,fe),M.kg.debug("Call fetchHistoryMessages",fe)})}function ue(fe){var z=this,te=fe.queue,ye=this.mr_cache[te]||(this.mr_cache[te]={msgs:[]}),oe=this.context.userId,be=fe.start||-1,Pe=fe.count||20;if(ye.msgs.length>=Pe||ye.is_last)typeof fe.success=="function"&&fe.success(ye);else{ye&&ye.next_key&&(be=ye.next_key),fe.start&&(be=fe.start);var ie={queue:te+(fe.isGroup?"@conference.easemob.com":"@easemob.com"),start:be,end:-1},at=this.context,we=at.orgName,V=at.appName,Le={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(V,"/users/").concat(oe,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(ie),success:function(Ce){return w(z,void 0,void 0,function(){var rt,ge,Be,He,Ie,ht,Tt=this;return G(this,function(Yt){switch(Yt.label){case 0:if(rt=Ce==null?void 0:Ce.data,!Ce.data.msgs)return typeof fe.success=="function"&&fe.success(ye),ye.is_last=!0,ye.next_key="",[2];ge=rt.msgs,Be=ge.length,ye.is_last=rt.is_last,ye.next_key=rt.next_key,He=function(dt){return w(Tt,void 0,void 0,function(){var Qe,kt,Gt,At,$t;return G(this,function(vr){switch(vr.label){case 0:for(Qe=[],dt=P().atob(dt),kt=0,Gt=dt.length;kt<Gt;++kt)Qe.push(dt.charCodeAt(kt));return At=(At=this.context.root.lookup("easemob.pb.Meta")).decode(Qe),$t={errorCode:0,reason:""},At.ns!==1?[3,2]:[4,I.Z.call(this,At,$t,!0,fe.format)];case 1:return[2,vr.sent()];case 2:return[2]}})})},Ie=0,Yt.label=1;case 1:return Ie<Be?[4,He(ge[Ie].msg)]:[3,4];case 2:(ht=Yt.sent())&&ye.msgs.push(ht),Yt.label=3;case 3:return Ie++,[3,1];case 4:return typeof fe.success=="function"&&fe.success(ye),[2]}})})},error:function(Ce){if(Ce.error&&Ce.error_description){var rt=v.Z.create({type:l.E.WEBIM_CONNCTION_AJAX_ERROR,message:"fetch history messages error",data:Ce});z.onError&&z.onError(rt)}}};y.hj.call(this,Le,U.fI.GET_HISTORY_MSG).catch(function(Ce){typeof fe.fail=="function"&&fe.fail(Ce)})}}function Se(fe){var z=this;return new Promise(function(te,ye){var oe=fe.targetId,be=fe.cursor,Pe=be===void 0?-1:be,ie=fe.pageSize,at=ie===void 0?20:ie,we=fe.chatType,V=fe.searchDirection,Le=fe.searchOptions,Ce=Le===void 0?{}:Le,rt=Ce.msgTypes,ge=rt===void 0?[]:rt,Be=Ce.startTime,He=Be===void 0?null:Be,Ie=Ce.endTime,ht=Ie===void 0?null:Ie,Tt=Ce.from,Yt=Tt===void 0?null:Tt;if(typeof oe!="string"||oe==="")throw Error('"Invalid parameter": "targetId"');if(Yt&&typeof Yt!="string")throw Error('"Invalid parameter": "searchOptions.from"');if(ge&&!Array.isArray(ge))throw Error('"Invalid parameter": "searchOptions.msgTypes"');if(He&&typeof He!="number")throw Error('"Invalid parameter": "searchOptions.startTime"');if(ht&&typeof He!="number")throw Error('"Invalid parameter": "searchOptions.endTime"');var dt=c.XZ.call(z).error;if(dt)return Promise.reject(dt);var Qe=z.context,kt=Qe.orgName,Gt=Qe.appName,At=Qe.userId,$t=fe.chatType==="singleChat"?"@easemob.com":"@conference.easemob.com",vr={queue:"".concat(oe).concat($t),start:Pe,pull_number:at,is_positive:V==="down",msgType:ge.join(",")||"",end:-1,startTime:He,endTime:ht,userId:we==="singleChat"?null:Yt},pr={url:"".concat(z.apiUrl,"/").concat(kt,"/").concat(Gt,"/users/").concat(At,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+z.token,"Content-Type":"application/json"},data:JSON.stringify(vr),success:function(br){return w(z,void 0,void 0,function(){var Pr,xr,Jr,Gr,sn,rn,bn,Un,Fn=this;return G(this,function(Dn){switch(Dn.label){case 0:Pr=br==null?void 0:br.data,xr=Pr.msgs||[],Jr=function(Cn){return w(Fn,void 0,void 0,function(){var On,er,no,Hn,oo;return G(this,function(io){switch(io.label){case 0:for(On=[],Cn=P().atob(Cn),er=0,no=Cn.length;er<no;++er)On.push(Cn.charCodeAt(er));return Hn=(Hn=this.context.root.lookup("easemob.pb.Meta")).decode(On),oo={errorCode:0,reason:""},Hn.ns!==1?[3,2]:[4,I.Z.call(this,Hn,oo,!0,!0)];case 1:return[2,io.sent()];case 2:return[2]}})})},Gr=[],sn=0,Dn.label=1;case 1:return sn<xr.length?[4,Jr(xr[sn].msg)]:[3,4];case 2:(rn=Dn.sent())&&Gr.push(rn),Dn.label=3;case 3:return sn++,[3,1];case 4:return Pr.msgs=Gr,bn={cursor:Pr.next_key,messages:Gr,isLast:Pr.is_last},(Un=fe.success)===null||Un===void 0||Un.call(fe,bn),te(bn),[2]}})})},error:fe.fail};y.hj.call(z,pr).catch(function(br){ye(br)}),M.kg.debug("Call getHistoryMessages",fe)})}function Ue(fe,z){return w(this,void 0,void 0,function(){var te,ye,oe,be,Pe,ie,at;return G(this,function(we){switch(we.label){case 0:if(te=c.XZ.call(this).error)return[2,Promise.reject(te)];if(typeof fe!="string"||fe==="")throw Error('"Invalid parameter": "to"');return M.kg.debug("Call addContact",fe,z),ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie=ye.jid,at={url:"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/users/").concat(this.user,"/contacts/apply?resource=").concat(ie.clientResource),type:"POST",dataType:"json",data:JSON.stringify({usernames:[fe],reason:z}),headers:{Authorization:"Bearer "+Pe,"Content-Type":"application/json"}},[4,y.hj.call(this,at,U.fI.ROSTER_ADD)];case 1:return we.sent(),[2]}})})}var ct=Xe;function Xe(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie;return G(this,function(at){switch(at.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(typeof fe!="string"||fe==="")throw Error('"Invalid parameter": "to"');return M.kg.debug("Call deleteContact",fe),te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=te.jid,ie={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/users/").concat(this.user,"/contacts/users/").concat(fe,"?resource=").concat(Pe.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}},[4,y.hj.call(this,ie,U.fI.ROSTER_REMOVE)];case 1:return at.sent(),[2]}})})}function bt(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie;return G(this,function(at){switch(at.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(typeof fe!="string"||fe==="")throw Error('"Invalid parameter": "to"');return M.kg.debug("Call acceptInvitation",fe),te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=te.jid,ie={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/users/").concat(this.user,"/contacts/accept/users/").concat(fe,"?resource=").concat(Pe.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}},[4,y.hj.call(this,ie,U.fI.ROSTER_ACCEPT)];case 1:return at.sent(),[2]}})})}var _t=bt;function Lt(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie;return G(this,function(at){switch(at.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(typeof fe!="string"||fe==="")throw Error('"Invalid parameter": "to"');return M.kg.debug("Call declineInvitation",fe),te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=te.jid,ie={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/users/").concat(this.user,"/contacts/decline/users/").concat(fe,"?resource=").concat(Pe.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}},[4,y.hj.call(this,ie,U.fI.ROSTER_DECLINE)];case 1:return at.sent(),[2]}})})}var Ae=Lt;function Re(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we;return G(this,function(V){switch(V.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(te=fe.name,ye=[],typeof te=="string"){if(te==="")throw Error('"Invalid parameter": "name"');ye=[te]}else{if(!Array.isArray(te))throw Error('"Invalid parameter": "name"');ye=te}return M.kg.debug("Call addToBlockList",fe),oe=this.context,be=oe.orgName,Pe=oe.appName,ie=oe.accessToken,at=oe.jid,we={url:"".concat(this.apiUrl,"/").concat(be,"/").concat(Pe,"/sdk/user/").concat(this.user,"/blocks?resource=").concat(at.clientResource),type:"POST",dataType:"json",data:JSON.stringify({usernames:ye}),headers:{Authorization:"Bearer "+ie,"Content-Type":"application/json"}},[4,y.hj.call(this,we,U.fI.ROSTER_BAN).then(function(Le){return{type:Le.type,data:{userIds:(Le==null?void 0:Le.data)||[]}}})];case 1:return[2,V.sent()]}})})}var Me=Re,lt=Re;function nt(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we;return G(this,function(V){switch(V.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(te=fe.name,ye=[],typeof te=="string"){if(te==="")throw Error('"Invalid parameter": "name"');ye=[te]}else{if(!Array.isArray(te))throw Error('"Invalid parameter": "name"');ye=te}return M.kg.debug("Call removeFromBlockList",fe),oe=this.context,be=oe.orgName,Pe=oe.appName,ie=oe.accessToken,at=oe.jid,we={url:"".concat(this.apiUrl,"/").concat(be,"/").concat(Pe,"/sdk/user/").concat(this.user,"/blocks?resource=").concat(at.clientResource),type:"DELETE",dataType:"json",data:JSON.stringify({usernames:ye}),headers:{Authorization:"Bearer "+ie,"Content-Type":"application/json"}},[4,y.hj.call(this,we,U.fI.ROSTER_ALLOW)];case 1:return V.sent(),[2]}})})}var Ye=nt,Fe=nt;function Ve(fe){var z=this,te=(fe==null?void 0:fe.ext)||"";if(typeof te!="string")throw Error('"Invalid parameter": "ext"',te);var ye=this.getUniqueId(),oe={id:ye,to:fe.to};this._msgHash[ye]=F({},oe);var be="";fe.chatType!==void 0?be=fe.chatType:fe.type!==void 0&&(be=fe.type==="chat"?"singleChat":fe.type);var Pe={id:ye,type:"recall",chatType:be,ackId:fe.mid,to:fe.to,isChatThread:fe.isChatThread||!1,metaExt:te,success:function(ie){return w(z,void 0,void 0,function(){var at,we,V,Le,Ce,rt,ge,Be,He;return G(this,function(Ie){switch(Ie.label){case 0:return Ie.trys.push([0,5,,6]),be!=="singleChat"&&be!=="groupChat"?[3,4]:[4,(V=(we=this._localCache)===null||we===void 0?void 0:we.getInstance())===null||V===void 0?void 0:V.removeMsgByServerMsgId(fe.mid)];case 1:return Ie.sent(),[4,(Ce=(Le=this._localCache)===null||Le===void 0?void 0:Le.getInstance())===null||Ce===void 0?void 0:Ce.getConversationLastMessage(fe.to,be)];case 2:return at=Ie.sent(),[4,(ge=(rt=this._localCache)===null||rt===void 0?void 0:rt.getInstance())===null||ge===void 0?void 0:ge.updateLocalConversation((0,L.MQ)({conversationId:fe.to,conversationType:be}),{lastMessageId:at==null?void 0:at.serverMsgId})];case 3:Ie.sent(),Ie.label=4;case 4:return(Be=fe==null?void 0:fe.success)===null||Be===void 0||Be.call(fe,ie),[3,6];case 5:return Ie.sent(),(He=fe==null?void 0:fe.success)===null||He===void 0||He.call(fe,ie),[3,6];case 6:return[2]}})})},fail:fe.fail};return M.kg.debug("Call recallMessage",fe),this.mSync.send(Pe,this)}function $e(fe){var z=fe||{},te=z.messageId,ye=z.modifiedMessage;if(M.kg.debug("Call modifyMessage",te,ye),te==="")throw Error('Invalid parameter: "messageId"');if(ye.type!=="txt")throw Error('Invalid parameter: "modifiedMessage.type"');return this.mSync.send(F({editMessageId:te},ye))}function ke(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we;return G(this,function(V){switch(V.label){case 0:if(typeof fe.messageId!="string"||!fe.messageId)throw Error("Invalid parameter messageId: ".concat(fe.messageId));if(typeof fe.reaction!="string"||!fe.reaction)throw Error("Invalid parameter reaction: ".concat(fe.reaction));return(z=c.XZ.call(this).error)?[2,Promise.reject(z)]:(te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=fe.reaction,ie=fe.messageId,at={msgId:ie,message:Pe},we={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/reaction/user/").concat(this.user),type:"POST",data:JSON.stringify(at),dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}},[4,y.hj.call(this,we)]);case 1:return V.sent(),[2]}})})}function Je(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at;return G(this,function(we){switch(we.label){case 0:if(typeof fe.reaction!="string"||!fe.reaction)throw Error("Invalid parameter reactionId: ".concat(fe.reaction));return(z=c.XZ.call(this).error)?[2,Promise.reject(z)]:(te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=fe.messageId,ie=fe.reaction,at={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/reaction/user/").concat(this.user,"?msgId=").concat(Pe,"&message=").concat(ie),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}},[4,y.hj.call(this,at)]);case 1:return we.sent(),[2]}})})}function yt(fe){if(typeof fe.chatType!="string"||!fe.chatType)throw Error("Invalid parameter chatType: ".concat(fe.chatType));if(!fe.messageId)throw Error("Invalid parameter messageId: ".concat(fe.messageId));var z=c.XZ.call(this).error;if(z)return Promise.reject(z);var te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=fe.chatType,ie=fe.messageId,at={msgIdList:typeof ie=="string"?[ie]:ie,msgType:Pe==="singleChat"?"chat":"groupchat",groupId:fe.groupId||null},we={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/reaction/user/").concat(this.user),type:"GET",data:at,dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}};return y.hj.call(this,we).then(function(V){var Le=V.data;return Le==null||Le.forEach(function(Ce){Ce==null||Ce.reactionList.forEach(function(rt){rt.isAddedBySelf=rt.state,delete rt.state,delete rt.reactionId})}),V})}var Ct=yt;function mt(fe){if(typeof fe.reaction!="string"||!fe.reaction)throw Error("Invalid parameter reaction: ".concat(fe.reaction));if(typeof fe.messageId!="string"||!fe.messageId)throw Error("Invalid parameter messageId: ".concat(fe.messageId));var z=c.XZ.call(this).error;if(z)return Promise.reject(z);var te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=fe.cursor,ie=fe.pageSize,at={msgId:fe.messageId,message:fe.reaction,currentPage:Pe||null,pageSize:ie||20},we={url:"".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/reaction/user/").concat(this.user,"/detail"),type:"GET",data:at,dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}};return y.hj.call(this,we).then(function(V){return V.data.isAddedBySelf=V.data.state,delete V.data.state,delete V.data.reactionId,V})}function pt(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we,V,Le;return G(this,function(Ce){switch(Ce.label){case 0:if(typeof fe.reportType!="string"||!fe.reportType)throw Error("Invalid parameter reportType: ".concat(fe.reportType));if(typeof fe.messageId!="string"||!fe.messageId)throw Error("Invalid parameter messageId: ".concat(fe.messageId));if(typeof fe.reportReason!="string"||!fe.reportReason)throw Error("Invalid parameter messageId: ".concat(fe.reportReason));return(z=c.XZ.call(this).error)?[2,Promise.reject(z)]:(te=this.context,ye=te.orgName,oe=te.appName,be=te.accessToken,Pe=fe.reportType,ie=fe.reportReason,at=fe.messageId,we={username:this.user,reportType:Pe,reportReason:ie},V="".concat(this.apiUrl,"/").concat(ye,"/").concat(oe,"/user/").concat(this.user,"/moderation/report/message/").concat(at),Le={url:V,type:"POST",data:JSON.stringify(we),dataType:"json",headers:{Authorization:"Bearer "+be,"Content-Type":"application/json"}},[4,y.hj.call(this,Le)]);case 1:return Ce.sent(),[2]}})})}function Mt(fe){var z;return w(this,void 0,void 0,function(){var te,ye,oe,be,Pe,ie,at,we,V;return G(this,function(Le){switch(Le.label){case 0:if(typeof fe.targetId!="string"||fe.targetId==="")throw Error('"Invalid parameter targetId": '+fe.targetId);if(!["singleChat","groupChat","chatRoom"].includes(fe.chatType))throw Error('"Invalid parameter chatType": '+fe.chatType);if(fe.beforeTimeStamp&&(typeof fe.beforeTimeStamp!="number"||fe.beforeTimeStamp<0||((z=fe.beforeTimeStamp)===null||z===void 0?void 0:z.toString().length)>18))throw Error('"Invalid parameter beforeTimeStamp": '+fe.beforeTimeStamp);if(fe.messageIds&&!(Array.isArray(fe.messageIds)&&fe.messageIds.length>0&&fe.messageIds.length<=20))throw Error('"Invalid parameter messageIds": '+fe.messageIds);if(!fe.messageIds&&!fe.beforeTimeStamp)throw Error("messageIds or beforeTimeStamp field is required.");return(te=c.XZ.call(this).error)?[2,Promise.reject(te)]:(ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.userId,ie=fe.chatType==="singleChat"?"userId":"groupId",at=fe.chatType==="singleChat"?"chat":"group",we=fe.messageIds?"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/sdk/message/roaming/").concat(at,"/user/").concat(Pe,"?").concat(ie,"=").concat(fe.targetId,"&msgIdList=").concat(fe.messageIds,"&resource=").concat(this.clientResource):"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/sdk/message/roaming/").concat(at,"/user/").concat(Pe,"/time?").concat(ie,"=").concat(fe.targetId,"&delTime=").concat(fe.beforeTimeStamp,"&&resource=").concat(this.clientResource),V={url:we,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}},M.kg.debug("Call removeHistoryMessages",fe),[4,y.hj.call(this,V)]);case 1:return Le.sent(),[2]}})})}function Xt(fe){var z=this,te=c.XZ.call(this).error;if(te)return Promise.reject(te);if(fe!=null&&fe.pageSize&&typeof fe.pageSize!="number")throw Error("Invalid parameter pageSize: ".concat(fe.pageSize));if(fe!=null&&fe.cursor&&typeof fe.cursor!="string")throw Error("Invalid parameter cursor: ".concat(fe.cursor));var ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie={url:"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(fe==null?void 0:fe.pageSize)||20,cursor:(fe==null?void 0:fe.cursor)||"",need_mark:!0},headers:{Authorization:"Bearer "+Pe,"Content-Type":"application/json"}};return M.kg.debug("Call getServerConversations",fe),new Promise(function(at,we){y.hj.call(z,ie,U.fI.GET_SESSION_LIST).then(function(V){return w(z,void 0,void 0,function(){var Le,Ce,rt=this;return G(this,function(ge){switch(ge.label){case 0:return Le=jt.call(this,V),this._localCache?(Ce=Le.data.conversations.map(function(Be){return w(rt,void 0,void 0,function(){var He,Ie,ht,Tt;return G(this,function(Yt){switch(Yt.label){case 0:return[4,(Ie=(He=this._localCache)===null||He===void 0?void 0:He.getInstance())===null||Ie===void 0?void 0:Ie.storeMessage(Be.lastMessage,H.r.SUCCESS,!0)];case 1:return Yt.sent(),[4,(Tt=(ht=this._localCache)===null||ht===void 0?void 0:ht.getInstance())===null||Tt===void 0?void 0:Tt.updateLocalConversation((0,L.MQ)({conversationId:Be.conversationId,conversationType:Be.conversationType}),{unReadCount:Be.unReadCount})];case 2:return Yt.sent(),[2]}})})}),[4,Promise.all(Ce)]):[3,2];case 1:ge.sent(),ge.label=2;case 2:return at(Le),[2]}})})}).catch(function(V){we(V)})})}function jt(fe){var z=this,te=fe.data,ye=te.cursor,oe=te.channel_infos,be=[];oe==null||oe.forEach(function(ie){var at=null;ie!=null&&ie.meta&&JSON.stringify(ie.meta)!=="{}"&&(ie.meta.payload=JSON.parse(ie.meta.payload),(at=x.w.call(z,ie.meta)).type!=="delivery"&&at.type!=="read"&&at.type!=="channel"&&(at.chatType=x.U[at.chatType]));var we={conversationId:ie.session_to,conversationType:ie.session_type==="chat"?"singleChat":"groupChat",isPinned:ie.is_top,pinnedTime:ie.is_top?ie.update_top_status_time:0,unReadCount:ie.unread_num,lastMessage:at};ie.marks&&(we.marks=ie.marks.map(function(V){return T.Z[V]})),be.push(we)});var Pe={conversations:be,cursor:ye||""};return{type:fe.type,data:Pe}}function zt(fe){var z=this,te=c.XZ.call(this).error;if(te)return Promise.reject(te);if(fe!=null&&fe.pageSize&&typeof fe.pageSize!="number")throw Error("Invalid parameter pageSize: ".concat(fe.pageSize));if(fe!=null&&fe.cursor&&typeof fe.cursor!="string")throw Error("Invalid parameter cursor: ".concat(fe.cursor));var ye=this.context,oe=ye.orgName,be=ye.appName,Pe=ye.accessToken,ie={url:"".concat(this.apiUrl,"/").concat(oe,"/").concat(be,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(fe==null?void 0:fe.pageSize)||20,cursor:(fe==null?void 0:fe.cursor)||"",is_top:!0,need_mark:!0},headers:{Authorization:"Bearer "+Pe,"Content-Type":"application/json"}};return M.kg.debug("Call getServerPinnedConversations",fe),y.hj.call(this,ie,U.fI.GET_SESSION_LIST).then(function(at){return jt.call(z,at)})}function tr(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt,ge;return G(this,function(Be){if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(te=fe.conversationId,ye=fe.conversationType,oe=fe.isPinned,be=ye==="singleChat"?"chat":"groupChat",typeof te!="string"||te==="")throw Error("Invalid parameter conversationId: ".concat(te));if(!["singleChat","groupChat"].includes(ye))throw Error("Invalid parameter conversationType: ".concat(ye));if(typeof oe!="boolean")throw Error("Invalid parameter isPinned: ".concat(oe));return Pe=this.context,ie=Pe.orgName,at=Pe.appName,we=Pe.accessToken,V=Pe.jid,Le={type:be,to:te},Ce=oe?"":"type=".concat(be,"&to=").concat(te,"&"),rt="".concat(this.apiUrl,"/").concat(ie,"/").concat(at,"/sdk/user/").concat(this.user,"/user_channel/top?").concat(Ce,"resource=").concat(V.clientResource),ge={url:rt,type:oe?"POST":"DELETE",dataType:"json",headers:{Authorization:"Bearer "+we,"Content-Type":"application/json"}},oe&&(ge.data=JSON.stringify(Le)),M.kg.debug("Call pinConversation",fe),[2,y.hj.call(this,ge,U.fI.PIN_CONVERSATION).then(function(He){var Ie=He.type,ht=He.data;return{type:Ie,data:{isPinned:ht.is_top||!1,pinnedTime:ht.is_top?ht.update_top_status_time:0}}})]})})}function Ke(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we,V;return G(this,function(Le){switch(Le.label){case 0:if(z=fe.userId,te=fe.remark,ye=c.XZ.call(this).error)return[2,Promise.reject(ye)];if(typeof z!="string"||z==="")throw Error('Invalid parameter: "userId"');if(typeof te!="string")throw Error('Invalid parameter: "remark"');return M.kg.debug("Call setContactRemark",fe),oe=this.context,be=oe.orgName,Pe=oe.appName,ie=oe.accessToken,at=oe.jid,we="".concat(this.apiUrl,"/").concat(be,"/").concat(Pe,"/users/").concat(this.context.userId,"/contacts/users/").concat(z,"?resource=").concat(at.clientResource),V={url:we,type:"PUT",data:JSON.stringify({remark:te}),dataType:"json",headers:{Authorization:"Bearer "+ie,"Content-Type":"application/json"}},[4,y.hj.call(this,V,U.fI.ROSTER_SET_CONTACT_REMARK)];case 1:return Le.sent(),[2]}})})}function Ot(){var fe=c.XZ.call(this).error;if(fe)return Promise.reject(fe);var z=this.context,te=z.orgName,ye=z.appName,oe=z.accessToken,be={url:"".concat(this.apiUrl,"/").concat(te,"/").concat(ye,"/users/").concat(this.user,"/contacts/users?needReturnRemark=true"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+oe}};return M.kg.debug("Call getAllContacts"),y.hj.call(this,be,U.fI.ROSTER_GET_ALL_CONTACTS_REMARKS).then(function(Pe){var ie=((Pe==null?void 0:Pe.entities)||[]).map(function(at){return{userId:at.username,remark:at.remark}});return{type:Pe.type,data:ie}})}function j(fe){var z=c.XZ.call(this).error;if(z)return Promise.reject(z);M.kg.debug("Call getContactsWithCursor",fe);var te=fe||{},ye=te.pageSize,oe=ye===void 0?20:ye,be=te.cursor,Pe=be===void 0?"":be;if(oe&&typeof oe!="number")throw Error("Invalid parameter pageSize: ".concat(fe.pageSize));var ie=this.context,at=ie.orgName,we=ie.appName,V=ie.accessToken,Le={url:"".concat(this.apiUrl,"/").concat(at,"/").concat(we,"/users/").concat(this.user,"/contacts?needReturnRemark=true&limit=").concat(oe,"&cursor=").concat(Pe),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+V}};return y.hj.call(this,Le,U.fI.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE).then(function(Ce){var rt,ge,Be=((rt=Ce==null?void 0:Ce.data)===null||rt===void 0?void 0:rt.contacts)||[],He=((ge=Ce==null?void 0:Ce.data)===null||ge===void 0?void 0:ge.cursor)||"",Ie=Be.map(function(ht){return{userId:ht.username,remark:ht.remark}});return{type:Ce.type,data:{cursor:He,contacts:Ie}}})}function Y(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt,ge,Be;return G(this,function(He){switch(He.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(M.kg.debug("Call markConversation",fe),ye=(te=fe||{}).conversations,oe=ye===void 0?[]:ye,be=te.mark,Pe=te.isMarked,!Array.isArray(oe))throw Error("Invalid parameter conversations");if(ie=oe.map(function(Ie){if(!Ie.conversationId||!["singleChat","groupChat"].includes(Ie.conversationType))throw Error("Invalid parameter conversations");return{to:Ie.conversationId,type:S[Ie.conversationType]}}),typeof Pe!="boolean")throw Error("Invalid parameter isMarked: ".concat(Pe));if(typeof be!="number")throw Error("Invalid parameter mark: ".concat(be));return at=this.context,we=at.orgName,V=at.appName,Le=at.accessToken,Ce=at.userId,rt=at.jid,ge={mark:T.Z[be],targets:ie},Be={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(V,"/sdk/user/").concat(Ce,"/user_channels/mark?resource=").concat(rt.clientResource),dataType:"json",data:JSON.stringify(ge),type:Pe?"Post":"Delete",headers:{Authorization:"Bearer "+Le}},[4,y.hj.call(this,Be,U.fI.MARK_CONVERSATION).then(function(Ie){var ht,Tt=((ht=Ie.data)===null||ht===void 0?void 0:ht.ignore)||[];Tt&&Array.isArray(Tt)&&Tt.length>0&&M.kg.debug("markConversation has ignored conversations",Tt.map(function(Yt){return{conversationId:Yt.to,conversationType:x.U[Yt.type]}}))})];case 1:return He.sent(),[2]}})})}function _e(fe){return w(this,void 0,void 0,function(){var z,te;return G(this,function(ye){return M.kg.debug("Call addConversationMark",fe),z=fe.conversations,te=fe.mark,[2,Y.call(this,{conversations:z,mark:te,isMarked:!0})]})})}function De(fe){return w(this,void 0,void 0,function(){var z,te;return G(this,function(ye){return M.kg.debug("Call removeConversationMark",fe),z=fe.conversations,te=fe.mark,[2,Y.call(this,{conversations:z,mark:te,isMarked:!1})]})})}function ve(fe){var z,te,ye=this,oe=c.XZ.call(this).error;if(oe)return Promise.reject(oe);if(M.kg.debug("Call getServerConversationsByFilter",fe),(fe==null?void 0:fe.pageSize)&&typeof fe.pageSize!="number")throw Error("Invalid parameter pageSize: ".concat(fe.pageSize));if(fe!=null&&fe.cursor&&typeof fe.cursor!="string")throw Error("Invalid parameter cursor: ".concat(fe.cursor));if(typeof((z=fe==null?void 0:fe.filter)===null||z===void 0?void 0:z.mark)!="number")throw Error("Invalid parameter mark: ".concat((te=fe==null?void 0:fe.filter)===null||te===void 0?void 0:te.mark));var be=this.context,Pe=be.orgName,ie=be.appName,at=be.accessToken,we="".concat(this.apiUrl,"/").concat(Pe,"/").concat(ie,"/sdk/user/").concat(this.user,"/user_channels/mark/search?"),V=fe.pageSize,Le=fe.cursor,Ce=((fe==null?void 0:fe.filter)||{}).mark,rt={url:we,type:"GET",dataType:"json",data:{limit:V||10,cursor:Le||"",need_mark:!0,mark:T.Z[Ce]},headers:{Authorization:"Bearer "+at,"Content-Type":"application/json"}};return y.hj.call(this,rt,U.fI.GET_SESSION_LIST).then(function(ge){return jt.call(ye,ge)})}function ze(){var fe=c.XZ.call(this).error;if(fe)return Promise.reject(fe);M.kg.debug("Call getSelfIdsOnOtherPlatform");var z=this.context,te=z.orgName,ye=z.appName,oe=z.accessToken,be=z.userId,Pe=z.jid,ie={url:"".concat(this.apiUrl,"/").concat(te,"/").concat(ye,"/users/").concat(be,"/resources"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+oe,"Content-Type":"application/json"}};return y.hj.call(this,ie,U.fI.USER_LOGGEDIN_OTHER_PLATFORM).then(function(at){var we,V=(we=at.data)===null||we===void 0?void 0:we.filter(function(Ce){return Ce.res!==Pe.clientResource}),Le=V==null?void 0:V.map(function(Ce){return"".concat(be,"/").concat(Ce.res)});return{type:at.type,data:Le}})}function ot(){var fe,z,te,ye,oe,be;return w(this,void 0,void 0,function(){var Pe,ie,at,we,V,Le,Ce,rt,ge;return G(this,function(Be){switch(Be.label){case 0:return(Pe=c.XZ.call(this).error)?[2,Promise.reject(Pe)]:(M.kg.debug("Call deleteAllMessagesAndConversations"),ie=this.context,at=ie.orgName,we=ie.appName,V=ie.accessToken,Le=ie.userId,Ce=ie.jid,rt="".concat(this.apiUrl,"/").concat(at,"/").concat(we,"/sdk/message/roaming/user/").concat(Le,"/delete/all?resource=").concat(Ce.clientResource),ge={url:rt,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+V,"Content-Type":"application/json"}},[4,y.hj.call(this,ge,U.fI.REST_DELETE_MESSAGES_CONVERSATIONS)]);case 1:return Be.sent(),(z=(fe=this._localCache)===null||fe===void 0?void 0:fe.getInstance())===null||z===void 0||z.clearConversationMap(),[4,(ye=(te=this._localCache)===null||te===void 0?void 0:te.getInstance())===null||ye===void 0?void 0:ye.clearStoreData("conversationList")];case 2:return Be.sent(),[4,(be=(oe=this._localCache)===null||oe===void 0?void 0:oe.getInstance())===null||be===void 0?void 0:be.clearStoreData("message")];case 3:return Be.sent(),[2]}})})}function ut(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt,ge,Be;return G(this,function(He){switch(He.label){case 0:if(z=c.XZ.call(this).error)return[2,Promise.reject(z)];if(M.kg.debug("Call setMessagePinStatus",fe),ye=(te=fe||{}).conversationId,oe=ye===void 0?"":ye,be=te.conversationType,Pe=te.messageId,ie=te.isPinned,typeof oe!="string"||oe==="")throw Error("Invalid parameter conversationId");if(typeof Pe!="string"||Pe==="")throw Error("Invalid parameter messageId");if(typeof ie!="boolean")throw Error("Invalid parameter isPinned");return at=this.context,we=at.orgName,V=at.appName,Le=at.accessToken,Ce=at.userId,rt=at.jid,ge={to:oe,type:S[be],pin_msg_id:Pe},Be={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(V,"/sdk/user/").concat(Ce,"/user_channel/pin?resource=").concat(rt.clientResource),dataType:"json",data:JSON.stringify(ge),type:ie?"Post":"Delete",headers:{Authorization:"Bearer "+Le}},[4,y.hj.call(this,Be,U.fI.REST_PIN_MESSAGE)];case 1:return He.sent(),[2]}})})}function St(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe;return G(this,function(be){return M.kg.debug("Call pinMessage",fe),te=(z=fe||{}).conversationType,ye=z.conversationId,oe=z.messageId,[2,ut.call(this,{conversationId:ye,conversationType:te,messageId:oe,isPinned:!0})]})})}function xt(fe){return w(this,void 0,void 0,function(){var z,te,ye,oe;return G(this,function(be){return M.kg.debug("Call unpinMessage",fe),te=(z=fe||{}).conversationType,ye=z.conversationId,oe=z.messageId,[2,ut.call(this,{conversationId:ye,conversationType:te,messageId:oe,isPinned:!1})]})})}function Bt(fe){var z=this,te=c.XZ.call(this).error;if(te)return Promise.reject(te);M.kg.debug("Call getServerPinnedMessages",fe);var ye=fe.conversationId,oe=fe.conversationType,be=fe.pageSize,Pe=fe.cursor;if(typeof ye!="string"||ye==="")throw Error("Invalid parameter conversationId");if(be&&typeof be!="number")throw Error("Invalid parameter pageSize: ".concat(be));if(Pe&&typeof Pe!="string")throw Error("Invalid parameter cursor: ".concat(Pe));var ie=this.context,at=ie.orgName,we=ie.appName,V=ie.accessToken,Le={url:"".concat(this.apiUrl,"/").concat(at,"/").concat(we,"/sdk/user/").concat(this.user,"/user_channel/pin"),type:"GET",dataType:"json",data:{to:ye,type:S[oe],limit:be||10,cursor:Pe||""},headers:{Authorization:"Bearer "+V,"Content-Type":"application/json"}};return y.hj.call(this,Le,U.fI.GET_SESSION_LIST).then(function(Ce){return{type:0,data:{list:Ce.data.msg_infos.map(function(rt){rt.message.payload=JSON.parse(rt.message.payload);var ge=rt.message,Be=rt.pin_opt_at,He=rt.pin_operator;return{message:x.w.call(z,ge,{formatChatType:!0}),pinTime:Be,operatorId:He}}),cursor:Ce.data.cursor||""}}})}function Zt(){var fe=this;M.kg.debug("Call unbindPushToken");var z={deviceId:this.clientResource,deviceToken:"",notifierName:this.pushCertificateName};return W.r.call(this,z).then(function(te){return fe.isRegisterPush=!1,te})}},3770:function(a,m,n){n.r(m),n.d(m,{getPresenceStatus:function(){return x},getSubscribedPresenceList:function(){return M},getSubscribedPresencelist:function(){return U},publishPresence:function(){return I},subscribePresence:function(){return g},unsubscribePresence:function(){return P}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2222),n(9753);var c=n(4024),l=n(3246),v=n(7360),y=function(H,L,W,F){return new(W||(W=Promise))(function(w,G){function S(X){try{q(F.next(X))}catch(Q){G(Q)}}function re(X){try{q(F.throw(X))}catch(Q){G(Q)}}function q(X){var Q;X.done?w(X.value):(Q=X.value,Q instanceof W?Q:new W(function(ee){ee(Q)})).then(S,re)}q((F=F.apply(H,L||[])).next())})},T=function(H,L){var W,F,w,G,S={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return G={next:re(0),throw:re(1),return:re(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function re(q){return function(X){return function(Q){if(W)throw new TypeError("Generator is already executing.");for(;S;)try{if(W=1,F&&(w=2&Q[0]?F.return:Q[0]?F.throw||((w=F.return)&&w.call(F),0):F.next)&&!(w=w.call(F,Q[1])).done)return w;switch(F=0,w&&(Q=[2&Q[0],w.value]),Q[0]){case 0:case 1:w=Q;break;case 4:return S.label++,{value:Q[1],done:!1};case 5:S.label++,F=Q[1],Q=[0];continue;case 7:Q=S.ops.pop(),S.trys.pop();continue;default:if(!((w=(w=S.trys).length>0&&w[w.length-1])||Q[0]!==6&&Q[0]!==2)){S=0;continue}if(Q[0]===3&&(!w||Q[1]>w[0]&&Q[1]<w[3])){S.label=Q[1];break}if(Q[0]===6&&S.label<w[1]){S.label=w[1],w=Q;break}if(w&&S.label<w[2]){S.label=w[2],S.ops.push(Q);break}w[2]&&S.ops.pop(),S.trys.pop();continue}Q=L.call(H,S)}catch(ee){Q=[6,ee],F=0}finally{W=w=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([q,X])}}};function I(H){return y(this,void 0,void 0,function(){var L,W,F,w,G,S,re,q,X;return T(this,function(Q){switch(Q.label){case 0:if(typeof H.description!="string")throw Error('Invalid parameter: "description"');return(L=l.XZ.call(this).error)?[2,Promise.reject(L)]:(W=this.context,F=W.accessToken,w=W.orgName,G=W.appName,S=W.userId,re=this.context.jid.clientResource,q={ext:H.description},X={url:"".concat(this.apiUrl,"/").concat(w,"/").concat(G,"/users/").concat(S,"/presence/").concat(re,"/1"),type:"POST",dataType:"json",data:JSON.stringify(q),headers:{Authorization:"Bearer "+F,"Content-Type":"application/json"},success:H.success,error:H.error},v.kg.debug("Call publishPresence:",H),[4,c.hj.call(this,X)]);case 1:return Q.sent(),[2]}})})}function g(H){if(!Array.isArray(H.usernames))throw Error('Invalid parameter: "usernames"');if(!H.usernames.length)throw Error('"usernames" can not be empty');if(typeof H.expiry!="number")throw Error('Invalid parameter: "expiry"');var L=l.XZ.call(this).error;if(L)return Promise.reject(L);var W=this.context,F=W.orgName,w=W.appName,G=W.userId,S=W.accessToken,re={usernames:H.usernames},q={url:"".concat(this.apiUrl,"/").concat(F,"/").concat(w,"/users/").concat(G,"/presence/").concat(H.expiry),type:"POST",dataType:"json",data:JSON.stringify(re),headers:{Authorization:"Bearer "+S,"Content-Type":"application/json"},success:H.success,error:H.error};return v.kg.debug("Call subscribePresence:",H),c.hj.call(this,q).then(function(X){return X.data={result:X==null?void 0:X.result},X})}function P(H){return y(this,void 0,void 0,function(){var L,W,F,w,G,S,re;return T(this,function(q){switch(q.label){case 0:if(!Array.isArray(H.usernames))throw Error('Invalid parameter: "usernames"');if(!H.usernames.length)throw Error('"usernames" can not be empty');return(L=l.XZ.call(this).error)?[2,Promise.reject(L)]:(W=this.context,F=W.orgName,w=W.appName,G=W.userId,S=W.accessToken,re={url:"".concat(this.apiUrl,"/").concat(F,"/").concat(w,"/users/").concat(G,"/presence"),type:"DELETE",dataType:"json",data:JSON.stringify(H.usernames),headers:{Authorization:"Bearer "+S,"Content-Type":"application/json"},success:H.success,error:H.error},v.kg.debug("Call unsubscribePresence:",H),[4,c.hj.call(this,re)]);case 1:return q.sent(),[2]}})})}function M(H){if(typeof H.pageNum!="number"||typeof H.pageSize!="number")throw Error('Invalid parameter: "pageNum or pageSize"');if(H.pageNum<0||H.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');var L=l.XZ.call(this).error;if(L)return Promise.reject(L);var W=this.context,F=W.orgName,w=W.appName,G=W.userId,S=W.accessToken,re={url:"".concat(this.apiUrl,"/").concat(F,"/").concat(w,"/users/").concat(G,"/presence/sublist?pageNum=").concat(H.pageNum,"&pageSize=").concat(H.pageSize),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+S,"Content-Type":"application/json"},success:H.success,error:H.error};return v.kg.debug("Call getSubscribedPresenceList:",H),c.hj.call(this,re).then(function(q){return q.data={result:q==null?void 0:q.result},q})}var U=M;function x(H){if(!Array.isArray(H.usernames))throw Error('Invalid parameter: "usernames"');if(!H.usernames.length)throw Error('"usernames" can not be empty');var L=l.XZ.call(this).error;if(L)return Promise.reject(L);var W={usernames:H.usernames},F=this.context,w=F.orgName,G=F.appName,S=F.userId,re=F.accessToken,q={url:"".concat(this.apiUrl,"/").concat(w,"/").concat(G,"/users/").concat(S,"/presence"),type:"POST",dataType:"json",data:JSON.stringify(W),headers:{Authorization:"Bearer "+re,"Content-Type":"application/json"},success:H.success,error:H.error};return v.kg.debug("Call getPresenceStatus:",H),c.hj.call(this,q).then(function(X){return X.data={result:X==null?void 0:X.result},X})}},6801:function(a,m,n){n.d(m,{r:function(){return T}}),n(1539),n(8674),n(2222),n(4812);var c=n(3246),l=n(4024),v=n(7360),y=n(1595);function T(I){if(typeof I.deviceId!="string"||I.deviceId==="")throw Error('Invalid parameter: "deviceId"');var g=c.XZ.call(this).error;if(g)return Promise.reject(g);var P=this.context,M=P.orgName,U=P.appName,x=P.accessToken,H={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(U,"/users/").concat(this.user),type:"PUT",data:JSON.stringify({device_id:I.deviceId,device_token:I.deviceToken,notifier_name:I.notifierName}),dataType:"json",headers:{Authorization:"Bearer "+x,"Content-Type":"application/json"},success:I.success,error:I.error};v.kg.debug("Call uploadPushTokenToServer",I);var L=l.hj.bind(this,H,y.fI.UPLOAD_PUSH_TOKEN);return l.P6.retryPromise(L).then(function(W){var F=W.entities[0]||{};return{type:W.type,data:F}})}},1735:function(a,m,n){n.r(m),n.d(m,{clearRemindTypeForConversation:function(){return g},getPushPerformLanguage:function(){return x},getSilentModeForAll:function(){return T},getSilentModeForConversation:function(){return P},getSilentModeForConversations:function(){return M},getSilentModeRemindTypeConversations:function(){return H},setPushPerformLanguage:function(){return U},setSilentModeForAll:function(){return y},setSilentModeForConversation:function(){return I}}),n(7941),n(1539),n(8674),n(2222),n(9753),n(9554),n(4747),n(9600),n(1249);var c=n(4024),l=n(3246),v=n(7360);function y(L){if(!(L.options instanceof Object))throw Error('Invalid parameter: "options"');var W=L.options.paramType;if(typeof W!="number"||W<0||W>2)throw Error('Invalid parameter: "options of paramType"');if(W===0){if(typeof L.options.remindType!="string")throw Error('Invalid parameter: "options of remindType"')}else if(W===1){if(typeof L.options.duration!="number")throw Error('Invalid parameter: "options of duration"')}else if(W===2){var F=L.options,w=F.startTime,G=F.endTime;if(!(w instanceof Object&&Object.keys(w).length))throw Error('Invalid parameter: "options of startTime"');if(!w.hours||typeof w.hours!="number"||!w.minutes||typeof w.minutes!="number")throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(G instanceof Object&&Object.keys(G).length))throw Error('Invalid parameter: "options of endTime"');if(!G.hours||typeof G.hours!="number"||!G.minutes||typeof G.minutes!="number")throw Error('Invalid parameter: "options of endTime of hours or minutes"')}var S=l.XZ.call(this).error;if(S)return Promise.reject(S);var re=this.context,q=re.accessToken,X=re.orgName,Q=re.appName,ee=re.userId,se=re.jid,Oe={};switch(W){case 0:Oe={type:L.options.remindType};break;case 1:Oe={ignoreDuration:L.options.duration};break;case 2:var xe=L.options;w=xe.startTime,G=xe.endTime,Oe={ignoreInterval:"".concat(w.hours,":").concat(w.minutes,"-").concat(G.hours,":").concat(G.minutes)}}var Ne={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/users/").concat(ee,"/notification/user/").concat(ee,"?resource=").concat(se.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(Oe),headers:{Authorization:"Bearer "+q,"Content-Type":"application/json"},success:L.success,error:L.error};return v.kg.debug("Call setSilentModeForAll:",L),c.hj.call(this,Ne)}function T(L){var W=l.XZ.call(this).error;if(W)return Promise.reject(W);var F=this.context,w=F.accessToken,G=F.orgName,S=F.appName,re=F.userId,q={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(S,"/users/").concat(re,"/notification/user/").concat(re),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"},success:L==null?void 0:L.success,error:L==null?void 0:L.error};return v.kg.debug("Call getSilentModeForAll:",L),c.hj.call(this,q)}function I(L){if(typeof L.conversationId!="string"||!L.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof L.type!="string"||!L.type)throw Error('Invalid parameter: "type"');if(!(L.options instanceof Object))throw Error('Invalid parameter: "options"');var W=L.options.paramType;if(typeof W!="number"||W<0||W>2)throw Error('Invalid parameter: "options of paramType"');if(W===0){if(typeof L.options.remindType!="string")throw Error('Invalid parameter: "options of remindType"')}else if(W===1){if(typeof L.options.duration!="number")throw Error('Invalid parameter: "options of duration"')}else if(W===2){var F=L.options,w=F.startTime,G=F.endTime;if(!(w instanceof Object&&Object.keys(w).length))throw Error('Invalid parameter: "options of startTime"');if(!w.hours||typeof w.hours!="number"||!w.minutes||typeof w.minutes!="number")throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(G instanceof Object&&Object.keys(G).length))throw Error('Invalid parameter: "options of endTime"');if(!G.hours||typeof G.hours!="number"||!G.minutes||typeof G.minutes!="number")throw Error('Invalid parameter: "options of endTime of hours or minutes"')}var S=l.XZ.call(this).error;if(S)return Promise.reject(S);var re=this.context,q=re.accessToken,X=re.orgName,Q=re.appName,ee=re.userId,se=re.jid,Oe="chatgroup",xe={};switch(W){case 0:xe={type:L.options.remindType};break;case 1:xe={ignoreDuration:L.options.duration};break;case 2:var Ne=L.options;w=Ne.startTime,G=Ne.endTime,xe={ignoreInterval:"".concat(w.hours,":").concat(w.minutes,"-").concat(G.hours,":").concat(G.minutes)}}L.type==="singleChat"&&(Oe="user");var qe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/users/").concat(ee,"/notification/").concat(Oe,"/").concat(L.conversationId,"?resource=").concat(se.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(xe),headers:{Authorization:"Bearer "+q,"Content-Type":"application/json"},success:L.success,error:L.error};return v.kg.debug("Call setSilentModeForConversation:",L),c.hj.call(this,qe)}function g(L){if(typeof L.conversationId!="string"||!L.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof L.type!="string"||!L.type)throw Error('Invalid parameter: "type"');var W=l.XZ.call(this).error;if(W)return Promise.reject(W);var F=this.context,w=F.accessToken,G=F.orgName,S=F.appName,re=F.userId,q=F.jid,X="chatgroup";L.type==="singleChat"&&(X="user");var Q={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(S,"/users/").concat(re,"/notification/").concat(X,"/").concat(L.conversationId,"?resource=").concat(q.clientResource),type:"PUT",dataType:"json",data:JSON.stringify({type:"DEFAULT"}),headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"},success:L.success,error:L.error};return v.kg.debug("Call clearRemindTypeForConversation:",L),c.hj.call(this,Q)}function P(L){if(typeof L.conversationId!="string"||!L.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof L.type!="string"||!L.type)throw Error('Invalid parameter: "type"');var W=l.XZ.call(this).error;if(W)return Promise.reject(W);var F=this.context,w=F.accessToken,G=F.orgName,S=F.appName,re=F.userId,q="chatgroup";L.type==="singleChat"&&(q="user");var X={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(S,"/users/").concat(re,"/notification/").concat(q,"/").concat(L.conversationId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"},success:L.success,error:L.error};return v.kg.debug("Call getSilentModeForConversation:",L),c.hj.call(this,X)}function M(L){if(!Array.isArray(L.conversationList))throw Error('Invalid parameter: "conversationList"');var W=l.XZ.call(this).error;if(W)return Promise.reject(W);var F=this.context,w=F.accessToken,G=F.orgName,S=F.appName,re=F.userId,q=[],X=[];L.conversationList.forEach(function(Oe){Oe.type==="singleChat"?q.push(Oe.id):X.push(Oe.id)});var Q=q.length?q.join(","):"",ee=X.length?X.join(","):"",se={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(S,"/users/").concat(re,"/notification?user=").concat(Q,"&group=").concat(ee),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"},success:L.success,error:L.error};return v.kg.debug("Call getSilentModeForConversations:",L),c.hj.call(this,se)}function U(L){if(typeof L.language!="string"||!L.language)throw Error('Invalid parameter: "language"');var W=l.XZ.call(this).error;if(W)return Promise.reject(W);var F={translationLanguage:L.language},w=this.context,G=w.accessToken,S=w.orgName,re=w.appName,q=w.userId,X={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(re,"/users/").concat(q,"/notification/language"),type:"PUT",dataType:"json",data:JSON.stringify(F),headers:{Authorization:"Bearer "+G,"Content-Type":"application/json"},success:L.success,error:L.error};return v.kg.debug("Call setPushPerformLanguage:",L),c.hj.call(this,X)}function x(L){var W=l.XZ.call(this).error;if(W)return Promise.reject(W);var F=this.context,w=F.accessToken,G=F.orgName,S=F.appName,re=F.userId,q={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(S,"/users/").concat(re,"/notification/language"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"},success:L==null?void 0:L.success,error:L==null?void 0:L.error};return v.kg.debug("Call getPushPerformLanguage:",L),c.hj.call(this,q)}function H(L){var W=l.XZ.call(this).error;if(W)return Promise.reject(W);if(typeof L.pageSize!="number")throw Error('Invalid parameter: "pageSize"');var F=this.context,w=F.accessToken,G=F.orgName,S=F.appName,re=F.userId,q={limit:L.pageSize||10,cursor:L.cursor};L.cursor||delete q.cursor;var X={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(S,"/users/").concat(re,"/notification/mute/type"),type:"GET",dataType:"json",data:q,headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"}};return v.kg.debug("Call getSilentModeRemindTypeConversations:",L),c.hj.call(this,X).then(function(Q){return Q.data?{data:{conversations:Q.data.map(function(ee){return"user"in ee?{conversationId:ee.user,type:"singleChat",remindType:ee.value}:{conversationId:ee.group,type:"groupChat",remindType:ee.value}}),cursor:Q.cursor},type:Q.type}:Q})}},7384:function(a,m,n){n.r(m),n.d(m,{changeChatThreadName:function(){return U},createChatThread:function(){return I},destroyChatThread:function(){return M},getChatThreadDetail:function(){return G},getChatThreadLastMessage:function(){return F},getChatThreadMembers:function(){return x},getChatThreads:function(){return W},getJoinedChatThreads:function(){return L},joinChatThread:function(){return g},leaveChatThread:function(){return P},removeChatThreadMember:function(){return H}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(8309),n(2222),n(9554),n(4747),n(9753);var c=n(4024),l=n(3246),v=n(4363),y=function(S,re,q,X){return new(q||(q=Promise))(function(Q,ee){function se(Ne){try{xe(X.next(Ne))}catch(qe){ee(qe)}}function Oe(Ne){try{xe(X.throw(Ne))}catch(qe){ee(qe)}}function xe(Ne){var qe;Ne.done?Q(Ne.value):(qe=Ne.value,qe instanceof q?qe:new q(function(Et){Et(qe)})).then(se,Oe)}xe((X=X.apply(S,re||[])).next())})},T=function(S,re){var q,X,Q,ee,se={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return ee={next:Oe(0),throw:Oe(1),return:Oe(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function Oe(xe){return function(Ne){return function(qe){if(q)throw new TypeError("Generator is already executing.");for(;se;)try{if(q=1,X&&(Q=2&qe[0]?X.return:qe[0]?X.throw||((Q=X.return)&&Q.call(X),0):X.next)&&!(Q=Q.call(X,qe[1])).done)return Q;switch(X=0,Q&&(qe=[2&qe[0],Q.value]),qe[0]){case 0:case 1:Q=qe;break;case 4:return se.label++,{value:qe[1],done:!1};case 5:se.label++,X=qe[1],qe=[0];continue;case 7:qe=se.ops.pop(),se.trys.pop();continue;default:if(!((Q=(Q=se.trys).length>0&&Q[Q.length-1])||qe[0]!==6&&qe[0]!==2)){se=0;continue}if(qe[0]===3&&(!Q||qe[1]>Q[0]&&qe[1]<Q[3])){se.label=qe[1];break}if(qe[0]===6&&se.label<Q[1]){se.label=Q[1],Q=qe;break}if(Q&&se.label<Q[2]){se.label=Q[2],se.ops.push(qe);break}Q[2]&&se.ops.pop(),se.trys.pop();continue}qe=re.call(S,se)}catch(Et){qe=[6,Et],X=0}finally{q=Q=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([xe,Ne])}}};function I(S){if(typeof S.name!="string"||S.name==="")throw Error("Invalid parameter name: ".concat(S.name));if(typeof S.messageId!="string"||S.messageId==="")throw Error("Invalid parameter messageId: ".concat(S.messageId));if(typeof S.parentId!="string"||S.parentId==="")throw Error("Invalid parameter parentId: ".concat(S.parentId));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se=q.jid,Oe={name:S.name,msg_id:S.messageId,group_id:S.parentId,owner:this.user},xe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread?resource=").concat(se.clientResource),type:"POST",dataType:"json",data:JSON.stringify(Oe),headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,xe).then(function(Ne){var qe=Ne.data.thread_id;return Ne.data={chatThreadId:qe},Ne})}function g(S){if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se=q.jid,Oe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId,"/user/").concat(this.user,"/join?resource=").concat(se.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,Oe).then(function(xe){var Ne=xe.data.detail;return Ne.messageId=Ne.msgId,Ne.parentId=Ne.groupId,delete Ne.msgId,delete Ne.groupId,xe})}function P(S){return y(this,void 0,void 0,function(){var re,q,X,Q,ee,se,Oe;return T(this,function(xe){switch(xe.label){case 0:if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));return(re=l.XZ.call(this).error)?[2,Promise.reject(re)]:(q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se=q.jid,Oe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId,"/user/").concat(this.user,"/quit?resource=").concat(se.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}},[4,c.hj.call(this,Oe)]);case 1:return xe.sent(),[2]}})})}function M(S){return y(this,void 0,void 0,function(){var re,q,X,Q,ee,se,Oe;return T(this,function(xe){switch(xe.label){case 0:if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));return(re=l.XZ.call(this).error)?[2,Promise.reject(re)]:(q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se=q.jid,Oe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId,"?resource=").concat(se.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}},[4,c.hj.call(this,Oe)]);case 1:return xe.sent(),[2]}})})}function U(S){if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));if(typeof S.name!="string"||S.name==="")throw Error("Invalid parameter name: ".concat(S.name));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se=q.jid,Oe={name:S.name},xe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId,"?resource=").concat(se.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(Oe),headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,xe)}function x(S){if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se={limit:S.pageSize||20,cursor:S.cursor||""},Oe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId,"/users"),type:"GET",dataType:"json",data:se,headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,Oe)}function H(S){if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));if(typeof S.username!="string"||S.username==="")throw Error("Invalid parameter username: ".concat(S.username));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se=q.jid,Oe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId,"/users/").concat(S.username,"?resource=").concat(se.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,Oe)}function L(S){var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se={limit:S.pageSize||20,cursor:S.cursor||""},Oe={url:S.parentId?"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/threads/chatgroups/").concat(S.parentId,"/user/").concat(this.user):"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/threads/user/").concat(this.user),type:"GET",dataType:"json",data:se,headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,Oe).then(function(xe){var Ne=xe.entities;return Ne==null||Ne.forEach(function(qe){qe.parentId=qe.groupId,qe.messageId=qe.msgId,delete qe.groupId,delete qe.msgId}),xe})}function W(S){if(typeof S.parentId!="string"||S.parentId==="")throw Error("Invalid parameter parentId: ".concat(S.parentId));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se={cursor:S.cursor||"",limit:S.pageSize||20},Oe={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/threads/chatgroups/").concat(S.parentId),type:"GET",dataType:"json",data:se,headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,Oe).then(function(xe){var Ne=xe.entities;return Ne==null||Ne.forEach(function(qe){qe.parentId=qe.groupId,qe.messageId=qe.msgId,delete qe.groupId,delete qe.msgId}),xe})}function F(S){var re=this;if(!Array.isArray(S.chatThreadIds))throw Error("Invalid parameter chatThreadIds: ".concat(S.chatThreadIds));var q=l.XZ.call(this).error;if(q)return Promise.reject(q);var X=this.context,Q=X.orgName,ee=X.appName,se=X.accessToken,Oe={threadIds:S.chatThreadIds},xe={url:"".concat(this.apiUrl,"/").concat(Q,"/").concat(ee,"/thread/message"),type:"POST",dataType:"json",data:JSON.stringify(Oe),headers:{Authorization:"Bearer "+se,"Content-Type":"application/json"}};return c.hj.call(this,xe).then(function(Ne){return w.call(re,Ne)})}function w(S){var re=this,q=S.entities;return q==null||q.forEach(function(X){X.chatThreadId=X.thread_id,X.last_message&&JSON.stringify(X.last_message)!=="{}"?X.lastMessage=v.w.call(re,X.last_message):X.lastMessage=X.last_message,delete X.thread_id,delete X.last_message}),S}function G(S){if(typeof S.chatThreadId!="string"||S.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(S.chatThreadId));var re=l.XZ.call(this).error;if(re)return Promise.reject(re);var q=this.context,X=q.orgName,Q=q.appName,ee=q.accessToken,se={url:"".concat(this.apiUrl,"/").concat(X,"/").concat(Q,"/thread/").concat(S.chatThreadId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+ee,"Content-Type":"application/json"}};return c.hj.call(this,se).then(function(Oe){return Oe.data.affiliationsCount=Oe.data.affiliations_count,Oe.data.messageId=Oe.data.msgId,Oe.data.parentId=Oe.data.groupId,delete Oe.data.affiliations_count,delete Oe.data.msgId,delete Oe.data.groupId,Oe})}},70:function(a,m,n){n.r(m),n.d(m,{getSupportedLanguages:function(){return y},translateMessage:function(){return T}}),n(1539),n(8674),n(2222),n(9753);var c=n(3246),l=n(7360),v=n(4024);function y(){var I=c.XZ.call(this).error;if(I)return Promise.reject(I);var g=this.context,P=g.orgName,M=g.appName,U=g.accessToken,x={url:"".concat(this.apiUrl,"/").concat(P,"/").concat(M,"/users/").concat(this.user,"/translate/support/language"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+U}};return l.kg.debug("Call getSupportedLanguages"),v.hj.call(this,x)}function T(I){if(typeof I.text!="string"||I.text==="")throw Error('Invalid parameter: "text"');if(!Array.isArray(I.languages))throw Error('Invalid parameter: "language"');var g=c.XZ.call(this).error;if(g)return Promise.reject(g);var P=this.context,M=P.orgName,U=P.appName,x=P.accessToken,H="".concat(this.apiUrl,"/").concat(M,"/").concat(U,"/users/").concat(this.user,"/translate"),L={text:I.text,to:I.languages},W={url:H,dataType:"json",type:"POST",data:JSON.stringify(L),headers:{Authorization:"Bearer "+x}};return l.kg.debug("Call translateMessage"),v.hj.call(this,W)}},3246:function(a,m,n){n.d(m,{H7:function(){return P},XZ:function(){return I},_W:function(){return g}}),n(7941),n(9554),n(1539),n(4747),n(6699),n(2023);var c=n(5531),l=n(7252),v=n(7360);function y(){var M=this.context.appName,U=this.context.orgName;return!(!M||!U)||(this.onError&&this.onError({type:c.E.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function T(){var M,U=this.context.accessToken;if(!U){var x=l.Z.create({type:c.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return v.kg.debug("token not assign error",U),this.onError&&this.onError(x),(M=this.eventHandler)===null||M===void 0||M.dispatch("onError",x),!1}return!0}function I(){if(this._initWithAppId){if(!y.call(this))return{error:l.Z.create({type:c.E.WEBIM_CONNECTION_CLOSED,message:"not login"})};if(!T.call(this))return{error:l.Z.create({type:c.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"})}}else if(!y.call(this))return{error:l.Z.create({type:c.E.REST_PARAMS_STATUS,message:"appkey or token error"})};return{}}function g(M){var U=M.data,x=M.type;return{data:{status:Object.keys(U.errorKeys).length>0?"fail":"success",errorKeys:U.errorKeys,successKeys:U.successKeys},type:x}}function P(M){var U=M.data,x=void 0;return Object.keys(U.errorKeys).length>0&&Object.keys(U.errorKeys).forEach(function(H){var L=U.errorKeys[H];x=L.includes("is not part of you")?l.Z.create({type:c.E.NO_PERMISSION,message:L}):L.includes("size of metadata for this single chatroom exceeds the user defined limit")||L.includes("total size of chatroom metadata for this app exceeds the user defined limit")||L.includes("is exceeding maximum limit")?l.Z.create({type:c.E.MAX_LIMIT,message:L}):L.includes("is not Legal")?l.Z.create({type:c.E.REQUEST_PARAMETER_ERROR,message:L}):L.includes("Failed to update userMetadata. Concurrent updates not allowed")?l.Z.create({type:c.E.OPERATION_NOT_ALLOWED,message:L}):l.Z.create({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,message:L})}),x}},4319:function(a,m,n){n.d(m,{Ge:function(){return x},Gf:function(){return v},Nt:function(){return I},XV:function(){return P},al:function(){return M},bh:function(){return H},ke:function(){return U},th:function(){return T},xd:function(){return g},xz:function(){return l},zj:function(){return y}});var c=n(5531),l=15e3,v=15e3,y=3e5,T=1e4,I=1e4,g=8e3,P=3e5,M=3e4,U=5,x=3,H=[c.E.MAX_LIMIT,c.E.WEBIM_TOKEN_EXPIRED,c.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,c.E.USER_NOT_FOUND,c.E.WEBIM_CONNCTION_AUTH_ERROR,c.E.REQUEST_PARAMETER_ERROR,c.E.WEBIM_CONNCTION_AUTH_ERROR,c.E.WEBIM_SERVER_SERVING_DISABLED]},2071:function(a,m,n){n.d(m,{$x:function(){return T},F3:function(){return I},TJ:function(){return l},Tp:function(){return M},Wc:function(){return c},el:function(){return v},iB:function(){return g},iO:function(){return y},yK:function(){return P}}),n(6992),n(1532),n(1539),n(8783),n(3948);var c=7,l=new Map,v="im",y=new Map,T="32f24ab2ddb74f508aa9286c356cec84",I=1e3,g={INIT:9674,API:9675},P="direct",M=-1},1595:function(a,m,n){var c,l,v,y,T,I;n.d(m,{C8:function(){return c},aC:function(){return I},c:function(){return v},dd:function(){return T},fI:function(){return l},td:function(){return y}}),function(g){g[g.UNKNOWOPERATION=-1]="UNKNOWOPERATION",g[g.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",g[g.REST_DEL_SESSION=2]="REST_DEL_SESSION",g[g.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",g[g.REST_PIN_CONVERSATION=4]="REST_PIN_CONVERSATION",g[g.REST_MARK_CONVERSATION=5]="REST_MARK_CONVERSATION",g[g.REST_UPLOAD_FILE_IN_PARTS=6]="REST_UPLOAD_FILE_IN_PARTS",g[g.REST_DELETE_MESSAGES_CONVERSATIONS=7]="REST_DELETE_MESSAGES_CONVERSATIONS",g[g.REST_PIN_MESSAGE=8]="REST_PIN_MESSAGE",g[g.REST_FETCH_PINMESSAGES=9]="REST_FETCH_PINMESSAGES",g[g.REST_OPERATE=100]="REST_OPERATE",g[g.MSYNC_SENDMESSAGE=101]="MSYNC_SENDMESSAGE",g[g.MSYNC_RECALLMESSAGE=102]="MSYNC_RECALLMESSAGE",g[g.MSYNC_MODIFYMESSAGE=103]="MSYNC_MODIFYMESSAGE",g[g.MSYNC_OPERATE=200]="MSYNC_OPERATE",g[g.ROSTER_ADD=201]="ROSTER_ADD",g[g.ROSTER_REMOVE=202]="ROSTER_REMOVE",g[g.ROSTER_ACCEPT=203]="ROSTER_ACCEPT",g[g.ROSTER_DECLINE=204]="ROSTER_DECLINE",g[g.ROSTER_BAN=205]="ROSTER_BAN",g[g.ROSTER_ALLOW=206]="ROSTER_ALLOW",g[g.ROSTER_BLACKLIST=207]="ROSTER_BLACKLIST",g[g.ROSTER_CONTACTS=208]="ROSTER_CONTACTS",g[g.ROSTER_GET_ALL_CONTACTS_REMARKS=209]="ROSTER_GET_ALL_CONTACTS_REMARKS",g[g.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE=210]="ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE",g[g.ROSTER_SET_CONTACT_REMARK=211]="ROSTER_SET_CONTACT_REMARK",g[g.ROSTER_OPERATE=300]="ROSTER_OPERATE",g[g.USER_LOGIN=301]="USER_LOGIN",g[g.USER_CREATE=302]="USER_CREATE",g[g.USER_UPDATE_USERINFO=303]="USER_UPDATE_USERINFO",g[g.USER_FETCH_USERINFO=304]="USER_FETCH_USERINFO",g[g.USER_UPDATE_NICK=305]="USER_UPDATE_NICK",g[g.USER_UPLOAD_PUSH_TOKEN=306]="USER_UPLOAD_PUSH_TOKEN",g[g.USER_LOGGEDIN_OTHER_PLATFORM=307]="USER_LOGGEDIN_OTHER_PLATFORM",g[g.USER_OPERATE=400]="USER_OPERATE",g[g.GROUP_CREATEGROUP=401]="GROUP_CREATEGROUP",g[g.GROUP_BLOCK_MESSAGE=402]="GROUP_BLOCK_MESSAGE",g[g.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=403]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",g[g.GROUP_FETCH_USERS_GROUP=404]="GROUP_FETCH_USERS_GROUP",g[g.GROUP_CHANGE_OWNER=405]="GROUP_CHANGE_OWNER",g[g.GROUP_FETCH_SPECIFICATION=406]="GROUP_FETCH_SPECIFICATION",g[g.GROUP_CHANGE_GROUPATTRIBUTE=407]="GROUP_CHANGE_GROUPATTRIBUTE",g[g.GROUP_FETCH_MEMEBERS=408]="GROUP_FETCH_MEMEBERS",g[g.GROUP_GET_ADMIN=409]="GROUP_GET_ADMIN",g[g.GROUP_SET_ADMIN=410]="GROUP_SET_ADMIN",g[g.GROUP_REMOVE_ADMIN=411]="GROUP_REMOVE_ADMIN",g[g.GROUP_DESTOTYGROUP=412]="GROUP_DESTOTYGROUP",g[g.GROUP_LEAVEGROUP=413]="GROUP_LEAVEGROUP",g[g.GROUP_INVITE_TO_GROUP=414]="GROUP_INVITE_TO_GROUP",g[g.GROUP_JOIN_PUBLICGROUP=415]="GROUP_JOIN_PUBLICGROUP",g[g.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=416]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",g[g.GROUP_DECLINE_JOINPUBLICGROUPAPPL=417]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",g[g.GROUP_ACCEPT_INVITATION=418]="GROUP_ACCEPT_INVITATION",g[g.GROUP_DECLINE_INVITATION=419]="GROUP_DECLINE_INVITATION",g[g.GROUP_REMOVE_MEMBER=420]="GROUP_REMOVE_MEMBER",g[g.GROUP_REMOVE_MEMBERS=421]="GROUP_REMOVE_MEMBERS",g[g.GROUP_MUTE_MEMBERS=422]="GROUP_MUTE_MEMBERS",g[g.GROUP_UNMUTE_MEMBERS=423]="GROUP_UNMUTE_MEMBERS",g[g.GROUP_FETCH_MUTES=424]="GROUP_FETCH_MUTES",g[g.GROUP_BLOCK_MEMBER=425]="GROUP_BLOCK_MEMBER",g[g.GROUP_BLOCK_MEMBERS=426]="GROUP_BLOCK_MEMBERS",g[g.GROUP_UNBLOCK_MEMBER=427]="GROUP_UNBLOCK_MEMBER",g[g.GROUP_UNBLOCK_MEMBERS=428]="GROUP_UNBLOCK_MEMBERS",g[g.GROUP_GET_BLOCK_LIST=429]="GROUP_GET_BLOCK_LIST",g[g.GROUP_MUTE_ALLMEMBERS=430]="GROUP_MUTE_ALLMEMBERS",g[g.GROUP_UNMUTE_ALLMEMBERS=431]="GROUP_UNMUTE_ALLMEMBERS",g[g.GROUP_ADD_WHITELIST=432]="GROUP_ADD_WHITELIST",g[g.GROUP_REMOVE_WHITELIST=433]="GROUP_REMOVE_WHITELIST",g[g.GROUP_FETCH_WHITELIST=434]="GROUP_FETCH_WHITELIST",g[g.GROUP_IS_IN_WHITELIST=435]="GROUP_IS_IN_WHITELIST",g[g.GROUP_GET_READ_USERS=436]="GROUP_GET_READ_USERS",g[g.GROUP_FETCH_ANNOUNCEMENT=437]="GROUP_FETCH_ANNOUNCEMENT",g[g.GROUP_UPDATE_ANNOUNCEMENT=438]="GROUP_UPDATE_ANNOUNCEMENT",g[g.GROUP_UPLOAD_SHAREDFILE=439]="GROUP_UPLOAD_SHAREDFILE",g[g.GROUP_DELETE_SHAREDFILE=440]="GROUP_DELETE_SHAREDFILE",g[g.GROUP_FETCH_SHAREDFILE=441]="GROUP_FETCH_SHAREDFILE",g[g.GROUP_DOWNLOAD_SHAREDFILE=442]="GROUP_DOWNLOAD_SHAREDFILE",g[g.GROUP_MEMBER_SET_META_DATA=443]="GROUP_MEMBER_SET_META_DATA",g[g.GROUP_MEMBER_FETCH_META_DATA=444]="GROUP_MEMBER_FETCH_META_DATA",g[g.GROUP_OPERATE=500]="GROUP_OPERATE",g[g.CHATROOM_FETCH_CHATROOMSWITHPAGE=501]="CHATROOM_FETCH_CHATROOMSWITHPAGE",g[g.CHATROOM_CREATECHATROOM=502]="CHATROOM_CREATECHATROOM",g[g.CHATROOM_DESTORYCHATROOM=503]="CHATROOM_DESTORYCHATROOM",g[g.CHATROOM_FETCH_SPECIFICATION=504]="CHATROOM_FETCH_SPECIFICATION",g[g.CHATROOM_CHANGE_ATTRIBUTE=505]="CHATROOM_CHANGE_ATTRIBUTE",g[g.CHATROOM_REMOVE_MEMBER=506]="CHATROOM_REMOVE_MEMBER",g[g.CHATROOM_REMOVE_MEMBERS=507]="CHATROOM_REMOVE_MEMBERS",g[g.CHATROOM_ADD_MEMBERS=508]="CHATROOM_ADD_MEMBERS",g[g.CHATROOM_JOINCAHTROOM=509]="CHATROOM_JOINCAHTROOM",g[g.CHATROOM_LEAVECAHTROOM=510]="CHATROOM_LEAVECAHTROOM",g[g.CHATROOM_FETCH_MEMBERS=511]="CHATROOM_FETCH_MEMBERS",g[g.CHATROOM_GET_ADMIN=512]="CHATROOM_GET_ADMIN",g[g.CHATROOM_SET_ADMIN=513]="CHATROOM_SET_ADMIN",g[g.CHATROOM_REMOVE_ADMIN=514]="CHATROOM_REMOVE_ADMIN",g[g.CHATROOM_MUTE_USER=515]="CHATROOM_MUTE_USER",g[g.CHATROOM_UNMUTE_USER=516]="CHATROOM_UNMUTE_USER",g[g.CHATROOM_FETCH_MUTES=517]="CHATROOM_FETCH_MUTES",g[g.CHATROOM_BLOCK_USER=518]="CHATROOM_BLOCK_USER",g[g.CHATROOM_BLOCK_USERS=519]="CHATROOM_BLOCK_USERS",g[g.CHATROOM_UNBLOCK_USER=520]="CHATROOM_UNBLOCK_USER",g[g.CHATROOM_UNBLOCK_USERS=521]="CHATROOM_UNBLOCK_USERS",g[g.CHATROOM_FETCH_BANS=522]="CHATROOM_FETCH_BANS",g[g.CHATROOM_MUTE_ALLMEMEBERS=523]="CHATROOM_MUTE_ALLMEMEBERS",g[g.CHATROOM_UNMUTE_ALLMEMEBERS=524]="CHATROOM_UNMUTE_ALLMEMEBERS",g[g.CHATROOM_ADD_WHITELIST=525]="CHATROOM_ADD_WHITELIST",g[g.CHATROOM_REMOVE_WHITELIST=526]="CHATROOM_REMOVE_WHITELIST",g[g.CHATROOM_FETCH_WHITELIST=527]="CHATROOM_FETCH_WHITELIST",g[g.CHATROOM_FETCH_MEMBERIN_WHITELIST=528]="CHATROOM_FETCH_MEMBERIN_WHITELIST",g[g.CHATROOM_FETCH_ANNOUNCEMENT=529]="CHATROOM_FETCH_ANNOUNCEMENT",g[g.CHATROOM_UPDATE_ANNOUNCEMENT=530]="CHATROOM_UPDATE_ANNOUNCEMENT",g[g.CHATROOM_REMOVE_SHARE_FILE=531]="CHATROOM_REMOVE_SHARE_FILE",g[g.CHATROOM_GET_SHARE_FILE_LIST=532]="CHATROOM_GET_SHARE_FILE_LIST",g[g.CHATROOM_UPLOAD_FILE=533]="CHATROOM_UPLOAD_FILE",g[g.CHATROOM_SET_META_DATA=534]="CHATROOM_SET_META_DATA",g[g.CHATROOM_DELETE_META_DATA=535]="CHATROOM_DELETE_META_DATA",g[g.CHATROOM_FETCH_META_DATA=536]="CHATROOM_FETCH_META_DATA",g[g.CHATROOM_FETCH_USER_JOINED_CHATROOM=537]="CHATROOM_FETCH_USER_JOINED_CHATROOM",g[g.CHATROOM_OPERATE=600]="CHATROOM_OPERATE"}(c||(c={})),function(g){g.SDK_INTERNAL="SDK_INTERNAL",g.LOGIN="USER_LOGIN",g.REGISTER="USER_CREATE",g.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",g.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",g.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",g.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",g.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",g.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",g.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",g.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",g.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",g.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",g.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",g.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",g.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",g.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",g.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",g.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",g.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",g.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",g.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",g.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",g.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",g.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",g.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",g.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",g.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",g.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",g.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",g.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",g.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",g.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",g.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",g.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",g.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",g.SET_CHATROOM_ATTR="CHATROOM_SET_META_DATA",g.DELETE_CHATROOM_ATTR="CHATROOM_DELETE_META_DATA",g.GET_CHATROOM_ATTR="CHATROOM_FETCH_META_DATA",g.GET_USER_JOINED_CHATROOM="CHATROOM_FETCH_USER_JOINED_CHATROOM",g.CREATE_GROUP="GROUP_CREATEGROUP",g.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",g.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",g.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",g.CHANGE_OWNER="GROUP_CHANGE_OWNER",g.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",g.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",g.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",g.GET_GROUP_ADMIN="GROUP_GET_ADMIN",g.SET_GROUP_ADMIN="GROUP_SET_ADMIN",g.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",g.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",g.QUIT_GROUP="GROUP_LEAVEGROUP",g.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",g.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",g.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",g.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",g.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",g.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",g.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",g.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",g.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",g.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",g.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",g.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",g.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",g.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",g.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",g.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",g.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",g.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",g.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",g.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",g.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",g.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",g.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",g.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",g.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",g.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",g.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",g.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",g.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",g.SET_GROUP_MEMBER_ATTRS="GROUP_MEMBER_SET_META_DATA",g.GET_GROUP_MEMBER_ATTR="GROUP_MEMBER_FETCH_META_DATA",g.GET_SESSION_LIST="REST_GET_SESSION_LIST",g.DELETE_SESSION="REST_DEL_SESSION",g.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",g.PIN_CONVERSATION="REST_PIN_CONVERSATION",g.REST_UPLOAD_FILE_IN_PARTS="REST_UPLOAD_FILE_IN_PARTS",g.REST_DELETE_MESSAGES_CONVERSATIONS="REST_DELETE_MESSAGES_CONVERSATIONS",g.MARK_CONVERSATION="REST_MARK_CONVERSATION",g.REST_FETCH_PINMESSAGES="REST_FETCH_PINMESSAGES",g.REST_PIN_MESSAGE="REST_PIN_MESSAGE",g.UPDATE_USER_INFO="USER_UPDATE_USERINFO",g.GET_USER_INFO="USER_FETCH_USERINFO",g.UPDATE_USER_NICK="USER_UPDATE_NICK",g.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",g.USER_LOGGEDIN_OTHER_PLATFORM="USER_LOGGEDIN_OTHER_PLATFORM",g.GET_BLACK_LIST="ROSTER_BLACKLIST",g.GET_CONTACTS="ROSTER_CONTACTS",g.ROSTER_GET_ALL_CONTACTS_REMARKS="ROSTER_GET_ALL_CONTACTS_REMARKS",g.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE="ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE",g.ROSTER_SET_CONTACT_REMARK="ROSTER_SET_CONTACT_REMARK",g.ROSTER_ADD="ROSTER_ADD",g.ROSTER_REMOVE="ROSTER_REMOVE",g.ROSTER_ACCEPT="ROSTER_ACCEPT",g.ROSTER_DECLINE="ROSTER_DECLINE",g.ROSTER_BAN="ROSTER_BAN",g.ROSTER_ALLOW="ROSTER_ALLOW",g.SEND_MSG="MSYNC_SENDMESSAGE",g.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",g.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE",g.MODIFY_MESSAGE="MSYNC_MODIFYMESSAGE"}(l||(l={})),function(g){g.GET_DNS="REST_DNSLIST",g.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",g.LOGIN_BY_PWD="LOGIN_BY_PWD",g.RESISTER="REGISTER",g.REST_INIT_UPLOAD_TASK_IN_PARTS="REST_INIT_UPLOAD_TASK_IN_PARTS",g.REST_UPLOAD_PART="REST_UPLOAD_PART",g.REST_COMPLETE_UPLOAD_PART="REST_COMPLETE_UPLOAD_PART",g.REST_ABORT_UPLOAD_PART="REST_ABORT_UPLOAD_PART",g.CONNECT_WEBSOCKET="CONNECT_WEBSOCKET"}(v||(v={})),function(g){g[g["5G"]=7]="5G",g[g["4G"]=7]="4G",g[g["3G"]=7]="3G",g[g["2G"]=7]="2G",g[g["SLOW-2G"]=7]="SLOW-2G",g[g.WIFI=2]="WIFI",g[g.LAN=1]="LAN",g[g.DISCONNECTED=0]="DISCONNECTED",g[g.NONE=0]="NONE",g[g.UNKNOWN=-1]="UNKNOWN",g[g["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(y||(y={})),function(g){g[g.success=200]="success",g[g.failed=500]="failed",g[g.disconnect=-1]="disconnect",g[g.closed=401]="closed",g[g.notFound=404]="notFound",g[g.reachLimit=429]="reachLimit"}(T||(T={})),function(g){g[g.web=0]="web",g[g.native=1]="native"}(I||(I={}))},6424:function(a,m,n){n.d(m,{gA:function(){return wt},ZP:function(){return fe}}),n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(2222),n(3710),n(7941),n(9714),n(3843),n(8309),n(2772),n(5212),n(7327),n(5827),n(9826),n(4553),n(561),n(9653),n(1038),n(2564),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(6699),n(2023),n(3161),n(4048),n(9753),n(9554),n(4747),n(285),n(1637),n(8145),n(1249),n(4812);var c=n(4188),l=n.n(c),v=n(3720),y=n.n(v),T=n(5531),I=n(8161),g=n(7360),P=["public","members_only","allow_user_invites","invite_need_confirm"],M={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function U(z,te){var ye,oe,be,Pe,ie,at,we=this,V=this.context,Le=V.userId,Ce=V.jid,rt=te.from.name===Le&&Ce.clientResource!==te.from.clientResource;return te.isThread?(be={id:te.mucId.name,name:te.mucName,operation:"",parentId:te.mucParentId.name,operator:te.from.name,userName:te.to.length?te.to[0].name:""},Pe={chatThreadId:te.mucId.name,chatThreadName:te.mucName,operation:"",parentId:te.mucParentId.name}):(oe={type:"",owner:te.from.name,gid:te.mucId.name,from:te.from.name,fromJid:te.from,to:te.to.length?te.to[0].name:"",toJid:te.to,chatroom:te.isChatroom,status:te.status},ie={operation:"",id:te.mucId.name,from:te.from.name},te.isChatroom&&(!((ye=te==null?void 0:te.eventInfo)===null||ye===void 0)&&ye.ext)&&(at=JSON.parse(te.eventInfo.ext))),({45:function(){var ge,Be,He;ie.operation="memberAttributesUpdate";var Ie=JSON.parse((ge=te==null?void 0:te.eventInfo)===null||ge===void 0?void 0:ge.ext)||{};ie.attributes=Ie.properties||{},ie.userId=Ie.username||"",rt?(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onMultiDeviceEvent",ie):(He=we.eventHandler)===null||He===void 0||He.dispatch("onGroupEvent",ie)},44:function(){var ge;ie.operation="removeChatRoomAttributes",ie.attributes=at.result.successKeys,at.result.successKeys.length>0&&((ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomEvent",ie))},43:function(){var ge;ie.operation="updateChatRoomAttributes";var Be={};at.result.successKeys.forEach(function(He){Be[He]=at.properties[He]}),ie.attributes=Be,at.result.successKeys.length>0&&((ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomEvent",ie))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var ge;Pe.operation="chatThreadNameUpdate",(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onMultiDeviceEvent",Pe)},37:function(){var ge;be.operation="userRemove",(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatThreadChange",be)},36:function(){var ge;Pe.operation="chatThreadLeave",(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onMultiDeviceEvent",Pe)},35:function(){var ge;Pe.operation="chatThreadJoin",(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onMultiDeviceEvent",Pe)},34:function(){var ge;Pe.operation="chatThreadDestroy",(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onMultiDeviceEvent",Pe)},33:function(){var ge;Pe.operation="chatThreadCreate",(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onMultiDeviceEvent",Pe)},32:function(){var ge,Be,He,Ie;oe.type=te.isChatroom?"rmChatRoomMute":"rmGroupMute",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="unmuteAllMembers",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},31:function(){var ge,Be,He,Ie;oe.type=te.isChatroom?"muteChatRoom":"muteGroup",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="muteAllMembers",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},30:function(){var ge,Be,He,Ie;oe.type=te.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="removeAllowlistMember",ie.userId=oe.to,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},29:function(){var ge,Be,He,Ie;oe.type=te.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="addUserToAllowlist",ie.userId=oe.to,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},28:function(){var ge,Be,He,Ie;oe.type="deleteFile",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="deleteFile",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},27:function(){var ge,Be,He,Ie;oe.type="uploadFile",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="uploadFile",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},26:function(){var ge,Be,He,Ie;oe.type="deleteAnnouncement",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="deleteAnnouncement",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},25:function(){var ge,Be,He,Ie;oe.type="updateAnnouncement",oe.announcement=te.reason,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="updateAnnouncement",ie.announcement=te.reason,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},24:function(){var ge,Be,He,Ie;oe.type="removeMute",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="unmuteMember",ie.userId=oe.to,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},23:function(){var ge,Be,He,Ie;if(oe.type="addMute",we.onPresence&&we.onPresence(oe),te.ext&&typeof te.ext=="string"){var ht=JSON.parse(te.ext);ht.user_mute_time&&(oe.muteTimestamp=ht.user_mute_time,ie.muteTimestamp=ht.user_mute_time)}te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="muteMember",ie.userId=oe.to,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},22:function(){var ge,Be,He,Ie;oe.type="removeAdmin",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="removeAdmin",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},21:function(){var ge,Be,He,Ie;oe.type="addAdmin",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="setAdmin",ie.userId=oe.to,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},20:function(){var ge,Be,He,Ie;oe.type="changeOwner",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="changeOwner",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},19:function(){var ge,Be,He,Ie;oe.type="direct_joined",oe.groupName=te.mucName,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="directJoined",ie.name=te.mucName,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},18:function(){var ge,Be,He,Ie;oe.type=te.isChatroom?"leaveChatRoom":"leaveGroup",we.onPresence&&we.onPresence(oe);var ht=te.mucMemberCount;ht&&(ie.memberCount=ht),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="memberAbsence",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},17:function(){var ge,Be,He,Ie;te.isChatroom&&te.ext&&(ie.ext=te.ext,oe.ext=te.ext),oe.type=te.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",we.onPresence&&we.onPresence(oe);var ht=te.mucMemberCount;te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="memberPresence",ht&&(ie.memberCount=ht),te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},16:function(){var ge,Be;oe.type="unblock",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe)},15:function(){var ge,Be;oe.type="block",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe)},14:function(){var ge,Be,He,Ie,ht,Tt=te.isChatroom;if(!Tt){var Yt=JSON.parse(((ge=te==null?void 0:te.eventInfo)===null||ge===void 0?void 0:ge.ext)||"{}",function(dt,Qe){return dt==="last_modified"?Number(Qe):P.includes(dt)?Qe==="true"||Qe===!0:Qe});ie.detail=oe.detail={},Object.keys(Yt).forEach(function(dt){var Qe=M[dt];if(Qe){var kt=Yt[dt];ie.detail&&(ie.detail[Qe]=kt),oe.detail&&(oe.detail[Qe]=kt)}})}oe.type="update",we.onPresence&&we.onPresence(oe),Tt?(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onChatroomChange",oe):(He=we.eventHandler)===null||He===void 0||He.dispatch("onGroupChange",oe),ie.operation="updateInfo",Tt?(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onChatroomEvent",ie):(ht=we.eventHandler)===null||ht===void 0||ht.dispatch("onGroupEvent",ie)},13:function(){var ge,Be,He,Ie;oe.type="allow",oe.reason=te.reason,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),te.reason&&(ie.reason=te.reason),ie.operation="unblockMember",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},12:function(){var ge,Be;oe.type="ban",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe)},11:function(){var ge,Be;oe.type="getBlackList",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe)},10:function(){var ge,Be,He,Ie;oe.type="removedFromGroup",oe.kicked=oe.to,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="removeMember",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},9:function(){var ge,Be,He,Ie;oe.type="invite_decline",oe.kicked=oe.to,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="rejectInvite",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},8:function(){var ge,Be,He,Ie;oe.type="invite_accept",oe.kicked=oe.to,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="acceptInvite",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},7:function(){var ge,Be,He,Ie;oe.type="invite",oe.kicked=oe.to,oe.groupName=te.mucName,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="inviteToJoin",ie.name=te.mucName,te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},6:function(){var ge,Be,He,Ie;oe.type="joinPublicGroupDeclined",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="joinPublicGroupDeclined",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(ie.userId=te.to.length?te.to[0].name:"",(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie))},5:function(){var ge,Be,He,Ie;oe.type="joinPublicGroupSuccess",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="acceptRequest",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},4:function(){var ge,Be,He,Ie;oe.type="joinGroupNotifications",oe.reason=te.reason,we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),te.reason&&(ie.reason=te.reason),ie.operation="requestToJoin",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},3:function(){var ge,Be;oe.type="leave",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe)},2:function(){var ge,Be;oe.type="join",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe)},1:function(){var ge,Be,He,Ie;oe.type="deleteGroupChat",we.onPresence&&we.onPresence(oe),te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomChange",oe):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupChange",oe),ie.operation="destroy",te.isChatroom?(He=we.eventHandler)===null||He===void 0||He.dispatch("onChatroomEvent",ie):(Ie=we.eventHandler)===null||Ie===void 0||Ie.dispatch("onGroupEvent",ie)},0:function(){var ge,Be;ie.operation="create",te.isChatroom?(ge=we.eventHandler)===null||ge===void 0||ge.dispatch("onChatroomEvent",ie):(Be=we.eventHandler)===null||Be===void 0||Be.dispatch("onGroupEvent",ie)}}[z]||function(){console.error("No match operation ".concat(z))})()}var x=function(z){var te=this.root.lookup("easemob.pb.MUCBody").decode(z.payload),ye=te.operation;g.kg.debug("onMucMessage",te),U.call(this,ye,te)},H={handleRosterMsg:function(z){var te,ye,oe,be,Pe,ie,at=this.root.lookup("easemob.pb.RosterBody").decode(z.payload),we={type:"",to:at.to[0].name,from:at.from.name,status:at.reason};switch(at.operation){case 2:we.type="subscribe",this.onContactInvited&&this.onContactInvited(we),(te=this.eventHandler)===null||te===void 0||te.dispatch("onContactInvited",we);break;case 3:we.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(we),(ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onContactDeleted",we);break;case 4:we.type="subscribed",this.onContactAdded&&this.onContactAdded(we),(oe=this.eventHandler)===null||oe===void 0||oe.dispatch("onContactAdded",we);break;case 5:we.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(we),(be=this.eventHandler)===null||be===void 0||be.dispatch("onContactRefuse",we);break;case 6:case 7:break;case 8:we.type="subscribed",this.onContactAgreed&&this.onContactAgreed(we),(Pe=this.eventHandler)===null||Pe===void 0||Pe.dispatch("onContactAgreed",we);break;case 9:we.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(we),(ie=this.eventHandler)===null||ie===void 0||ie.dispatch("onContactRefuse",we);break;default:g.kg.error("handleRosterMsg:",at)}this.onPresence&&we.type&&this.onPresence(we)}},L=n(7252),W=function(z){var te,ye,oe,be,Pe,ie,at=this.root.lookup("easemob.pb.StatisticsBody").decode(z.payload),we=at.operation,V=at.reason;switch(we){case 0:this.onStatisticMessage&&this.onStatisticMessage(at),(te=this.eventHandler)===null||te===void 0||te.dispatch("onStatisticMessage",at);break;case 1:ie=L.Z.create({type:T.E.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.disconnectedReason=ie,this.logOut=!0,this.onError&&this.onError(ie),(ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onError",ie);break;case 2:ie=L.Z.create({type:T.E.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),V&&(ie.data={loginInfoCustomExt:at.reason}),this.disconnectedReason=ie,this.logOut=!0,this.onError&&this.onError(ie),(oe=this.eventHandler)===null||oe===void 0||oe.dispatch("onError",ie);break;case 3:ie=L.Z.create({type:T.E.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.disconnectedReason=ie,this.logOut=!0,this.onError&&this.onError(ie),(be=this.eventHandler)===null||be===void 0||be.dispatch("onError",ie);break;case 4:ie=L.Z.create({type:T.E.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.disconnectedReason=ie,this.logOut=!0,this.onError&&this.onError(ie),(Pe=this.eventHandler)===null||Pe===void 0||Pe.dispatch("onError",ie);break;default:g.kg.error("handleStatisticsMsg:",at)}},F=(n(9720),n(4024)),w=n(4363),G=n(9937);function S(z){var te,ye=[],oe=[],be=z.data;be&&be.values&&be.values.forEach(function(Pe){Object.entries(Pe.status).forEach(function(ie){oe.push({device:ie[0],status:Number(ie[1])})}),ye.push({userId:Pe.uid,lastTime:Number(Pe.last_time),expire:Number(Pe.expiry),ext:Pe.ext,statusDetails:oe})}),this.onPresenceStatusChange&&this.onPresenceStatusChange(ye),(te=this.eventHandler)===null||te===void 0||te.dispatch("onPresenceStatusChange",ye)}function re(z){var te=this;z.data.forEach(function(ye){var oe,be={from:ye.from,to:ye.to,chatType:ye.channel_type==="chat"?"singleChat":"groupChat",messageId:ye.messageId,reactions:ye.reactions,ts:ye.ts};(oe=te.eventHandler)===null||oe===void 0||oe.dispatch("onReactionChange",be)})}function q(z){var te,ye,oe,be;if(z.data){var Pe=z.data,ie={id:Pe.id||"",name:Pe.name||"",parentId:Pe.muc_parent_id||"",messageId:Pe.msg_parent_id||"",timestamp:Pe.timestamp||0,operator:Pe.from||"",operation:""};switch(Pe.operation){case"create":ie.operation="create",ie.createTimestamp=ie.timestamp,ie.messageCount=0,(te=this.eventHandler)===null||te===void 0||te.dispatch("onChatThreadChange",ie);break;case"update_msg":ie.operation="update",ie.messageCount=Pe.message_count,Pe.last_message&&JSON.stringify(Pe.last_message)!=="{}"?ie.lastMessage=w.w.call(this,Pe.last_message):JSON.stringify(Pe.last_message)==="{}"&&(ie.lastMessage={}),(ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onChatThreadChange",ie);break;case"update":ie.operation="update",ie.messageCount=Pe.message_count,(oe=this.eventHandler)===null||oe===void 0||oe.dispatch("onChatThreadChange",ie);break;case"delete":ie.operation="destroy",(be=this.eventHandler)===null||be===void 0||be.dispatch("onChatThreadChange",ie)}}}function X(z){var te,ye=z.data;if(ye.resource!==this.clientResource){var oe={operation:"deleteRoaming",conversationId:ye.to,chatType:ye.chatType==="chat"?"singleChat":"groupChat",resource:ye.resource};(te=this.eventHandler)===null||te===void 0||te.dispatch("onMultiDeviceEvent",oe)}}function Q(z){var te,ye,oe=z.data,be="";if(this.clientResource!==oe.res||oe.from!==this.user){switch(oe.op){case"del":be="deleteConversation";break;case"top":be="pinnedConversation";break;case"not_top":be="unpinnedConversation";break;case"mark":be="markConversation";break;case"mark_delete":be="unMarkConversation";break;case"pin":be="pin";break;case"pin_delete":be="unpin";break;default:return void g.kg.error("unexpected conversation op:",oe.op)}if(be!=="pin"&&be!=="unpin"){var Pe={operation:be,conversationId:oe.id,conversationType:oe.type==="chat"?"singleChat":"groupChat",timestamp:oe.ts};Pe.operation!=="markConversation"&&Pe.operation!=="unMarkConversation"||oe.ext&&(Pe.conversationMark=G.Z[oe.ext]),(ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onMultiDeviceEvent",Pe)}else{var ie=oe.ext,at=oe.from,we=oe.id,V=oe.type,Le=oe.ts,Ce={messageId:ie||"",conversationId:V==="chat"?at:we,conversationType:w.U[V],operation:be,operatorId:at,time:Le};(te=this.eventHandler)===null||te===void 0||te.dispatch("onMessagePinEvent",Ce)}}}function ee(z){var te,ye=this;(te=z.values)===null||te===void 0||te.forEach(function(oe){var be,Pe,ie,at,we;if(oe.operator_resource!==ye.clientResource)if("ignoreInterval"in oe.data){var V={operation:"setSilentModeForUser",resource:oe.operator_resource,data:oe.data};(be=ye.eventHandler)===null||be===void 0||be.dispatch("onMultiDeviceEvent",V)}else"group"in oe?(V={operation:Object.keys((Pe=oe.data)!==null&&Pe!==void 0?Pe:{}).length===0?"removeSilentModeForConversation":"setSilentModeForConversation",resource:oe.operator_resource,conversationId:oe.group,type:"groupChat",data:oe.data},(ie=ye.eventHandler)===null||ie===void 0||ie.dispatch("onMultiDeviceEvent",V)):(V={operation:Object.keys((at=oe.data)!==null&&at!==void 0?at:{}).length===0?"removeSilentModeForConversation":"setSilentModeForConversation",resource:oe.operator_resource,conversationId:oe.user,type:"singleChat",data:oe.data},(we=ye.eventHandler)===null||we===void 0||we.dispatch("onMultiDeviceEvent",V))})}var se=function(z){var te=F.P6.parseNotify(z.payload);switch(te.type){case"presence":S.call(this,te);break;case"reaction":re.call(this,te);break;case"thread":q.call(this,te);break;case"roaming_delete":X.call(this,te);break;case"conv":Q.call(this,te);break;case"user_notification_mute":ee.call(this,te);break;default:g.kg.error("unexpected notify type: ".concat(te.type))}},Oe=n(7288),xe=n(9743),Ne=2,qe=n(4998),Et=n(6801),et=n(2071),st=n(1595),vt=n(4319);function It(z){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},It(z)}var wt,Ht,ue,Se=function(){return Se=Object.assign||function(z){for(var te,ye=1,oe=arguments.length;ye<oe;ye++)for(var be in te=arguments[ye])Object.prototype.hasOwnProperty.call(te,be)&&(z[be]=te[be]);return z},Se.apply(this,arguments)},Ue=function(z,te,ye,oe){return new(ye||(ye=Promise))(function(be,Pe){function ie(V){try{we(oe.next(V))}catch(Le){Pe(Le)}}function at(V){try{we(oe.throw(V))}catch(Le){Pe(Le)}}function we(V){var Le;V.done?be(V.value):(Le=V.value,Le instanceof ye?Le:new ye(function(Ce){Ce(Le)})).then(ie,at)}we((oe=oe.apply(z,te||[])).next())})},ct=function(z,te){var ye,oe,be,Pe,ie={label:0,sent:function(){if(1&be[0])throw be[1];return be[1]},trys:[],ops:[]};return Pe={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(Pe[Symbol.iterator]=function(){return this}),Pe;function at(we){return function(V){return function(Le){if(ye)throw new TypeError("Generator is already executing.");for(;ie;)try{if(ye=1,oe&&(be=2&Le[0]?oe.return:Le[0]?oe.throw||((be=oe.return)&&be.call(oe),0):oe.next)&&!(be=be.call(oe,Le[1])).done)return be;switch(oe=0,be&&(Le=[2&Le[0],be.value]),Le[0]){case 0:case 1:be=Le;break;case 4:return ie.label++,{value:Le[1],done:!1};case 5:ie.label++,oe=Le[1],Le=[0];continue;case 7:Le=ie.ops.pop(),ie.trys.pop();continue;default:if(!((be=(be=ie.trys).length>0&&be[be.length-1])||Le[0]!==6&&Le[0]!==2)){ie=0;continue}if(Le[0]===3&&(!be||Le[1]>be[0]&&Le[1]<be[3])){ie.label=Le[1];break}if(Le[0]===6&&ie.label<be[1]){ie.label=be[1],be=Le;break}if(be&&ie.label<be[2]){ie.label=be[2],ie.ops.push(Le);break}be[2]&&ie.ops.pop(),ie.trys.pop();continue}Le=te.call(z,ie)}catch(Ce){Le=[6,Ce],oe=0}finally{ye=be=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([we,V])}}},Xe=function(z,te,ye){if(ye||arguments.length===2)for(var oe,be=0,Pe=te.length;be<Pe;be++)!oe&&be in te||(oe||(oe=Array.prototype.slice.call(te,0,be)),oe[be]=te[be]);return z.concat(oe||Array.prototype.slice.call(te))};(function(z){z[z.NORMAL=0]="NORMAL",z[z.SINGLECHAT=1]="SINGLECHAT",z[z.GROUPCHAT=2]="GROUPCHAT",z[z.CHATROOM=3]="CHATROOM",z[z.READ_ACK=4]="READ_ACK",z[z.DELIVER_ACK=5]="DELIVER_ACK",z[z.RECALL=6]="RECALL",z[z.CHANNEL_ACK=7]="CHANNEL_ACK",z[z.EDIT=8]="EDIT"})(wt||(wt={})),function(z){z[z.APNs=0]="APNs",z[z.FCM=1]="FCM",z[z.HMSPUSH=2]="HMSPUSH",z[z.MIPUSH=3]="MIPUSH",z[z.MEIZUPUSH=4]="MEIZUPUSH",z[z.VIVOPUSH=5]="VIVOPUSH",z[z.OPPOPUSH=6]="OPPOPUSH",z[z.HONORPUSH=7]="HONORPUSH"}(Ht||(Ht={})),function(z){z[z.OK=0]="OK",z[z.FAIL=1]="FAIL",z[z.UNAUTHORIZED=2]="UNAUTHORIZED",z[z.MISSING_PARAMETER=3]="MISSING_PARAMETER",z[z.WRONG_PARAMETER=4]="WRONG_PARAMETER",z[z.REDIRECT=5]="REDIRECT",z[z.TOKEN_EXPIRED=6]="TOKEN_EXPIRED",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.NO_ROUTE=8]="NO_ROUTE",z[z.UNKNOWN_COMMAND=9]="UNKNOWN_COMMAND",z[z.PB_PARSER_ERROR=10]="PB_PARSER_ERROR",z[z.BIND_ANOTHER_DEVICE=11]="BIND_ANOTHER_DEVICE",z[z.IM_FORBIDDEN=12]="IM_FORBIDDEN",z[z.TOO_MANY_DEVICES=13]="TOO_MANY_DEVICES",z[z.PLATFORM_LIMIT=14]="PLATFORM_LIMIT",z[z.USER_MUTED=15]="USER_MUTED",z[z.ENCRYPT_DISABLE=16]="ENCRYPT_DISABLE",z[z.ENCRYPT_ENABLE=17]="ENCRYPT_ENABLE",z[z.DECRYPT_FAILURE=18]="DECRYPT_FAILURE",z[z.PERMISSION_DENIED_EXTERNAL=19]="PERMISSION_DENIED_EXTERNAL"}(ue||(ue={}));var bt=["txt","img","video","audio","file","loc","custom","cmd","combine"],_t=F.P6.getEnvInfo();function Lt(){var z,te,ye,oe,be="webim",Pe="",ie="",at=[],we=new Date().valueOf(),V=F.P6.getDevicePlatform(_t);if(this.isFixedDeviceId){var Le=F.P6.getLocalDeviceInfo();if(Le){var Ce=JSON.parse(Le);be=Ce.deviceId,Pe=Ce.deviceName,ie=Ce.deviceUuid}else this.deviceId==="webim"?(ie="".concat(V,"_").concat(we.toString()),be="".concat(this.deviceId,"_").concat(ie),Pe=this.deviceId):be=Pe=ie="webim_".concat(V,"_").concat(this.deviceId),F.P6.setLocalDeviceInfo(JSON.stringify({deviceId:be,deviceName:Pe,deviceUuid:ie}))}else this.deviceId==="webim"?(ie="random_".concat(V,"_").concat(we.toString()),be="".concat(this.deviceId,"_").concat(ie),Pe=this.deviceId):be=Pe=ie="webim_".concat(V,"_").concat(this.deviceId);this.context.jid&&(this.context.jid.clientResource=be);var rt=this.root.lookup("easemob.pb.Provision"),ge=rt.decode(at);ge.compressType=this.compressType,ge.encryptType=this.encryptType,ge.osType=this.osType,ge.version=this.version,ge.deviceName=Pe,ge.resource=be,ge.deviceUuid=ie,ge.authToken='{"token":"$t$'+this.token+'"}',ge.sessionId=Date.now().toString()+":",this.loginInfoCustomExt&&(ge.reason=this.loginInfoCustomExt),g.kg.debug("provision info",{version:this.version,resource:be,isFixedDeviceId:this.isFixedDeviceId,loginInfoCustomExt:!!this.loginInfoCustomExt,token:((te=(z=this.token)===null||z===void 0?void 0:z.slice)===null||te===void 0?void 0:te.call(z,0,10))+"...",userId:(oe=(ye=this.context)===null||ye===void 0?void 0:ye.jid)===null||oe===void 0?void 0:oe.name}),ge.actionVersion="v5.0",ge=rt.encode(ge).finish();var Be=this.root.lookup("easemob.pb.MSync"),He=Be.decode(at);return He.version=this.version,He.guid=this.context.jid,He.auth="$t$"+this.token,He.command=3,He.deviceId=Pe,He.serviceId=this.dataReport.getServiceId(),He.encryptType=this.encryptType,He.payload=ge,Be.encode(He).finish()}function Ae(z,te){var ye=this,oe=F.P6.getEnvInfo();if(oe.platform==="zfb"||oe.platform==="dd"){for(var be="",Pe=0;Pe<z.length;Pe++)be+=String.fromCharCode(z[Pe]);return{data:be=l().btoa(be),isBuffer:!1,complete:function(){},fail:function(at){at.errMsg!=="sendSocketMessage:fail taskID not exist"&&at.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||(g.kg.debug("send message fail and reconnect"),ye.reconnecting||ye.reconnect()),te&&ye._msgHash&&ye._msgHash[te]&&ye._msgHash[te].fail({id:te})}}}var ie=z;return{data:ie.buffer.slice(ie.byteOffset,ie.byteOffset+ie.byteLength),fail:function(at){at.errMsg!=="sendSocketMessage:fail taskID not exist"&&at.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||ye.reconnecting||ye.reconnect(),te&&ye._msgHash&&ye._msgHash[te]&&ye._msgHash[te].fail({id:te})}}}function Re(z,te){var ye;return Ue(this,void 0,void 0,function(){var oe,be,Pe,ie,at,we;return ct(this,function(V){switch(V.label){case 0:for(g.kg.debug("distributeMeta, metas length: ",z.length),oe=[],be=function(Le){var Ce=z[Le],rt=new(y())(Ce.id.low,Ce.id.high,Ce.id.unsigned).toString(),ge=Ce.from.name,Be=Ce.to?Ce.to.name:"",He=!!Ce.to&&Ce.to.domain.indexOf("conference")!==-1;if(Pe._load_msg_cache.some(function(Ie){return Ie.msgId===rt}))return"continue";switch(Pe._load_msg_cache.length<=Pe.max_cache_length||Pe._load_msg_cache.shift(),Pe._load_msg_cache.push({msgId:rt,from:ge,to:Be,isGroup:He}),Ce.ns){case 0:W.call(Pe,Ce);break;case 1:oe.push(I.Z.call(Pe,Ce,te,!1,!0,!0));break;case 2:x.call(Pe,Ce);break;case 3:H.handleRosterMsg.call(Pe,Ce);break;case 4:Pe.registerConfrIQHandler&&Pe.registerConfrIQHandler(Ce,te,Pe);break;case 5:se.call(Pe,Ce);break;default:g.kg.error("distributeMeta",Ce)}},Pe=this,ie=0;ie<z.length;ie++)be(ie);return[4,Promise.all(oe)];case 1:return at=V.sent(),(we=at.filter(function(Le){return Le&&Le.type!=="cmd"})).length>0&&((ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onMessage",we)),[2]}})})}function Me(z,te){Re.call(this,z,te)}function lt(z){var te;this._offlineMessagePullState===qe.a.SYNC_INIT&&(this._offlineMessagePullState=qe.a.SYNC_START,this._offlineMessagePullQueue=z.unread.reduce(function(ye,oe){return ye.find(function(be){return be.name===oe.queue.name})||ye.push(oe.queue),ye},[]),(te=this.eventHandler)===null||te===void 0||te.dispatch("onOfflineMessageSyncStart"))}function nt(z){var te;if(this._offlineMessagePullState===qe.a.SYNC_START){var ye=this._offlineMessagePullQueue.findIndex(function(oe){return oe.name===z.queue.name});ye>-1&&this._offlineMessagePullQueue.splice(ye,1),this._offlineMessagePullQueue.length===0&&(this._offlineMessagePullState=qe.a.SYNC_FINISH,(te=this.eventHandler)===null||te===void 0||te.dispatch("onOfflineMessageSyncFinish"))}}function Ye(z){var te=this.root.lookup("easemob.pb.CommUnreadDL");te=te.decode(z.payload);var ye=new(y())(te.timestamp.low,te.timestamp.high,te.timestamp.unsigned).toString();if(this.expirationTime&&this.compareTokenExpireTime(Number(ye),this.expirationTime),te.unread.length===0)Mt.call(this);else{lt.call(this,te),g.kg.debug("pull unread message",te.unread);for(var oe=0;oe<te.unread.length;oe++)$e.call(this,te.unread[oe].queue)}Mt.call(this)}function Fe(){var z=[],te=this.root.lookup("easemob.pb.StatisticsBody"),ye=te.decode(z);ye.operation=0,ye=te.encode(ye).finish();var oe=this.root.lookup("easemob.pb.Meta").decode(z);oe.id=new Date().valueOf(),oe.ns=0,oe.payload=ye;var be=this.root.lookup("easemob.pb.CommSyncUL"),Pe=be.decode(z);Pe.meta=oe,Pe=be.encode(Pe).finish();var ie=this.root.lookup("easemob.pb.MSync"),at=ie.decode(z);return at.version=this.version,at.encryptType=[0],at.command=0,at.payload=Pe,ie.encode(at).finish()}function Ve(z){var te=[],ye=this.root.lookup("easemob.pb.CommSyncUL"),oe=ye.decode(te);oe.queue=z,oe=ye.encode(oe).finish();var be=this.root.lookup("easemob.pb.MSync"),Pe=be.decode(te);return Pe.version=this.version,Pe.encryptType=this.encryptType,Pe.command=0,Pe.payload=oe,be.encode(Pe).finish()}function $e(z){g.kg.debug("sendBackqueue",z);var te=Ve.call(this,z);Zt.call(this,te)}function ke(z,te){var ye=[],oe=this.root.lookup("easemob.pb.CommSyncUL"),be=oe.decode(ye);be.queue=te,be.key=new(y())(z.low,z.high,z.unsigned).toString(),be=oe.encode(be).finish();var Pe=this.root.lookup("easemob.pb.MSync"),ie=Pe.decode(ye);return ie.version=this.version,ie.encryptType=this.encryptType,ie.command=0,ie.payload=be,Pe.encode(ie).finish()}function Je(){var z=this;this.uniPush&&this.isRegisterPush===!1&&(this.isRegisterPush=!0,this.uniPush.onRegister(function(te){g.kg.debug("push token onRegister",te);var ye=z.uniPushConfig||{},oe=ye.APNsCertificateName,be=oe===void 0?"":oe,Pe=ye.HMSCertificateName,ie=Pe===void 0?"":Pe,at=ye.HONORCertificateName,we=at===void 0?"":at,V=ye.MEIZUCertificateName,Le=V===void 0?"":V,Ce=ye.MICertificateName,rt=Ce===void 0?"":Ce,ge=ye.OPPOCertificateName,Be=ge===void 0?"":ge,He=ye.VIVOCertificateName,Ie=He===void 0?"":He;switch(te.push_type){case Ht.APNs:z.pushCertificateName=be;break;case Ht.HMSPUSH:z.pushCertificateName=ie;break;case Ht.HONORPUSH:z.pushCertificateName=we;break;case Ht.MEIZUPUSH:z.pushCertificateName=Le;break;case Ht.MIPUSH:z.pushCertificateName=rt;break;case Ht.OPPOPUSH:z.pushCertificateName=Be;break;case Ht.VIVOPUSH:z.pushCertificateName=Ie;break;default:g.kg.error("unexpected push type",te.push_type)}z.pushCertificateName&&te.push_token&&Et.r.call(z,{deviceId:z.clientResource,deviceToken:te.push_token,notifierName:z.pushCertificateName}).then(function(){g.kg.debug("uploadPushToken success")}).catch(function(ht){g.kg.debug("uploadPushToken failed",ht)})}))}function yt(){var z;this._offlineMessagePullState=qe.a.SYNC_INIT,this._offlineMessagePullQueue=[],this.times=1,this.autoReconnectNumTotal=0,this.onOpened&&this.onOpened(),Je.call(this),(z=this.eventHandler)===null||z===void 0||z.dispatch("onConnected"),pt.call(this),jt.call(this),Xt.call(this),Mt.call(this)}function Ct(z,te){g.kg.debug("sendLastSession",z);var ye=ke.call(this,z,te);Zt.call(this,ye)}function mt(z){var te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt,ge,Be,He=this,Ie=this.root.lookup("easemob.pb.Provision").decode(z.payload);if(this.context.jid&&(this.context.jid.clientResource=Ie.resource),this.clientResource=Ie.resource,this.provisionTimer&&clearTimeout(this.provisionTimer),g.kg.debug("receiveProvisionResult",Ie.status),this._isLogging=!1,Ie.status.errorCode===ue.OK){if(this.disconnectedReason=void 0,Ie.authToken){var ht=JSON.parse(Ie.authToken).expires_in;if(!this.tokenExpiredTimer&&!this.tokenWillExpireTimer){var Tt=Date.now();this.expirationTime=ht;var Yt=this.expirationTime-Tt;this.expiresIn=Yt<0?0:Yt,this.tokenExpireTimeCountDown(this.expiresIn)}}this.reconnecting=!1,this.logOut=!1,this.needSetReadyState&&(this.sock=Se(Se({},this.sock),{close:this.sock.close,send:this.sock.send,readyState:1})),this._localCache?!((te=this._localCache)===null||te===void 0)&&te.getInstance()?yt.call(this):this._localCache&&new this._localCache({user:this.user,dbName:"cache_".concat(Math.abs((0,xe.un)(this.appKey||this.appId)),"_").concat(this.user),version:Ne,onInit:function(){return Ue(He,void 0,void 0,function(){return ct(this,function(At){return g.kg.debug("localCache init success"),yt.call(this),[2]})})}}):yt.call(this),(ye=this.connectionResolve)===null||ye===void 0||ye.call(this)}else{var dt=void 0,Qe=Ie.status,kt=Qe.reason,Gt=Qe.errorCode;switch(g.kg.debug("provision errorCode: ",Gt),g.kg.debug("provision reason: ",kt),Gt){case ue.FAIL:dt=kt==="Sorry, user register limit"?L.Z.create({type:T.E.MAX_LIMIT,message:"Sorry, the number of user registrations limit has been reached"}):kt==="Sorry, user register rate limit"?L.Z.create({type:T.E.MAX_LIMIT,message:"Sorry, user register rate limit"}):kt==="Sorry, token expired"?L.Z.create({type:T.E.WEBIM_TOKEN_EXPIRED,message:"Sorry, token expired"}):kt==="Sorry, token or password does not match login info"?L.Z.create({type:T.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"INVALID_TOKEN"}):kt==="Sorry, user not found"?L.Z.create({type:T.E.USER_NOT_FOUND,message:"User not found"}):L.Z.create({type:T.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),(oe=this.connectionReject)===null||oe===void 0||oe.call(this,dt),(be=this.eventHandler)===null||be===void 0||be.dispatch("onError",dt);break;case ue.WRONG_PARAMETER:dt=L.Z.create({type:T.E.REQUEST_PARAMETER_ERROR,message:"Invalid parameter"}),(Pe=this.connectionReject)===null||Pe===void 0||Pe.call(this,dt),(ie=this.eventHandler)===null||ie===void 0||ie.dispatch("onError",dt);break;case ue.UNAUTHORIZED:dt=L.Z.create({type:T.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),(at=this.connectionReject)===null||at===void 0||at.call(this,dt),(we=this.eventHandler)===null||we===void 0||we.dispatch("onError",dt);break;case ue.IM_FORBIDDEN:dt=L.Z.create({type:T.E.WEBIM_SERVER_SERVING_DISABLED,message:"Server serving disabled."}),(V=this.connectionReject)===null||V===void 0||V.call(this,dt),(Le=this.eventHandler)===null||Le===void 0||Le.dispatch("onError",dt);break;case ue.PERMISSION_DENIED:dt=kt==="Sorry, the app month live count limit"?L.Z.create({type:T.E.MAX_LIMIT,message:"Sorry, the monthly active user limit for this app has been reached"}):kt==="Sorry, the app day live count limit"?L.Z.create({type:T.E.MAX_LIMIT,message:"Sorry, the daily active user limit for this app has been reached"}):kt==="Sorry, the app online count limit"?L.Z.create({type:T.E.MAX_LIMIT,message:"Sorry, the maximum number limit of online users for this app has been reached"}):L.Z.create({type:T.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),(Ce=this.connectionReject)===null||Ce===void 0||Ce.call(this,dt),(rt=this.eventHandler)===null||rt===void 0||rt.dispatch("onError",dt);break;default:dt=L.Z.create({type:T.E.WEBIM_CONNCTION_AUTH_ERROR,message:kt}),(ge=this.connectionReject)===null||ge===void 0||ge.call(this,dt),(Be=this.eventHandler)===null||Be===void 0||Be.dispatch("onError",dt)}this.disconnectedReason=dt}}function pt(){var z,te;if(((z=this.unMSyncSendMsgMap)===null||z===void 0?void 0:z.size)>0){for(var ye=Array.from(this.unMSyncSendMsgMap.keys()),oe=0;oe<ye.length;oe++){var be=this.unMSyncSendMsgMap.get(ye[oe]);Zt.call(this,be,ye[oe])}(te=this.unMSyncSendMsgMap)===null||te===void 0||te.clear()}}function Mt(){var z=Fe.call(this);Zt.call(this,z)}function Xt(){g.kg.debug("sendUnreadDeal");var z=tr.call(this);Zt.call(this,z)}function jt(){var z=this;zt.call(this),this.heartBeatID=setInterval(function(){(Date.now()-z.lastHeartbeat)/1e3>=30&&(g.kg.debug("send heart beat"),Xt.call(z),z.lastHeartbeat=Date.now())},this.heartBeatWait)}function zt(){clearInterval(this.heartBeatID)}function tr(){var z=this.root.lookup("easemob.pb.MSync"),te=z.decode([]);return te.version=this.version,te.encryptType=this.encryptType,te.command=1,z.encode(te).finish()}function Ke(z,te){return z.some(function(ye){return ye.name===te.name})}function Ot(z){var te=this.root.lookup("easemob.pb.CommNotice").decode(z.payload),ye=Ke(this._queues,te.queue);g.kg.debug("receive notice",te.queue,this._queues),ye||this.clientResource===te.queue.clientResource&&te.queue.name===this.context.userId||(this._queues.push(te.queue),this._queues.length===1&&$e.call(this,te.queue))}function j(z){return Ue(this,void 0,void 0,function(){var te,ye,oe,be,Pe,ie,at,we;return ct(this,function(V){if(te=F.P6.getEnvInfo(),ye=this.root.lookup("easemob.pb.MSync"),this.name==="miniCore"||te.platform==="web"){try{be=new Uint8Array(z.data),oe=ye.decode(be)}catch{throw new Error("decode message fail.")}return[2,oe]}if(te.platform==="zfb"||te.platform==="dd"){for(Pe=l().atob(z.data),ie=[],at=0,we=Pe.length;at<we;++at)ie.push(Pe.charCodeAt(at));return[2,ye.decode(ie)]}try{oe=ye.decode(z.data)}catch{throw new Error("decode message fail.")}return[2,oe]})})}function Y(z){var te=this;this.lastHeartbeat=Date.now(),this.probingTimer&&clearTimeout(this.probingTimer),z.then(function(ye){if(ye)switch(ye.command){case 0:_e.call(te,ye);break;case 1:Ye.call(te,ye);break;case 2:Ot.call(te,ye);break;case 3:mt.call(te,ye);break;default:g.kg.error("unexpected msync command: ".concat(ye.command))}else g.kg.error("unexpected msync result: ".concat(ye))})}function _e(z){var te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt,ge,Be,He,Ie,ht,Tt,Yt,dt,Qe,kt,Gt,At,$t,vr,pr,br,Pr,xr,Jr,Gr,sn,rn,bn,Un,Fn,Dn,Cn,On,er,no,Hn,oo,io,Bn;return Ue(this,void 0,void 0,function(){var Vt,Ir,Wt,me,Cr,Jn,Co,Ft,Xn,Oo,$r,Yn,So,No,Ln,vo,Zn,Eo,yo,Qn,Mo,jn,ko,N,B,J,ne,e,d,it,ae,Jt,Qt,or,he,Kt,ar,fr,Tr,Nr,Or,kr,Sr,nn,Dr,Sn=this;return ct(this,function(Fr){switch(Fr.label){case 0:if(Vt=(Vt=this.root.lookup("easemob.pb.CommSyncDL")).decode(z.payload),Ir=new(y())(Vt.serverId.low,Vt.serverId.high,Vt.serverId.unsigned).toString(),Wt=new(y())(Vt.metaId.low,Vt.metaId.high,Vt.metaId.unsigned).toString(),!(Number(Wt)>0))return[3,23];if(clearTimeout((te=this._msgHash[Wt])===null||te===void 0?void 0:te.messageTimer),!Vt.status)return[3,22];if(Vt.status.errorCode!==0)return[3,21];if((me=this._msgHash[Wt])!=null&&me.isHandleChatroom){try{if(Cr=((ye=this._msgHash[Wt])===null||ye===void 0?void 0:ye.operation)==="join"){Jn={};try{Vt.metas.length>0&&(Co=this.root.lookup("easemob.pb.MUCBody"),Ft=Co.decode(Vt.metas[0].payload),(Xn=JSON.parse(Ft.status.chatroomInfo||"{}")[this.user])&&(Jn={isAllMembersMuted:Xn.is_all_mute,createTimestamp:Xn.create_timestamp,isInAllowlist:Xn.is_in_white_list,memberCount:Xn.member_count,muteExpireTimestamp:Xn.mute_duration?Xn.mute_duration:-1}))}catch(en){g.kg.error("decode chat room info error",en)}((oe=this._msgHash[Wt])===null||oe===void 0?void 0:oe.resolve)instanceof Function&&this._msgHash[Wt].resolve({type:0,data:{action:"apply",id:this._msgHash[Wt].roomId,result:!0,user:this.context.userId,info:Jn}}),((be=this._msgHash[Wt])===null||be===void 0?void 0:be.success)instanceof Function&&this._msgHash[Wt].success({type:0,data:{action:"apply",id:this._msgHash[Wt].roomId,result:!0,user:this.context.userId,info:Jn}})}((Pe=this._msgHash[Wt])===null||Pe===void 0?void 0:Pe.resolve)instanceof Function&&!Cr&&this._msgHash[Wt].resolve({type:0,data:{result:!0}}),((ie=this._msgHash[Wt])===null||ie===void 0?void 0:ie.success)instanceof Function&&!Cr&&this._msgHash[Wt].success({type:0,data:{result:!0}}),et.iO.has(Wt)&&(Oo=et.iO.get(Wt),Tr=Oo.rpt,Nr=Oo.requestName,Tr({isEndApi:!0,data:{isSuccess:1,requestName:Nr,requestMethod:"WEBSOCKET",requestUrl:this.url,code:st.dd.success}}),et.iO.delete(Wt))}catch(en){et.iO.has(Wt)&&($r=et.iO.get(Wt),Tr=$r.rpt,Nr=$r.requestName,Tr({isEndApi:!0,data:{isSuccess:0,requestName:Nr,requestMethod:"WEBSOCKET",requestUrl:this.url,code:st.dd.failed,codeDesc:"when executing success function error"}}),et.iO.delete(Wt)),kr=L.Z.create({type:T.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:en}),this.onError&&this.onError(kr),(at=this.eventHandler)===null||at===void 0||at.dispatch("onError",kr)}delete this._msgHash[Wt]}return!me||me.isHandleChatroom?[3,20]:(Yn=null,So="",No=0,Ln=null,this._msgHash[Wt].thirdMessage?(this._msgHash[Wt].thirdMessage.id=Vt.serverId,this._msgHash[Wt].thirdMessage.timestamp=Vt.timestamp,[4,I.Z.call(this,this._msgHash[Wt].thirdMessage,Vt.status,!0,!0)]):[3,2]);case 1:Ln=Fr.sent(),Fr.label=2;case 2:if(Vt.metas.length===0)return[3,13];Fr.label=3;case 3:switch(Fr.trys.push([3,12,,13]),vo=Vt.metas[0],Zn=Vt.status,vo.ns){case 1:return[3,4];case 5:return[3,9]}return[3,10];case 4:return this.useReplacedMessageContents?[4,I.Z.call(this,vo,Zn,!0,!0)]:[3,8];case 5:return Ln=Fr.sent(),[4,(V=(we=this._localCache)===null||we===void 0?void 0:we.getInstance())===null||V===void 0?void 0:V.getMessageByServerMsgId(Wt)];case 6:return(Eo=Fr.sent())?[4,(Ce=(Le=this._localCache)===null||Le===void 0?void 0:Le.getInstance())===null||Ce===void 0?void 0:Ce.putMessageToDB(Se(Se(Se({},Eo),Ln),{id:Wt}))]:[3,8];case 7:Fr.sent(),Fr.label=8;case 8:return[3,11];case 9:return(yo=F.P6.parseNotify(Vt.metas[0].payload)).edit_msg&&(Qn=yo.edit_msg,Mo=Qn.count,jn=Qn.operator,ko=Qn.edit_time,N=Qn.sender,B=Qn.send_time,Yn={operationTime:ko,operatorId:jn,operationCount:Mo},So=N,No=Number(B)),[3,11];case 10:return g.kg.error("decode local meta error",vo),[3,11];case 11:return[3,13];case 12:return J=Fr.sent(),kr=L.Z.create({type:T.E.WEBIM_LOAD_MSG_ERROR,message:"decode local meta message error",data:J}),this.onError&&this.onError(kr),(rt=this.eventHandler)===null||rt===void 0||rt.dispatch("onError",kr),[3,13];case 13:et.TJ.has(Wt)&&(et.TJ.get(Wt).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:st.dd.success,msgId:Ir}}),et.TJ.delete(Wt)),Fr.label=14;case 14:return Fr.trys.push([14,18,,19]),ne={localMsgId:Wt,serverMsgId:Ir},Yn&&(this._msgHash[Wt].modifiedInfo=Yn,e=this._msgHash[Wt],d=e.editMessageId,Kt=e.type,it=e.chatType,ae=e.msg,Jt=e.to,Qt=e.translations,or={id:d,type:Kt,chatType:it,msg:ae,modifiedInfo:Yn,to:Jt,from:So,time:Number(No)},Qt&&(or.translations=Qt),ne.message=or,(He=(Be=(ge=this._localCache)===null||ge===void 0?void 0:ge.getInstance())===null||Be===void 0?void 0:Be.getMessageByServerMsgId(d))===null||He===void 0||He.then(function(en){var Wn,Fo;en&&en.type==="txt"&&((Fo=(Wn=Sn._localCache)===null||Wn===void 0?void 0:Wn.getInstance())===null||Fo===void 0||Fo.putMessageToDB(Se(Se({},en),{msg:or.msg,modifiedInfo:or.modifiedInfo,translations:or.translations})))})),Ln&&(ne.message=Ln),[4,(ht=(Ie=this._localCache)===null||Ie===void 0?void 0:Ie.getInstance())===null||ht===void 0?void 0:ht.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.SUCCESS})];case 15:return Fr.sent(),((Tt=this._msgHash[Wt])===null||Tt===void 0?void 0:Tt.success)instanceof Function?[4,this._msgHash[Wt].success(Wt,Ir)]:[3,17];case 16:Fr.sent(),Fr.label=17;case 17:return((Yt=this._msgHash[Wt])===null||Yt===void 0?void 0:Yt.resolve)instanceof Function&&this._msgHash[Wt].resolve(ne),[3,19];case 18:return he=Fr.sent(),kr=L.Z.create({type:T.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:he}),this.onError&&this.onError(kr),(dt=this.eventHandler)===null||dt===void 0||dt.dispatch("onError",kr),[3,19];case 19:this.onReceivedMessage&&this.onReceivedMessage({id:Wt,mid:Ir,to:this._msgHash[Wt].to,time:0}),(Qe=this.eventHandler)===null||Qe===void 0||Qe.dispatch("onReceivedMessage",{id:Wt,mid:Ir,to:this._msgHash[Wt].to}),delete this._msgHash[Wt],Fr.label=20;case 20:return[3,22];case 21:if(Vt.status.errorCode===15)((kt=this._msgHash[Wt])===null||kt===void 0?void 0:kt.fail)instanceof Function&&this._msgHash[Wt].fail({type:T.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject({type:T.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),(At=(Gt=this._localCache)===null||Gt===void 0?void 0:Gt.getInstance())===null||At===void 0||At.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL});else if(Vt.status.errorCode===1){switch(Kt=void 0,Vt.status.reason){case"blocked":Kt=T.E.PERMISSION_DENIED;break;case"group not found":Kt=T.E.GROUP_NOT_EXIST;break;case"not in group or chatroom":Kt=T.E.GROUP_NOT_JOINED;break;case"exceed recall time limit":Kt=T.E.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":Kt=T.E.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":Kt=T.E.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":Kt=T.E.USER_NOT_FRIEND,Vt.status.reason="not contact";break;case"group is disabled":Kt=T.E.GROUP_IS_DISABLED,Vt.status.reason="group is disabled";break;case"limit directed users":Kt=T.E.MAX_LIMIT;break;case"Sorry, edit limit reached":Kt=T.E.MAX_LIMIT,Vt.status.reason="Modify message limit reached";break;case"Sorry, message does not exist":Kt=T.E.MODIFY_MESSAGE_NOT_EXIST,Vt.status.reason="The message does not exist.";break;case"Sorry, You do not have permission":Kt=T.E.PERMISSION_DENIED,Vt.status.reason="You do not have the modified permission.";break;case"Sorry, format is incorrect":Kt=T.E.MODIFY_MESSAGE_FORMAT_ERROR,Vt.status.reason="The modify messaged format error.";break;case"Sorry, edit is not available":Kt=T.E.SERVICE_NOT_ENABLED,Vt.status.reason="The message modify function is not activated.";break;case"Sorry, edit fail":Kt=T.E.MODIFY_MESSAGE_FAILED,Vt.status.reason="Modify message failed.";break;default:Vt.status.reason.includes("grpID")&&Vt.status.reason.includes("does not exist!")?(Kt=T.E.CHATROOM_NOT_EXIST,Vt.status.reason="The chat room dose not exist."):Vt.status.reason.includes("username")&&Vt.status.reason.includes("doesn't exist!")?Kt=T.E.USER_NOT_FOUND:Vt.status.reason==="group member list is full!"?Kt=T.E.CHATROOM_MEMBERS_FULL:Vt.status.reason.includes("can not join this group")&&Vt.status.reason.includes("is in the blacklist")?(Kt=T.E.PERMISSION_DENIED,Vt.status.reason="permission denied"):Vt.status.reason==="can not operate this group, reason: group is disabled"?Kt=T.E.GROUP_IS_DISABLED:Vt.status.reason.includes("moderation")?Kt=T.E.MESSAGE_MODERATION_BLOCKED:Vt.status.reason.includes("group ID illegal, please check it")?(Kt=T.E.REQUEST_PARAMETER_ERROR,Vt.status.reason="Invalid parameter"):Kt=Vt.status.reason.includes("has create too many chatrooms")||Vt.status.reason.includes("has joined too many chatrooms")?T.E.MAX_LIMIT:Vt.status.reason.includes("auto create failed")?T.E.SERVER_BUSY:T.E.SERVER_UNKNOWN_ERROR}this._msgHash[Wt]&&(!(($t=this._msgHash[Wt])===null||$t===void 0)&&$t.isHandleChatroom?(Or=L.Z.create({type:Kt,message:Vt.status.reason||"",data:""}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].error instanceof Function&&this._msgHash[Wt].error(Or),et.iO.has(Wt)&&(ar=st.dd.failed,Kt===T.E.CHATROOM_NOT_EXIST?ar=st.dd.notFound:Kt===T.E.CHATROOM_MEMBERS_FULL&&(ar=st.dd.reachLimit),fr=et.iO.get(Wt),Tr=fr.rpt,Nr=fr.requestName,Tr({isEndApi:!0,data:{isSuccess:0,requestName:Nr,requestMethod:"WEBSOCKET",requestUrl:this.url,code:ar,codeDesc:Vt.status.reason}}),et.iO.delete(Wt))):(Or=L.Z.create({type:Kt,message:Vt.status.reason||"",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail({type:Kt,reason:Vt.status.reason?Vt.status.reason:"",data:{id:Wt,mid:Ir}}),(pr=(vr=this._localCache)===null||vr===void 0?void 0:vr.getInstance())===null||pr===void 0||pr.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL})),delete this._msgHash[Wt])}else if(Vt.status.errorCode===7)Vt.status.reason==="sensitive words"&&this._msgHash[Wt]?(Or=L.Z.create({type:T.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail({type:T.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:Wt,mid:Ir,reason:"sensitive words"}}),(Pr=(br=this._localCache)===null||br===void 0?void 0:br.getInstance())===null||Pr===void 0||Pr.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL})):Vt.status.reason==="blocked by mod_antispam"&&this._msgHash[Wt]?(Or=L.Z.create({type:T.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail({type:T.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:Wt,mid:Ir,reason:"blocked by mod_antispam"}}),(Jr=(xr=this._localCache)===null||xr===void 0?void 0:xr.getInstance())===null||Jr===void 0||Jr.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL})):Vt.status.reason==="user is mute"&&this._msgHash[Wt]?(Or=L.Z.create({type:T.E.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail(Or),(sn=(Gr=this._localCache)===null||Gr===void 0?void 0:Gr.getInstance())===null||sn===void 0||sn.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL})):Vt.status.reason==="traffic limit"&&this._msgHash[Wt]?(Or=L.Z.create({type:T.E.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail(Or),(bn=(rn=this._localCache)===null||rn===void 0?void 0:rn.getInstance())===null||bn===void 0||bn.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL})):Vt.status.reason==="Sorry, data is too large"&&this._msgHash[Wt]&&(Or=L.Z.create({type:T.E.MESSAGE_SIZE_LIMIT,message:"Sorry, data is too large",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail(Or),(Fn=(Un=this._localCache)===null||Un===void 0?void 0:Un.getInstance())===null||Fn===void 0||Fn.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL}));else if(Vt.status.errorCode===19)this._msgHash[Wt]&&(et.TJ.has(Wt)&&(et.TJ.get(Wt).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:Vt.status.reason||"",msgId:Ir}}),et.TJ.delete(Wt)),Or=L.Z.create({type:T.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:Vt.status.reason||"",data:{id:Wt,mid:Ir}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail({type:T.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:Wt,mid:Ir,reason:Vt.status.reason}}),(Cn=(Dn=this._localCache)===null||Dn===void 0?void 0:Dn.getInstance())===null||Cn===void 0||Cn.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL}));else if(this._msgHash[Wt]){et.TJ.has(Wt)&&(et.TJ.get(Wt).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.E.WEBIM_LOAD_MSG_ERROR,codeDesc:((On=Vt.status)===null||On===void 0?void 0:On.reason)||"",msgId:Ir}}),et.TJ.delete(Wt));try{Or=L.Z.create({type:T.E.WEBIM_LOAD_MSG_ERROR,message:((er=Vt.status)===null||er===void 0?void 0:er.reason)||"",data:{id:Wt,mid:Ir,reason:Vt.status&&Vt.status.reason}}),this._msgHash[Wt].reject instanceof Function&&this._msgHash[Wt].reject(Or),(Hn=(no=this._localCache)===null||no===void 0?void 0:no.getInstance())===null||Hn===void 0||Hn.updateLocalMessage(Wt,{serverMsgId:Ir,status:Oe.r.FAIL}),this._msgHash[Wt].fail instanceof Function&&this._msgHash[Wt].fail({type:T.E.WEBIM_LOAD_MSG_ERROR,data:{errorCode:Vt.status&&Vt.status.errorCode,reason:Vt.status&&Vt.status.reason}})}catch(en){kr=L.Z.create({type:T.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:en}),this.onError&&this.onError(kr),(oo=this.eventHandler)===null||oo===void 0||oo.dispatch("onError",kr)}delete this._msgHash[Wt]}else et.TJ.has(Wt)&&(et.TJ.get(Wt).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:Ir}}),et.TJ.delete(Wt)),kr=L.Z.create({type:T.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(kr),(io=this.eventHandler)===null||io===void 0||io.dispatch("onError",kr);Fr.label=22;case 22:return[2];case 23:if(Vt.metas&&Vt.metas.length!==0)try{Me.call(this,Vt.metas,Vt.status)}catch(en){kr=L.Z.create({type:T.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:en}),g.kg.error("decode message error",en),this.onError&&this.onError(kr),(Bn=this.eventHandler)===null||Bn===void 0||Bn.dispatch("onError",kr)}finally{Vt.isLast?(g.kg.debug("metas & CommSyncDLMessage.isLast",Vt.isLast),Sr=-1,this._queues.some(function(en,Wn){return en.name===Vt.name&&(Sr=Wn,!0)})&&Sr>0&&this._queues.splice(Sr,1),this._queues.length>0&&$e.call(this,this._queues[0]),nt.call(this,Vt)):Vt.nextKey&&(Dr=new(y())(Vt.nextKey.low,Vt.nextKey.high,Vt.nextKey.unsigned).toString(),g.kg.debug("nexKey:",Dr,"this.nextKey:",this.nexKey),Dr!==this.nexKey&&(this.nexKey=Dr,Ct.call(this,Vt.nextKey,Vt.queue)))}else Vt.isLast?(g.kg.debug("CommSyncDLMessage.isLast",Vt.isLast),nn=-1,this._queues.some(function(en,Wn){return en.name===Vt.queue.name&&(nn=Wn,!0)})&&this._queues.splice(nn,1),this._queues.length>0&&$e.call(this,this._queues[0]),nt.call(this,Vt)):Vt.nextKey&&(Dr=new(y())(Vt.nextKey.low,Vt.nextKey.high,Vt.nextKey.unsigned).toString(),g.kg.debug("nexKey:",Dr,"this.nextKey:",this.nexKey),Dr!==this.nexKey&&(this.nexKey=Dr,Ct.call(this,Vt.nextKey,Vt.queue)));return[2]}})})}function De(z){var te=[],ye=this.root.lookup("easemob.pb.KeyValue"),oe=[];for(var be in z){var Pe=ye.decode(te);if(Pe.key=be,z[be]!==void 0){if(It(z[be])==="object")Pe.type=8,Pe.stringValue=JSON.stringify(z[be]);else if(typeof z[be]=="string")Pe.type=7,Pe.stringValue=z[be];else if(typeof z[be]=="boolean")Pe.type=1,Pe.varintValue=z[be]===!0?1:0;else if(Number.isInteger(z[be]))Pe.type=2,Pe.varintValue=z[be];else if(typeof z[be]=="bigint"||It(z[be])==="symbol"||typeof z[be]=="function"||Number.isNaN(z[be]))Pe.type=7,Pe.stringValue=z[be].toString();else{if(typeof z[be]!="number"||Number.isInteger(z[be]))continue;Pe.type=6,Pe.doubleValue=z[be]}oe.push(Pe)}}return oe}function ve(z){var te,ye,oe,be=[];if(this.root){var Pe,ie=this.root.lookup("easemob.pb.MessageBody.Content").decode(be);switch(Pe=!z.group&&((te=z==null?void 0:z.chatType)===null||te===void 0?void 0:te.toLowerCase())!=="groupchat"||z.roomType?z.group&&z.roomType||((ye=z==null?void 0:z.chatType)===null||ye===void 0?void 0:ye.toLowerCase())==="chatroom"?"chatRoom":"singleChat":"groupChat",z.type){case"txt":ie.type=0,ie.text=z.msg;break;case"img":ie.type=1,z.body?(ie.displayName=z.body.filename,ie.remotePath=z.body.url,ie.secretKey=z.body.secret,ie.fileLength=z.body.file_length,ie.size=z.body.size,ie.thumbnailDisplayName=z.body.filename):z.file?(ie.displayName=z.file.filename,ie.remotePath=z.file.url,ie.secretKey=z.file.secret,ie.fileLength=z.file.file_length,ie.size=z.file.size,ie.thumbnailDisplayName=z.file.filename):(ie.displayName=z.filename,ie.remotePath=z.url,ie.secretKey=z.secret,ie.fileLength=z.file_length,ie.size=z.size,ie.thumbnailDisplayName=z.filename),z.isBuildCombinedMsg&&(ie.remotePath=z.url,ie.secretKey=z.secret,ie.size={height:z.height,width:z.width});break;case"video":ie.type=2,z.body?(ie.displayName=z.body.filename,ie.remotePath=z.body.url,ie.secretKey=z.body.secret,ie.fileLength=z.body.file_length,ie.duration=z.body.length,ie.thumbnailDisplayName=z.body.filename,ie.thumbnailRemotePath=this.useOwnUploadFun?"":"".concat(z.body.url,"?vframe=true"),ie.thumbnailSecretKey=this.useOwnUploadFun?"":z.body.secret):z.isBuildCombinedMsg&&(ie.displayName=z.filename,ie.remotePath=z.url,ie.secretKey=z.secret,ie.fileLength=z.file_length,ie.duration=z.length,ie.thumbnailDisplayName=z.filename,ie.thumbnailRemotePath=z.thumb,ie.thumbnailSecretKey=z.thumb_secret);break;case"loc":ie.type=3,ie.latitude=z.lat,ie.longitude=z.lng,ie.address=z.addr,ie.buildingName=z.buildingName,ie.latitude=z.lat;break;case"audio":ie.type=4,z.body?(ie.displayName=z.body.filename,ie.remotePath=z.body.url,ie.secretKey=z.body.secret,ie.fileLength=z.body.file_length,ie.duration=z.body.length,ie.thumbnailDisplayName=z.body.filename):z.isBuildCombinedMsg&&(ie.displayName=z.filename,ie.remotePath=z.url,ie.secretKey=z.secret,ie.fileLength=z.file_length,ie.duration=z.length,ie.thumbnailDisplayName=z.filename);break;case"file":ie.type=5,z.body?(ie.displayName=z.body.filename,ie.remotePath=z.body.url,ie.secretKey=z.body.secret,ie.fileLength=z.body.file_length,ie.thumbnailDisplayName=z.body.filename):z.isBuildCombinedMsg&&(ie.displayName=z.filename,ie.remotePath=z.url,ie.secretKey=z.secret,ie.fileLength=z.file_length,ie.thumbnailDisplayName=z.filename);break;case"cmd":ie.type=6,ie.action=z.action;break;case"custom":ie.type=7,ie.customEvent=z.customEvent,ie.customExts=De.call(this,z.customExts);break;case"combine":ie.type=0,ie.subType=0,ie.text=z.compatibleText,ie.displayName=z.filename,ie.remotePath=z.url,ie.secretKey=z.secret,ie.fileLength=z.file_length,ie.title=z.title,ie.summary=z.summary,ie.combineLevel=z.combineLevel}var at=[];z.ext&&(at=De.call(this,z.ext));var we=this.root.lookup("easemob.pb.MessageBody"),V=we.decode(be),Le=z.from||this.context.jid.name;V.from={name:z.isBuildCombinedMsg?Le:this.context.jid.name};var Ce=z.to.indexOf("/"),rt=Ce>-1?z.to.substring(0,Ce):z.to;if(V.to={name:rt},z.type==="channel")V.type=wt.CHANNEL_ACK;else if(z.type==="recall")V.type=wt.RECALL,V.ackMessageId=z.ackId;else if(z.type==="delivery")V.type=wt.DELIVER_ACK,V.ackMessageId=z.ackId;else if(z.type==="read")V.type=wt.READ_ACK,V.ackMessageId=z.ackId,Pe==="groupChat"&&(V.msgConfig={allowGroupAck:!0},V.ackContent=z.ackContent);else if(Pe==="chatRoom")V.type=wt.CHATROOM;else if(Pe==="groupChat"){if(V.type=wt.GROUPCHAT,z.msgConfig){var ge=z.msgConfig.allowGroupAck;V.msgConfig={allowGroupAck:!!ge}}}else Pe==="singleChat"&&(V.type=wt.SINGLECHAT);z.editMessageId&&(V.type=wt.EDIT,V.editMessageId=z.editMessageId),V.contents=[ie],V.ext=at;var Be=function(kt){var Gt={};return"translations"in kt&&(Gt.translations=kt.translations),"isChatThread"in kt&&kt.isChatThread&&(Gt.thread={}),Object.keys(Gt).length>0?JSON.stringify(Gt):""}(z);Be&&(V.meta=Be),V=we.encode(V).finish();var He=this.root.lookup("easemob.pb.Meta"),Ie=He.decode(be);Ie.id=z.id;var ht="easemob.com";if(Pe!=="chatRoom"&&Pe!=="groupChat"||(ht="conference.easemob.com"),Ie.to={appKey:this.appKey,name:rt,domain:ht},Ce>-1&&(Ie.to.clientResource=z.to.substring(Ce+1,z.to.length)),Pe==="chatRoom"&&(Ie.ext=De.call(this,function(kt){return{chatroom_msg_tag:kt.priority==="high"?0:kt.priority==="low"?2:1}}(z))),z.type==="recall"&&z.metaExt&&(Ie.ext=De.call(this,{recallMessageExtensionInfo:z.metaExt})),Ie.ns=1,Ie.payload=V,Ie.routetype=z.deliverOnlineOnly?1:0,Pe!=="singleChat"&&Array.isArray(z.receiverList)&&((oe=z.receiverList)===null||oe===void 0?void 0:oe.length)>0&&(Ie.directedUsers=z.receiverList,Ie.routetype=2),z.isBuildCombinedMsg)return Ie.timestamp=y().fromValue(z.time),He.encode(Ie).finish();var Tt=this.root.lookup("easemob.pb.CommSyncUL"),Yt=Tt.decode(be);Yt.meta=Ie,!z.isPing&&ot.call(this,z,Ie),Yt=Tt.encode(Yt).finish();var dt=this.root.lookup("easemob.pb.MSync"),Qe=dt.decode(be);return Qe.version=this.version,Qe.encryptType=this.encryptType,Qe.command=0,Qe.payload=Yt,dt.encode(Qe).finish()}z.fail&&z.fail({type:T.E.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function ze(z){var te,ye,oe=this,be=Se({},z);if(z.file)return be.accessToken=this.token,be.appKey=this.appKey,be.apiUrl=this.apiUrl,be.body&&be.body.url?ve.call(this,be):new Promise(function(we,V){var Le=be.onFileUploadComplete;be.onFileUploadComplete=function(Ce){var rt,ge,Be,He,Ie,ht;if(Ce.entities[0]["file-metadata"]){var Tt=Ce.entities[0]["file-metadata"]["content-length"];be.file_length=Tt,be.filetype=Ce.entities[0]["file-metadata"]["content-type"],Tt>204800&&(be.thumbnail=!0)}var Yt="".concat(oe.apiUrl,"/").concat(oe.orgName,"/").concat(oe.appName,"/chatfiles/").concat(Ce.entities[0].uuid);be.body={type:be.type||"file",secret:Ce.entities[0]["share-secret"],filename:be.file.filename||be.filename,url:Yt,length:be.length||0,filetype:be.filetype||be.file.filetype,file_length:((ge=(rt=be.file)===null||rt===void 0?void 0:rt.data)===null||ge===void 0?void 0:ge.size)||0,size:{width:be.width||0,height:be.height||0}},be.file.url=Ce.uri,z.secret=Ce.entities[0]["share-secret"],Ce.url=z.url="".concat(Yt,"?em-redirect=true&share-secret=").concat(Ce.entities[0]["share-secret"]),z.file_length=be.file_length=((He=(Be=be.file)===null||Be===void 0?void 0:Be.data)===null||He===void 0?void 0:He.size)||0,be.type==="img"&&(z.thumb="".concat(z.url,"&thumbnail=true"),Ce.thumb="".concat(Ce.url,"&thumbnail=true")),be.type==="video"&&(z.thumb="".concat(z.url,"&vframe=true"),z.thumb_secret=Ce.entities[0]["share-secret"],Ce.thumb="".concat(Ce.url,"&vframe=true")),Le instanceof Function&&Le(Ce,be.id);var dt=ve.call(oe,be);et.TJ.size<=et.F3&&et.TJ.set(be.id,{rpt:oe.dataReport.geOperateFun({operationName:st.fI.SEND_MSG})}),(ht=(Ie=oe._localCache)===null||Ie===void 0?void 0:Ie.getInstance())===null||ht===void 0||ht.storeMessage(z,Oe.r.INPROGRESS),Zt.call(oe,dt)},F.P6.uploadFile.call(oe,be,st.fI.UPLOAD_MSG_ATTACH)});if(z.type==="combine"){be.accessToken=this.token,be.appKey=this.appKey,be.apiUrl=this.apiUrl;var Pe=be.onFileUploadComplete,ie=be.onFileUploadError;return new Promise(function(we,V){var Le,Ce,rt,ge;if(((Le=z.messageList)===null||Le===void 0?void 0:Le.length)>300||((Ce=z.messageList)===null||Ce===void 0?void 0:Ce.length)===0)return oe._msgHash[be.id].reject({type:T.E.MAX_LIMIT,message:"The number of combined messages exceeded the limit."});var Be=Xe([],z.messageList,!0),He=0;if(Be.forEach(function(Gt){(Gt==null?void 0:Gt.combineLevel)>He&&(He=Gt==null?void 0:Gt.combineLevel)}),be.combineLevel=He+1,be.combineLevel>10)return oe._msgHash[be.id].reject({type:T.E.MAX_LIMIT,message:"The level of the merged message exceeded the limit."});var Ie=ut.call(oe,Be),ht=function(Gt,At){var $t,vr,pr,br,Pr,xr,Jr="".concat(oe.apiUrl,"/").concat(oe.orgName,"/").concat(oe.appName,"/chatfiles/").concat(Gt.entities[0].uuid),Gr=($t=Gt.entities[0])===null||$t===void 0?void 0:$t["share-secret"],sn=Jr+"?em-redirect=true";Gr&&(sn="".concat(sn,"&share-secret=").concat(Gr)),Pe instanceof Function&&Pe({url:sn,secret:Gr}),z.url=sn,z.secret=Gr,be.url=sn,be.secret=Gt.entities[0]["share-secret"],be.filename=((vr=be.file)===null||vr===void 0?void 0:vr.filename)||(At==null?void 0:At.fileName),be.file_length=((br=(pr=be.file)===null||pr===void 0?void 0:pr.data)===null||br===void 0?void 0:br.size)||(At==null?void 0:At.fileLength)||0,(xr=(Pr=oe._localCache)===null||Pr===void 0?void 0:Pr.getInstance())===null||xr===void 0||xr.storeMessage(z,Oe.r.INPROGRESS);var rn=ve.call(oe,be);Zt.call(oe,rn)},Tt=F.P6.getEnvInfo();if(Tt.platform!=="web"&&Tt.platform!=="node"&&Tt.platform!=="quick_app"&&(!((ge=(rt=Tt.global)===null||rt===void 0?void 0:rt.canIUse)===null||ge===void 0)&&ge.call(rt,"getFileSystemManager"))){var Yt=Tt.global.getFileSystemManager(),dt="".concat(oe.apiUrl,"/").concat(oe.orgName,"/").concat(oe.appName,"/chatfiles");Yt.writeFile({filePath:"".concat(Tt.global.env.USER_DATA_PATH,"/combine"),data:Ie.buffer,encoding:"binary",success:function(Gt){Tt.global.uploadFile({url:dt,filePath:"".concat(Tt.global.env.USER_DATA_PATH,"/combine"),name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+be.accessToken},success:function(At){if(At.statusCode===200){g.kg.debug("upload success",At);var $t=JSON.parse(At.data);ht($t,{fileName:"combine",fileLength:Ie.length})}else g.kg.debug("upload fail"),be.onFileUploadError instanceof Function&&be.onFileUploadError(At),this._msgHash[be.id].reject({type:T.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:At})},fail:function(At){g.kg.debug("upload fail"),be.onFileUploadError instanceof Function&&be.onFileUploadError(Gt),this._msgHash[be.id].reject({type:T.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:At})}})},fail:function(Gt){g.kg.debug("write file fail",Gt),this._msgHash[be.id].reject({type:T.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:Gt})}})}else{var Qe=new File([Ie],"combine",{type:"application/octet-stream"}),kt={url:URL.createObjectURL(Qe),filename:be.id,data:Qe};be.file=kt,be.onFileUploadComplete=function(Gt){ht(Gt)},be.onFileUploadError=function(Gt){ie instanceof Function&&ie(Gt),oe._msgHash[be.id].reject({type:T.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:Gt})},F.P6.uploadFile.call(oe,be,st.fI.UPLOAD_MSG_ATTACH)}})}z.type==="img"&&(be.body||(be.body=Se(Se({},be),{size:{width:be.width||0,height:be.height||0}}))),(ye=(te=this._localCache)===null||te===void 0?void 0:te.getInstance())===null||ye===void 0||ye.storeMessage(z,Oe.r.INPROGRESS);var at=ve.call(this,be);Zt.call(this,at)}function ot(z,te){z.editMessageId||bt.includes(z.type)&&(this._msgHash[z.id].thirdMessage=te)}function ut(z){for(var te=Uint8Array.from("cm",function(rt){return rt.charCodeAt(0)}),ye=0;ye<z.length;ye++){for(var oe=z[ye],be=Se(Se({},oe),{isBuildCombinedMsg:!0}),Pe=this.mSync.encodeChatMsg.call(this,be),ie=Pe.length,at=new Uint8Array(4),we=0;we<4;we++)at[we]=ie>>8*(3-we)&255;g.kg.debug("message length:",at);var V=new Uint8Array(te.length+at.length+Pe.length);V.set(te),V.set(at,te.length),V.set(Pe,te.length+at.length),te=V}var Le=new Uint8Array(te.length+1),Ce=0;for(ye=2;ye<te.length;ye++)ye%2==1&&(Ce^=te[ye]);return Le.set(te),g.kg.debug("checkResult:",Ce),Le[te.length]=Ce,Le}function St(z,te,ye){var oe=[],be=this.root.lookup("easemob.pb.MUCBody"),Pe=z.roomId,ie=z.ext,at=ie===void 0?"":ie,we=z.leaveOtherRooms,V=we!==void 0&&we,Le=be.decode(oe);Le.mucId={appKey:this.appKey,name:Pe,domain:"conference.easemob.com"},Le.operation=ye==="join"?2:3,Le.from={name:this.context.userId},Le.isChatroom=!0,ye==="join"&&(Le.ext=at,Le.leaveOtherRooms=V),Le=be.encode(Le).finish();var Ce=this.root.lookup("easemob.pb.Meta").decode(oe);Ce.id=te,Ce.from={appKey:this.appKey,name:this.context.userId,domain:"easemob.com",client_resource:this.context.jid.clientResource},Ce.to={domain:"easemob.com"},Ce.ns=2,Ce.payload=Le;var rt=this.root.lookup("easemob.pb.CommSyncUL"),ge=rt.decode(oe);ge.meta=Ce,ge=rt.encode(ge).finish();var Be=this.root.lookup("easemob.pb.MSync"),He=Be.decode(oe);return He.version=this.version,He.encryptType=this.encryptType,He.command=0,He.payload=ge,Be.encode(He).finish()}function xt(z,te){var ye=F.P6.getUniqueId(),oe=St.call(this,z,ye,te),be=te==="join"?st.fI.JOIN_CHATROOM:st.fI.QUIT_CHATROOM,Pe=this.dataReport.geOperateFun({operationName:be});return et.iO.size<=et.F3&&et.iO.set(ye,{rpt:Pe,requestName:be}),Zt.call(this,Se(Se({},z),{isHandleChatroom:!0,joinMsg:oe,id:ye,operation:te}),ye)}function Bt(z){var te=this;return new Promise(function(ye,oe){var be,Pe,ie,at,we,V;if(g.kg.debug("call send"),te.logOut)return g.kg.debug("send message failed",T.E.WEBIM_CONNECTION_CLOSED),oe({type:T.E.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!z.id||typeof z.id!="string"||z.id==="")return oe({type:T.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!z.to||typeof z.to!="string"||z.to==="")return oe({type:T.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var Le=z.type==="file"||z.type==="img"||z.type==="audio"||z.type==="video",Ce=z.type==="delivery"||z.type==="read"||z.type==="channel",rt=z.type==="cmd",ge=z.type==="recall",Be=z==null?void 0:z.editMessageId,He=!(Ce||ge||rt||Be);if(z.id){if(!Le&&!Ce||Le&&te.useOwnUploadFun){var Ie=z.type==="recall"?st.fI.SEND_RECALL_MSG:st.fI.SEND_MSG;Be&&(Ie=st.fI.MODIFY_MESSAGE),et.TJ.size<=et.F3&&et.TJ.set(z.id,{rpt:te.dataReport.geOperateFun({operationName:Ie})})}He&&((Pe=(be=te._localCache)===null||be===void 0?void 0:be.getInstance())===null||Pe===void 0||Pe.storeMessage(z,Oe.r.CREATE)),te._msgHash[z.id]=Se(Se({},z),{resolve:ye,reject:oe})}if(Le||z.type==="combine")return ze.call(te,z);if(z.type==="txt"&&(!((ie=z.msgConfig)===null||ie===void 0)&&ie.languages)&&Array.isArray((at=z.msgConfig)===null||at===void 0?void 0:at.languages)&&z.msgConfig.languages.length>0){var ht=te.translateMessage||te.translation.translateMessage;if(!ht)throw new Error("there is no method to translate message");ht.call(te,{text:z.msg,languages:z.msgConfig.languages}).then(function(Yt){var dt,Qe,kt,Gt=(dt=Yt.data[0])===null||dt===void 0?void 0:dt.translations;Gt=Gt.map(function($t){return{code:$t.to,text:$t.text}}),z.translations=Gt,te._msgHash[z.id].translations=Gt,(kt=(Qe=te._localCache)===null||Qe===void 0?void 0:Qe.getInstance())===null||kt===void 0||kt.storeMessage(z,Oe.r.INPROGRESS);var At=ve.call(te,z);Zt.call(te,At,z.id)}).catch(function(Yt){oe(Yt)})}else{He&&((V=(we=te._localCache)===null||we===void 0?void 0:we.getInstance())===null||V===void 0||V.storeMessage(z,Oe.r.INPROGRESS));var Tt=ve.call(te,z);Zt.call(te,Tt,z.id)}})}function Zt(z,te){var ye,oe=this;if(z.isHandleChatroom){if(!this.isOpened()){var be={data:"",type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};if(et.iO.has(z.id)){var Pe=et.iO.get(z.id);(0,Pe.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:Pe.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:st.dd.disconnect,codeDesc:"websocket has been disconnected"}}),et.iO.delete(z.id)}return Promise.reject(be)}return new Promise(function(V,Le){var Ce;oe._msgHash[z.id]=Se(Se({},z),{resolve:V,reject:Le});var rt=F.P6.getEnvInfo();Ce=oe.name==="miniCore"||rt.platform==="web"?z.joinMsg:Ae.call(oe,z.joinMsg,te);var ge=te&&setTimeout(function(){var Be,He,Ie;if(oe._msgHash[z.id]){var ht={type:T.E.REQUEST_TIMEOUT,message:"request timeout"};(He=(Be=oe._msgHash[z.id]).reject)===null||He===void 0||He.call(Be,ht),clearTimeout((Ie=oe._msgHash[z.id])===null||Ie===void 0?void 0:Ie.messageTimer),delete oe._msgHash[z.id],oe.reconnecting||oe.reconnect(!0)}},vt.xz);oe._msgHash[z.id].messageTimer=ge,oe.sock.send(Ce)})}if(!this.isOpened())return(ye=this.unMSyncSendMsgMap)===null||ye===void 0||ye.set(te,z),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(g.kg.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));var ie,at=te&&setTimeout(function(){var V,Le,Ce;if(oe._msgHash[te??""]){var rt={type:T.E.MESSAGE_SEND_TIMEOUT,message:"send message timeout"};(Le=(V=oe._msgHash[te??""]).reject)===null||Le===void 0||Le.call(V,rt),clearTimeout((Ce=oe._msgHash[te??""])===null||Ce===void 0?void 0:Ce.messageTimer),delete oe._msgHash[te??""],oe.reconnecting||oe.reconnect(!0)}},vt.xz);this._msgHash[te??""]&&(this._msgHash[te??""].messageTimer=at);var we=F.P6.getEnvInfo();ie=this.name==="miniCore"||we.platform==="web"?z:Ae.call(this,z,te),this.sock.send(ie)}var fe=function(z,te){return z.send=Bt,z.sendMsg=Bt,g.kg.debug("init Msync by ".concat(z.name)),{generateProvision:Lt.bind(z),base64transform:Ae.bind(z),distributeMeta:Re.bind(z),decodeMeta:Me.bind(z),decodeUnreadDL:Ye.bind(z),_rebuild:Fe.bind(z),_lastsession:ke.bind(z),receiveProvision:mt.bind(z),isInQueue:Ke.bind(z),decodeNotice:Ot.bind(z),decodeMSync:j.bind(z),distributeMSync:Y.bind(z),encodeChatMsg:ve.bind(z),upLoadFile:ze.bind(z),send:Bt.bind(z),stopHeartBeat:zt.bind(z),handleChatRoom:xt.bind(z),sendUnreadDeal:Xt.bind(z)}}},7252:function(a,m){var n=function(){function c(l){this.type=l.type,this.message=l.message,this.data=l.data}return c.create=function(l){return new c(l)},c}();m.Z=n},8161:function(a,m,n){n.d(m,{t:function(){return F}}),n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7941),n(3710),n(9714),n(9653),n(6699),n(2023),n(2222),n(8309),n(9554),n(4747),n(2772);var c=n(3720),l=n.n(c),v=n(4363),y=n(4024),T=n(6424),I=n(9743),g=n(7360),P=n(2449),M=n(7288),U=function(){return U=Object.assign||function(q){for(var X,Q=1,ee=arguments.length;Q<ee;Q++)for(var se in X=arguments[Q])Object.prototype.hasOwnProperty.call(X,se)&&(q[se]=X[se]);return q},U.apply(this,arguments)},x=function(q,X,Q,ee){return new(Q||(Q=Promise))(function(se,Oe){function xe(Et){try{qe(ee.next(Et))}catch(et){Oe(et)}}function Ne(Et){try{qe(ee.throw(Et))}catch(et){Oe(et)}}function qe(Et){var et;Et.done?se(Et.value):(et=Et.value,et instanceof Q?et:new Q(function(st){st(et)})).then(xe,Ne)}qe((ee=ee.apply(q,X||[])).next())})},H=function(q,X){var Q,ee,se,Oe,xe={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return Oe={next:Ne(0),throw:Ne(1),return:Ne(2)},typeof Symbol=="function"&&(Oe[Symbol.iterator]=function(){return this}),Oe;function Ne(qe){return function(Et){return function(et){if(Q)throw new TypeError("Generator is already executing.");for(;xe;)try{if(Q=1,ee&&(se=2&et[0]?ee.return:et[0]?ee.throw||((se=ee.return)&&se.call(ee),0):ee.next)&&!(se=se.call(ee,et[1])).done)return se;switch(ee=0,se&&(et=[2&et[0],se.value]),et[0]){case 0:case 1:se=et;break;case 4:return xe.label++,{value:et[1],done:!1};case 5:xe.label++,ee=et[1],et=[0];continue;case 7:et=xe.ops.pop(),xe.trys.pop();continue;default:if(!((se=(se=xe.trys).length>0&&se[se.length-1])||et[0]!==6&&et[0]!==2)){xe=0;continue}if(et[0]===3&&(!se||et[1]>se[0]&&et[1]<se[3])){xe.label=et[1];break}if(et[0]===6&&xe.label<se[1]){xe.label=se[1],se=et;break}if(se&&xe.label<se[2]){xe.label=se[2],xe.ops.push(et);break}se[2]&&xe.ops.pop(),xe.trys.pop();continue}et=X.call(q,xe)}catch(st){et=[6,st],ee=0}finally{Q=se=0}if(5&et[0])throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}([qe,Et])}}},L={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM",8:"COMBINE"};function W(q){for(var X={},Q=0;Q<q.length;Q++)if(q[Q].type===8)X[q[Q].key]=JSON.parse(q[Q].stringValue);else if(q[Q].type===7)X[q[Q].key]=q[Q].stringValue;else if(q[Q].type===6)X[q[Q].key]=q[Q].doubleValue;else if(q[Q].type===5)X[q[Q].key]=q[Q].floatValue;else if(q[Q].type===1){var ee=q[Q].varintValue,se=new(l())(ee.low,ee.high,ee.unsigned).toString();X[q[Q].key]=Number(se)!==0}else q[Q].type!==2&&q[Q].type!==3&&q[Q].type!==4||(ee=q[Q].varintValue,se=new(l())(ee.low,ee.high,ee.unsigned).toString(),X[q[Q].key]=Number(se));return X}function F(q){var X="";return q.remotePath&&(X=y.P6.formatAttachUrl.call(this,q.remotePath),q.remotePath.includes("?em-redirect")||(X="".concat(X,"?em-redirect=true"),q.secretKey&&(X="".concat(X,"&share-secret=").concat(q.secretKey)))),X}function w(q,X){var Q,ee,se=X.from&&X.from.name;if(se===this.context.userId){var Oe=(Q=q==null?void 0:q.from)===null||Q===void 0?void 0:Q.clientResource;se===((ee=X==null?void 0:X.to)===null||ee===void 0?void 0:ee.name)&&Oe&&Oe!==this.clientResource&&(se="".concat(se,"/").concat(Oe))}return se}function G(q,X){var Q,ee=X.to&&X.to.name;return!((Q=q==null?void 0:q.to)===null||Q===void 0)&&Q.clientResource&&(ee="".concat(ee,"/").concat(q.to.clientResource)),ee}function S(q){var X,Q,ee,se,Oe,xe,Ne,qe,Et,et,st,vt,It,wt,Ht,ue,Se,Ue,ct,Xe,bt,_t,Lt,Ae,Re,Me,lt;return x(this,void 0,void 0,function(){var nt,Ye,Fe,Ve,$e,ke,Je,yt,Ct,mt,pt,Mt,Xt,jt,zt,tr,Ke,Ot,j,Y,_e,De,ve,ze,ot,ut,St,xt,Bt,Zt,fe,z,te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt,ge,Be,He,Ie,ht,Tt,Yt,dt,Qe,kt;return H(this,function(Gt){switch(Gt.label){case 0:switch(nt=q.status,Ye=q.thirdMessage,Fe=q.msgBody,Ve=q.msgId,$e=q.type,ke=q.from,Je=q.to,yt=q.time,Ct=q.onlineState,mt=q.chatType,pt=q.ignoreCallback,Mt=q.priority,Xt=q.format,jt=q.broadcast,zt=jt!==void 0&&jt,tr=q.isContentReplaced,Ke=tr!==void 0&&tr,Ot={},j={},Y=nt.errorCode>0,_e=nt.errorCode,De=nt.reason,ve={},ze=[],ot=[],ut={},St="",xt=0,Bt=null,Zt=null,z=!1,te=!1,Ye.ext&&(ve=W(Ye.ext)),Ye.meta&&typeof Ye.meta=="string"&&((ye=JSON.parse(Ye.meta)).reaction&&(ze=ye.reaction).forEach(function(At){At.isAddedBySelf=At.state,delete At.state}),ye.translations&&(ot=ye.translations),ye.edit_msg&&(oe=ye.edit_msg,be=oe.count,Pe=oe.operator,ie=oe.edit_time,at=oe.sender,we=oe.send_time,ut={operationTime:ie,operatorId:Pe,operationCount:be},St=at,xt=we),ye.thread&&JSON.stringify(ye.thread)!=="{}"&&(Bt={messageId:ye.thread.msg_parent_id,parentId:ye.thread.muc_parent_id,chatThreadName:ye.thread.thread_name}),ye.thread_overview&&JSON.stringify(ye.thread_overview)!=="{}"&&(Zt={id:ye.thread_overview.id,parentId:ye.thread_overview.muc_parent_id,name:ye.thread_overview.name,lastMessage:ye.thread_overview.last_message&&JSON.stringify(ye.thread_overview.last_message)!=="{}"?v.w.call(this,ye.thread_overview.last_message):null,createTimestamp:ye.thread_overview.create_timestamp,updateTimestamp:ye.thread_overview.update_timestamp,messageCount:ye.thread_overview.message_count||0}),ye.isDelivered&&(z=!0),ye.isRead&&(te=!0)),Fe.type){case 0:return[3,1];case 1:return[3,7];case 2:return[3,10];case 3:return[3,13];case 4:return[3,16];case 5:return[3,19];case 6:return[3,22];case 7:return[3,23];case 8:return[3,26]}return[3,27];case 1:return Object.prototype.hasOwnProperty.call(Fe,"subType")&&Fe.subType===0?(fe=F.call(this,Fe),V={id:Ve,type:"combine",chatType:mt,to:Je,from:ke,ext:ve,time:Number(yt),onlineState:Ct,title:Fe.title||"",summary:Fe.summary||"",url:fe||"",secret:Fe.secretKey||"",file_length:Fe.fileLength||0,filename:Fe.displayName||"",compatibleText:Fe.text,combineLevel:Fe.combineLevel||0},Ot.msgConfig&&(V.msgConfig=Ot.msgConfig),ze.length>0&&(V.reactions=ze),Bt&&(V.chatThread=Bt),Zt&&(V.chatThreadOverview=Zt),mt==="chatRoom"&&(V.priority=Mt,V.broadcast=zt),Ke&&(V.isContentReplaced=Ke),te&&(V.isRead=!0),z&&(V.isDelivered=!0),j=V,pt?[3,3]:[4,(Q=(X=this._localCache)===null||X===void 0?void 0:X.getInstance())===null||Q===void 0?void 0:Q.storeMessage(V,M.r.SUCCESS)]):[3,4];case 2:Gt.sent(),(ee=this.eventHandler)===null||ee===void 0||ee.dispatch("onCombineMessage",V),Gt.label=3;case 3:return[3,28];case 4:return!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,data:Fe.text,ext:ve,sourceMsg:Fe.text,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onTextMessage&&this.onTextMessage(Ot),Le={id:Ve,type:"txt",chatType:mt,msg:Fe.text,to:Je,from:ke,ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(Le.msgConfig=Ot.msgConfig),ze.length>0&&(Le.reactions=ze),Bt&&(Le.chatThread=Bt),Zt&&(Le.chatThreadOverview=Zt),ot.length>0&&(Le.translations=ot),ut.operationCount>0&&(Le.modifiedInfo=ut,Ye.type===T.gA.EDIT&&(Le.from=St,Le.time=xt)),mt==="chatRoom"&&(Le.priority=Mt,Le.broadcast=zt),Ke&&(Le.isContentReplaced=Ke),te&&(Le.isRead=!0),z&&(Le.isDelivered=!0),j=Le,pt?[3,6]:[4,(Oe=(se=this._localCache)===null||se===void 0?void 0:se.getInstance())===null||Oe===void 0?void 0:Oe.storeMessage(Le,M.r.SUCCESS)];case 5:Gt.sent(),(xe=this.eventHandler)===null||xe===void 0||xe.dispatch("onTextMessage",Le),Gt.label=6;case 6:return[3,28];case 7:return Ce=((Ne=Fe==null?void 0:Fe.size)===null||Ne===void 0?void 0:Ne.width)||0,rt=((qe=Fe==null?void 0:Fe.size)===null||qe===void 0?void 0:qe.height)||0,fe=this.useOwnUploadFun?Fe.remotePath:F.call(this,Fe),!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,url:fe,secret:Fe.secretKey,filename:Fe.displayName,thumb:this.useOwnUploadFun?"":"".concat(fe,"&thumbnail=true"),thumb_secret:Fe.secretKey,file_length:Fe.fileLength||"",width:Ce,height:rt,filetype:Fe.filetype||"",accessToken:this.token,ext:ve,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).delay&&delete Ot.delay,!Ot.msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onPictureMessage&&this.onPictureMessage(Ot),ge={id:Ve,type:"img",chatType:mt,from:ke,to:Je,url:fe||"",width:Ce,height:rt,secret:Fe.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(fe,"&thumbnail=true"),thumb_secret:Fe.secretKey,file_length:Fe.fileLength||0,ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(ge.msgConfig=Ot.msgConfig),ze.length>0&&(ge.reactions=ze),Bt&&(ge.chatThread=Bt),Zt&&(ge.chatThreadOverview=Zt),mt==="chatRoom"&&(ge.priority=Mt,ge.broadcast=zt),Ke&&(ge.isContentReplaced=Ke),te&&(ge.isRead=!0),z&&(ge.isDelivered=!0),j=ge,pt?[3,9]:[4,(et=(Et=this._localCache)===null||Et===void 0?void 0:Et.getInstance())===null||et===void 0?void 0:et.storeMessage(ge,M.r.SUCCESS)];case 8:Gt.sent(),(st=this.eventHandler)===null||st===void 0||st.dispatch("onImageMessage",ge),Gt.label=9;case 9:return[3,28];case 10:return fe=this.useOwnUploadFun?Fe.remotePath:F.call(this,Fe),!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,url:fe,secret:Fe.secretKey,filename:Fe.displayName,length:Fe.duration||"",file_length:Fe.fileLength||"",filetype:Fe.filetype||"",accessToken:this.token||"",ext:ve,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).delay&&delete Ot.delay,!Ot.msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onVideoMessage&&this.onVideoMessage(Ot),Be={id:Ve,type:"video",chatType:mt,from:ke,to:Je,url:fe,secret:Fe.secretKey,thumb:y.P6.formatAttachUrl.call(this,Fe.thumbnailRemotePath),thumb_secret:Fe.thumbnailSecretKey,filename:Fe.displayName,length:Fe.duration||0,file:{},file_length:Fe.fileLength||0,filetype:Fe.filetype||"",accessToken:this.token||"",ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(Be.msgConfig=Ot.msgConfig),ze.length>0&&(Be.reactions=ze),Bt&&(Be.chatThread=Bt),Zt&&(Be.chatThreadOverview=Zt),mt==="chatRoom"&&(Be.priority=Mt,Be.broadcast=zt),Ke&&(Be.isContentReplaced=Ke),te&&(Be.isRead=!0),z&&(Be.isDelivered=!0),j=Be,pt?[3,12]:[4,(It=(vt=this._localCache)===null||vt===void 0?void 0:vt.getInstance())===null||It===void 0?void 0:It.storeMessage(Be,M.r.SUCCESS)];case 11:Gt.sent(),(wt=this.eventHandler)===null||wt===void 0||wt.dispatch("onVideoMessage",Be),Gt.label=12;case 12:return[3,28];case 13:return!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,addr:Fe.address,buildingName:Fe.buildingName,lat:Fe.latitude,lng:Fe.longitude,ext:ve,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).delay&&delete Ot.delay,!Ot.msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onLocationMessage&&this.onLocationMessage(Ot),He={id:Ve,type:"loc",chatType:mt,from:ke,to:Je,buildingName:Fe.buildingName,addr:Fe.address,lat:Fe.latitude,lng:Fe.longitude,ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(He.msgConfig=Ot.msgConfig),ze.length>0&&(He.reactions=ze),Bt&&(He.chatThread=Bt),Zt&&(He.chatThreadOverview=Zt),mt==="chatRoom"&&(He.priority=Mt,He.broadcast=zt),Ke&&(He.isContentReplaced=Ke),te&&(He.isRead=!0),z&&(He.isDelivered=!0),j=He,pt?[3,15]:[4,(ue=(Ht=this._localCache)===null||Ht===void 0?void 0:Ht.getInstance())===null||ue===void 0?void 0:ue.storeMessage(He,M.r.SUCCESS)];case 14:Gt.sent(),(Se=this.eventHandler)===null||Se===void 0||Se.dispatch("onLocationMessage",He),Gt.label=15;case 15:return[3,28];case 16:return fe=this.useOwnUploadFun?Fe.remotePath:F.call(this,Fe),!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,url:fe,secret:Fe.secretKey,filename:Fe.displayName,file_length:Fe.fileLength||"",accessToken:this.token||"",ext:ve,length:Fe.duration,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).delay&&delete Ot.delay,!Ot.msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onAudioMessage&&this.onAudioMessage(Ot),Ie={id:Ve,type:"audio",chatType:mt,from:ke,to:Je,url:fe,secret:Fe.secretKey,file:{},filename:Fe.displayName,length:Fe.duration||0,file_length:Fe.fileLength||0,filetype:Fe.filetype||"",accessToken:this.token||"",ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(Ie.msgConfig=Ot.msgConfig),ze.length>0&&(Ie.reactions=ze),Bt&&(Ie.chatThread=Bt),Zt&&(Ie.chatThreadOverview=Zt),mt==="chatRoom"&&(Ie.priority=Mt,Ie.broadcast=zt),Ke&&(Ie.isContentReplaced=Ke),te&&(Ie.isRead=!0),z&&(Ie.isDelivered=!0),j=Ie,pt?[3,18]:[4,(ct=(Ue=this._localCache)===null||Ue===void 0?void 0:Ue.getInstance())===null||ct===void 0?void 0:ct.storeMessage(Ie,M.r.SUCCESS)];case 17:Gt.sent(),(Xe=this.eventHandler)===null||Xe===void 0||Xe.dispatch("onAudioMessage",Ie),Gt.label=18;case 18:return[3,28];case 19:return fe=this.useOwnUploadFun?Fe.remotePath:F.call(this,Fe),!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,url:fe,secret:Fe.secretKey,filename:Fe.displayName,file_length:Fe.fileLength,accessToken:this.token||"",ext:ve,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).delay&&delete Ot.delay,!Ot.msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onFileMessage&&this.onFileMessage(Ot),ht={id:Ve,type:"file",chatType:mt,from:ke,to:Je,url:fe,secret:Fe.secretKey,file:{},filename:Fe.displayName,length:Fe.duration||0,file_length:Fe.fileLength||0,filetype:Fe.filetype||"",accessToken:this.token||"",ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(ht.msgConfig=Ot.msgConfig),ze.length>0&&(ht.reactions=ze),Bt&&(ht.chatThread=Bt),Zt&&(ht.chatThreadOverview=Zt),mt==="chatRoom"&&(ht.priority=Mt,ht.broadcast=zt),Ke&&(ht.isContentReplaced=Ke),te&&(ht.isRead=!0),z&&(ht.isDelivered=!0),j=ht,pt?[3,21]:[4,(_t=(bt=this._localCache)===null||bt===void 0?void 0:bt.getInstance())===null||_t===void 0?void 0:_t.storeMessage(ht,M.r.SUCCESS)];case 20:Gt.sent(),(Lt=this.eventHandler)===null||Lt===void 0||Lt.dispatch("onFileMessage",ht),Gt.label=21;case 21:return[3,28];case 22:return!(Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,action:Fe.action,ext:ve,time:yt,msgConfig:Ye.msgConfig,onlineState:Ct}).msgConfig&&delete Ye.msgConfig,Ot.error=Y,Ot.errorText=De,Ot.errorCode=_e,!pt&&this.onCmdMessage&&this.onCmdMessage(Ot),Tt={id:Ve,type:"cmd",chatType:mt,from:ke,to:Je,action:Fe.action,ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(Tt.msgConfig=Ot.msgConfig),ze.length>0&&(Tt.reactions=ze),Bt&&(Tt.chatThread=Bt),Zt&&(Tt.chatThreadOverview=Zt),mt==="chatRoom"&&(Tt.priority=Mt,Tt.broadcast=zt),Ke&&(Tt.isContentReplaced=Ke),te&&(Tt.isRead=!0),z&&(Tt.isDelivered=!0),j=Tt,pt||(Ae=this.eventHandler)===null||Ae===void 0||Ae.dispatch("onCmdMessage",Tt),[3,28];case 23:return Yt={},dt={},Ye.contents[0].customExts&&(Yt=W(Ye.contents[0].customExts)),Ye.contents[0].params&&(dt=W(Ye.contents[0].params)),Ot={id:Ve,type:$e,contentsType:L[Fe.type],from:ke,to:Je,customEvent:Fe.customEvent,params:dt,customExts:Yt,ext:ve,time:yt,onlineState:Ct},!pt&&this.onCustomMessage&&this.onCustomMessage(Ot),Qe={id:Ve,type:"custom",chatType:mt,from:ke,to:Je,customEvent:Fe.customEvent,params:dt,customExts:Yt,ext:ve,time:Number(yt),onlineState:Ct},Ot.msgConfig&&(Qe.msgConfig=Ot.msgConfig),ze.length>0&&(Qe.reactions=ze),Bt&&(Qe.chatThread=Bt),Zt&&(Qe.chatThreadOverview=Zt),ut.operationCount>0&&(Qe.modifiedInfo=ut,Ye.type===T.gA.EDIT&&(Qe.from=St,Qe.time=xt)),mt==="chatRoom"&&(Qe.priority=Mt,Qe.broadcast=zt),Ke&&(Qe.isContentReplaced=Ke),te&&(Qe.isRead=!0),z&&(Qe.isDelivered=!0),j=Qe,pt?[3,25]:[4,(Me=(Re=this._localCache)===null||Re===void 0?void 0:Re.getInstance())===null||Me===void 0?void 0:Me.storeMessage(Qe,M.r.SUCCESS)];case 24:Gt.sent(),(lt=this.eventHandler)===null||lt===void 0||lt.dispatch("onCustomMessage",Qe),Gt.label=25;case 25:return[3,28];case 26:return fe=F.call(this,Fe),kt={id:Ve,type:"combine",chatType:mt,to:Je,from:ke,ext:ve,time:Number(yt),onlineState:Ct,title:Fe.title||"",summary:Fe.summary||"",url:fe||"",secret:Fe.secretKey||"",file_length:Fe.fileLength||0,filename:Fe.displayName||"",compatibleText:Fe.text,combineLevel:Fe.combineLevel||0},Ot.msgConfig&&(kt.msgConfig=Ot.msgConfig),ze.length>0&&(kt.reactions=ze),Bt&&(kt.chatThread=Bt),Zt&&(kt.chatThreadOverview=Zt),mt==="chatRoom"&&(kt.priority=Mt,kt.broadcast=zt),Ke&&(kt.isContentReplaced=Ke),te&&(kt.isRead=!0),z&&(kt.isDelivered=!0),j=kt,!pt&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",kt),[3,28];case 27:return g.kg.error("Unknow message type, message:",Fe),[3,28];case 28:return Xt?[2,j]:[2,Ot]}})})}function re(q,X,Q){if(this.delivery&&q!==X){var ee=this.getUniqueId(),se=new P.Message("delivery",ee);se.set({ackId:Q,to:q}),g.kg.debug("send delivery ack"),this.send(se.body)}}m.Z=function(q,X,Q,ee,se){var Oe,xe,Ne,qe,Et,et,st,vt,It,wt,Ht,ue,Se,Ue,ct,Xe,bt,_t,Lt,Ae,Re,Me,lt,nt,Ye,Fe;return x(this,void 0,void 0,function(){var Ve,$e,ke,Je,yt,Ct,mt,pt,Mt,Xt,jt,zt,tr,Ke,Ot,j,Y,_e,De,ve,ze,ot,ut,St,xt,Bt,Zt,fe,z,te,ye,oe,be,Pe,ie,at,we,V,Le,Ce,rt;return H(this,function(ge){switch(ge.label){case 0:if(Ve=new(l())(q.timestamp.low,q.timestamp.high,q.timestamp.unsigned).toString(),$e=this.root.lookup("easemob.pb.MessageBody"),ke=$e.decode(q.payload),Je=3,yt=!1,Ct=new(l())(q.id.low,q.id.high,q.id.unsigned).toString(),se&&q.from&&q.from.name===this.context.userId&&q.from.clientResource===this.clientResource&&ke.type===T.gA.CHATROOM)return[2,g.kg.debug("Discard your own chat room message:",Ct)];if(q.meta&&q.meta.length){if(mt=y.P6.parseNotify(q.meta),pt=mt.is_online,Mt=mt.callback_replace,this.useReplacedMessageContents&&Mt&&(yt=!0),pt||pt===0)switch(pt){case 0:Je=0;break;case 1:Je=1;break;default:Je=2}}else Je=3;switch(Xt=ke.ackMessageId?new(l())(ke.ackMessageId.low,ke.ackMessageId.high,ke.ackMessageId.unsigned).toString():"",jt="",zt=w.call(this,q,ke),tr=G.call(this,q,ke),g.kg.debug("meta thirdMessage:",{metaId:Ct,metaNs:q.ns,type:ke.type,from:zt,to:tr,contentType:(xe=(Oe=ke.contents)===null||Oe===void 0?void 0:Oe[0])===null||xe===void 0?void 0:xe.type,contentLen:(Ne=ke.contents)===null||Ne===void 0?void 0:Ne.length}),ke.type){case T.gA.SINGLECHAT:return[3,1];case T.gA.GROUPCHAT:return[3,2];case T.gA.CHATROOM:return[3,3];case T.gA.READ_ACK:return[3,4];case T.gA.DELIVER_ACK:return[3,5];case T.gA.RECALL:return[3,6];case T.gA.CHANNEL_ACK:return[3,15];case T.gA.EDIT:return[3,16]}return[3,20];case 1:return jt="chat",this.grantType==="agoraToken"&&(jt="singleChat"),this.delivery&&!Q&&zt!==this.context.userId&&re.call(this,zt,tr,Ct),[3,21];case 2:return jt="groupchat",this.grantType==="agoraToken"&&(jt="groupChat"),[3,21];case 3:return jt="chatroom",this.grantType==="agoraToken"&&(jt="chatRoom"),Je=1,[3,21];case 4:return jt="read_ack",Ke=void 0,ke.ext[0]&&JSON.parse(ke.ext[0].stringValue)?(Ke={id:Ct,type:"read",from:zt,to:tr,mid:Xt,groupReadCount:ke.ext[0]&&JSON.parse(ke.ext[0].stringValue),ackContent:ke.ackContent,onlineState:Je},this.onReadMessage&&this.onReadMessage(Ke),(qe=this.eventHandler)===null||qe===void 0||qe.dispatch("onReadMessage",Ke),[2]):(Ke={id:Ct,type:"read",from:zt,to:tr,mid:Xt,onlineState:Je},this.onReadMessage&&this.onReadMessage(Ke),(Et=this.eventHandler)===null||Et===void 0||Et.dispatch("onReadMessage",Ke),[2]);case 5:return jt="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:Ct,type:"delivery",from:zt,to:tr,mid:Xt,onlineState:Je}),Ot={id:Ct,type:"delivery",from:zt,to:tr,mid:Xt,onlineState:Je},(et=this.eventHandler)===null||et===void 0||et.dispatch("onDeliveredMessage",Ot),[2];case 6:return jt="recall",j="",q.ext&&(j=((st=W(q.ext))===null||st===void 0?void 0:st.recallMessageExtensionInfo)||""),Y={id:Ct,from:zt||"admin",to:tr,mid:Xt,ext:j,onlineState:Je},_e=tr===this.user?zt:tr,[4,(It=(vt=this._localCache)===null||vt===void 0?void 0:vt.getInstance())===null||It===void 0?void 0:It.getMessageByServerMsgId(Y.mid)];case 7:return(De=ge.sent())?[4,(Ht=(wt=this._localCache)===null||wt===void 0?void 0:wt.getInstance())===null||Ht===void 0?void 0:Ht.removeMsgByServerMsgId(Y.mid)]:[3,9];case 8:ge.sent(),ge.label=9;case 9:return(De==null?void 0:De.chatType)!=="singleChat"&&(De==null?void 0:De.chatType)!=="groupChat"?[3,14]:(ve=(De==null?void 0:De.from)===this.user||(De==null?void 0:De.from)==="",[4,(Se=(ue=this._localCache)===null||ue===void 0?void 0:ue.getInstance())===null||Se===void 0?void 0:Se.getConversationLastMessage(_e,De.chatType)]);case 10:return ze=ge.sent(),[4,(ct=(Ue=this._localCache)===null||Ue===void 0?void 0:Ue.getInstance())===null||ct===void 0?void 0:ct.getConversationBySessionId((0,I.MQ)({conversationId:_e,conversationType:De.chatType}))];case 11:return(ot=ge.sent())?[4,(bt=(Xe=this._localCache)===null||Xe===void 0?void 0:Xe.getInstance())===null||bt===void 0?void 0:bt.updateLocalConversation((0,I.MQ)({conversationId:_e,conversationType:De.chatType}),{lastMessageId:ze==null?void 0:ze.serverMsgId,unReadCount:(0,I.E7)({conversation:ot,isRecallSelfMsg:ve,recalledMsgTime:De.time})})]:[3,13];case 12:ge.sent(),ge.label=13;case 13:ge.label=14;case 14:return this.onRecallMessage&&this.onRecallMessage(Y),(_t=this.eventHandler)===null||_t===void 0||_t.dispatch("onRecallMessage",Y),[2];case 15:return this.onChannelMessage&&this.onChannelMessage({id:Ct,type:"channel",chatType:"singleChat",from:zt,to:tr,time:Number(Ve),onlineState:Je}),ut={id:Ct,type:"channel",chatType:"singleChat",from:zt,to:tr,time:Number(Ve),onlineState:Je},(Lt=this.eventHandler)===null||Lt===void 0||Lt.dispatch("onChannelMessage",ut),[2];case 16:return St={errorCode:0,reason:""},[4,S.call(this,{status:St,thirdMessage:ke,msgBody:ke.contents[0],msgId:Ct,type:jt,from:zt,to:tr,time:Ve,onlineState:Je,ignoreCallback:!0,format:!0,isContentReplaced:yt})];case 17:return xt=ge.sent(),Bt=!!q.to&&q.to.domain.indexOf("conference")!==-1,xt.chatType=Bt?"groupChat":"singleChat",Zt=ke.editMessageId&&new(l())(ke.editMessageId.low,ke.editMessageId.high,ke.editMessageId.unsigned).toString(),fe={},z=xt.ext&&Object.keys(xt.ext).length>0,xt.type==="txt"?(te=xt.type,ye=xt.chatType,oe=xt.to,be=xt.from,Pe=xt.time,ie=xt.modifiedInfo,fe={id:Zt,type:te,chatType:ye,to:oe,from:be,time:Pe,modifiedInfo:ie,msg:xt.msg},xt.translations&&(fe.translations=xt.translations)):xt.type==="custom"&&((fe=xt).id=Zt,delete fe.onlineState),z&&(fe.ext=xt.ext),fe?[4,(Re=(Ae=this._localCache)===null||Ae===void 0?void 0:Ae.getInstance())===null||Re===void 0?void 0:Re.getMessageByServerMsgId(Zt)]:[3,19];case 18:((at=ge.sent())==null?void 0:at.type)==="txt"&&fe.type==="txt"?(lt=(Me=this._localCache)===null||Me===void 0?void 0:Me.getInstance())===null||lt===void 0||lt.putMessageToDB(U(U({},at),{msg:fe.msg,ext:fe.ext||at.ext,modifiedInfo:fe.modifiedInfo,translations:fe.translations})):(at==null?void 0:at.type)==="custom"&&fe.type==="custom"&&((Ye=(nt=this._localCache)===null||nt===void 0?void 0:nt.getInstance())===null||Ye===void 0||Ye.putMessageToDB(U(U({},at),{modifiedInfo:fe.modifiedInfo,customEvent:fe.customEvent,customExts:fe.customExts,ext:fe.ext||at.ext}))),ge.label=19;case 19:return xt.type!=="txt"&&xt.type!=="custom"||(Fe=this.eventHandler)===null||Fe===void 0||Fe.dispatch("onModifiedMessage",fe),[2];case 20:return g.kg.error("unexpected message type: ".concat(ke.type)),[2];case 21:we="normal",Le=!1,jt.toLowerCase()==="chat"||jt==="singleChat"?V="singleChat":jt.toLowerCase()==="groupchat"||jt==="groupChat"?V="groupChat":(V="chatRoom",Je=1,q.ext&&(Ce=W(q.ext),Le=!!(Ce!=null&&Ce.is_broadcast),we=Ce.chatroom_msg_tag===0?"high":Ce.chatroom_msg_tag===2?"low":"normal")),rt=0,ge.label=22;case 22:return rt<ke.contents.length?[4,S.call(this,{status:X,thirdMessage:ke,msgBody:ke.contents[rt],msgId:Ct,type:jt,from:zt,to:tr,time:Ve,onlineState:Je,chatType:V,ignoreCallback:Q,priority:we,format:ee,broadcast:Le,isContentReplaced:yt})]:[3,25];case 23:return[2,ge.sent()];case 24:return rt++,[3,22];case 25:return[2]}})})}},7288:function(a,m,n){var c;n.d(m,{r:function(){return c}}),function(l){l[l.CREATE=0]="CREATE",l[l.FAIL=1]="FAIL",l[l.INPROGRESS=2]="INPROGRESS",l[l.SUCCESS=3]="SUCCESS"}(c||(c={}))},9743:function(a,m,n){n.d(m,{E7:function(){return l},MQ:function(){return c},un:function(){return v}}),n(2222);var c=function(y){return"".concat(y.conversationType,"-").concat(y.conversationId)},l=function(y){var T=y.isRecallSelfMsg,I=y.conversation,g=y.recalledMsgTime,P=I.unReadCount,M=P===void 0?0:P,U=I.unreadCountClearTimestamp;return T||(U===void 0?0:U)>g?M:M&&M>0?M-1:0},v=function(y){var T,I=0;if(y.length===0)return I;for(T=0;T<y.length;T++)I=(I<<5)-I+y.charCodeAt(T),I|=0;return I}},7360:function(a,m,n){function c(){console.log&&(console.log.apply?console.log.apply(console,Array.prototype.slice.call(arguments)):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}n.d(m,{kg:function(){return L}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(2222),n(8309),n(9600),n(3843),n(3710),n(2564),n(285),n(1637),n(4812),n(9554),n(2772),n(4916);var l=typeof window<"u"&&window.navigator!==void 0&&/Trident\/|MSIE /.test(window.navigator.userAgent),v=n(4024);function y(W){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},y(W)}var T,I=function(W,F,w,G){return new(w||(w=Promise))(function(S,re){function q(ee){try{Q(G.next(ee))}catch(se){re(se)}}function X(ee){try{Q(G.throw(ee))}catch(se){re(se)}}function Q(ee){var se;ee.done?S(ee.value):(se=ee.value,se instanceof w?se:new w(function(Oe){Oe(se)})).then(q,X)}Q((G=G.apply(W,F||[])).next())})},g=function(W,F){var w,G,S,re,q={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return re={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function X(Q){return function(ee){return function(se){if(w)throw new TypeError("Generator is already executing.");for(;q;)try{if(w=1,G&&(S=2&se[0]?G.return:se[0]?G.throw||((S=G.return)&&S.call(G),0):G.next)&&!(S=S.call(G,se[1])).done)return S;switch(G=0,S&&(se=[2&se[0],S.value]),se[0]){case 0:case 1:S=se;break;case 4:return q.label++,{value:se[1],done:!1};case 5:q.label++,G=se[1],se=[0];continue;case 7:se=q.ops.pop(),q.trys.pop();continue;default:if(!((S=(S=q.trys).length>0&&S[S.length-1])||se[0]!==6&&se[0]!==2)){q=0;continue}if(se[0]===3&&(!S||se[1]>S[0]&&se[1]<S[3])){q.label=se[1];break}if(se[0]===6&&q.label<S[1]){q.label=S[1],S=se;break}if(S&&q.label<S[2]){q.label=S[2],q.ops.push(se);break}S[2]&&q.ops.pop(),q.trys.pop();continue}se=F.call(W,q)}catch(Oe){se=[6,Oe],G=0}finally{w=S=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([Q,ee])}}},P=function(){},M={};(function(W){W[W.TRACE=0]="TRACE",W[W.DEBUG=1]="DEBUG",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT"})(T||(T={}));var U=function(){function W(F,w,G){this.name=F||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=T,this.consoleLogVisibility=!0,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=G||this.defaultMethodFactory,this.report=!1;var S=this._getPersistedLevel();S==null&&(S=w===null?"WARN":w),this.logs=[],this.reportLogs=[],this.reportInterval=3e5,this.timer=null,this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(S,!1,"")}return W.prototype.reportLog=function(){var F,w,G;return I(this,void 0,void 0,function(){var S,re,q,X,Q,ee,se,Oe;return g(this,function(xe){switch(xe.label){case 0:if(((F=this.reportLogs)===null||F===void 0?void 0:F.length)===0)return[2];for(S=2097152,re=this.reportLogs.join(`
`)+`
`,q=re.length,X=[];q>S;)X.push(re.substring(0,S)),q-=S,re=re.substring(S);X.push(re),Q=0,ee=X,xe.label=1;case 1:if(!(Q<ee.length))return[3,8];if(se=ee[Q],this.reportLogs=[],!(!((G=(w=this.connection)===null||w===void 0?void 0:w.context)===null||G===void 0)&&G.accessToken))return[2];xe.label=2;case 2:return xe.trys.push([2,4,,5]),[4,this.reportData(se)];case 3:return((Oe=xe.sent())==null?void 0:Oe.status)!=="ok"&&this.reportLogs.unshift(se),[3,5];case 4:return xe.sent(),this.reportLogs.unshift(se),[3,5];case 5:return[4,v.P6.delay(3e3)];case 6:xe.sent(),xe.label=7;case 7:return Q++,[3,1];case 8:return[2]}})})},W.prototype.reportData=function(F){var w,G=this;if(this.connection){var S=this.connection.context||{},re=S.orgName,q=S.appName,X=S.accessToken,Q=S.userId;if(re&&q){var ee={url:"".concat((w=this.connection)===null||w===void 0?void 0:w.apiUrl,"/").concat(re,"/").concat(q,"/sdk/users/").concat(Q,"/client/logs"),type:"POST",data:JSON.stringify({resource:this.connection.clientResource||"random_".concat(Date.now()),logContent:F}),dataType:"json",headers:{Authorization:"Bearer "+X,"Content-Type":"application/json"}};return v.hj.call(this.connection,ee).then(function(se){return G.log("report log success",se),se}).catch(function(se){G.error("report log error",se)})}}else this.error("report log error","connection is null")},W.prototype._regularlyReportLogs=function(){var F,w=this;this.timer&&clearInterval(this.timer),((F=this.reportInterval)!==null&&F!==void 0?F:0)<6e4&&(this.reportInterval=6e4),this.timer=setInterval(function(){w.reportLog()},this.reportInterval||3e5)},W.prototype._stopReportLogs=function(){return I(this,void 0,void 0,function(){return g(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,3]),[4,this.reportLog()];case 1:return F.sent(),[3,3];case 2:return F.sent(),this.error("report log error when stopping upload"),[3,3];case 3:return this.reportLogs=[],clearInterval(this.timer),[2]}})})},W.prototype.setConfig=function(F){this.config=F},W.prototype.getLevel=function(){return this.currentLevel},W.prototype.setLevel=function(F,w,G){if(typeof F=="string"&&(F=T[F]),F===void 0&&(F=0),!(typeof F=="number"&&F>=0&&F<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+F);if(this.currentLevel=F,w!==!1&&this._persistLevel(F),this.replaceLoggingMethods(F,G||""),typeof console>"u"&&F<T.SILENT)throw Error("No console available for logging")},W.prototype.setDefaultLevel=function(F){this._getPersistedLevel()||this.setLevel(F,!1,"")},W.prototype.enableAll=function(F){this.setLevel(this.levels.TRACE,!0,"")},W.prototype.disableAll=function(F){this.setLevel(this.levels.SILENT,!0,"")},W.prototype.getLogs=function(){return this.logs},W.prototype.download=function(){if(typeof window<"u"&&typeof document<"u"){var F=this.getLogs().join(`
`),w=new Blob([F],{type:"text/plain;charset=UTF-8"}),G=window.URL.createObjectURL(w),S=document.createElement("a");S.style.display="none",S.href=G,S.setAttribute("download","sdklog"),document.body.appendChild(S),S.click()}},W.prototype.setConsoleLogVisibility=function(F){this.consoleLogVisibility=F},W.prototype._bindMethod=function(F,w,G){var S=this,re=F[w],q=this.getTime();if(G)return this._cacheLog;if(typeof re.bind=="function")return function(){for(var X=[],Q=0;Q<arguments.length;Q++)X[Q]=arguments[Q];var ee=S.getTime();S.consoleLogVisibility&&re.call.apply(re,function(se,Oe,xe){if(xe||arguments.length===2)for(var Ne,qe=0,Et=Oe.length;qe<Et;qe++)!Ne&&qe in Oe||(Ne||(Ne=Array.prototype.slice.call(Oe,0,qe)),Ne[qe]=Oe[qe]);return se.concat(Ne||Array.prototype.slice.call(Oe))}([F,"".concat(ee," IM SDK [").concat(w==="log"?"debug":w,"]: ")],X,!1)),S.onLog&&S.onLog({time:ee,level:w==="log"?"debug":w,logs:X}),S._cacheReportLogs.apply(S,X)};try{return Function.prototype.bind.call(re,F,"".concat(q," IM SDK [").concat(w==="log"?"debug":w,"]: "))}catch{return function(){return Function.prototype.apply.apply(re,[F,arguments])}}},W.prototype.getTime=function(){var F=new Date;return F.toTimeString().split(" ")[0]+":"+F.getMilliseconds()},W.prototype._cacheLog=function(){for(var F=[],w=0;w<arguments.length;w++)F[w]=arguments[w];var G=new Date().toLocaleString()+": ",S="";F.forEach(function(re){y(re)==="object"?S+=JSON.stringify(re)+" ":S+=re+" "}),this._cacheLogCall(G+S),this._cacheReportLogs.apply(this,F)},W.prototype._cacheLogCall=function(F){var w=F.length,G=this.logBytes+w,S=this.config.maxCache;if(!(w>=S)){if(G<S)this.logBytes+=w;else for(var re=G-S,q=0;q<re;){var X=this.logs.shift();X!==void 0&&(q+=X.length)}this.logs.push(F)}},W.prototype._cacheReportLogs=function(){for(var F=[],w=0;w<arguments.length;w++)F[w]=arguments[w];if(this.report){var G=new Date().toLocaleString()+": ",S="";F.forEach(function(re){y(re)==="object"?S+=JSON.stringify(re)+" ":S+=re+" "}),this.reportLogs.push(G+S)}},W.prototype._getPersistedLevel=function(){var F;if(typeof window>"u")return 5;if((F=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])==="undefined"){var w=window.document.cookie,G=w.indexOf(encodeURIComponent(this.storageLogLevelKey));G!==-1&&(F=/^([^;]+)/.exec(w.slice(G))[1])}return F||5},W.prototype._persistLevel=function(F){var w=this.logMethods[F]||"SILENT";if(typeof window<"u"){if(window.localStorage)try{window.localStorage[this.storageLogLevelKey]=w}catch(G){console.log(G)}this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+w+";")}},W.prototype.replaceLoggingMethods=function(F,w){for(var G=this,S=0;S<this.logMethods.length;S++){var re=this.logMethods[S];this[re]=S<F?function(){for(var q=[],X=0;X<arguments.length;X++)q[X]=arguments[X];G.report&&G._cacheReportLogs.apply(G,q)}:this.methodFactory(re,F,w)}this.log=this.debug},W.prototype.defaultMethodFactory=function(F,w,G){return this.realMethod(F)||this.enableLoggingWhenConsoleArrives.apply(this,[F,w,G])},W.prototype.realMethod=function(F){return F==="debug"&&(F="log"),typeof console<"u"&&(F==="trace"&&l?c:console[F]!==void 0?this._bindMethod(console,F,this.config.useCache):console.log!==void 0?this._bindMethod(console,"log",this.config.useCache):P)},W.prototype.enableLoggingWhenConsoleArrives=function(F,w,G){return(function(){typeof console<"u"&&(this.replaceLoggingMethods.call(this,w,G),this[F].apply(this,arguments))}).bind(this)},W}(),x=new U;x.getLogger=function(W){if(typeof W!="string"||W==="")throw new TypeError("You must supply a name when creating a logger.");return this};var H=typeof window<"u"?window.log:void 0;x.noConflict=function(){return typeof window<"u"&&window.log===x&&(window.log=H),x},x.getLoggers=function(){return M},x.initReport=function(W){var F=W.report,w=W.reportInterval,G=W.connection;x.report=F,x.reportInterval=w,x.connection=G,F&&x._regularlyReportLogs()};var L=x},2449:function(a,m,n){n.d(m,{Message:function(){return W}});var c=n(4024),l=function(){function F(w){var G=w.id;this.id=G,this.type=w.type}return F.prototype.set=function(w){this.body={id:this.id,ackId:w.id,type:"read",to:w.to,from:w.from||"",chatType:w.chatType}},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType,ackId:w.id,type:"read",to:w.to,from:w.from||"",ackContent:w.ackContent,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly}},F}(),v=function(){function F(w){this.id=w.id,this.type=w.type}return F.prototype.set=function(w){this.body={id:this.id,ackId:w.ackId,type:"delivery",to:w.to,from:w.from||""}},F.create=function(w){return{id:c.P6.getUniqueId(),ackId:w.ackId,type:"delivery",to:w.to,from:w.from||"",isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly}},F}(),y=(n(3843),n(3710),function(){function F(w){var G=w.type,S=w.id;this.id=S,this.type=G}return F.prototype.set=function(w){this.body={id:this.id,chatType:w.chatType||"singleChat",type:"channel",to:w.to,from:w.from||"",time:Date.now()}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),type:"channel",chatType:w.chatType||"singleChat",to:w.to,from:w.from||"",time:Date.now(),isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly}},F}()),T=(n(9753),function(){function F(w){var G=w.type,S=w.id||c.P6.getUniqueId();this.id=S,this.type=G,this.value=""}return F.prototype.set=function(w){this.body={id:this.id,chatType:w.chatType||"singleChat",type:"txt",to:w.to,msg:w.msg,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now(),isChatThread:w.isChatThread},this.value=w.msg},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){var G,S;return!((G=w.msgConfig)===null||G===void 0)&&G.languages&&Array.isArray((S=w.msgConfig)===null||S===void 0?void 0:S.languages),{type:"txt",id:c.P6.getUniqueId(),msg:w.msg,to:w.to,from:w.from||"",chatType:w.chatType,ext:w.ext,time:Date.now(),msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}()),I=function(){function F(w){var G=w.type,S=w.id;this.id=S||c.P6.getUniqueId(),this.type=G}return F.prototype.set=function(w){this.body={id:this.id,chatType:w.chatType||"singleChat",type:"cmd",to:w.to,action:w.action,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now()}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),type:"cmd",to:w.to,from:w.from||"",chatType:w.chatType||"singleChat",action:w.action,time:Date.now(),ext:w.ext,msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}(),g=function(){function F(w){var G=w.type,S=w.id||c.P6.getUniqueId();this.id=S,this.type=G}return F.prototype.set=function(w){this.body={id:this.id,chatType:w.chatType||"singleChat",type:"custom",to:w.to,customEvent:w.customEvent,customExts:w.customExts,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now()}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType||"singleChat",type:"custom",to:w.to,customEvent:w.customEvent,customExts:w.customExts,from:w.from||"",ext:w.ext,time:Date.now(),msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}(),P=function(){function F(w){var G=w.type,S=w.id;this.id=S||c.P6.getUniqueId(),this.type=G}return F.prototype.set=function(w){this.body={id:this.id,chatType:w.chatType||"singleChat",type:"loc",to:w.to,addr:w.addr,buildingName:w.buildingName,lat:w.lat,lng:w.lng,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now()}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType||"singleChat",type:"loc",to:w.to,addr:w.addr,buildingName:w.buildingName,lat:w.lat,lng:w.lng,from:w.from||"",ext:w.ext,time:Date.now(),msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}(),M=function(){function F(w){var G=w.type,S=w.id||c.P6.getUniqueId();this.id=S,this.type=G}return F.prototype.set=function(w){w.file=w.file||w.fileInputId&&c.P6.getFileUrl(w.fileInputId),this.body={id:this.id,chatType:w.chatType||"singleChat",type:"img",file:w.file,width:w.width,height:w.height,to:w.to,from:w.from||"",roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now(),onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,isChatThread:w.isChatThread}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType,type:"img",url:w.url,width:w.width,height:w.height,file:w.file,to:w.to,from:w.from||"",ext:w.ext,time:Date.now(),msgConfig:w.msgConfig,file_length:w.file_length,onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList,thumbnailWidth:w.thumbnailWidth,thumbnailHeight:w.thumbnailHeight}},F}(),U=function(){function F(w){var G=w.type,S=w.id||c.P6.getUniqueId();this.id=S,this.type=G}return F.prototype.set=function(w){w.file=w.file||w.fileInputId&&c.P6.getFileUrl(w.fileInputId),this.body={id:this.id,chatType:w.chatType||"singleChat",type:"audio",file:w.file,filename:w.filename,length:w.length,file_length:w.file_length,fileInputId:w.fileInputId,to:w.to,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now(),onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,isChatThread:w.isChatThread}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType,type:"audio",filename:w.filename,length:w.length,file:w.file,to:w.to,from:w.from||"",ext:w.ext,time:Date.now(),onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,file_length:w.file_length,msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}(),x=function(){function F(w){var G=w.type,S=w.id;this.id=S,this.type=G}return F.prototype.set=function(w){w.file=w.file||w.fileInputId&&c.P6.getFileUrl(w.fileInputId),this.body={id:this.id,chatType:w.chatType||"singleChat",type:"video",file:w.file,filename:w.filename,length:w.length,file_length:w.file_length,fileInputId:w.fileInputId,to:w.to,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now(),apiUrl:w.apiUrl,onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,isChatThread:w.isChatThread}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType||"singleChat",type:"video",file:w.file,filename:w.filename,length:w.length,file_length:w.file_length,fileInputId:w.fileInputId,to:w.to,from:w.from||"",ext:w.ext,time:Date.now(),onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}(),H=function(){function F(w){var G=w.type,S=w.id;this.id=S,this.type=G}return F.prototype.set=function(w){w.file=w.file||w.fileInputId&&c.P6.getFileUrl(w.fileInputId),this.body={id:this.id,chatType:w.chatType||"singleChat",type:"file",file:w.file,filename:w.filename,fileInputId:w.fileInputId,to:w.to,from:w.from,roomType:w.roomType,success:w.success,fail:w.fail,ext:w.ext,time:Date.now(),onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,isChatThread:w.isChatThread}},F.prototype.setChatType=function(w){return!!this.body&&(this.body.chatType=w,!0)},F.prototype.setGroup=function(w){return!!this.body&&(this.body.group=w,!0)},F.create=function(w){return{id:c.P6.getUniqueId(),chatType:w.chatType||"singleChat",type:"file",file:w.file,filename:w.filename,fileInputId:w.fileInputId,file_length:w.file_length,to:w.to,from:w.from||"",ext:w.ext,onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete,onFileUploadProgress:w.onFileUploadProgress,body:w.body,time:Date.now(),msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList}},F}(),L=function(){function F(w){var G=w.type,S=w.id||c.P6.getUniqueId();this.id=S,this.type=G,this.value=""}return F.create=function(w){return{type:"combine",id:c.P6.getUniqueId(),to:w.to,from:w.from||"",chatType:w.chatType,ext:w.ext,time:Date.now(),msgConfig:w.msgConfig,isChatThread:w.isChatThread,priority:w.priority,deliverOnlineOnly:w.deliverOnlineOnly,receiverList:w.receiverList,compatibleText:w.compatibleText,title:w.title,summary:w.summary,messageList:w.messageList,onFileUploadError:w.onFileUploadError,onFileUploadComplete:w.onFileUploadComplete}},F}(),W=function(){function F(w,G){return this.type=w,this.id=G||c.P6.getUniqueId(),F.createOldMsg({type:w,id:this.id})}return F.createOldMsg=function(w){switch(w.type){case"read":return new l({type:"read",id:w.id});case"delivery":return new v({type:"delivery",id:w.id});case"channel":return new y({type:"channel",id:w.id});case"txt":return new T({type:"txt",id:w.id});case"cmd":return new I({type:"cmd",id:w.id});case"custom":return new g({type:"custom",id:w.id});case"loc":return new P({type:"loc",id:w.id});case"img":return new M({type:"img",id:w.id});case"audio":return new U({type:"audio",id:w.id});case"video":return new x({type:"video",id:w.id});case"file":return new H({type:"file",id:w.id})}},F.create=function(w){return(G=w).type!=="txt"||"version"in G?function(S){return S.type==="img"&&!("version"in S)}(w)?M.create(w):function(S){return S.type==="cmd"&&!("version"in S)}(w)?I.create(w):function(S){return S.type==="file"&&!("version"in S)}(w)?H.create(w):function(S){return S.type==="audio"&&!("version"in S)}(w)?U.create(w):function(S){return S.type==="video"&&!("version"in S)}(w)?x.create(w):function(S){return S.type==="custom"&&!("version"in S)}(w)?g.create(w):function(S){return S.type==="loc"&&!("version"in S)}(w)?P.create(w):function(S){return S.type==="channel"&&!("version"in S)}(w)?y.create(w):function(S){return S.type==="delivery"&&!("version"in S)}(w)?v.create(w):function(S){return S.type==="read"&&!("version"in S)}(w)?l.create(w):function(S){return S.type==="combine"&&!("version"in S)}(w)?L.create(w):{}:T.create(w);var G},F.prototype.set=function(w){},F.getFileUrl=c.P6.getFileUrl,F.download=c.P6.download,F.parseDownloadResponse=c.P6.parseDownloadResponse,F}()},5531:function(a,m,n){var c;n.d(m,{E:function(){return c}}),function(l){l[l.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",l[l.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",l[l.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",l[l.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",l[l.REQUEST_ABORT=-4]="REQUEST_ABORT",l[l.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",l[l.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",l[l.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",l[l.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",l[l.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",l[l.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",l[l.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",l[l.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",l[l.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",l[l.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",l[l.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",l[l.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",l[l.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",l[l.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",l[l.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",l[l.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",l[l.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",l[l.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",l[l.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",l[l.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",l[l.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",l[l.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",l[l.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",l[l.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",l[l.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",l[l.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",l[l.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",l[l.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",l[l.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",l[l.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",l[l.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",l[l.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",l[l.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",l[l.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",l[l.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",l[l.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",l[l.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",l[l.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",l[l.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",l[l.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",l[l.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",l[l.MAX_LIMIT=50]="MAX_LIMIT",l[l.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",l[l.NO_PERMISSION=52]="NO_PERMISSION",l[l.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",l[l.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",l[l.WEBIM_TOKEN_EXPIRED=56]="WEBIM_TOKEN_EXPIRED",l[l.WEBIM_SERVER_SERVING_DISABLED=57]="WEBIM_SERVER_SERVING_DISABLED",l[l.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",l[l.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",l[l.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",l[l.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",l[l.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",l[l.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",l[l.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",l[l.PARSE_FILE_ERROR=203]="PARSE_FILE_ERROR",l[l.USER_NOT_FOUND=204]="USER_NOT_FOUND",l[l.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",l[l.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",l[l.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",l[l.WEBIM_USER_ALREADY_LOGIN=208]="WEBIM_USER_ALREADY_LOGIN",l[l.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",l[l.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",l[l.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",l[l.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",l[l.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",l[l.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",l[l.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",l[l.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",l[l.SERVER_GET_DNSLIST_FAILED=304]="SERVER_GET_DNSLIST_FAILED",l[l.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",l[l.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",l[l.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",l[l.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",l[l.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",l[l.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",l[l.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",l[l.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",l[l.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",l[l.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",l[l.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",l[l.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",l[l.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",l[l.STATUS_INIT=400]="STATUS_INIT",l[l.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",l[l.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",l[l.STATUS_OPENED=403]="STATUS_OPENED",l[l.STATUS_CLOSING=404]="STATUS_CLOSING",l[l.STATUS_CLOSED=405]="STATUS_CLOSED",l[l.STATUS_ERROR=406]="STATUS_ERROR",l[l.SERVER_BUSY=500]="SERVER_BUSY",l[l.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",l[l.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",l[l.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",l[l.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",l[l.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",l[l.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",l[l.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",l[l.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",l[l.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",l[l.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",l[l.MESSAGE_SIZE_LIMIT=511]="MESSAGE_SIZE_LIMIT",l[l.MESSAGE_SEND_TIMEOUT=512]="MESSAGE_SEND_TIMEOUT",l[l.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",l[l.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",l[l.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",l[l.PERMISSION_DENIED=603]="PERMISSION_DENIED",l[l.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",l[l.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",l[l.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",l[l.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",l[l.GROUP_MEMBER_ATTRIBUTES_SET_FAILED=609]="GROUP_MEMBER_ATTRIBUTES_SET_FAILED",l[l.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",l[l.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",l[l.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",l[l.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",l[l.LOCAL_DB_OPERATION_FAILED=800]="LOCAL_DB_OPERATION_FAILED",l[l.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",l[l.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",l[l.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",l[l.REACTION_CREATING=1102]="REACTION_CREATING",l[l.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",l[l.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",l[l.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",l[l.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",l[l.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",l[l.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST",l[l.MODIFY_MESSAGE_NOT_EXIST=1302]="MODIFY_MESSAGE_NOT_EXIST",l[l.MODIFY_MESSAGE_FORMAT_ERROR=1303]="MODIFY_MESSAGE_FORMAT_ERROR",l[l.MODIFY_MESSAGE_FAILED=1304]="MODIFY_MESSAGE_FAILED",l[l.CONVERSATION_NOT_EXIST=1400]="CONVERSATION_NOT_EXIST"}(c||(c={}))},4998:function(a,m,n){var c;n.d(m,{a:function(){return c}}),n(7252),function(l){l[l.SYNC_INIT=0]="SYNC_INIT",l[l.SYNC_START=1]="SYNC_START",l[l.SYNC_FINISH=2]="SYNC_FINISH"}(c||(c={}))},9937:function(a,m,n){var c;n.d(m,{Z:function(){return c}}),function(l){l[l.mark_0=0]="mark_0",l[l.mark_1=1]="mark_1",l[l.mark_2=2]="mark_2",l[l.mark_3=3]="mark_3",l[l.mark_4=4]="mark_4",l[l.mark_5=5]="mark_5",l[l.mark_6=6]="mark_6",l[l.mark_7=7]="mark_7",l[l.mark_8=8]="mark_8",l[l.mark_9=9]="mark_9",l[l.mark_10=10]="mark_10",l[l.mark_11=11]="mark_11",l[l.mark_12=12]="mark_12",l[l.mark_13=13]="mark_13",l[l.mark_14=14]="mark_14",l[l.mark_15=15]="mark_15",l[l.mark_16=16]="mark_16",l[l.mark_17=17]="mark_17",l[l.mark_18=18]="mark_18",l[l.mark_19=19]="mark_19"}(c||(c={}))},4024:function(a,m,n){n.d(m,{PU:function(){return X},iw:function(){return xe},hj:function(){return Q},LR:function(){return vt},cT:function(){return st},P6:function(){return Ht}}),n(9601),n(1539),n(8674),n(3710),n(7941),n(2564),n(6699),n(7042),n(2772),n(9714),n(9653),n(6992),n(8783),n(3948),n(285),n(1637),n(8309),n(4986),n(2222),n(4916),n(6977);var c=n(5531),l=(n(2023),function(){return l=Object.assign||function(ue){for(var Se,Ue=1,ct=arguments.length;Ue<ct;Ue++)for(var Xe in Se=arguments[Ue])Object.prototype.hasOwnProperty.call(Se,Xe)&&(ue[Xe]=Se[Xe]);return ue},l.apply(this,arguments)}),v=function(ue,Se,Ue,ct){var Xe,bt,_t,Lt,Ae,Re,Me,lt,nt,Ye,Fe,Ve,$e,ke,Je,yt,Ct,mt,pt,Mt,Xt,jt,zt,tr,Ke=ue.response;Ke&&typeof Ke=="string"&&(Ke=JSON.parse(Ke));var Ot=ue.status,j={elapse:ct,httpCode:Ot,errDesc:Ke==null?void 0:Ke.error_description};if(Ot===400){if(Ke.error_code===40002)return void Se({type:c.E.THREAD_ALREADY_EXIST,message:Ke==null?void 0:Ke.error_description,extraInfo:j});if(Ke.error_code===40009)return void Se({type:c.E.OPERATION_UNSUPPORTED,message:Ke==null?void 0:Ke.error_description,extraInfo:j});if(Ke.error_code===60005)return void Se({type:c.E.GROUP_MEMBER_ATTRIBUTES_SET_FAILED,message:(Ke==null?void 0:Ke.desc)||(Ke==null?void 0:Ke.error_description),extraInfo:j});if(Ke.error_code===60010)return void(Ke!=null&&Ke.error_description.includes("exceeds chatgroup user metadata single value limit")?Se({type:c.E.MAX_LIMIT,message:(Ke==null?void 0:Ke.desc)||Ke.error_description,extraInfo:j}):Se({type:c.E.NO_PERMISSION,message:(Ke==null?void 0:Ke.desc)||Ke.error_description,extraInfo:j}));if(Ke.error_code===60011)return void Se({type:c.E.CHATROOM_NOT_JOINED,message:Ke==null?void 0:Ke.desc,extraInfo:j});if(Ke.error_code===14403)return void Se({type:c.E.WEBIM_UPLOADFILE_ERROR,message:Ke==null?void 0:Ke.error_description,data:Ke,extraInfo:j});if(Ke.error_code===60006||Ke.error_code===60007||Ke.error_code===60009||Ke.error_code===60012)return void Se({type:c.E.MAX_LIMIT,message:(Ke==null?void 0:Ke.desc)||(Ke==null?void 0:Ke.error_description),extraInfo:j});if(Ke.error_code===91104)return void Se({type:c.E.NO_PERMISSION,message:Ke==null?void 0:Ke.error_description,extraInfo:j});if(!((Xe=Ke.error_description)===null||Xe===void 0)&&Xe.includes("are not members of this group"))return!((bt=ue.responseURL)===null||bt===void 0)&&bt.includes("chatgroups")?Se({type:c.E.GROUP_NOT_JOINED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):Se({type:c.E.CHATROOM_NOT_JOINED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}),void Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,message:Ke==null?void 0:Ke.error_description,data:ue.responseText,extraInfo:j});if((Ke==null?void 0:Ke.result)==="the app not open presence")return void Se({type:c.E.SERVICE_NOT_ENABLED,message:Ke==null?void 0:Ke.result,extraInfo:j});if(Ke!=null&&Ke.error_description.includes("remark length must less"))return void Se({type:c.E.MAX_LIMIT,message:Ke==null?void 0:Ke.error_description,extraInfo:j});switch(Ke==null?void 0:Ke.error_description){case"the user is already operation this message":Se({type:c.E.REACTION_ALREADY_ADDED,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"The quantity has exceeded the limit!":Se({type:c.E.MAX_LIMIT,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"The user not in this group!":Se({type:c.E.GROUP_NOT_JOINED,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"the user operation is illegal!":Se({type:c.E.REACTION_OPERATION_IS_ILLEGAL,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":Se({type:c.E.SERVICE_NOT_ENABLED,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"this message is creating reaction, please try again.":Se({type:c.E.REACTION_CREATING,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"groupId can not be null!":Se({type:c.E.GROUP_NOT_EXIST,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"The input text is too long.":Se({type:c.E.TRANSLATION_TEXT_TOO_LONG,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"The target language is not valid.":Se({type:c.E.TRANSLATION_NOT_VALID,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"report failed, get message by id failed":Se({type:c.E.MESSAGE_NOT_FOUND,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"ext is too big ":Se({type:c.E.PRESENCE_PARAM_EXCEED,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"Request body not readable.Please check content type is correct!":case"param mark must be not empty, please check!":case"param mark illegal, please check it!":case"param pin_msg_id illegal, please check it!":Se({type:c.E.REQUEST_PARAMETER_ERROR,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;case"updateRemark | they are not friends, please add as a friend first.":Se({type:c.E.USER_NOT_FRIEND,message:Ke==null?void 0:Ke.error_description,extraInfo:j});break;default:Se({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,message:Ke==null?void 0:Ke.error_description,data:ue.responseText,extraInfo:j}),Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,message:Ke==null?void 0:Ke.error_description,data:ue.responseText,extraInfo:j})}}else if(Ot===401)Ke.error_code===40001||Ke.error_code===60001||Ke.error_description==="Unable to authenticate (OAuth)"?Se({type:c.E.NO_PERMISSION,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):(Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:ue.responseText,extraInfo:j}),Se({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:ue.responseText,extraInfo:j}));else if(Ot===403)Ke.error_code===4e4||Ke.error_code===60004||Ke.error_code===15002?Se({type:c.E.SERVICE_NOT_ENABLED,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===40003||Ke.error_code===40004?Se({type:c.E.THREAD_ALREADY_EXIST,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===40005||Ke.error_code===40007||Ke.error_code===91002?Se({type:c.E.MAX_LIMIT,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===60002?Se({type:c.E.PERMISSION_DENIED,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===91101?Se({type:c.E.MAX_LIMIT,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===91102&&Se({type:c.E.REQUEST_PARAMETER_ERROR,message:Ke.error_description,extraInfo:j}),Ke.error_description==="group member list is full!"?!((_t=ue.responseURL)===null||_t===void 0)&&_t.includes("chatgroups")?Se({type:c.E.GROUP_MEMBERS_FULL,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):Se({type:c.E.CHATROOM_MEMBERS_FULL,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):!((Lt=Ke.error_description)===null||Lt===void 0)&&Lt.includes(Ke.error_description.includes("already in group"))?!((Ae=ue.responseURL)===null||Ae===void 0)&&Ae.includes("chatgroups")&&Se({type:c.E.GROUP_ALREADY_JOINED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):!((Re=Ke.error_description)===null||Re===void 0)&&Re.includes("are not members of this group")?!((Me=ue.responseURL)===null||Me===void 0)&&Me.includes("chatgroups")?Se({type:c.E.GROUP_NOT_JOINED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):Se({type:c.E.CHATROOM_NOT_JOINED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):!((lt=Ke.error_description)===null||lt===void 0)&&lt.includes("service not open!")||!((nt=Ke.error_description)===null||nt===void 0)&&nt.includes("message report not open")||!((Ye=Ke.error_description)===null||Ye===void 0)&&Ye.includes("messageroaming function not open")?Se({type:c.E.SERVICE_NOT_ENABLED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):!((Fe=Ke.error_description)===null||Fe===void 0)&&Fe.includes("members size is greater than max user size !")?Se({type:c.E.GROUP_MEMBERS_LIMIT,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):!((Ve=Ke.error_description)===null||Ve===void 0)&&Ve.includes("can not operate this group, reason: group is disabled")?Se({type:c.E.GROUP_IS_DISABLED,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):!(($e=Ke.error_description)===null||$e===void 0)&&$e.includes("Invitee's contact max count")||!((ke=Ke.error_description)===null||ke===void 0)&&ke.includes("Inviter's contact max count")?Se({type:c.E.MAX_LIMIT,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):Se({type:c.E.PERMISSION_DENIED,data:ue.response||ue.responseText,message:"permission denied",extraInfo:l(l({},j),{errDesc:"permission denied"})}),Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:ue.responseText,extraInfo:j});else if(Ot===404)Ke.error_code===40011?Se({type:c.E.THREAD_NOT_EXIST,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===40012?Se({type:c.E.NO_PERMISSION,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===60003||Ke.error_code===20004?Se({type:c.E.GROUP_NOT_JOINED,message:Ke==null?void 0:Ke.error_description,extraInfo:j}):Ke.error_code===91001&&Se({type:c.E.CONVERSATION_NOT_EXIST,message:Ke==null?void 0:Ke.error_description,extraInfo:j}),!((Je=Ke.error_description)===null||Je===void 0)&&Je.includes("do not find this group")||!((yt=Ke.error_description)===null||yt===void 0)&&yt.includes("does not exist")?!((Ct=ue.responseURL)===null||Ct===void 0)&&Ct.includes("chatgroups")?Se({type:c.E.GROUP_NOT_EXIST,data:ue.response||ue.responseText,message:"The chat room dose not exist.",extraInfo:l(l({},j),{errDesc:"The chat room dose not exist."})}):Se({type:c.E.CHATROOM_NOT_EXIST,data:ue.response||ue.responseText,message:"The chat room dose not exist.",extraInfo:l(l({},j),{errDesc:"The chat room dose not exist."})}):!((mt=Ke.error_description)===null||mt===void 0)&&mt.includes("username")&&(!((pt=Ke.error_description)===null||pt===void 0)&&pt.includes("doesn't exist!'"))||!((Mt=Ke.error_description)===null||Mt===void 0)&&Mt.includes("user not found")||!((Xt=Ke.error_description)===null||Xt===void 0)&&Xt.includes("Service resource not found")&&(Ke==null?void 0:Ke.exception)==="UserNotFoundException"?Se({type:c.E.USER_NOT_FOUND,data:ue.response||ue.responseText,message:Ke.error_description,extraInfo:j}):Ke.error_description.includes("user session pin message not exist")?Se({type:c.E.MESSAGE_NOT_FOUND,message:Ke.error_description,extraInfo:j}):Se({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.response||ue.responseText,message:ue.responseText,extraInfo:j}),Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.response||ue.responseText,message:ue.responseText,extraInfo:j});else if(Ot===406)Ke.error_code===90004&&Se({type:c.E.OPERATION_NOT_ALLOWED,message:Ke==null?void 0:Ke.error_description,extraInfo:j});else if(Ot===429||Ot===503){if(!((jt=Ke.error_description)===null||jt===void 0)&&jt.includes("The request has reached the maximum limit"))return void Se({type:c.E.MAX_LIMIT,message:ue.responseText,extraInfo:j});if(!((zt=Ke.error_description)===null||zt===void 0)&&zt.includes("upload client logs reached limit"))return void Se({type:c.E.MAX_LIMIT,message:ue.responseText});Se({type:c.E.SERVER_BUSY,data:ue.response||ue.responseText,message:"Server is busy.",extraInfo:l(l({},j),{errDesc:"Server is busy."})}),Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:"Server is busy.",extraInfo:l(l({},j),{errDesc:"Server is busy."})})}else if(Ot===500){if(Ke.error_code===40006||Ke.error_code===40008||Ke.error_code===40010)return void Se({type:c.E.SERVER_UNKNOWN_ERROR,message:Ke==null?void 0:Ke.error_description,extraInfo:j});if(Ke.error_code===90005||Ke.error_code===99999)return void Se({type:c.E.REQUEST_UNKNOWN,message:Ke==null?void 0:Ke.error_description,extraInfo:j});if(!((tr=Ke.error_description)===null||tr===void 0)&&tr.includes("translte failed!"))return void Se({type:c.E.TRANSLATION_FAILED,message:ue.responseText,extraInfo:j});Se({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:"",extraInfo:j}),Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:"",extraInfo:j})}else Se({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:ue.responseText,extraInfo:l(l({},j),{errDesc:"ajax error"})}),Ue({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:ue.responseText,message:ue.responseText,extraInfo:l(l({},j),{errDesc:"ajax error"})})},y=n(1595),T=n(2071),I=n(7360),g=5242880,P=5242880,M={size:0},U=(n(2526),n(1817),n(2165),n(5827),n(4553),n(561),n(4319)),x=function(){return x=Object.assign||function(ue){for(var Se,Ue=1,ct=arguments.length;Ue<ct;Ue++)for(var Xe in Se=arguments[Ue])Object.prototype.hasOwnProperty.call(Se,Xe)&&(ue[Xe]=Se[Xe]);return ue},x.apply(this,arguments)};function H(){var ue=this.context,Se=ue.orgName,Ue=ue.appName,ct=ue.accessToken,Xe={url:"".concat(this.apiUrl,"/").concat(Se,"/").concat(Ue,"/sdk/chatfiles/part-upload"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+ct}};return I.kg.debug("Call multipartInit"),Q.call(this,Xe,y.fI.SDK_INTERNAL).then(function(bt){var _t=bt.entities[0];return{data:{fileMaxSize:_t.file_upper_limit,partMinSize:_t.part_lower_limit,uuid:_t.uuid},extraInfo:bt.extraInfo,type:bt.type}})}function L(ue){var Se=this;return new Promise(function(Ue,ct){var Xe,bt,_t=new Date().getTime(),Lt=Se.context,Ae=Lt.orgName,Re=Lt.appName,Me=Lt.accessToken,lt=ue.uuid,nt=ue.partNumber,Ye=ue.part,Fe=ue.onProgress,Ve="".concat(Se.apiUrl,"/").concat(Ae,"/").concat(Re,"/sdk/chatfiles/part-upload/").concat(lt),$e=new XMLHttpRequest;I.kg.debug("Call multipartUpload"),$e.upload&&((bt=(Xe=$e.upload).addEventListener)===null||bt===void 0||bt.call(Xe,"progress",function(Je){Fe==null||Fe(Je)},!1)),$e.addEventListener("abort",function(){ct({type:c.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:$e,extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,errDesc:"Request Abort",url:Ve}})},!1),$e.addEventListener("error",function(){ct({type:c.E.WEBIM_UPLOADFILE_ERROR,data:$e,extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,errDesc:"request error",url:Ve}})},!1),$e.addEventListener("load",function(){try{var Je=JSON.parse($e.responseText);if($e.status!==200)return ct({type:c.E.WEBIM_UPLOADFILE_ERROR,data:Je,extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,errDesc:"part upload failed",url:Ve}}),!1;try{Ue(x(x({},Je),{extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,url:Ve}}))}catch(yt){ct({type:c.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:yt,extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,errDesc:"part upload failed",url:Ve}})}}catch{ct({type:c.E.WEBIM_UPLOADFILE_ERROR,data:$e.responseText,extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,errDesc:"part upload failed",url:Ve}})}},!1),$e.addEventListener("timeout",function(){ct({type:c.E.REQUEST_TIMEOUT,message:"request timeout",extraInfo:{elapse:new Date().getTime()-_t,httpCode:$e.status||-1,errDesc:"request timeout",url:Ve}})},!1);var ke=new FormData;ke.append("part_file",Ye),ke.append("part_number",nt),$e.timeout=U.zj,$e.open("PUT",Ve),$e.setRequestHeader("restrict-access","true"),$e.setRequestHeader("Accept","*/*"),$e.setRequestHeader("Authorization","Bearer "+Me),$e.send(ke)})}function W(ue){var Se=ue.uuid,Ue=ue.thumbnailHeight,ct=ue.thumbnailWidth,Xe=this.context,bt=Xe.orgName,_t=Xe.appName,Lt=Xe.accessToken,Ae="".concat(this.apiUrl,"/").concat(bt,"/").concat(_t,"/sdk/chatfiles/part-upload/").concat(Se,"?restrict-access=true");ct&&(Ae+="&thumbnail-width=".concat(ct)),Ue&&(Ae+="&thumbnail-height=".concat(Ue));var Re={url:Ae,dataType:"json",type:"POST",headers:{Authorization:"Bearer "+Lt}};return I.kg.debug("Call multipartComplete"),Q.call(this,Re,y.fI.SDK_INTERNAL)}function F(ue){var Se=ue.uuid,Ue=this.context,ct=Ue.orgName,Xe=Ue.appName,bt=Ue.accessToken,_t={url:"".concat(this.apiUrl,"/").concat(ct,"/").concat(Xe,"/sdk/chatfiles/part-upload/").concat(Se),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+bt}};return I.kg.debug("Call multipartAbort"),Q.call(this,_t,y.fI.SDK_INTERNAL)}var w=function(ue,Se,Ue,ct){return new(Ue||(Ue=Promise))(function(Xe,bt){function _t(Re){try{Ae(ct.next(Re))}catch(Me){bt(Me)}}function Lt(Re){try{Ae(ct.throw(Re))}catch(Me){bt(Me)}}function Ae(Re){var Me;Re.done?Xe(Re.value):(Me=Re.value,Me instanceof Ue?Me:new Ue(function(lt){lt(Me)})).then(_t,Lt)}Ae((ct=ct.apply(ue,Se||[])).next())})},G=function(ue,Se){var Ue,ct,Xe,bt,_t={label:0,sent:function(){if(1&Xe[0])throw Xe[1];return Xe[1]},trys:[],ops:[]};return bt={next:Lt(0),throw:Lt(1),return:Lt(2)},typeof Symbol=="function"&&(bt[Symbol.iterator]=function(){return this}),bt;function Lt(Ae){return function(Re){return function(Me){if(Ue)throw new TypeError("Generator is already executing.");for(;_t;)try{if(Ue=1,ct&&(Xe=2&Me[0]?ct.return:Me[0]?ct.throw||((Xe=ct.return)&&Xe.call(ct),0):ct.next)&&!(Xe=Xe.call(ct,Me[1])).done)return Xe;switch(ct=0,Xe&&(Me=[2&Me[0],Xe.value]),Me[0]){case 0:case 1:Xe=Me;break;case 4:return _t.label++,{value:Me[1],done:!1};case 5:_t.label++,ct=Me[1],Me=[0];continue;case 7:Me=_t.ops.pop(),_t.trys.pop();continue;default:if(!((Xe=(Xe=_t.trys).length>0&&Xe[Xe.length-1])||Me[0]!==6&&Me[0]!==2)){_t=0;continue}if(Me[0]===3&&(!Xe||Me[1]>Xe[0]&&Me[1]<Xe[3])){_t.label=Me[1];break}if(Me[0]===6&&_t.label<Xe[1]){_t.label=Xe[1],Xe=Me;break}if(Xe&&_t.label<Xe[2]){_t.label=Xe[2],_t.ops.push(Me);break}Xe[2]&&_t.ops.pop(),_t.trys.pop();continue}Me=Se.call(ue,_t)}catch(lt){Me=[6,lt],ct=0}finally{Ue=Xe=0}if(5&Me[0])throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}([Ae,Re])}}},S=function(){function ue(Se,Ue){var ct=this;this.handleUploadProgress=function(Xe,bt){var _t,Lt;if(Xe.total){ct.progressArr[bt]=Xe.loaded;var Ae=ct.progressArr.reduce(function(Re,Me){return Re+Me},0);(Lt=(_t=ct.options).onFileUploadProgress)===null||Lt===void 0||Lt.call(_t,{isTrusted:Xe.isTrusted,type:Xe.type,loaded:Ae>ct.file.size?ct.file.size:Ae,total:ct.file.size,lengthComputable:Xe.lengthComputable})}},this.uuid="",this.pool=[],this.progressArr=[],this.connection=Se,this.options=Ue,this.partSize=g,this.file=Ue.file,this.init(),this.rpt=this.connection.dataReport.geOperateFun({operationName:y.fI.REST_UPLOAD_FILE_IN_PARTS})}return ue.prototype.init=function(){var Se,Ue,ct,Xe;return w(this,void 0,void 0,function(){var bt,_t,Lt,Ae,Re,Me,lt,nt,Ye,Fe,Ve,$e,ke,Je,yt;return G(this,function(Ct){switch(Ct.label){case 0:return Ct.trys.push([0,4,,6]),[4,H.call(this.connection)];case 1:return bt=Ct.sent(),_t=bt.data||{},Lt=_t.fileMaxSize,Ae=Lt===void 0?0:Lt,Re=_t.partMinSize,Me=Re===void 0?g:Re,lt=_t.uuid,nt=lt===void 0?"":lt,Ye=bt.extraInfo,$e=Ye.elapse,ke=Ye.httpCode,yt=Ye.url,this.partSize=Me,this.uuid=nt,M.size=Me,I.kg.debug("multipartInit success","uuid: ".concat(nt),"fileMaxSize: ".concat(Ae),"partMinSize: ".concat(Me)),this.file.size>Ae?[4,this.multipartAbort()]:[3,3];case 2:return Ct.sent(),(Ue=(Se=this.options).onFileUploadError)===null||Ue===void 0||Ue.call(Se,{code:c.E.WEBIM_UPLOADFILE_ERROR,message:"The file size exceeds the maximum limit"}),[2];case 3:return this.rpt({data:{requestUrl:yt,requestName:y.c.REST_INIT_UPLOAD_TASK_IN_PARTS,requestElapse:$e,requestMethod:"POST",isSuccess:1,code:ke}}),this.upload(),[3,6];case 4:return Fe=Ct.sent(),Ve=(Fe==null?void 0:Fe.extraInfo)||{},$e=Ve.elapse,ke=Ve.httpCode,Je=Ve.errDesc,yt=Ve.url,this.rpt({data:{requestUrl:yt,requestName:y.c.REST_INIT_UPLOAD_TASK_IN_PARTS,requestElapse:$e,requestMethod:"POST",isSuccess:0,codeDesc:Je,code:ke}}),[4,this.multipartAbort()];case 5:return Ct.sent(),(Xe=(ct=this.options)===null||ct===void 0?void 0:ct.onInitFail)===null||Xe===void 0||Xe.call(ct),[3,6];case 6:return[2]}})})},ue.prototype.upload=function(){var Se,Ue,ct;return w(this,void 0,void 0,function(){var Xe,bt,_t,Lt,Ae,Re,Me=this;return G(this,function(lt){switch(lt.label){case 0:new FileReader().readAsArrayBuffer(this.file),Xe=this.file.size,bt=Math.ceil(Xe/this.partSize),lt.label=1;case 1:lt.trys.push([1,7,,9]),_t=function(nt){var Ye,Fe,Ve,$e;return G(this,function(ke){switch(ke.label){case 0:return Ye=nt*Lt.partSize,Fe=Math.min(Xe,Ye+Lt.partSize),Ve=(Se=Lt.file)===null||Se===void 0?void 0:Se.slice(Ye,Fe),($e=L.call(Lt.connection,{uuid:Lt.uuid,partNumber:"".concat(nt+1),part:Ve,onProgress:function(Je){Me.handleUploadProgress(Je,nt)}})).then(function(Je){var yt=(Je==null?void 0:Je.extraInfo)||{},Ct=yt.elapse,mt=yt.httpCode,pt=yt.url;Me.rpt({data:{requestUrl:pt,requestName:y.c.REST_UPLOAD_PART,requestElapse:Ct,isSuccess:1,requestMethod:"PUT",code:mt}}),Me.handleTask($e)}),$e.catch(function(Je){var yt=(Je==null?void 0:Je.extraInfo)||{},Ct=yt.elapse,mt=yt.httpCode,pt=yt.url,Mt=yt.errDesc;Me.rpt({data:{requestUrl:pt,requestName:y.c.REST_UPLOAD_PART,requestElapse:Ct,isSuccess:0,requestMethod:"PUT",code:mt,codeDesc:Mt}}),delete Je.extraInfo}),Lt.pool.push($e),Lt.pool.length!==4?[3,2]:[4,Promise.race(Lt.pool)];case 1:ke.sent(),ke.label=2;case 2:return[2]}})},Lt=this,Ae=0,lt.label=2;case 2:return Ae<bt?[5,_t(Ae)]:[3,5];case 3:lt.sent(),lt.label=4;case 4:return Ae++,[3,2];case 5:return[4,Promise.all(this.pool)];case 6:return lt.sent(),this.multipartComplete(),[3,9];case 7:return Re=lt.sent(),[4,this.multipartAbort()];case 8:return lt.sent(),this.rpt({data:{isLastApi:1,isSuccess:0}}),(ct=(Ue=this.options).onFileUploadError)===null||ct===void 0||ct.call(Ue,Re),[3,9];case 9:return[2]}})})},ue.prototype.multipartComplete=function(){var Se,Ue,ct,Xe;return w(this,void 0,void 0,function(){var bt,_t,Lt,Ae,Re,Me,lt,nt,Ye,Fe,Ve;return G(this,function($e){switch($e.label){case 0:return $e.trys.push([0,2,,3]),bt=this.options.thumbnailInfo||{},_t=bt.width,Lt=bt.height,[4,W.call(this.connection,{uuid:this.uuid,thumbnailHeight:Lt,thumbnailWidth:_t})];case 1:return Ae=$e.sent(),Re=(Ae==null?void 0:Ae.extraInfo)||{},nt=Re.elapse,Ye=Re.httpCode,Ve=Re.url,this.rpt({data:{requestUrl:Ve,requestName:y.c.REST_COMPLETE_UPLOAD_PART,requestElapse:nt,requestMethod:"POST",isSuccess:1,code:Ye}}),this.rpt({data:{isLastApi:1,isSuccess:1}}),(Ue=(Se=this.options).onFileUploadComplete)===null||Ue===void 0||Ue.call(Se,Ae),[3,3];case 2:return Me=$e.sent(),lt=(Me==null?void 0:Me.extraInfo)||{},nt=lt.elapse,Ye=lt.httpCode,Fe=lt.errDesc,Ve=lt.url,this.rpt({data:{requestUrl:Ve,requestName:y.c.REST_COMPLETE_UPLOAD_PART,requestElapse:nt,requestMethod:"POST",isSuccess:0,codeDesc:Fe,code:Ye}}),this.rpt({data:{isLastApi:1,isSuccess:0}}),(Xe=(ct=this.options).onFileUploadError)===null||Xe===void 0||Xe.call(ct,Me),[3,3];case 3:return[2]}})})},ue.prototype.multipartAbort=function(){return w(this,void 0,void 0,function(){var Se,Ue,ct,Xe,bt,_t,Lt,Ae;return G(this,function(Re){switch(Re.label){case 0:if(!this.uuid)return[2];Re.label=1;case 1:return Re.trys.push([1,3,,4]),[4,F.call(this.connection,{uuid:this.uuid})];case 2:return Se=Re.sent(),Ue=(Se==null?void 0:Se.extraInfo)||{},bt=Ue.elapse,_t=Ue.httpCode,Ae=Ue.url,this.rpt({data:{requestUrl:Ae,requestName:y.c.REST_ABORT_UPLOAD_PART,requestElapse:bt,requestMethod:"DELETE",isSuccess:1,code:_t}}),[3,4];case 3:return ct=Re.sent(),Xe=(ct==null?void 0:ct.extraInfo)||{},bt=Xe.elapse,_t=Xe.httpCode,Lt=Xe.errDesc,Ae=Xe.url,this.rpt({data:{requestUrl:Ae,requestName:y.c.REST_ABORT_UPLOAD_PART,requestElapse:bt,requestMethod:"DELETE",isSuccess:0,codeDesc:Lt,code:_t}}),[3,4];case 4:return[2]}})})},ue.prototype.handleTask=function(Se){var Ue=this.pool.findIndex(function(ct){return ct===Se});this.pool.splice(Ue,1)},ue}(),re=function(ue){var Se,Ue,ct=this,Xe=new Date().getTime(),bt=ue.apiUrl,_t=ue.orgName,Lt=ue.appName,Ae=ue.operateName,Re=ue.accessToken,Me=ue.uploadUrl||"".concat(bt,"/").concat(_t,"/").concat(Lt,"/chatfiles"),lt=function(Ve){var $e=new Date().getTime()-Xe;ct.dataReport&&Ae&&[y.fI.UPLOAD_MSG_ATTACH,y.fI.UPLOAD_CHATROOM_FILE,y.fI.UPLOAD_GROUP_FILE].includes(Ae)&&ct.dataReport.geOperateFun({operationName:Ae})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:Ae,requestElapse:$e,requestUrl:Me,code:(Ye==null?void 0:Ye.status)||0,codeDesc:"upload file error"}}),ue.onFileUploadError&&ue.onFileUploadError(Ve)};function nt(Ve){lt({type:c.E.WEBIM_UPLOADFILE_ERROR,data:Ye})}var Ye=new XMLHttpRequest;Ye.upload&&((Ue=(Se=Ye.upload).addEventListener)===null||Ue===void 0||Ue.call(Se,"progress",ue.onFileUploadProgress||X,!1)),Ye.addEventListener("abort",ue.onFileUploadCanceled||X,!1),Ye.addEventListener("error",nt,!1),Ye.addEventListener("load",function(Ve){try{var $e=JSON.parse(Ye.responseText);if(Ye.status===400)return lt({type:c.E.WEBIM_UPLOADFILE_ERROR,data:$e}),!1;try{(function(ke){var Je=new Date().getTime()-Xe;ct.dataReport&&Ae&&[y.fI.UPLOAD_MSG_ATTACH,y.fI.UPLOAD_CHATROOM_FILE,y.fI.UPLOAD_GROUP_FILE].includes(Ae)&&ct.dataReport.geOperateFun({operationName:Ae})({isEndApi:!0,data:{isSuccess:ke!=null&&ke.error?0:1,requestMethod:"POST",requestName:Ae,requestElapse:Je,requestUrl:Me,code:Ye.status,codeDesc:(ke==null?void 0:ke.error_description)||""}}),ue.onFileUploadComplete&&ue.onFileUploadComplete(ke)})($e)}catch(ke){lt({type:c.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:ke})}}catch{lt({type:c.E.WEBIM_UPLOADFILE_ERROR,data:Ye.responseText})}},!1),Ye.addEventListener("timeout",nt,!1),Ye.timeout=U.zj,Ye.open("POST",Me),Ye.setRequestHeader("restrict-access","true"),Ye.setRequestHeader("Accept","*/*"),Ye.setRequestHeader("Authorization","Bearer "+Re);var Fe=new FormData;Fe.append("file",ue.file.data),ue.thumbnailWidth&&Fe.append("thumbnail-width",ue.thumbnailWidth+""),ue.thumbnailHeight&&Fe.append("thumbnail-height",ue.thumbnailHeight+""),Ye.send(Fe)},q=function(){return q=Object.assign||function(ue){for(var Se,Ue=1,ct=arguments.length;Ue<ct;Ue++)for(var Xe in Se=arguments[Ue])Object.prototype.hasOwnProperty.call(Se,Xe)&&(ue[Xe]=Se[Xe]);return ue},q.apply(this,arguments)},X=function(){};function Q(ue,Se){var Ue,ct=this;return Et().platform===xe.WEB?new Promise(function(Xe,bt){var _t=ue.dataType||"text",Lt=ue.success||X,Ae=ue.error||X,Re=new XMLHttpRequest;Re.timeout=U.Gf;var Me=!1;Re.ontimeout=function(){I.kg.warn("request timeout"),Me=!0;var ke={type:c.E.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:Re};Ae(ke),bt(ke)},Re.onerror=function(){bt({type:c.E.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:Re})},Re.onabort=function(){bt({type:c.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:Re})},Re.onreadystatechange=function(){if(Re.readyState===4){var ke=new Date().getTime()-Ue,Je=Re.status||0,yt={elapse:ke,httpCode:Je};if(Je===200){Ht.ajaxUnconventionalErrorTimes=0;try{switch(_t){case"text":return Lt(Re.responseText),void Xe(Re.responseText);case"json":var Ct=JSON.parse(Re.responseText);return Ct.extraInfo=yt,Lt(Ct),void Xe(Ct);case"xml":return Re.responseXML&&Re.responseXML.documentElement?(Lt(Re.responseXML.documentElement),void Xe(Re.responseXML.documentElement)):(Ae({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void bt({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:Ae({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"Invalid dataType"}),bt({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"Invalid dataType"})}return Xe(Re.response||Re.responseText),void Lt(Re.response||Re.responseText,Re)}catch(mt){bt(mt)}return}Je===0?setTimeout(function(){I.kg.debug("request timeout:",Me),!Me&&v(Re,bt,Ae,ke)},0):([400,401,403,404,429,500,503].includes(Je)||(I.kg.debug("rest api request fail status:",Je),Ht.ajaxUnconventionalErrorTimes++),v(Re,bt,Ae,ke))}Re.readyState===0&&(Ae({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"Request not initialized"}),bt({type:c.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"Request not initialized"}))},ue.responseType&&Re.responseType&&(Re.responseType=ue.responseType),ue.mimeType&&Re.overrideMimeType(ue.mimeType);var lt=ue.type||"POST",nt=ue.data||null,Ye="";if(lt.toLowerCase()==="get"&&nt){for(var Fe in nt)nt.hasOwnProperty(Fe)&&(Ye+=Fe+"="+nt[Fe]+"&");Ye=Ye&&Ye.slice(0,-1),ue.url+=(ue.url.indexOf("?")>0?"&":"?")+(Ye&&Ye+"&")+"_v="+new Date().getTime(),nt=null,Ye=""}Ue=new Date().getTime(),Re.open(lt,ue.url);var Ve=ue.headers||{};for(var $e in Ve["Content-Type"]||(Ve["Content-Type"]="application/json"),Ve)Ve.hasOwnProperty($e)&&Re.setRequestHeader($e,Ve[$e]);Re.send(nt)}).then(function(Xe){return ct.dataReport&&Se&&Se!==y.fI.SDK_INTERNAL&&ct.dataReport.geOperateFun({operationName:Se})({isEndApi:!0,data:q({isSuccess:1,requestUrl:ue.url,requestName:Se,requestMethod:ue.type},It(Xe.extraInfo))}),Se===y.fI.SDK_INTERNAL&&(Xe.extraInfo.url=ue.url),Se!==y.fI.SDK_INTERNAL&&delete Xe.extraInfo,ee(Xe)==="Object"?q(q({},Xe),{type:c.E.REQUEST_SUCCESS}):{data:Xe,type:c.E.REQUEST_SUCCESS}}).catch(function(Xe){var bt,_t;if(ct.dataReport&&Se&&Se!==y.fI.SDK_INTERNAL&&ct.dataReport.geOperateFun({operationName:Se})({isEndApi:!0,data:q({isSuccess:0,requestUrl:ue.url,requestName:Se,requestMethod:ue.type},It(Xe.extraInfo))}),Se===y.fI.SDK_INTERNAL)if(Xe.extraInfo)Xe.extraInfo.url=ue.url;else{var Lt={elapse:new Date().getTime()-Ue,httpCode:(_t=(bt=Xe.xhr)===null||bt===void 0?void 0:bt.status)!==null&&_t!==void 0?_t:0,url:ue.url};Xe.extraInfo=Lt}throw Se!==y.fI.SDK_INTERNAL&&delete Xe.extraInfo,Xe}):se.call(this,ue,Se)}function ee(ue){return Object.prototype.toString.call(ue).slice(8,-1)}function se(ue,Se){var Ue=this;return new Promise(function(ct,Xe){var bt=ue.success||X,_t=ue.error||X,Lt=ue.type||"POST",Ae=ue.data||null,Re="",Me=new Date().getTime(),lt=Ht.getEnvInfo();if(Lt.toLowerCase()==="get"&&Ae){for(var nt in Ae)Ae.hasOwnProperty(nt)&&(Re+=nt+"="+Ae[nt]+"&");Re=Re&&Re.slice(0,-1),ue.url+=(ue.url.indexOf("?")>0?"&":"?")+(Re&&Re+"&")+"_v="+new Date().getTime(),Ae=null,Re=""}var Ye={url:ue.url,data:ue.data,method:Lt,headers:{},timeout:U.Gf,success:function(Fe){var Ve,$e,ke,Je,yt,Ct={elapse:new Date().getTime()-Me,httpCode:Number(((Ve=Fe.statusCode)===null||Ve===void 0?void 0:Ve.toString())||(($e=Fe.status)===null||$e===void 0?void 0:$e.toString())),errDesc:((ke=Fe==null?void 0:Fe.data)===null||ke===void 0?void 0:ke.error_description)||""};if(((Je=Fe.statusCode)===null||Je===void 0?void 0:Je.toString())==="200"||((yt=Fe.status)===null||yt===void 0?void 0:yt.toString())==="200"){Fe.data.extraInfo=Ct;var mt=Fe.data;bt(mt),ct(mt)}else Fe.extraInfo=Ct,_t(mt=Fe),Xe(mt),I.kg.debug(Se,"reject reason: ",mt)},complete:function(){},fail:function(Fe){var Ve={elapse:new Date().getTime()-Me,httpCode:T.Tp,errDesc:"request:fail"};if(Fe.extraInfo=Ve,Fe.data={error:"request:fail",error_description:"request:fail"},Fe.errMsg==="request:fail timeout")return Xe({type:c.E.REQUEST_TIMEOUT,message:"Request Timeout",extraInfo:Ve}),void _t({type:c.E.REQUEST_TIMEOUT,message:"Request Timeout",extraInfo:Ve});_t(Fe),Xe(Fe),I.kg.error(Se,"fail reason:",Fe)}};if(lt.platform==="zfb"||lt.platform==="dd"?Ye.headers=ue.headers:Ye.header=ue.headers,lt.platform==="dd")return dd.httpRequest(Ye);lt.global.request(Ye)}).then(function(ct){return Ue.dataReport&&Se&&Se!==y.fI.SDK_INTERNAL&&Ue.dataReport.geOperateFun({operationName:Se})({isEndApi:!0,data:q({isSuccess:1,requestUrl:ue.url,requestName:Se,requestMethod:ue.type},It(ct.extraInfo))}),Se!==y.fI.SDK_INTERNAL&&delete ct.extraInfo,ee(ct)==="Object"?q(q({},ct),{type:c.E.REQUEST_SUCCESS}):{data:ct,type:c.E.REQUEST_SUCCESS}}).catch(function(ct){Ue.dataReport&&Se&&Se!==y.fI.SDK_INTERNAL&&Ue.dataReport.geOperateFun({operationName:Se})({isEndApi:!0,data:q({isSuccess:0,requestUrl:ue.url,requestName:Se,requestMethod:ue.type},It(ct.extraInfo))}),Se!==y.fI.SDK_INTERNAL&&delete ct.extraInfo;var Xe=JSON.stringify(ct.data||{}),bt=q(q({},ct),{status:ct.statusCode||ct.status||0,response:Xe,responseText:Xe});v(bt,function(_t){throw q(q({},ct),{message:_t.message,type:_t.type})},X,0)})}function Oe(ue,Se){var Ue;return function(){for(var ct=[],Xe=0;Xe<arguments.length;Xe++)ct[Xe]=arguments[Xe];if(!ue)return Ue;Ue=Se?ue.apply(Se,ct):ue.apply(void 0,ct),ue=null}}var xe,Ne=Oe(function(ue,Se){var Ue=Et();if(Ue.platform!==xe.WEB){var ct=Ue.global,Xe=function(bt){bt.isConnected?ue():Se()};ct.offNetworkStatusChange&&ct.offNetworkStatusChange(Xe),ct.onNetworkStatusChange&&ct.onNetworkStatusChange(Xe)}else typeof addEventListener<"u"&&(window.addEventListener("online",ue),window.addEventListener("offline",Se))}),qe=Oe(function(ue,Se){var Ue,ct,Xe=Et();if(Xe.platform===xe.WEB)document&&document.addEventListener("visibilitychange",function(){document.hidden?Se==null||Se():ue==null||ue()},!1);else{var bt=Xe.global;bt.onAppShow&&((Ue=bt.onAppShow)===null||Ue===void 0||Ue.call(bt,ue)),bt.onAppHide&&((ct=bt.onAppHide)===null||ct===void 0||ct.call(bt,Se))}});function Et(){return typeof swan<"u"&&et(swan)?{platform:xe.BAIDU,global:swan}:typeof tt<"u"&&et(tt)?{platform:xe.TT,global:tt}:typeof dd<"u"&&et(dd)?{platform:xe.DD,global:dd}:typeof my<"u"&&et(my)?{platform:xe.ZFB,global:my}:typeof wx<"u"&&et(wx)?{platform:xe.WX,global:wx}:typeof qq<"u"&&et(qq)?{platform:xe.QQ,global:qq}:typeof uni<"u"&&et(uni)?{platform:xe.UNI,global:uni}:typeof window<"u"&&window.WebSocket?{platform:xe.WEB,global:window}:{platform:xe.NODE,global:n.g||{}}}function et(ue){for(var Se=["canIUse","getSystemInfo"],Ue=0,ct=Se.length;Ue<ct;Ue++)if(!ue[Se[Ue]])return!1;return!0}function st(ue,Se){var Ue,ct,Xe,bt=this,_t=ue.accessToken,Lt=ue.appKey,Ae=(ct=(Ue=ue==null?void 0:ue.file)===null||Ue===void 0?void 0:Ue.data)===null||ct===void 0?void 0:ct.size,Re=[],Me="",lt="";if(_t)if(Lt&&(Re=Lt.split("#"),Me=Re[0],lt=Re[1]),Me||lt)if(Ae<=0)ue.onFileUploadError&&ue.onFileUploadError({type:c.E.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else if(ue.uploadUrl)re.call(this,q(q({},ue),{orgName:Me,appName:lt,operateName:Se}));else{var nt=M.size||P;this.uploadPartEnable&&Ae>1.5*nt?new S(this,{file:(Xe=ue==null?void 0:ue.file)===null||Xe===void 0?void 0:Xe.data,onFileUploadProgress:ue.onFileUploadProgress||X,onFileUploadComplete:ue.onFileUploadComplete||X,onFileUploadError:ue.onFileUploadError||X,onFileUploadCanceled:ue.onFileUploadCanceled||X,onInitFail:function(){re.call(bt,q(q({},ue),{orgName:Me,appName:lt,operateName:Se}))},thumbnailInfo:{width:ue.thumbnailWidth,height:ue.thumbnailHeight}}):re.call(this,q(q({},ue),{orgName:Me,appName:lt,operateName:Se}))}else ue.onFileUploadError&&ue.onFileUploadError({type:c.E.WEBIM_UPLOADFILE_ERROR,message:this._initWithAppId?"appId illegal":"AppKey illegal"});else ue.onFileUploadError&&ue.onFileUploadError({type:c.E.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"})}function vt(ue,Se){var Ue;ue.onFileDownloadComplete=ue.onFileDownloadComplete||X,ue.onFileDownloadError=ue.onFileDownloadError||X;var ct=new Date().getTime(),Xe=new XMLHttpRequest,bt=this;Xe.addEventListener("load",function(nt){var Ye=new Date().getTime()-ct;bt.dataReport&&Se&&Se===y.fI.DOWN_GROUP_FILE&&bt.dataReport.geOperateFun({operationName:Se})({isEndApi:!0,data:{isSuccess:Xe.status===200?1:0,requestMethod:"POST",requestName:Se,requestElapse:Ye,requestUrl:ue==null?void 0:ue.url,code:Xe.status,codeDesc:Xe.status===200?"":"download file error"}}),ue.onFileDownloadComplete&&ue.onFileDownloadComplete(Xe.response)},!1),Xe.addEventListener("error",function(nt){var Ye=new Date().getTime()-ct;bt.dataReport&&Se&&Se===y.fI.DOWN_GROUP_FILE&&bt.dataReport.geOperateFun({operationName:Se})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:Se,requestElapse:Ye,requestUrl:ue==null?void 0:ue.url,code:(Xe==null?void 0:Xe.status)||0,codeDesc:"download file error"}}),ue.onFileDownloadError&&ue.onFileDownloadError({type:c.E.WEBIM_DOWNLOADFILE_ERROR,id:ue.id,xhr:Xe})},!1);var _t=ue.method||"GET",Lt=ue.responseType||"blob",Ae=ue.mimeType||"text/plain; charset=x-user-defined";Xe.open(_t,ue.url),typeof Blob<"u"?Xe.responseType=Lt:Xe.overrideMimeType(Ae);var Re={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":ue.secret,Authorization:"Bearer "+((Ue=this==null?void 0:this.context)===null||Ue===void 0?void 0:Ue.accessToken)},Me=ue.headers||{};for(var lt in Me)Re[lt]=Me[lt];for(var lt in Re)Re[lt]&&Xe.setRequestHeader(lt,Re[lt]);Xe.send(null)}function It(ue){ue===void 0&&(ue={});var Se=ue.elapse,Ue=Se===void 0?0:Se,ct=ue.httpCode,Xe=ct===void 0?0:ct,bt=ue.errDesc;return{requestElapse:Ue,code:Xe,codeDesc:bt===void 0?"":bt}}(function(ue){ue.WEB="web",ue.WX="wx",ue.QQ="qq",ue.ZFB="zfb",ue.DD="dd",ue.TT="tt",ue.BAIDU="baidu",ue.QUICK_APP="quick_app",ue.UNI="uni",ue.NODE="node"})(xe||(xe={}));var wt="localDeviceInfo",Ht={autoIncrement:0,ajaxUnconventionalErrorTimes:0,isUseHttps:function(ue){var Se;return typeof ue=="boolean"?ue:!(typeof window<"u")||((Se=window.location)===null||Se===void 0?void 0:Se.protocol)==="https:"},getRetryDelay:function(ue){return ue<=5?Number((Math.random()+1).toFixed(2)):ue>5&&ue<20?Math.floor(4*Math.random())+3:Math.floor(6*Math.random())+5},ajax:Q,getUniqueId:function(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var ue=new Date,Se=new Date(2010,1,1);return(ue.getTime()-Se.getTime()+this.autoIncrement).toString()},getFileUrl:function(ue){var Se={url:"",filename:"",filetype:"",data:{}},Ue=typeof ue=="string"?document.getElementById(ue):ue;if(window.URL.createObjectURL){if(!Ue.files)throw Error("this is not HTMLInputElement");var ct=Ue.files;if(ct.length>0){var Xe=ct.item(0);Se.data=Xe,Se.url=window.URL.createObjectURL(Xe),Se.filename=(Xe==null?void 0:Xe.name)||""}}else{if(typeof ue!="string")throw Error("in IE fileInputId must be string");Xe=document.getElementById(ue).value,Se.url=Xe;var bt=Xe.lastIndexOf("/"),_t=Xe.lastIndexOf("\\"),Lt=Math.max(bt,_t);Se.filename=Lt<0?Xe:Xe.substring(Lt+1)}var Ae=Se.filename.lastIndexOf(".");return Ae!==-1&&(Se.filetype=Se.filename.substring(Ae+1).toLowerCase()),Se},uploadFile:st,flow:function(ue){for(var Se=ue.length,Ue=Se;Ue--;)if(typeof ue[Ue]!="function")throw new TypeError("Expected a function");return function(){for(var ct=[],Xe=0;Xe<arguments.length;Xe++)ct[Xe]=arguments[Xe];for(var bt=0,_t=Se?ue[bt].apply(this,ct):ct[0];++bt<Se;)_t=ue[bt].call(this,_t);return _t}},listenNetwork:Ne,listenBrowserVisibility:qe,getEnvInfo:Et,wxRequest:se,parseDownloadResponse:function(ue){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return ue&&ue.type&&ue.type==="application/json"||0>Object.prototype.toString.call(ue).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(ue)},download:vt,parseNotify:function(ue){for(var Se="",Ue=0;Ue<ue.length;Ue++)Se+="%"+ue[Ue].toString(16);return JSON.parse(decodeURIComponent(Se))},getExtraData:It,retryPromise:function(ue,Se,Ue){return new Promise(function(ct,Xe){(function bt(_t){ue().then(ct).catch(function(Lt){_t>0?setTimeout(function(){bt(_t-1)},Ue||1e3):Xe(Lt)})})(Se||3)})},formatAttachUrl:function(ue){return ue&&typeof ue=="string"?"".concat(this.apiUrl).concat(ue.substr(ue.indexOf("/",9))):""},Uint8ArrayToString:function(ue){for(var Se="",Ue=0;Ue<ue.length;Ue++)Se+=String.fromCharCode(ue[Ue]);return Se},getLocalDeviceInfo:function(){return function(ue){var Se,Ue=Ht.getEnvInfo(),ct=Ue.platform,Xe="";ct!==xe.NODE&&ct!==xe.QUICK_APP||(Xe="");try{ct===xe.WEB?Xe=localStorage.getItem(ue)||"":ct===xe.WX||ct===xe.QQ||ct===xe.TT||ct===xe.BAIDU||ct===xe.UNI?Xe=Ue.global.getStorageSync(ue)||"":ct!==xe.ZFB&&ct!==xe.DD||(Xe=((Se=Ue.global.getStorageSync({key:ue}))===null||Se===void 0?void 0:Se.data)||"")}catch(bt){I.kg.debug("get local ".concat(ue," failed: "),bt)}return I.kg.debug("".concat(ue," "),Xe),Xe}(wt)},setLocalDeviceInfo:function(ue){(function(Se,Ue){var ct=Ht.getEnvInfo(),Xe=ct.platform;if(Xe!==xe.NODE&&Xe!==xe.QUICK_APP)if(Xe===xe.WEB)try{localStorage.setItem(Se,Ue)}catch(bt){I.kg.error("set local ".concat(Se," failed: "),bt)}else ct.global.setStorage({key:Se,data:Ue,success:function(bt){I.kg.debug("set local ".concat(Se," success: "),bt)},fail:function(bt){I.kg.error("set local ".concat(Se," failed: "),bt)}})})(wt,ue)},detectBrowser:function(){if(typeof navigator>"u")return"unknown";var ue=navigator.userAgent;return/MicroMessenger/i.test(ue)?"WeChat":/QQBrowser/i.test(ue)?"QQ":!/Chrome/i.test(ue)||/Edg/i.test(ue)||/OPR/i.test(ue)?!/Safari/i.test(ue)||/Chrome/i.test(ue)||/CriOS/i.test(ue)?/Firefox/i.test(ue)?"Firefox":/MSIE/i.test(ue)||/Trident/i.test(ue)?"IE":/Edg/i.test(ue)?"Edge":"unknown":"Safari":"Chrome"},getDevicePlatform:function(ue){return ue.platform===xe.WX&&typeof uni<"u"&&et(uni)?xe.UNI:ue.platform},delay:function(ue){return new Promise(function(Se){return setTimeout(Se,ue)})}}},9662:function(a,m,n){var c=n(614),l=n(6330),v=TypeError;a.exports=function(y){if(c(y))return y;throw v(l(y)+" is not a function")}},9483:function(a,m,n){var c=n(4411),l=n(6330),v=TypeError;a.exports=function(y){if(c(y))return y;throw v(l(y)+" is not a constructor")}},6077:function(a,m,n){var c=n(614),l=String,v=TypeError;a.exports=function(y){if(typeof y=="object"||c(y))return y;throw v("Can't set "+l(y)+" as a prototype")}},1223:function(a,m,n){var c=n(5112),l=n(30),v=n(3070).f,y=c("unscopables"),T=Array.prototype;T[y]==null&&v(T,y,{configurable:!0,value:l(null)}),a.exports=function(I){T[y][I]=!0}},1530:function(a,m,n){var c=n(8710).charAt;a.exports=function(l,v,y){return v+(y?c(l,v).length:1)}},5787:function(a,m,n){var c=n(7976),l=TypeError;a.exports=function(v,y){if(c(y,v))return v;throw l("Incorrect invocation")}},9670:function(a,m,n){var c=n(111),l=String,v=TypeError;a.exports=function(y){if(c(y))return y;throw v(l(y)+" is not an object")}},3013:function(a){a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7556:function(a,m,n){var c=n(7293);a.exports=c(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},260:function(a,m,n){var c,l,v,y=n(3013),T=n(9781),I=n(7854),g=n(614),P=n(111),M=n(2597),U=n(648),x=n(6330),H=n(8880),L=n(8052),W=n(7045),F=n(7976),w=n(9518),G=n(7674),S=n(5112),re=n(9711),q=n(9909),X=q.enforce,Q=q.get,ee=I.Int8Array,se=ee&&ee.prototype,Oe=I.Uint8ClampedArray,xe=Oe&&Oe.prototype,Ne=ee&&w(ee),qe=se&&w(se),Et=Object.prototype,et=I.TypeError,st=S("toStringTag"),vt=re("TYPED_ARRAY_TAG"),It="TypedArrayConstructor",wt=y&&!!G&&U(I.opera)!=="Opera",Ht=!1,ue={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Se={BigInt64Array:8,BigUint64Array:8},Ue=function(Xe){var bt=w(Xe);if(P(bt)){var _t=Q(bt);return _t&&M(_t,It)?_t[It]:Ue(bt)}},ct=function(Xe){if(!P(Xe))return!1;var bt=U(Xe);return M(ue,bt)||M(Se,bt)};for(c in ue)(v=(l=I[c])&&l.prototype)?X(v)[It]=l:wt=!1;for(c in Se)(v=(l=I[c])&&l.prototype)&&(X(v)[It]=l);if((!wt||!g(Ne)||Ne===Function.prototype)&&(Ne=function(){throw et("Incorrect invocation")},wt))for(c in ue)I[c]&&G(I[c],Ne);if((!wt||!qe||qe===Et)&&(qe=Ne.prototype,wt))for(c in ue)I[c]&&G(I[c].prototype,qe);if(wt&&w(xe)!==qe&&G(xe,qe),T&&!M(qe,st))for(c in Ht=!0,W(qe,st,{configurable:!0,get:function(){return P(this)?this[vt]:void 0}}),ue)I[c]&&H(I[c],vt,c);a.exports={NATIVE_ARRAY_BUFFER_VIEWS:wt,TYPED_ARRAY_TAG:Ht&&vt,aTypedArray:function(Xe){if(ct(Xe))return Xe;throw et("Target is not a typed array")},aTypedArrayConstructor:function(Xe){if(g(Xe)&&(!G||F(Ne,Xe)))return Xe;throw et(x(Xe)+" is not a typed array constructor")},exportTypedArrayMethod:function(Xe,bt,_t,Lt){if(T){if(_t)for(var Ae in ue){var Re=I[Ae];if(Re&&M(Re.prototype,Xe))try{delete Re.prototype[Xe]}catch{try{Re.prototype[Xe]=bt}catch{}}}qe[Xe]&&!_t||L(qe,Xe,_t?bt:wt&&se[Xe]||bt,Lt)}},exportTypedArrayStaticMethod:function(Xe,bt,_t){var Lt,Ae;if(T){if(G){if(_t){for(Lt in ue)if((Ae=I[Lt])&&M(Ae,Xe))try{delete Ae[Xe]}catch{}}if(Ne[Xe]&&!_t)return;try{return L(Ne,Xe,_t?bt:wt&&Ne[Xe]||bt)}catch{}}for(Lt in ue)!(Ae=I[Lt])||Ae[Xe]&&!_t||L(Ae,Xe,bt)}},getTypedArrayConstructor:Ue,isView:function(Xe){if(!P(Xe))return!1;var bt=U(Xe);return bt==="DataView"||M(ue,bt)||M(Se,bt)},isTypedArray:ct,TypedArray:Ne,TypedArrayPrototype:qe}},3331:function(a,m,n){var c=n(7854),l=n(1702),v=n(9781),y=n(3013),T=n(6530),I=n(8880),g=n(7045),P=n(9190),M=n(7293),U=n(5787),x=n(9303),H=n(7466),L=n(7067),W=n(1179),F=n(9518),w=n(7674),G=n(8006).f,S=n(1285),re=n(1589),q=n(8003),X=n(9909),Q=T.PROPER,ee=T.CONFIGURABLE,se="ArrayBuffer",Oe="DataView",xe="prototype",Ne="Wrong index",qe=X.getterFor(se),Et=X.getterFor(Oe),et=X.set,st=c[se],vt=st,It=vt&&vt[xe],wt=c[Oe],Ht=wt&&wt[xe],ue=Object.prototype,Se=c.Array,Ue=c.RangeError,ct=l(S),Xe=l([].reverse),bt=W.pack,_t=W.unpack,Lt=function(pt){return[255&pt]},Ae=function(pt){return[255&pt,pt>>8&255]},Re=function(pt){return[255&pt,pt>>8&255,pt>>16&255,pt>>24&255]},Me=function(pt){return pt[3]<<24|pt[2]<<16|pt[1]<<8|pt[0]},lt=function(pt){return bt(pt,23,4)},nt=function(pt){return bt(pt,52,8)},Ye=function(pt,Mt,Xt){g(pt[xe],Mt,{configurable:!0,get:function(){return Xt(this)[Mt]}})},Fe=function(pt,Mt,Xt,jt){var zt=L(Xt),tr=Et(pt);if(zt+Mt>tr.byteLength)throw Ue(Ne);var Ke=tr.bytes,Ot=zt+tr.byteOffset,j=re(Ke,Ot,Ot+Mt);return jt?j:Xe(j)},Ve=function(pt,Mt,Xt,jt,zt,tr){var Ke=L(Xt),Ot=Et(pt);if(Ke+Mt>Ot.byteLength)throw Ue(Ne);for(var j=Ot.bytes,Y=Ke+Ot.byteOffset,_e=jt(+zt),De=0;De<Mt;De++)j[Y+De]=_e[tr?De:Mt-De-1]};if(y){var $e=Q&&st.name!==se;if(M(function(){st(1)})&&M(function(){new st(-1)})&&!M(function(){return new st,new st(1.5),new st(NaN),st.length!=1||$e&&!ee}))$e&&ee&&I(st,"name",se);else{(vt=function(pt){return U(this,It),new st(L(pt))})[xe]=It;for(var ke,Je=G(st),yt=0;Je.length>yt;)(ke=Je[yt++])in vt||I(vt,ke,st[ke]);It.constructor=vt}w&&F(Ht)!==ue&&w(Ht,ue);var Ct=new wt(new vt(2)),mt=l(Ht.setInt8);Ct.setInt8(0,2147483648),Ct.setInt8(1,2147483649),!Ct.getInt8(0)&&Ct.getInt8(1)||P(Ht,{setInt8:function(pt,Mt){mt(this,pt,Mt<<24>>24)},setUint8:function(pt,Mt){mt(this,pt,Mt<<24>>24)}},{unsafe:!0})}else It=(vt=function(pt){U(this,It);var Mt=L(pt);et(this,{type:se,bytes:ct(Se(Mt),0),byteLength:Mt}),v||(this.byteLength=Mt,this.detached=!1)})[xe],Ht=(wt=function(pt,Mt,Xt){U(this,Ht),U(pt,It);var jt=qe(pt),zt=jt.byteLength,tr=x(Mt);if(tr<0||tr>zt)throw Ue("Wrong offset");if(tr+(Xt=Xt===void 0?zt-tr:H(Xt))>zt)throw Ue("Wrong length");et(this,{type:Oe,buffer:pt,byteLength:Xt,byteOffset:tr,bytes:jt.bytes}),v||(this.buffer=pt,this.byteLength=Xt,this.byteOffset=tr)})[xe],v&&(Ye(vt,"byteLength",qe),Ye(wt,"buffer",Et),Ye(wt,"byteLength",Et),Ye(wt,"byteOffset",Et)),P(Ht,{getInt8:function(pt){return Fe(this,1,pt)[0]<<24>>24},getUint8:function(pt){return Fe(this,1,pt)[0]},getInt16:function(pt){var Mt=Fe(this,2,pt,arguments.length>1?arguments[1]:void 0);return(Mt[1]<<8|Mt[0])<<16>>16},getUint16:function(pt){var Mt=Fe(this,2,pt,arguments.length>1?arguments[1]:void 0);return Mt[1]<<8|Mt[0]},getInt32:function(pt){return Me(Fe(this,4,pt,arguments.length>1?arguments[1]:void 0))},getUint32:function(pt){return Me(Fe(this,4,pt,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(pt){return _t(Fe(this,4,pt,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(pt){return _t(Fe(this,8,pt,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(pt,Mt){Ve(this,1,pt,Lt,Mt)},setUint8:function(pt,Mt){Ve(this,1,pt,Lt,Mt)},setInt16:function(pt,Mt){Ve(this,2,pt,Ae,Mt,arguments.length>2?arguments[2]:void 0)},setUint16:function(pt,Mt){Ve(this,2,pt,Ae,Mt,arguments.length>2?arguments[2]:void 0)},setInt32:function(pt,Mt){Ve(this,4,pt,Re,Mt,arguments.length>2?arguments[2]:void 0)},setUint32:function(pt,Mt){Ve(this,4,pt,Re,Mt,arguments.length>2?arguments[2]:void 0)},setFloat32:function(pt,Mt){Ve(this,4,pt,lt,Mt,arguments.length>2?arguments[2]:void 0)},setFloat64:function(pt,Mt){Ve(this,8,pt,nt,Mt,arguments.length>2?arguments[2]:void 0)}});q(vt,se),q(wt,Oe),a.exports={ArrayBuffer:vt,DataView:wt}},1048:function(a,m,n){var c=n(7908),l=n(1400),v=n(6244),y=n(5117),T=Math.min;a.exports=[].copyWithin||function(I,g){var P=c(this),M=v(P),U=l(I,M),x=l(g,M),H=arguments.length>2?arguments[2]:void 0,L=T((H===void 0?M:l(H,M))-x,M-U),W=1;for(x<U&&U<x+L&&(W=-1,x+=L-1,U+=L-1);L-- >0;)x in P?P[U]=P[x]:y(P,U),U+=W,x+=W;return P}},1285:function(a,m,n){var c=n(7908),l=n(1400),v=n(6244);a.exports=function(y){for(var T=c(this),I=v(T),g=arguments.length,P=l(g>1?arguments[1]:void 0,I),M=g>2?arguments[2]:void 0,U=M===void 0?I:l(M,I);U>P;)T[P++]=y;return T}},8533:function(a,m,n){var c=n(2092).forEach,l=n(9341)("forEach");a.exports=l?[].forEach:function(v){return c(this,v,arguments.length>1?arguments[1]:void 0)}},7745:function(a,m,n){var c=n(6244);a.exports=function(l,v){for(var y=0,T=c(v),I=new l(T);T>y;)I[y]=v[y++];return I}},8457:function(a,m,n){var c=n(9974),l=n(6916),v=n(7908),y=n(3411),T=n(7659),I=n(4411),g=n(6244),P=n(6135),M=n(4121),U=n(1246),x=Array;a.exports=function(H){var L=v(H),W=I(this),F=arguments.length,w=F>1?arguments[1]:void 0,G=w!==void 0;G&&(w=c(w,F>2?arguments[2]:void 0));var S,re,q,X,Q,ee,se=U(L),Oe=0;if(!se||this===x&&T(se))for(S=g(L),re=W?new this(S):x(S);S>Oe;Oe++)ee=G?w(L[Oe],Oe):L[Oe],P(re,Oe,ee);else for(Q=(X=M(L,se)).next,re=W?new this:[];!(q=l(Q,X)).done;Oe++)ee=G?y(X,w,[q.value,Oe],!0):q.value,P(re,Oe,ee);return re.length=Oe,re}},1318:function(a,m,n){var c=n(5656),l=n(1400),v=n(6244),y=function(T){return function(I,g,P){var M,U=c(I),x=v(U),H=l(P,x);if(T&&g!=g){for(;x>H;)if((M=U[H++])!=M)return!0}else for(;x>H;H++)if((T||H in U)&&U[H]===g)return T||H||0;return!T&&-1}};a.exports={includes:y(!0),indexOf:y(!1)}},2092:function(a,m,n){var c=n(9974),l=n(1702),v=n(8361),y=n(7908),T=n(6244),I=n(5417),g=l([].push),P=function(M){var U=M==1,x=M==2,H=M==3,L=M==4,W=M==6,F=M==7,w=M==5||W;return function(G,S,re,q){for(var X,Q,ee=y(G),se=v(ee),Oe=c(S,re),xe=T(se),Ne=0,qe=q||I,Et=U?qe(G,xe):x||F?qe(G,0):void 0;xe>Ne;Ne++)if((w||Ne in se)&&(Q=Oe(X=se[Ne],Ne,ee),M))if(U)Et[Ne]=Q;else if(Q)switch(M){case 3:return!0;case 5:return X;case 6:return Ne;case 2:g(Et,X)}else switch(M){case 4:return!1;case 7:g(Et,X)}return W?-1:H||L?L:Et}};a.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},6583:function(a,m,n){var c=n(2104),l=n(5656),v=n(9303),y=n(6244),T=n(9341),I=Math.min,g=[].lastIndexOf,P=!!g&&1/[1].lastIndexOf(1,-0)<0,M=T("lastIndexOf"),U=P||!M;a.exports=U?function(x){if(P)return c(g,this,arguments)||0;var H=l(this),L=y(H),W=L-1;for(arguments.length>1&&(W=I(W,v(arguments[1]))),W<0&&(W=L+W);W>=0;W--)if(W in H&&H[W]===x)return W||0;return-1}:g},1194:function(a,m,n){var c=n(7293),l=n(5112),v=n(7392),y=l("species");a.exports=function(T){return v>=51||!c(function(){var I=[];return(I.constructor={})[y]=function(){return{foo:1}},I[T](Boolean).foo!==1})}},9341:function(a,m,n){var c=n(7293);a.exports=function(l,v){var y=[][l];return!!y&&c(function(){y.call(null,v||function(){return 1},1)})}},3671:function(a,m,n){var c=n(9662),l=n(7908),v=n(8361),y=n(6244),T=TypeError,I=function(g){return function(P,M,U,x){c(M);var H=l(P),L=v(H),W=y(H),F=g?W-1:0,w=g?-1:1;if(U<2)for(;;){if(F in L){x=L[F],F+=w;break}if(F+=w,g?F<0:W<=F)throw T("Reduce of empty array with no initial value")}for(;g?F>=0:W>F;F+=w)F in L&&(x=M(x,L[F],F,H));return x}};a.exports={left:I(!1),right:I(!0)}},3658:function(a,m,n){var c=n(9781),l=n(3157),v=TypeError,y=Object.getOwnPropertyDescriptor,T=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(I){return I instanceof TypeError}}();a.exports=T?function(I,g){if(l(I)&&!y(I,"length").writable)throw v("Cannot set read only .length");return I.length=g}:function(I,g){return I.length=g}},1589:function(a,m,n){var c=n(1400),l=n(6244),v=n(6135),y=Array,T=Math.max;a.exports=function(I,g,P){for(var M=l(I),U=c(g,M),x=c(P===void 0?M:P,M),H=y(T(x-U,0)),L=0;U<x;U++,L++)v(H,L,I[U]);return H.length=L,H}},206:function(a,m,n){var c=n(1702);a.exports=c([].slice)},4362:function(a,m,n){var c=n(1589),l=Math.floor,v=function(I,g){var P=I.length,M=l(P/2);return P<8?y(I,g):T(I,v(c(I,0,M),g),v(c(I,M),g),g)},y=function(I,g){for(var P,M,U=I.length,x=1;x<U;){for(M=x,P=I[x];M&&g(I[M-1],P)>0;)I[M]=I[--M];M!==x++&&(I[M]=P)}return I},T=function(I,g,P,M){for(var U=g.length,x=P.length,H=0,L=0;H<U||L<x;)I[H+L]=H<U&&L<x?M(g[H],P[L])<=0?g[H++]:P[L++]:H<U?g[H++]:P[L++];return I};a.exports=v},7475:function(a,m,n){var c=n(3157),l=n(4411),v=n(111),y=n(5112)("species"),T=Array;a.exports=function(I){var g;return c(I)&&(g=I.constructor,(l(g)&&(g===T||c(g.prototype))||v(g)&&(g=g[y])===null)&&(g=void 0)),g===void 0?T:g}},5417:function(a,m,n){var c=n(7475);a.exports=function(l,v){return new(c(l))(v===0?0:v)}},3411:function(a,m,n){var c=n(9670),l=n(9212);a.exports=function(v,y,T,I){try{return I?y(c(T)[0],T[1]):y(T)}catch(g){l(v,"throw",g)}}},7072:function(a,m,n){var c=n(5112)("iterator"),l=!1;try{var v=0,y={next:function(){return{done:!!v++}},return:function(){l=!0}};y[c]=function(){return this},Array.from(y,function(){throw 2})}catch{}a.exports=function(T,I){if(!I&&!l)return!1;var g=!1;try{var P={};P[c]=function(){return{next:function(){return{done:g=!0}}}},T(P)}catch{}return g}},4326:function(a,m,n){var c=n(1702),l=c({}.toString),v=c("".slice);a.exports=function(y){return v(l(y),8,-1)}},648:function(a,m,n){var c=n(1694),l=n(614),v=n(4326),y=n(5112)("toStringTag"),T=Object,I=v(function(){return arguments}())=="Arguments";a.exports=c?v:function(g){var P,M,U;return g===void 0?"Undefined":g===null?"Null":typeof(M=function(x,H){try{return x[H]}catch{}}(P=T(g),y))=="string"?M:I?v(P):(U=v(P))=="Object"&&l(P.callee)?"Arguments":U}},5631:function(a,m,n){var c=n(30),l=n(7045),v=n(9190),y=n(9974),T=n(5787),I=n(8554),g=n(408),P=n(1656),M=n(6178),U=n(6340),x=n(9781),H=n(2423).fastKey,L=n(9909),W=L.set,F=L.getterFor;a.exports={getConstructor:function(w,G,S,re){var q=w(function(Oe,xe){T(Oe,X),W(Oe,{type:G,index:c(null),first:void 0,last:void 0,size:0}),x||(Oe.size=0),I(xe)||g(xe,Oe[re],{that:Oe,AS_ENTRIES:S})}),X=q.prototype,Q=F(G),ee=function(Oe,xe,Ne){var qe,Et,et=Q(Oe),st=se(Oe,xe);return st?st.value=Ne:(et.last=st={index:Et=H(xe,!0),key:xe,value:Ne,previous:qe=et.last,next:void 0,removed:!1},et.first||(et.first=st),qe&&(qe.next=st),x?et.size++:Oe.size++,Et!=="F"&&(et.index[Et]=st)),Oe},se=function(Oe,xe){var Ne,qe=Q(Oe),Et=H(xe);if(Et!=="F")return qe.index[Et];for(Ne=qe.first;Ne;Ne=Ne.next)if(Ne.key==xe)return Ne};return v(X,{clear:function(){for(var Oe=Q(this),xe=Oe.index,Ne=Oe.first;Ne;)Ne.removed=!0,Ne.previous&&(Ne.previous=Ne.previous.next=void 0),delete xe[Ne.index],Ne=Ne.next;Oe.first=Oe.last=void 0,x?Oe.size=0:this.size=0},delete:function(Oe){var xe=this,Ne=Q(xe),qe=se(xe,Oe);if(qe){var Et=qe.next,et=qe.previous;delete Ne.index[qe.index],qe.removed=!0,et&&(et.next=Et),Et&&(Et.previous=et),Ne.first==qe&&(Ne.first=Et),Ne.last==qe&&(Ne.last=et),x?Ne.size--:xe.size--}return!!qe},forEach:function(Oe){for(var xe,Ne=Q(this),qe=y(Oe,arguments.length>1?arguments[1]:void 0);xe=xe?xe.next:Ne.first;)for(qe(xe.value,xe.key,this);xe&&xe.removed;)xe=xe.previous},has:function(Oe){return!!se(this,Oe)}}),v(X,S?{get:function(Oe){var xe=se(this,Oe);return xe&&xe.value},set:function(Oe,xe){return ee(this,Oe===0?0:Oe,xe)}}:{add:function(Oe){return ee(this,Oe=Oe===0?0:Oe,Oe)}}),x&&l(X,"size",{configurable:!0,get:function(){return Q(this).size}}),q},setStrong:function(w,G,S){var re=G+" Iterator",q=F(G),X=F(re);P(w,G,function(Q,ee){W(this,{type:re,target:Q,state:q(Q),kind:ee,last:void 0})},function(){for(var Q=X(this),ee=Q.kind,se=Q.last;se&&se.removed;)se=se.previous;return Q.target&&(Q.last=se=se?se.next:Q.state.first)?M(ee=="keys"?se.key:ee=="values"?se.value:[se.key,se.value],!1):(Q.target=void 0,M(void 0,!0))},S?"entries":"values",!S,!0),U(G)}}},7710:function(a,m,n){var c=n(2109),l=n(7854),v=n(1702),y=n(4705),T=n(8052),I=n(2423),g=n(408),P=n(5787),M=n(614),U=n(8554),x=n(111),H=n(7293),L=n(7072),W=n(8003),F=n(9587);a.exports=function(w,G,S){var re=w.indexOf("Map")!==-1,q=w.indexOf("Weak")!==-1,X=re?"set":"add",Q=l[w],ee=Q&&Q.prototype,se=Q,Oe={},xe=function(vt){var It=v(ee[vt]);T(ee,vt,vt=="add"?function(wt){return It(this,wt===0?0:wt),this}:vt=="delete"?function(wt){return!(q&&!x(wt))&&It(this,wt===0?0:wt)}:vt=="get"?function(wt){return q&&!x(wt)?void 0:It(this,wt===0?0:wt)}:vt=="has"?function(wt){return!(q&&!x(wt))&&It(this,wt===0?0:wt)}:function(wt,Ht){return It(this,wt===0?0:wt,Ht),this})};if(y(w,!M(Q)||!(q||ee.forEach&&!H(function(){new Q().entries().next()}))))se=S.getConstructor(G,w,re,X),I.enable();else if(y(w,!0)){var Ne=new se,qe=Ne[X](q?{}:-0,1)!=Ne,Et=H(function(){Ne.has(1)}),et=L(function(vt){new Q(vt)}),st=!q&&H(function(){for(var vt=new Q,It=5;It--;)vt[X](It,It);return!vt.has(-0)});et||((se=G(function(vt,It){P(vt,ee);var wt=F(new Q,vt,se);return U(It)||g(It,wt[X],{that:wt,AS_ENTRIES:re}),wt})).prototype=ee,ee.constructor=se),(Et||st)&&(xe("delete"),xe("has"),re&&xe("get")),(st||qe)&&xe(X),q&&ee.clear&&delete ee.clear}return Oe[w]=se,c({global:!0,constructor:!0,forced:se!=Q},Oe),W(se,w),q||S.setStrong(se,w,re),se}},9920:function(a,m,n){var c=n(2597),l=n(3887),v=n(1236),y=n(3070);a.exports=function(T,I,g){for(var P=l(I),M=y.f,U=v.f,x=0;x<P.length;x++){var H=P[x];c(T,H)||g&&c(g,H)||M(T,H,U(I,H))}}},4964:function(a,m,n){var c=n(5112)("match");a.exports=function(l){var v=/./;try{"/./"[l](v)}catch{try{return v[c]=!1,"/./"[l](v)}catch{}}return!1}},8544:function(a,m,n){var c=n(7293);a.exports=!c(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},6178:function(a){a.exports=function(m,n){return{value:m,done:n}}},8880:function(a,m,n){var c=n(9781),l=n(3070),v=n(9114);a.exports=c?function(y,T,I){return l.f(y,T,v(1,I))}:function(y,T,I){return y[T]=I,y}},9114:function(a){a.exports=function(m,n){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:n}}},6135:function(a,m,n){var c=n(4948),l=n(3070),v=n(9114);a.exports=function(y,T,I){var g=c(T);g in y?l.f(y,g,v(0,I)):y[g]=I}},7045:function(a,m,n){var c=n(6339),l=n(3070);a.exports=function(v,y,T){return T.get&&c(T.get,y,{getter:!0}),T.set&&c(T.set,y,{setter:!0}),l.f(v,y,T)}},8052:function(a,m,n){var c=n(614),l=n(3070),v=n(6339),y=n(3072);a.exports=function(T,I,g,P){P||(P={});var M=P.enumerable,U=P.name!==void 0?P.name:I;if(c(g)&&v(g,U,P),P.global)M?T[I]=g:y(I,g);else{try{P.unsafe?T[I]&&(M=!0):delete T[I]}catch{}M?T[I]=g:l.f(T,I,{value:g,enumerable:!1,configurable:!P.nonConfigurable,writable:!P.nonWritable})}return T}},9190:function(a,m,n){var c=n(8052);a.exports=function(l,v,y){for(var T in v)c(l,T,v[T],y);return l}},3072:function(a,m,n){var c=n(7854),l=Object.defineProperty;a.exports=function(v,y){try{l(c,v,{value:y,configurable:!0,writable:!0})}catch{c[v]=y}return y}},5117:function(a,m,n){var c=n(6330),l=TypeError;a.exports=function(v,y){if(!delete v[y])throw l("Cannot delete property "+c(y)+" of "+c(v))}},9781:function(a,m,n){var c=n(7293);a.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(a){var m=typeof document=="object"&&document.all,n=m===void 0&&m!==void 0;a.exports={all:m,IS_HTMLDDA:n}},317:function(a,m,n){var c=n(7854),l=n(111),v=c.document,y=l(v)&&l(v.createElement);a.exports=function(T){return y?v.createElement(T):{}}},7207:function(a){var m=TypeError;a.exports=function(n){if(n>9007199254740991)throw m("Maximum allowed index exceeded");return n}},8324:function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(a,m,n){var c=n(317)("span").classList,l=c&&c.constructor&&c.constructor.prototype;a.exports=l===Object.prototype?void 0:l},8886:function(a,m,n){var c=n(8113).match(/firefox\/(\d+)/i);a.exports=!!c&&+c[1]},7871:function(a,m,n){var c=n(3823),l=n(5268);a.exports=!c&&!l&&typeof window=="object"&&typeof document=="object"},9363:function(a){a.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},3823:function(a){a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},256:function(a,m,n){var c=n(8113);a.exports=/MSIE|Trident/.test(c)},1528:function(a,m,n){var c=n(8113);a.exports=/ipad|iphone|ipod/i.test(c)&&typeof Pebble<"u"},6833:function(a,m,n){var c=n(8113);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},5268:function(a,m,n){var c=n(4326);a.exports=typeof process<"u"&&c(process)=="process"},1036:function(a,m,n){var c=n(8113);a.exports=/web0s(?!.*chrome)/i.test(c)},8113:function(a){a.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:function(a,m,n){var c,l,v=n(7854),y=n(8113),T=v.process,I=v.Deno,g=T&&T.versions||I&&I.version,P=g&&g.v8;P&&(l=(c=P.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!l&&y&&(!(c=y.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=y.match(/Chrome\/(\d+)/))&&(l=+c[1]),a.exports=l},8008:function(a,m,n){var c=n(8113).match(/AppleWebKit\/(\d+)\./);a.exports=!!c&&+c[1]},748:function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(a,m,n){var c=n(7854),l=n(1236).f,v=n(8880),y=n(8052),T=n(3072),I=n(9920),g=n(4705);a.exports=function(P,M){var U,x,H,L,W,F=P.target,w=P.global,G=P.stat;if(U=w?c:G?c[F]||T(F,{}):(c[F]||{}).prototype)for(x in M){if(L=M[x],H=P.dontCallGetSet?(W=l(U,x))&&W.value:U[x],!g(w?x:F+(G?".":"#")+x,P.forced)&&H!==void 0){if(typeof L==typeof H)continue;I(L,H)}(P.sham||H&&H.sham)&&v(L,"sham",!0),y(U,x,L,P)}}},7293:function(a){a.exports=function(m){try{return!!m()}catch{return!0}}},7007:function(a,m,n){n(4916);var c=n(1470),l=n(8052),v=n(2261),y=n(7293),T=n(5112),I=n(8880),g=T("species"),P=RegExp.prototype;a.exports=function(M,U,x,H){var L=T(M),W=!y(function(){var S={};return S[L]=function(){return 7},""[M](S)!=7}),F=W&&!y(function(){var S=!1,re=/a/;return M==="split"&&((re={}).constructor={},re.constructor[g]=function(){return re},re.flags="",re[L]=/./[L]),re.exec=function(){return S=!0,null},re[L](""),!S});if(!W||!F||x){var w=c(/./[L]),G=U(L,""[M],function(S,re,q,X,Q){var ee=c(S),se=re.exec;return se===v||se===P.exec?W&&!Q?{done:!0,value:w(re,q,X)}:{done:!0,value:ee(q,re,X)}:{done:!1}});l(String.prototype,M,G[0]),l(P,L,G[1])}H&&I(P[L],"sham",!0)}},6677:function(a,m,n){var c=n(7293);a.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:function(a,m,n){var c=n(4374),l=Function.prototype,v=l.apply,y=l.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(c?y.bind(v):function(){return y.apply(v,arguments)})},9974:function(a,m,n){var c=n(1470),l=n(9662),v=n(4374),y=c(c.bind);a.exports=function(T,I){return l(T),I===void 0?T:v?y(T,I):function(){return T.apply(I,arguments)}}},4374:function(a,m,n){var c=n(7293);a.exports=!c(function(){var l=(function(){}).bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},7065:function(a,m,n){var c=n(1702),l=n(9662),v=n(111),y=n(2597),T=n(206),I=n(4374),g=Function,P=c([].concat),M=c([].join),U={};a.exports=I?g.bind:function(x){var H=l(this),L=H.prototype,W=T(arguments,1),F=function(){var w=P(W,T(arguments));return this instanceof F?function(G,S,re){if(!y(U,S)){for(var q=[],X=0;X<S;X++)q[X]="a["+X+"]";U[S]=g("C,a","return new C("+M(q,",")+")")}return U[S](G,re)}(H,w.length,w):H.apply(x,w)};return v(L)&&(F.prototype=L),F}},6916:function(a,m,n){var c=n(4374),l=Function.prototype.call;a.exports=c?l.bind(l):function(){return l.apply(l,arguments)}},6530:function(a,m,n){var c=n(9781),l=n(2597),v=Function.prototype,y=c&&Object.getOwnPropertyDescriptor,T=l(v,"name"),I=T&&(function(){}).name==="something",g=T&&(!c||c&&y(v,"name").configurable);a.exports={EXISTS:T,PROPER:I,CONFIGURABLE:g}},5668:function(a,m,n){var c=n(1702),l=n(9662);a.exports=function(v,y,T){try{return c(l(Object.getOwnPropertyDescriptor(v,y)[T]))}catch{}}},1470:function(a,m,n){var c=n(4326),l=n(1702);a.exports=function(v){if(c(v)==="Function")return l(v)}},1702:function(a,m,n){var c=n(4374),l=Function.prototype,v=l.call,y=c&&l.bind.bind(v,v);a.exports=c?y:function(T){return function(){return v.apply(T,arguments)}}},5005:function(a,m,n){var c=n(7854),l=n(614);a.exports=function(v,y){return arguments.length<2?(T=c[v],l(T)?T:void 0):c[v]&&c[v][y];var T}},1246:function(a,m,n){var c=n(648),l=n(8173),v=n(8554),y=n(7497),T=n(5112)("iterator");a.exports=function(I){if(!v(I))return l(I,T)||l(I,"@@iterator")||y[c(I)]}},4121:function(a,m,n){var c=n(6916),l=n(9662),v=n(9670),y=n(6330),T=n(1246),I=TypeError;a.exports=function(g,P){var M=arguments.length<2?T(g):P;if(l(M))return v(c(M,g));throw I(y(g)+" is not iterable")}},8044:function(a,m,n){var c=n(1702),l=n(3157),v=n(614),y=n(4326),T=n(1340),I=c([].push);a.exports=function(g){if(v(g))return g;if(l(g)){for(var P=g.length,M=[],U=0;U<P;U++){var x=g[U];typeof x=="string"?I(M,x):typeof x!="number"&&y(x)!="Number"&&y(x)!="String"||I(M,T(x))}var H=M.length,L=!0;return function(W,F){if(L)return L=!1,F;if(l(this))return F;for(var w=0;w<H;w++)if(M[w]===W)return F}}}},8173:function(a,m,n){var c=n(9662),l=n(8554);a.exports=function(v,y){var T=v[y];return l(T)?void 0:c(T)}},7854:function(a,m,n){var c=function(l){return l&&l.Math==Math&&l};a.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof n.g=="object"&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(a,m,n){var c=n(1702),l=n(7908),v=c({}.hasOwnProperty);a.exports=Object.hasOwn||function(y,T){return v(l(y),T)}},3501:function(a){a.exports={}},842:function(a){a.exports=function(m,n){try{arguments.length==1?console.error(m):console.error(m,n)}catch{}}},490:function(a,m,n){var c=n(5005);a.exports=c("document","documentElement")},4664:function(a,m,n){var c=n(9781),l=n(7293),v=n(317);a.exports=!c&&!l(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},1179:function(a){var m=Array,n=Math.abs,c=Math.pow,l=Math.floor,v=Math.log,y=Math.LN2;a.exports={pack:function(T,I,g){var P,M,U,x=m(g),H=8*g-I-1,L=(1<<H)-1,W=L>>1,F=I===23?c(2,-24)-c(2,-77):0,w=T<0||T===0&&1/T<0?1:0,G=0;for((T=n(T))!=T||T===1/0?(M=T!=T?1:0,P=L):(P=l(v(T)/y),T*(U=c(2,-P))<1&&(P--,U*=2),(T+=P+W>=1?F/U:F*c(2,1-W))*U>=2&&(P++,U/=2),P+W>=L?(M=0,P=L):P+W>=1?(M=(T*U-1)*c(2,I),P+=W):(M=T*c(2,W-1)*c(2,I),P=0));I>=8;)x[G++]=255&M,M/=256,I-=8;for(P=P<<I|M,H+=I;H>0;)x[G++]=255&P,P/=256,H-=8;return x[--G]|=128*w,x},unpack:function(T,I){var g,P=T.length,M=8*P-I-1,U=(1<<M)-1,x=U>>1,H=M-7,L=P-1,W=T[L--],F=127&W;for(W>>=7;H>0;)F=256*F+T[L--],H-=8;for(g=F&(1<<-H)-1,F>>=-H,H+=I;H>0;)g=256*g+T[L--],H-=8;if(F===0)F=1-x;else{if(F===U)return g?NaN:W?-1/0:1/0;g+=c(2,I),F-=x}return(W?-1:1)*g*c(2,F-I)}}},8361:function(a,m,n){var c=n(1702),l=n(7293),v=n(4326),y=Object,T=c("".split);a.exports=l(function(){return!y("z").propertyIsEnumerable(0)})?function(I){return v(I)=="String"?T(I,""):y(I)}:y},9587:function(a,m,n){var c=n(614),l=n(111),v=n(7674);a.exports=function(y,T,I){var g,P;return v&&c(g=T.constructor)&&g!==I&&l(P=g.prototype)&&P!==I.prototype&&v(y,P),y}},2788:function(a,m,n){var c=n(1702),l=n(614),v=n(5465),y=c(Function.toString);l(v.inspectSource)||(v.inspectSource=function(T){return y(T)}),a.exports=v.inspectSource},2423:function(a,m,n){var c=n(2109),l=n(1702),v=n(3501),y=n(111),T=n(2597),I=n(3070).f,g=n(8006),P=n(1156),M=n(2050),U=n(9711),x=n(6677),H=!1,L=U("meta"),W=0,F=function(G){I(G,L,{value:{objectID:"O"+W++,weakData:{}}})},w=a.exports={enable:function(){w.enable=function(){},H=!0;var G=g.f,S=l([].splice),re={};re[L]=1,G(re).length&&(g.f=function(q){for(var X=G(q),Q=0,ee=X.length;Q<ee;Q++)if(X[Q]===L){S(X,Q,1);break}return X},c({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(G,S){if(!y(G))return typeof G=="symbol"?G:(typeof G=="string"?"S":"P")+G;if(!T(G,L)){if(!M(G))return"F";if(!S)return"E";F(G)}return G[L].objectID},getWeakData:function(G,S){if(!T(G,L)){if(!M(G))return!0;if(!S)return!1;F(G)}return G[L].weakData},onFreeze:function(G){return x&&H&&M(G)&&!T(G,L)&&F(G),G}};v[L]=!0},9909:function(a,m,n){var c,l,v,y=n(4811),T=n(7854),I=n(111),g=n(8880),P=n(2597),M=n(5465),U=n(6200),x=n(3501),H="Object already initialized",L=T.TypeError,W=T.WeakMap;if(y||M.state){var F=M.state||(M.state=new W);F.get=F.get,F.has=F.has,F.set=F.set,c=function(G,S){if(F.has(G))throw L(H);return S.facade=G,F.set(G,S),S},l=function(G){return F.get(G)||{}},v=function(G){return F.has(G)}}else{var w=U("state");x[w]=!0,c=function(G,S){if(P(G,w))throw L(H);return S.facade=G,g(G,w,S),S},l=function(G){return P(G,w)?G[w]:{}},v=function(G){return P(G,w)}}a.exports={set:c,get:l,has:v,enforce:function(G){return v(G)?l(G):c(G,{})},getterFor:function(G){return function(S){var re;if(!I(S)||(re=l(S)).type!==G)throw L("Incompatible receiver, "+G+" required");return re}}}},7659:function(a,m,n){var c=n(5112),l=n(7497),v=c("iterator"),y=Array.prototype;a.exports=function(T){return T!==void 0&&(l.Array===T||y[v]===T)}},3157:function(a,m,n){var c=n(4326);a.exports=Array.isArray||function(l){return c(l)=="Array"}},4067:function(a,m,n){var c=n(648);a.exports=function(l){var v=c(l);return v=="BigInt64Array"||v=="BigUint64Array"}},614:function(a,m,n){var c=n(4154),l=c.all;a.exports=c.IS_HTMLDDA?function(v){return typeof v=="function"||v===l}:function(v){return typeof v=="function"}},4411:function(a,m,n){var c=n(1702),l=n(7293),v=n(614),y=n(648),T=n(5005),I=n(2788),g=function(){},P=[],M=T("Reflect","construct"),U=/^\s*(?:class|function)\b/,x=c(U.exec),H=!U.exec(g),L=function(F){if(!v(F))return!1;try{return M(g,P,F),!0}catch{return!1}},W=function(F){if(!v(F))return!1;switch(y(F)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return H||!!x(U,I(F))}catch{return!0}};W.sham=!0,a.exports=!M||l(function(){var F;return L(L.call)||!L(Object)||!L(function(){F=!0})||F})?W:L},4705:function(a,m,n){var c=n(7293),l=n(614),v=/#|\.prototype\./,y=function(M,U){var x=I[T(M)];return x==P||x!=g&&(l(U)?c(U):!!U)},T=y.normalize=function(M){return String(M).replace(v,".").toLowerCase()},I=y.data={},g=y.NATIVE="N",P=y.POLYFILL="P";a.exports=y},5988:function(a,m,n){var c=n(111),l=Math.floor;a.exports=Number.isInteger||function(v){return!c(v)&&isFinite(v)&&l(v)===v}},8554:function(a){a.exports=function(m){return m==null}},111:function(a,m,n){var c=n(614),l=n(4154),v=l.all;a.exports=l.IS_HTMLDDA?function(y){return typeof y=="object"?y!==null:c(y)||y===v}:function(y){return typeof y=="object"?y!==null:c(y)}},1913:function(a){a.exports=!1},7850:function(a,m,n){var c=n(111),l=n(4326),v=n(5112)("match");a.exports=function(y){var T;return c(y)&&((T=y[v])!==void 0?!!T:l(y)=="RegExp")}},2190:function(a,m,n){var c=n(5005),l=n(614),v=n(7976),y=n(3307),T=Object;a.exports=y?function(I){return typeof I=="symbol"}:function(I){var g=c("Symbol");return l(g)&&v(g.prototype,T(I))}},408:function(a,m,n){var c=n(9974),l=n(6916),v=n(9670),y=n(6330),T=n(7659),I=n(6244),g=n(7976),P=n(4121),M=n(1246),U=n(9212),x=TypeError,H=function(W,F){this.stopped=W,this.result=F},L=H.prototype;a.exports=function(W,F,w){var G,S,re,q,X,Q,ee,se=w&&w.that,Oe=!(!w||!w.AS_ENTRIES),xe=!(!w||!w.IS_RECORD),Ne=!(!w||!w.IS_ITERATOR),qe=!(!w||!w.INTERRUPTED),Et=c(F,se),et=function(vt){return G&&U(G,"normal",vt),new H(!0,vt)},st=function(vt){return Oe?(v(vt),qe?Et(vt[0],vt[1],et):Et(vt[0],vt[1])):qe?Et(vt,et):Et(vt)};if(xe)G=W.iterator;else if(Ne)G=W;else{if(!(S=M(W)))throw x(y(W)+" is not iterable");if(T(S)){for(re=0,q=I(W);q>re;re++)if((X=st(W[re]))&&g(L,X))return X;return new H(!1)}G=P(W,S)}for(Q=xe?W.next:G.next;!(ee=l(Q,G)).done;){try{X=st(ee.value)}catch(vt){U(G,"throw",vt)}if(typeof X=="object"&&X&&g(L,X))return X}return new H(!1)}},9212:function(a,m,n){var c=n(6916),l=n(9670),v=n(8173);a.exports=function(y,T,I){var g,P;l(y);try{if(!(g=v(y,"return"))){if(T==="throw")throw I;return I}g=c(g,y)}catch(M){P=!0,g=M}if(T==="throw")throw I;if(P)throw g;return l(g),I}},3061:function(a,m,n){var c=n(3383).IteratorPrototype,l=n(30),v=n(9114),y=n(8003),T=n(7497),I=function(){return this};a.exports=function(g,P,M,U){var x=P+" Iterator";return g.prototype=l(c,{next:v(+!U,M)}),y(g,x,!1,!0),T[x]=I,g}},1656:function(a,m,n){var c=n(2109),l=n(6916),v=n(1913),y=n(6530),T=n(614),I=n(3061),g=n(9518),P=n(7674),M=n(8003),U=n(8880),x=n(8052),H=n(5112),L=n(7497),W=n(3383),F=y.PROPER,w=y.CONFIGURABLE,G=W.IteratorPrototype,S=W.BUGGY_SAFARI_ITERATORS,re=H("iterator"),q="keys",X="values",Q="entries",ee=function(){return this};a.exports=function(se,Oe,xe,Ne,qe,Et,et){I(xe,Oe,Ne);var st,vt,It,wt=function(bt){if(bt===qe&&ct)return ct;if(!S&&bt in Se)return Se[bt];switch(bt){case q:case X:case Q:return function(){return new xe(this,bt)}}return function(){return new xe(this)}},Ht=Oe+" Iterator",ue=!1,Se=se.prototype,Ue=Se[re]||Se["@@iterator"]||qe&&Se[qe],ct=!S&&Ue||wt(qe),Xe=Oe=="Array"&&Se.entries||Ue;if(Xe&&(st=g(Xe.call(new se)))!==Object.prototype&&st.next&&(v||g(st)===G||(P?P(st,G):T(st[re])||x(st,re,ee)),M(st,Ht,!0,!0),v&&(L[Ht]=ee)),F&&qe==X&&Ue&&Ue.name!==X&&(!v&&w?U(Se,"name",X):(ue=!0,ct=function(){return l(Ue,this)})),qe)if(vt={values:wt(X),keys:Et?ct:wt(q),entries:wt(Q)},et)for(It in vt)(S||ue||!(It in Se))&&x(Se,It,vt[It]);else c({target:Oe,proto:!0,forced:S||ue},vt);return v&&!et||Se[re]===ct||x(Se,re,ct,{name:qe}),L[Oe]=ct,vt}},3383:function(a,m,n){var c,l,v,y=n(7293),T=n(614),I=n(111),g=n(30),P=n(9518),M=n(8052),U=n(5112),x=n(1913),H=U("iterator"),L=!1;[].keys&&("next"in(v=[].keys())?(l=P(P(v)))!==Object.prototype&&(c=l):L=!0),!I(c)||y(function(){var W={};return c[H].call(W)!==W})?c={}:x&&(c=g(c)),T(c[H])||M(c,H,function(){return this}),a.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:L}},7497:function(a){a.exports={}},6244:function(a,m,n){var c=n(7466);a.exports=function(l){return c(l.length)}},6339:function(a,m,n){var c=n(1702),l=n(7293),v=n(614),y=n(2597),T=n(9781),I=n(6530).CONFIGURABLE,g=n(2788),P=n(9909),M=P.enforce,U=P.get,x=String,H=Object.defineProperty,L=c("".slice),W=c("".replace),F=c([].join),w=T&&!l(function(){return H(function(){},"length",{value:8}).length!==8}),G=String(String).split("String"),S=a.exports=function(re,q,X){L(x(q),0,7)==="Symbol("&&(q="["+W(x(q),/^Symbol\(([^)]*)\)/,"$1")+"]"),X&&X.getter&&(q="get "+q),X&&X.setter&&(q="set "+q),(!y(re,"name")||I&&re.name!==q)&&(T?H(re,"name",{value:q,configurable:!0}):re.name=q),w&&X&&y(X,"arity")&&re.length!==X.arity&&H(re,"length",{value:X.arity});try{X&&y(X,"constructor")&&X.constructor?T&&H(re,"prototype",{writable:!1}):re.prototype&&(re.prototype=void 0)}catch{}var Q=M(re);return y(Q,"source")||(Q.source=F(G,typeof q=="string"?q:"")),re};Function.prototype.toString=S(function(){return v(this)&&U(this).source||g(this)},"toString")},4758:function(a){var m=Math.ceil,n=Math.floor;a.exports=Math.trunc||function(c){var l=+c;return(l>0?n:m)(l)}},5948:function(a,m,n){var c,l,v,y,T,I=n(7854),g=n(9974),P=n(1236).f,M=n(261).set,U=n(8572),x=n(6833),H=n(1528),L=n(1036),W=n(5268),F=I.MutationObserver||I.WebKitMutationObserver,w=I.document,G=I.process,S=I.Promise,re=P(I,"queueMicrotask"),q=re&&re.value;if(!q){var X=new U,Q=function(){var ee,se;for(W&&(ee=G.domain)&&ee.exit();se=X.get();)try{se()}catch(Oe){throw X.head&&c(),Oe}ee&&ee.enter()};x||W||L||!F||!w?!H&&S&&S.resolve?((y=S.resolve(void 0)).constructor=S,T=g(y.then,y),c=function(){T(Q)}):W?c=function(){G.nextTick(Q)}:(M=g(M,I),c=function(){M(Q)}):(l=!0,v=w.createTextNode(""),new F(Q).observe(v,{characterData:!0}),c=function(){v.data=l=!l}),q=function(ee){X.head||c(),X.add(ee)}}a.exports=q},8523:function(a,m,n){var c=n(9662),l=TypeError,v=function(y){var T,I;this.promise=new y(function(g,P){if(T!==void 0||I!==void 0)throw l("Bad Promise constructor");T=g,I=P}),this.resolve=c(T),this.reject=c(I)};a.exports.f=function(y){return new v(y)}},3929:function(a,m,n){var c=n(7850),l=TypeError;a.exports=function(v){if(c(v))throw l("The method doesn't accept regular expressions");return v}},1574:function(a,m,n){var c=n(9781),l=n(1702),v=n(6916),y=n(7293),T=n(1956),I=n(5181),g=n(5296),P=n(7908),M=n(8361),U=Object.assign,x=Object.defineProperty,H=l([].concat);a.exports=!U||y(function(){if(c&&U({b:1},U(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},W={},F=Symbol(),w="abcdefghijklmnopqrst";return L[F]=7,w.split("").forEach(function(G){W[G]=G}),U({},L)[F]!=7||T(U({},W)).join("")!=w})?function(L,W){for(var F=P(L),w=arguments.length,G=1,S=I.f,re=g.f;w>G;)for(var q,X=M(arguments[G++]),Q=S?H(T(X),S(X)):T(X),ee=Q.length,se=0;ee>se;)q=Q[se++],c&&!v(re,X,q)||(F[q]=X[q]);return F}:U},30:function(a,m,n){var c,l=n(9670),v=n(6048),y=n(748),T=n(3501),I=n(490),g=n(317),P=n(6200),M="prototype",U="script",x=P("IE_PROTO"),H=function(){},L=function(w){return"<"+U+">"+w+"</"+U+">"},W=function(w){w.write(L("")),w.close();var G=w.parentWindow.Object;return w=null,G},F=function(){try{c=new ActiveXObject("htmlfile")}catch{}var w,G,S;F=typeof document<"u"?document.domain&&c?W(c):(G=g("iframe"),S="java"+U+":",G.style.display="none",I.appendChild(G),G.src=String(S),(w=G.contentWindow.document).open(),w.write(L("document.F=Object")),w.close(),w.F):W(c);for(var re=y.length;re--;)delete F[M][y[re]];return F()};T[x]=!0,a.exports=Object.create||function(w,G){var S;return w!==null?(H[M]=l(w),S=new H,H[M]=null,S[x]=w):S=F(),G===void 0?S:v.f(S,G)}},6048:function(a,m,n){var c=n(9781),l=n(3353),v=n(3070),y=n(9670),T=n(5656),I=n(1956);m.f=c&&!l?Object.defineProperties:function(g,P){y(g);for(var M,U=T(P),x=I(P),H=x.length,L=0;H>L;)v.f(g,M=x[L++],U[M]);return g}},3070:function(a,m,n){var c=n(9781),l=n(4664),v=n(3353),y=n(9670),T=n(4948),I=TypeError,g=Object.defineProperty,P=Object.getOwnPropertyDescriptor,M="enumerable",U="configurable",x="writable";m.f=c?v?function(H,L,W){if(y(H),L=T(L),y(W),typeof H=="function"&&L==="prototype"&&"value"in W&&x in W&&!W[x]){var F=P(H,L);F&&F[x]&&(H[L]=W.value,W={configurable:U in W?W[U]:F[U],enumerable:M in W?W[M]:F[M],writable:!1})}return g(H,L,W)}:g:function(H,L,W){if(y(H),L=T(L),y(W),l)try{return g(H,L,W)}catch{}if("get"in W||"set"in W)throw I("Accessors not supported");return"value"in W&&(H[L]=W.value),H}},1236:function(a,m,n){var c=n(9781),l=n(6916),v=n(5296),y=n(9114),T=n(5656),I=n(4948),g=n(2597),P=n(4664),M=Object.getOwnPropertyDescriptor;m.f=c?M:function(U,x){if(U=T(U),x=I(x),P)try{return M(U,x)}catch{}if(g(U,x))return y(!l(v.f,U,x),U[x])}},1156:function(a,m,n){var c=n(4326),l=n(5656),v=n(8006).f,y=n(1589),T=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(I){return T&&c(I)=="Window"?function(g){try{return v(g)}catch{return y(T)}}(I):v(l(I))}},8006:function(a,m,n){var c=n(6324),l=n(748).concat("length","prototype");m.f=Object.getOwnPropertyNames||function(v){return c(v,l)}},5181:function(a,m){m.f=Object.getOwnPropertySymbols},9518:function(a,m,n){var c=n(2597),l=n(614),v=n(7908),y=n(6200),T=n(8544),I=y("IE_PROTO"),g=Object,P=g.prototype;a.exports=T?g.getPrototypeOf:function(M){var U=v(M);if(c(U,I))return U[I];var x=U.constructor;return l(x)&&U instanceof x?x.prototype:U instanceof g?P:null}},2050:function(a,m,n){var c=n(7293),l=n(111),v=n(4326),y=n(7556),T=Object.isExtensible,I=c(function(){});a.exports=I||y?function(g){return!!l(g)&&(!y||v(g)!="ArrayBuffer")&&(!T||T(g))}:T},7976:function(a,m,n){var c=n(1702);a.exports=c({}.isPrototypeOf)},6324:function(a,m,n){var c=n(1702),l=n(2597),v=n(5656),y=n(1318).indexOf,T=n(3501),I=c([].push);a.exports=function(g,P){var M,U=v(g),x=0,H=[];for(M in U)!l(T,M)&&l(U,M)&&I(H,M);for(;P.length>x;)l(U,M=P[x++])&&(~y(H,M)||I(H,M));return H}},1956:function(a,m,n){var c=n(6324),l=n(748);a.exports=Object.keys||function(v){return c(v,l)}},5296:function(a,m){var n={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,l=c&&!n.call({1:2},1);m.f=l?function(v){var y=c(this,v);return!!y&&y.enumerable}:n},7674:function(a,m,n){var c=n(5668),l=n(9670),v=n(6077);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,T=!1,I={};try{(y=c(Object.prototype,"__proto__","set"))(I,[]),T=I instanceof Array}catch{}return function(g,P){return l(g),v(P),T?y(g,P):g.__proto__=P,g}}():void 0)},4699:function(a,m,n){var c=n(9781),l=n(1702),v=n(1956),y=n(5656),T=l(n(5296).f),I=l([].push),g=function(P){return function(M){for(var U,x=y(M),H=v(x),L=H.length,W=0,F=[];L>W;)U=H[W++],c&&!T(x,U)||I(F,P?[U,x[U]]:x[U]);return F}};a.exports={entries:g(!0),values:g(!1)}},288:function(a,m,n){var c=n(1694),l=n(648);a.exports=c?{}.toString:function(){return"[object "+l(this)+"]"}},2140:function(a,m,n){var c=n(6916),l=n(614),v=n(111),y=TypeError;a.exports=function(T,I){var g,P;if(I==="string"&&l(g=T.toString)&&!v(P=c(g,T))||l(g=T.valueOf)&&!v(P=c(g,T))||I!=="string"&&l(g=T.toString)&&!v(P=c(g,T)))return P;throw y("Can't convert object to primitive value")}},3887:function(a,m,n){var c=n(5005),l=n(1702),v=n(8006),y=n(5181),T=n(9670),I=l([].concat);a.exports=c("Reflect","ownKeys")||function(g){var P=v.f(T(g)),M=y.f;return M?I(P,M(g)):P}},857:function(a,m,n){var c=n(7854);a.exports=c},2534:function(a){a.exports=function(m){try{return{error:!1,value:m()}}catch(n){return{error:!0,value:n}}}},3702:function(a,m,n){var c=n(7854),l=n(2492),v=n(614),y=n(4705),T=n(2788),I=n(5112),g=n(7871),P=n(3823),M=n(1913),U=n(7392),x=l&&l.prototype,H=I("species"),L=!1,W=v(c.PromiseRejectionEvent),F=y("Promise",function(){var w=T(l),G=w!==String(l);if(!G&&U===66||M&&(!x.catch||!x.finally))return!0;if(!U||U<51||!/native code/.test(w)){var S=new l(function(q){q(1)}),re=function(q){q(function(){},function(){})};if((S.constructor={})[H]=re,!(L=S.then(function(){})instanceof re))return!0}return!G&&(g||P)&&!W});a.exports={CONSTRUCTOR:F,REJECTION_EVENT:W,SUBCLASSING:L}},2492:function(a,m,n){var c=n(7854);a.exports=c.Promise},9478:function(a,m,n){var c=n(9670),l=n(111),v=n(8523);a.exports=function(y,T){if(c(y),l(T)&&T.constructor===y)return T;var I=v.f(y);return(0,I.resolve)(T),I.promise}},612:function(a,m,n){var c=n(2492),l=n(7072),v=n(3702).CONSTRUCTOR;a.exports=v||!l(function(y){c.all(y).then(void 0,function(){})})},8572:function(a){var m=function(){this.head=null,this.tail=null};m.prototype={add:function(n){var c={item:n,next:null},l=this.tail;l?l.next=c:this.head=c,this.tail=c},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},a.exports=m},7651:function(a,m,n){var c=n(6916),l=n(9670),v=n(614),y=n(4326),T=n(2261),I=TypeError;a.exports=function(g,P){var M=g.exec;if(v(M)){var U=c(M,g,P);return U!==null&&l(U),U}if(y(g)==="RegExp")return c(T,g,P);throw I("RegExp#exec called on incompatible receiver")}},2261:function(a,m,n){var c,l,v=n(6916),y=n(1702),T=n(1340),I=n(7066),g=n(2999),P=n(2309),M=n(30),U=n(9909).get,x=n(9441),H=n(7168),L=P("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,F=W,w=y("".charAt),G=y("".indexOf),S=y("".replace),re=y("".slice),q=(l=/b*/g,v(W,c=/a/,"a"),v(W,l,"a"),c.lastIndex!==0||l.lastIndex!==0),X=g.BROKEN_CARET,Q=/()??/.exec("")[1]!==void 0;(q||Q||X||x||H)&&(F=function(ee){var se,Oe,xe,Ne,qe,Et,et,st=this,vt=U(st),It=T(ee),wt=vt.raw;if(wt)return wt.lastIndex=st.lastIndex,se=v(F,wt,It),st.lastIndex=wt.lastIndex,se;var Ht=vt.groups,ue=X&&st.sticky,Se=v(I,st),Ue=st.source,ct=0,Xe=It;if(ue&&(Se=S(Se,"y",""),G(Se,"g")===-1&&(Se+="g"),Xe=re(It,st.lastIndex),st.lastIndex>0&&(!st.multiline||st.multiline&&w(It,st.lastIndex-1)!==`
`)&&(Ue="(?: "+Ue+")",Xe=" "+Xe,ct++),Oe=new RegExp("^(?:"+Ue+")",Se)),Q&&(Oe=new RegExp("^"+Ue+"$(?!\\s)",Se)),q&&(xe=st.lastIndex),Ne=v(W,ue?Oe:st,Xe),ue?Ne?(Ne.input=re(Ne.input,ct),Ne[0]=re(Ne[0],ct),Ne.index=st.lastIndex,st.lastIndex+=Ne[0].length):st.lastIndex=0:q&&Ne&&(st.lastIndex=st.global?Ne.index+Ne[0].length:xe),Q&&Ne&&Ne.length>1&&v(L,Ne[0],Oe,function(){for(qe=1;qe<arguments.length-2;qe++)arguments[qe]===void 0&&(Ne[qe]=void 0)}),Ne&&Ht)for(Ne.groups=Et=M(null),qe=0;qe<Ht.length;qe++)Et[(et=Ht[qe])[0]]=Ne[et[1]];return Ne}),a.exports=F},7066:function(a,m,n){var c=n(9670);a.exports=function(){var l=c(this),v="";return l.hasIndices&&(v+="d"),l.global&&(v+="g"),l.ignoreCase&&(v+="i"),l.multiline&&(v+="m"),l.dotAll&&(v+="s"),l.unicode&&(v+="u"),l.unicodeSets&&(v+="v"),l.sticky&&(v+="y"),v}},4706:function(a,m,n){var c=n(6916),l=n(2597),v=n(7976),y=n(7066),T=RegExp.prototype;a.exports=function(I){var g=I.flags;return g!==void 0||"flags"in T||l(I,"flags")||!v(T,I)?g:c(y,I)}},2999:function(a,m,n){var c=n(7293),l=n(7854).RegExp,v=c(function(){var I=l("a","y");return I.lastIndex=2,I.exec("abcd")!=null}),y=v||c(function(){return!l("a","y").sticky}),T=v||c(function(){var I=l("^r","gy");return I.lastIndex=2,I.exec("str")!=null});a.exports={BROKEN_CARET:T,MISSED_STICKY:y,UNSUPPORTED_Y:v}},9441:function(a,m,n){var c=n(7293),l=n(7854).RegExp;a.exports=c(function(){var v=l(".","s");return!(v.dotAll&&v.exec(`
`)&&v.flags==="s")})},7168:function(a,m,n){var c=n(7293),l=n(7854).RegExp;a.exports=c(function(){var v=l("(?<a>b)","g");return v.exec("b").groups.a!=="b"||"b".replace(v,"$<a>c")!=="bc"})},4488:function(a,m,n){var c=n(8554),l=TypeError;a.exports=function(v){if(c(v))throw l("Can't call method on "+v);return v}},7152:function(a,m,n){var c,l=n(7854),v=n(2104),y=n(614),T=n(9363),I=n(8113),g=n(206),P=n(8053),M=l.Function,U=/MSIE .\./.test(I)||T&&((c=l.Bun.version.split(".")).length<3||c[0]==0&&(c[1]<3||c[1]==3&&c[2]==0));a.exports=function(x,H){var L=H?2:1;return U?function(W,F){var w=P(arguments.length,1)>L,G=y(W)?W:M(W),S=w?g(arguments,L):[],re=w?function(){v(G,this,S)}:G;return H?x(re,F):x(re)}:x}},6340:function(a,m,n){var c=n(5005),l=n(7045),v=n(5112),y=n(9781),T=v("species");a.exports=function(I){var g=c(I);y&&g&&!g[T]&&l(g,T,{configurable:!0,get:function(){return this}})}},8003:function(a,m,n){var c=n(3070).f,l=n(2597),v=n(5112)("toStringTag");a.exports=function(y,T,I){y&&!I&&(y=y.prototype),y&&!l(y,v)&&c(y,v,{configurable:!0,value:T})}},6200:function(a,m,n){var c=n(2309),l=n(9711),v=c("keys");a.exports=function(y){return v[y]||(v[y]=l(y))}},5465:function(a,m,n){var c=n(7854),l=n(3072),v="__core-js_shared__",y=c[v]||l(v,{});a.exports=y},2309:function(a,m,n){var c=n(1913),l=n(5465);(a.exports=function(v,y){return l[v]||(l[v]=y!==void 0?y:{})})("versions",[]).push({version:"3.30.2",mode:c?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(a,m,n){var c=n(9670),l=n(9483),v=n(8554),y=n(5112)("species");a.exports=function(T,I){var g,P=c(T).constructor;return P===void 0||v(g=c(P)[y])?I:l(g)}},8710:function(a,m,n){var c=n(1702),l=n(9303),v=n(1340),y=n(4488),T=c("".charAt),I=c("".charCodeAt),g=c("".slice),P=function(M){return function(U,x){var H,L,W=v(y(U)),F=l(x),w=W.length;return F<0||F>=w?M?"":void 0:(H=I(W,F))<55296||H>56319||F+1===w||(L=I(W,F+1))<56320||L>57343?M?T(W,F):H:M?g(W,F,F+2):L-56320+(H-55296<<10)+65536}};a.exports={codeAt:P(!1),charAt:P(!0)}},3197:function(a,m,n){var c=n(1702),l=2147483647,v=/[^\0-\u007E]/,y=/[.\u3002\uFF0E\uFF61]/g,T="Overflow: input needs wider integers to process",I=RangeError,g=c(y.exec),P=Math.floor,M=String.fromCharCode,U=c("".charCodeAt),x=c([].join),H=c([].push),L=c("".replace),W=c("".split),F=c("".toLowerCase),w=function(re){return re+22+75*(re<26)},G=function(re,q,X){var Q=0;for(re=X?P(re/700):re>>1,re+=P(re/q);re>455;)re=P(re/35),Q+=36;return P(Q+36*re/(re+38))},S=function(re){var q=[];re=function(ue){for(var Se=[],Ue=0,ct=ue.length;Ue<ct;){var Xe=U(ue,Ue++);if(Xe>=55296&&Xe<=56319&&Ue<ct){var bt=U(ue,Ue++);(64512&bt)==56320?H(Se,((1023&Xe)<<10)+(1023&bt)+65536):(H(Se,Xe),Ue--)}else H(Se,Xe)}return Se}(re);var X,Q,ee=re.length,se=128,Oe=0,xe=72;for(X=0;X<re.length;X++)(Q=re[X])<128&&H(q,M(Q));var Ne=q.length,qe=Ne;for(Ne&&H(q,"-");qe<ee;){var Et=l;for(X=0;X<re.length;X++)(Q=re[X])>=se&&Q<Et&&(Et=Q);var et=qe+1;if(Et-se>P((l-Oe)/et))throw I(T);for(Oe+=(Et-se)*et,se=Et,X=0;X<re.length;X++){if((Q=re[X])<se&&++Oe>l)throw I(T);if(Q==se){for(var st=Oe,vt=36;;){var It=vt<=xe?1:vt>=xe+26?26:vt-xe;if(st<It)break;var wt=st-It,Ht=36-It;H(q,M(w(It+wt%Ht))),st=P(wt/Ht),vt+=36}H(q,M(w(st))),xe=G(Oe,et,qe==Ne),Oe=0,qe++}}Oe++,se++}return x(q,"")};a.exports=function(re){var q,X,Q=[],ee=W(L(F(re),y,"."),".");for(q=0;q<ee.length;q++)X=ee[q],H(Q,g(v,X)?"xn--"+S(X):X);return x(Q,".")}},8415:function(a,m,n){var c=n(9303),l=n(1340),v=n(4488),y=RangeError;a.exports=function(T){var I=l(v(this)),g="",P=c(T);if(P<0||P==1/0)throw y("Wrong number of repetitions");for(;P>0;(P>>>=1)&&(I+=I))1&P&&(g+=I);return g}},3111:function(a,m,n){var c=n(1702),l=n(4488),v=n(1340),y=n(1361),T=c("".replace),I=RegExp("^["+y+"]+"),g=RegExp("(^|[^"+y+"])["+y+"]+$"),P=function(M){return function(U){var x=v(l(U));return 1&M&&(x=T(x,I,"")),2&M&&(x=T(x,g,"$1")),x}};a.exports={start:P(1),end:P(2),trim:P(3)}},6293:function(a,m,n){var c=n(7392),l=n(7293),v=n(7854).String;a.exports=!!Object.getOwnPropertySymbols&&!l(function(){var y=Symbol();return!v(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&c&&c<41})},6532:function(a,m,n){var c=n(6916),l=n(5005),v=n(5112),y=n(8052);a.exports=function(){var T=l("Symbol"),I=T&&T.prototype,g=I&&I.valueOf,P=v("toPrimitive");I&&!I[P]&&y(I,P,function(M){return c(g,this)},{arity:1})}},2015:function(a,m,n){var c=n(6293);a.exports=c&&!!Symbol.for&&!!Symbol.keyFor},261:function(a,m,n){var c,l,v,y,T=n(7854),I=n(2104),g=n(9974),P=n(614),M=n(2597),U=n(7293),x=n(490),H=n(206),L=n(317),W=n(8053),F=n(6833),w=n(5268),G=T.setImmediate,S=T.clearImmediate,re=T.process,q=T.Dispatch,X=T.Function,Q=T.MessageChannel,ee=T.String,se=0,Oe={},xe="onreadystatechange";U(function(){c=T.location});var Ne=function(st){if(M(Oe,st)){var vt=Oe[st];delete Oe[st],vt()}},qe=function(st){return function(){Ne(st)}},Et=function(st){Ne(st.data)},et=function(st){T.postMessage(ee(st),c.protocol+"//"+c.host)};G&&S||(G=function(st){W(arguments.length,1);var vt=P(st)?st:X(st),It=H(arguments,1);return Oe[++se]=function(){I(vt,void 0,It)},l(se),se},S=function(st){delete Oe[st]},w?l=function(st){re.nextTick(qe(st))}:q&&q.now?l=function(st){q.now(qe(st))}:Q&&!F?(y=(v=new Q).port2,v.port1.onmessage=Et,l=g(y.postMessage,y)):T.addEventListener&&P(T.postMessage)&&!T.importScripts&&c&&c.protocol!=="file:"&&!U(et)?(l=et,T.addEventListener("message",Et,!1)):l=xe in L("script")?function(st){x.appendChild(L("script"))[xe]=function(){x.removeChild(this),Ne(st)}}:function(st){setTimeout(qe(st),0)}),a.exports={set:G,clear:S}},863:function(a,m,n){var c=n(1702);a.exports=c(1 .valueOf)},1400:function(a,m,n){var c=n(9303),l=Math.max,v=Math.min;a.exports=function(y,T){var I=c(y);return I<0?l(I+T,0):v(I,T)}},4599:function(a,m,n){var c=n(7593),l=TypeError;a.exports=function(v){var y=c(v,"number");if(typeof y=="number")throw l("Can't convert number to bigint");return BigInt(y)}},7067:function(a,m,n){var c=n(9303),l=n(7466),v=RangeError;a.exports=function(y){if(y===void 0)return 0;var T=c(y),I=l(T);if(T!==I)throw v("Wrong length or index");return I}},5656:function(a,m,n){var c=n(8361),l=n(4488);a.exports=function(v){return c(l(v))}},9303:function(a,m,n){var c=n(4758);a.exports=function(l){var v=+l;return v!=v||v===0?0:c(v)}},7466:function(a,m,n){var c=n(9303),l=Math.min;a.exports=function(v){return v>0?l(c(v),9007199254740991):0}},7908:function(a,m,n){var c=n(4488),l=Object;a.exports=function(v){return l(c(v))}},4590:function(a,m,n){var c=n(3002),l=RangeError;a.exports=function(v,y){var T=c(v);if(T%y)throw l("Wrong offset");return T}},3002:function(a,m,n){var c=n(9303),l=RangeError;a.exports=function(v){var y=c(v);if(y<0)throw l("The argument can't be less than 0");return y}},7593:function(a,m,n){var c=n(6916),l=n(111),v=n(2190),y=n(8173),T=n(2140),I=n(5112),g=TypeError,P=I("toPrimitive");a.exports=function(M,U){if(!l(M)||v(M))return M;var x,H=y(M,P);if(H){if(U===void 0&&(U="default"),x=c(H,M,U),!l(x)||v(x))return x;throw g("Can't convert object to primitive value")}return U===void 0&&(U="number"),T(M,U)}},4948:function(a,m,n){var c=n(7593),l=n(2190);a.exports=function(v){var y=c(v,"string");return l(y)?y:y+""}},1694:function(a,m,n){var c={};c[n(5112)("toStringTag")]="z",a.exports=String(c)==="[object z]"},1340:function(a,m,n){var c=n(648),l=String;a.exports=function(v){if(c(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return l(v)}},6330:function(a){var m=String;a.exports=function(n){try{return m(n)}catch{return"Object"}}},9843:function(a,m,n){var c=n(2109),l=n(7854),v=n(6916),y=n(9781),T=n(3832),I=n(260),g=n(3331),P=n(5787),M=n(9114),U=n(8880),x=n(5988),H=n(7466),L=n(7067),W=n(4590),F=n(4948),w=n(2597),G=n(648),S=n(111),re=n(2190),q=n(30),X=n(7976),Q=n(7674),ee=n(8006).f,se=n(7321),Oe=n(2092).forEach,xe=n(6340),Ne=n(7045),qe=n(3070),Et=n(1236),et=n(9909),st=n(9587),vt=et.get,It=et.set,wt=et.enforce,Ht=qe.f,ue=Et.f,Se=Math.round,Ue=l.RangeError,ct=g.ArrayBuffer,Xe=ct.prototype,bt=g.DataView,_t=I.NATIVE_ARRAY_BUFFER_VIEWS,Lt=I.TYPED_ARRAY_TAG,Ae=I.TypedArray,Re=I.TypedArrayPrototype,Me=I.aTypedArrayConstructor,lt=I.isTypedArray,nt="BYTES_PER_ELEMENT",Ye="Wrong length",Fe=function(Ct,mt){Me(Ct);for(var pt=0,Mt=mt.length,Xt=new Ct(Mt);Mt>pt;)Xt[pt]=mt[pt++];return Xt},Ve=function(Ct,mt){Ne(Ct,mt,{configurable:!0,get:function(){return vt(this)[mt]}})},$e=function(Ct){var mt;return X(Xe,Ct)||(mt=G(Ct))=="ArrayBuffer"||mt=="SharedArrayBuffer"},ke=function(Ct,mt){return lt(Ct)&&!re(mt)&&mt in Ct&&x(+mt)&&mt>=0},Je=function(Ct,mt){return mt=F(mt),ke(Ct,mt)?M(2,Ct[mt]):ue(Ct,mt)},yt=function(Ct,mt,pt){return mt=F(mt),!(ke(Ct,mt)&&S(pt)&&w(pt,"value"))||w(pt,"get")||w(pt,"set")||pt.configurable||w(pt,"writable")&&!pt.writable||w(pt,"enumerable")&&!pt.enumerable?Ht(Ct,mt,pt):(Ct[mt]=pt.value,Ct)};y?(_t||(Et.f=Je,qe.f=yt,Ve(Re,"buffer"),Ve(Re,"byteOffset"),Ve(Re,"byteLength"),Ve(Re,"length")),c({target:"Object",stat:!0,forced:!_t},{getOwnPropertyDescriptor:Je,defineProperty:yt}),a.exports=function(Ct,mt,pt){var Mt=Ct.match(/\d+/)[0]/8,Xt=Ct+(pt?"Clamped":"")+"Array",jt="get"+Ct,zt="set"+Ct,tr=l[Xt],Ke=tr,Ot=Ke&&Ke.prototype,j={},Y=function(De,ve){Ht(De,ve,{get:function(){return function(ze,ot){var ut=vt(ze);return ut.view[jt](ot*Mt+ut.byteOffset,!0)}(this,ve)},set:function(ze){return function(ot,ut,St){var xt=vt(ot);pt&&(St=(St=Se(St))<0?0:St>255?255:255&St),xt.view[zt](ut*Mt+xt.byteOffset,St,!0)}(this,ve,ze)},enumerable:!0})};_t?T&&(Ke=mt(function(De,ve,ze,ot){return P(De,Ot),st(S(ve)?$e(ve)?ot!==void 0?new tr(ve,W(ze,Mt),ot):ze!==void 0?new tr(ve,W(ze,Mt)):new tr(ve):lt(ve)?Fe(Ke,ve):v(se,Ke,ve):new tr(L(ve)),De,Ke)}),Q&&Q(Ke,Ae),Oe(ee(tr),function(De){De in Ke||U(Ke,De,tr[De])}),Ke.prototype=Ot):(Ke=mt(function(De,ve,ze,ot){P(De,Ot);var ut,St,xt,Bt=0,Zt=0;if(S(ve)){if(!$e(ve))return lt(ve)?Fe(Ke,ve):v(se,Ke,ve);ut=ve,Zt=W(ze,Mt);var fe=ve.byteLength;if(ot===void 0){if(fe%Mt||(St=fe-Zt)<0)throw Ue(Ye)}else if((St=H(ot)*Mt)+Zt>fe)throw Ue(Ye);xt=St/Mt}else xt=L(ve),ut=new ct(St=xt*Mt);for(It(De,{buffer:ut,byteOffset:Zt,byteLength:St,length:xt,view:new bt(ut)});Bt<xt;)Y(De,Bt++)}),Q&&Q(Ke,Ae),Ot=Ke.prototype=q(Re)),Ot.constructor!==Ke&&U(Ot,"constructor",Ke),wt(Ot).TypedArrayConstructor=Ke,Lt&&U(Ot,Lt,Xt);var _e=Ke!=tr;j[Xt]=Ke,c({global:!0,constructor:!0,forced:_e,sham:!_t},j),nt in Ke||U(Ke,nt,Mt),nt in Ot||U(Ot,nt,Mt),xe(Xt)}):a.exports=function(){}},3832:function(a,m,n){var c=n(7854),l=n(7293),v=n(7072),y=n(260).NATIVE_ARRAY_BUFFER_VIEWS,T=c.ArrayBuffer,I=c.Int8Array;a.exports=!y||!l(function(){I(1)})||!l(function(){new I(-1)})||!v(function(g){new I,new I(null),new I(1.5),new I(g)},!0)||l(function(){return new I(new T(2),1,void 0).length!==1})},3074:function(a,m,n){var c=n(7745),l=n(6304);a.exports=function(v,y){return c(l(v),y)}},7321:function(a,m,n){var c=n(9974),l=n(6916),v=n(9483),y=n(7908),T=n(6244),I=n(4121),g=n(1246),P=n(7659),M=n(4067),U=n(260).aTypedArrayConstructor,x=n(4599);a.exports=function(H){var L,W,F,w,G,S,re,q,X=v(this),Q=y(H),ee=arguments.length,se=ee>1?arguments[1]:void 0,Oe=se!==void 0,xe=g(Q);if(xe&&!P(xe))for(q=(re=I(Q,xe)).next,Q=[];!(S=l(q,re)).done;)Q.push(S.value);for(Oe&&ee>2&&(se=c(se,arguments[2])),W=T(Q),F=new(U(X))(W),w=M(F),L=0;W>L;L++)G=Oe?se(Q[L],L):Q[L],F[L]=w?x(G):+G;return F}},6304:function(a,m,n){var c=n(260),l=n(6707),v=c.aTypedArrayConstructor,y=c.getTypedArrayConstructor;a.exports=function(T){return v(l(T,y(T)))}},9711:function(a,m,n){var c=n(1702),l=0,v=Math.random(),y=c(1 .toString);a.exports=function(T){return"Symbol("+(T===void 0?"":T)+")_"+y(++l+v,36)}},5143:function(a,m,n){var c=n(7293),l=n(5112),v=n(9781),y=n(1913),T=l("iterator");a.exports=!c(function(){var I=new URL("b?a=1&b=2&c=3","http://a"),g=I.searchParams,P="";return I.pathname="c%20d",g.forEach(function(M,U){g.delete("b"),P+=U+M}),y&&!I.toJSON||!g.size&&(y||!v)||!g.sort||I.href!=="http://a/c%20d?a=1&c=3"||g.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!g[T]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||P!=="a1c3"||new URL("http://x",void 0).host!=="x"})},3307:function(a,m,n){var c=n(6293);a.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(a,m,n){var c=n(9781),l=n(7293);a.exports=c&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:function(a){var m=TypeError;a.exports=function(n,c){if(n<c)throw m("Not enough arguments");return n}},4811:function(a,m,n){var c=n(7854),l=n(614),v=c.WeakMap;a.exports=l(v)&&/native code/.test(String(v))},6800:function(a,m,n){var c=n(857),l=n(2597),v=n(6061),y=n(3070).f;a.exports=function(T){var I=c.Symbol||(c.Symbol={});l(I,T)||y(I,T,{value:v.f(T)})}},6061:function(a,m,n){var c=n(5112);m.f=c},5112:function(a,m,n){var c=n(7854),l=n(2309),v=n(2597),y=n(9711),T=n(6293),I=n(3307),g=c.Symbol,P=l("wks"),M=I?g.for||g:g&&g.withoutSetter||y;a.exports=function(U){return v(P,U)||(P[U]=T&&v(g,U)?g[U]:M("Symbol."+U)),P[U]}},1361:function(a){a.exports=`	
\v\f\r \u2028\u2029\uFEFF`},9575:function(a,m,n){var c=n(2109),l=n(1470),v=n(7293),y=n(3331),T=n(9670),I=n(1400),g=n(7466),P=n(6707),M=y.ArrayBuffer,U=y.DataView,x=U.prototype,H=l(M.prototype.slice),L=l(x.getUint8),W=l(x.setUint8);c({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:v(function(){return!new M(2).slice(1,void 0).byteLength})},{slice:function(F,w){if(H&&w===void 0)return H(T(this),F);for(var G=T(this).byteLength,S=I(F,G),re=I(w===void 0?G:w,G),q=new(P(this,M))(g(re-S)),X=new U(this),Q=new U(q),ee=0;S<re;)W(Q,ee++,L(X,S++));return q}})},2222:function(a,m,n){var c=n(2109),l=n(7293),v=n(3157),y=n(111),T=n(7908),I=n(6244),g=n(7207),P=n(6135),M=n(5417),U=n(1194),x=n(5112),H=n(7392),L=x("isConcatSpreadable"),W=H>=51||!l(function(){var w=[];return w[L]=!1,w.concat()[0]!==w}),F=function(w){if(!y(w))return!1;var G=w[L];return G!==void 0?!!G:v(w)};c({target:"Array",proto:!0,arity:1,forced:!W||!U("concat")},{concat:function(w){var G,S,re,q,X,Q=T(this),ee=M(Q,0),se=0;for(G=-1,re=arguments.length;G<re;G++)if(F(X=G===-1?Q:arguments[G]))for(q=I(X),g(se+q),S=0;S<q;S++,se++)S in X&&P(ee,se,X[S]);else g(se+1),P(ee,se++,X);return ee.length=se,ee}})},7327:function(a,m,n){var c=n(2109),l=n(2092).filter;c({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}})},4553:function(a,m,n){var c=n(2109),l=n(2092).findIndex,v=n(1223),y="findIndex",T=!0;y in[]&&Array(1)[y](function(){T=!1}),c({target:"Array",proto:!0,forced:T},{findIndex:function(I){return l(this,I,arguments.length>1?arguments[1]:void 0)}}),v(y)},9826:function(a,m,n){var c=n(2109),l=n(2092).find,v=n(1223),y="find",T=!0;y in[]&&Array(1)[y](function(){T=!1}),c({target:"Array",proto:!0,forced:T},{find:function(I){return l(this,I,arguments.length>1?arguments[1]:void 0)}}),v(y)},9554:function(a,m,n){var c=n(2109),l=n(8533);c({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},1038:function(a,m,n){var c=n(2109),l=n(8457);c({target:"Array",stat:!0,forced:!n(7072)(function(v){Array.from(v)})},{from:l})},6699:function(a,m,n){var c=n(2109),l=n(1318).includes,v=n(7293),y=n(1223);c({target:"Array",proto:!0,forced:v(function(){return!Array(1).includes()})},{includes:function(T){return l(this,T,arguments.length>1?arguments[1]:void 0)}}),y("includes")},2772:function(a,m,n){var c=n(2109),l=n(1470),v=n(1318).indexOf,y=n(9341),T=l([].indexOf),I=!!T&&1/T([1],1,-0)<0;c({target:"Array",proto:!0,forced:I||!y("indexOf")},{indexOf:function(g){var P=arguments.length>1?arguments[1]:void 0;return I?T(this,g,P)||0:v(this,g,P)}})},9753:function(a,m,n){n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:function(a,m,n){var c=n(5656),l=n(1223),v=n(7497),y=n(9909),T=n(3070).f,I=n(1656),g=n(6178),P=n(1913),M=n(9781),U="Array Iterator",x=y.set,H=y.getterFor(U);a.exports=I(Array,"Array",function(W,F){x(this,{type:U,target:c(W),index:0,kind:F})},function(){var W=H(this),F=W.target,w=W.kind,G=W.index++;return!F||G>=F.length?(W.target=void 0,g(void 0,!0)):g(w=="keys"?G:w=="values"?F[G]:[G,F[G]],!1)},"values");var L=v.Arguments=v.Array;if(l("keys"),l("values"),l("entries"),!P&&M&&L.name!=="values")try{T(L,"name",{value:"values"})}catch{}},9600:function(a,m,n){var c=n(2109),l=n(1702),v=n(8361),y=n(5656),T=n(9341),I=l([].join);c({target:"Array",proto:!0,forced:v!=Object||!T("join",",")},{join:function(g){return I(y(this),g===void 0?",":g)}})},4986:function(a,m,n){var c=n(2109),l=n(6583);c({target:"Array",proto:!0,forced:l!==[].lastIndexOf},{lastIndexOf:l})},1249:function(a,m,n){var c=n(2109),l=n(2092).map;c({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}})},5827:function(a,m,n){var c=n(2109),l=n(3671).left,v=n(9341),y=n(7392);c({target:"Array",proto:!0,forced:!n(5268)&&y>79&&y<83||!v("reduce")},{reduce:function(T){var I=arguments.length;return l(this,T,I,I>1?arguments[1]:void 0)}})},5069:function(a,m,n){var c=n(2109),l=n(1702),v=n(3157),y=l([].reverse),T=[1,2];c({target:"Array",proto:!0,forced:String(T)===String(T.reverse())},{reverse:function(){return v(this)&&(this.length=this.length),y(this)}})},7042:function(a,m,n){var c=n(2109),l=n(3157),v=n(4411),y=n(111),T=n(1400),I=n(6244),g=n(5656),P=n(6135),M=n(5112),U=n(1194),x=n(206),H=U("slice"),L=M("species"),W=Array,F=Math.max;c({target:"Array",proto:!0,forced:!H},{slice:function(w,G){var S,re,q,X=g(this),Q=I(X),ee=T(w,Q),se=T(G===void 0?Q:G,Q);if(l(X)&&(S=X.constructor,(v(S)&&(S===W||l(S.prototype))||y(S)&&(S=S[L])===null)&&(S=void 0),S===W||S===void 0))return x(X,ee,se);for(re=new(S===void 0?W:S)(F(se-ee,0)),q=0;ee<se;ee++,q++)ee in X&&P(re,q,X[ee]);return re.length=q,re}})},5212:function(a,m,n){var c=n(2109),l=n(2092).some;c({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}})},561:function(a,m,n){var c=n(2109),l=n(7908),v=n(1400),y=n(9303),T=n(6244),I=n(3658),g=n(7207),P=n(5417),M=n(6135),U=n(5117),x=n(1194)("splice"),H=Math.max,L=Math.min;c({target:"Array",proto:!0,forced:!x},{splice:function(W,F){var w,G,S,re,q,X,Q=l(this),ee=T(Q),se=v(W,ee),Oe=arguments.length;for(Oe===0?w=G=0:Oe===1?(w=0,G=ee-se):(w=Oe-2,G=L(H(y(F),0),ee-se)),g(ee+w-G),S=P(Q,G),re=0;re<G;re++)(q=se+re)in Q&&M(S,re,Q[q]);if(S.length=G,w<G){for(re=se;re<ee-G;re++)X=re+w,(q=re+G)in Q?Q[X]=Q[q]:U(Q,X);for(re=ee;re>ee-G+w;re--)U(Q,re-1)}else if(w>G)for(re=ee-G;re>se;re--)X=re+w-1,(q=re+G-1)in Q?Q[X]=Q[q]:U(Q,X);for(re=0;re<w;re++)Q[re+se]=arguments[re+2];return I(Q,ee-G+w),S}})},3843:function(a,m,n){var c=n(2109),l=n(1702),v=Date,y=l(v.prototype.getTime);c({target:"Date",stat:!0},{now:function(){return y(new v)}})},3710:function(a,m,n){var c=n(1702),l=n(8052),v=Date.prototype,y="Invalid Date",T="toString",I=c(v[T]),g=c(v.getTime);String(new Date(NaN))!=y&&l(v,T,function(){var P=g(this);return P==P?I(this):y})},4812:function(a,m,n){var c=n(2109),l=n(7065);c({target:"Function",proto:!0,forced:Function.bind!==l},{bind:l})},8309:function(a,m,n){var c=n(9781),l=n(6530).EXISTS,v=n(1702),y=n(7045),T=Function.prototype,I=v(T.toString),g=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=v(g.exec);c&&!l&&y(T,"name",{configurable:!0,get:function(){try{return P(g,I(this))[1]}catch{return""}}})},8862:function(a,m,n){var c=n(2109),l=n(5005),v=n(2104),y=n(6916),T=n(1702),I=n(7293),g=n(614),P=n(2190),M=n(206),U=n(8044),x=n(6293),H=String,L=l("JSON","stringify"),W=T(/./.exec),F=T("".charAt),w=T("".charCodeAt),G=T("".replace),S=T(1 .toString),re=/[\uD800-\uDFFF]/g,q=/^[\uD800-\uDBFF]$/,X=/^[\uDC00-\uDFFF]$/,Q=!x||I(function(){var xe=l("Symbol")();return L([xe])!="[null]"||L({a:xe})!="{}"||L(Object(xe))!="{}"}),ee=I(function(){return L("\uDF06\uD834")!=='"\\udf06\\ud834"'||L("\uDEAD")!=='"\\udead"'}),se=function(xe,Ne){var qe=M(arguments),Et=U(Ne);if(g(Et)||xe!==void 0&&!P(xe))return qe[1]=function(et,st){if(g(Et)&&(st=y(Et,this,H(et),st)),!P(st))return st},v(L,null,qe)},Oe=function(xe,Ne,qe){var Et=F(qe,Ne-1),et=F(qe,Ne+1);return W(q,xe)&&!W(X,et)||W(X,xe)&&!W(q,Et)?"\\u"+S(w(xe,0),16):xe};L&&c({target:"JSON",stat:!0,arity:3,forced:Q||ee},{stringify:function(xe,Ne,qe){var Et=M(arguments),et=v(Q?se:L,null,Et);return ee&&typeof et=="string"?G(et,re,Oe):et}})},9098:function(a,m,n){n(7710)("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},n(5631))},1532:function(a,m,n){n(9098)},9653:function(a,m,n){var c=n(2109),l=n(1913),v=n(9781),y=n(7854),T=n(857),I=n(1702),g=n(4705),P=n(2597),M=n(9587),U=n(7976),x=n(2190),H=n(7593),L=n(7293),W=n(8006).f,F=n(1236).f,w=n(3070).f,G=n(863),S=n(3111).trim,re="Number",q=y[re],X=T[re],Q=q.prototype,ee=y.TypeError,se=I("".slice),Oe=I("".charCodeAt),xe=g(re,!q(" 0o1")||!q("0b1")||q("+0x1")),Ne=function(Et){var et,st=arguments.length<1?0:q(function(vt){var It=H(vt,"number");return typeof It=="bigint"?It:function(wt){var Ht,ue,Se,Ue,ct,Xe,bt,_t,Lt=H(wt,"number");if(x(Lt))throw ee("Cannot convert a Symbol value to a number");if(typeof Lt=="string"&&Lt.length>2){if(Lt=S(Lt),(Ht=Oe(Lt,0))===43||Ht===45){if((ue=Oe(Lt,2))===88||ue===120)return NaN}else if(Ht===48){switch(Oe(Lt,1)){case 66:case 98:Se=2,Ue=49;break;case 79:case 111:Se=8,Ue=55;break;default:return+Lt}for(Xe=(ct=se(Lt,2)).length,bt=0;bt<Xe;bt++)if((_t=Oe(ct,bt))<48||_t>Ue)return NaN;return parseInt(ct,Se)}}return+Lt}(It)}(Et));return U(Q,et=this)&&L(function(){G(et)})?M(Object(st),this,Ne):st};Ne.prototype=Q,xe&&!l&&(Q.constructor=Ne),c({global:!0,constructor:!0,wrap:!0,forced:xe},{Number:Ne});var qe=function(Et,et){for(var st,vt=v?W(et):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),It=0;vt.length>It;It++)P(et,st=vt[It])&&!P(Et,st)&&w(Et,st,F(et,st))};l&&X&&qe(T[re],X),(xe||l)&&qe(T[re],q)},3161:function(a,m,n){n(2109)({target:"Number",stat:!0},{isInteger:n(5988)})},4048:function(a,m,n){n(2109)({target:"Number",stat:!0},{isNaN:function(c){return c!=c}})},6977:function(a,m,n){var c=n(2109),l=n(1702),v=n(9303),y=n(863),T=n(8415),I=n(7293),g=RangeError,P=String,M=Math.floor,U=l(T),x=l("".slice),H=l(1 .toFixed),L=function(G,S,re){return S===0?re:S%2==1?L(G,S-1,re*G):L(G*G,S/2,re)},W=function(G,S,re){for(var q=-1,X=re;++q<6;)X+=S*G[q],G[q]=X%1e7,X=M(X/1e7)},F=function(G,S){for(var re=6,q=0;--re>=0;)q+=G[re],G[re]=M(q/S),q=q%S*1e7},w=function(G){for(var S=6,re="";--S>=0;)if(re!==""||S===0||G[S]!==0){var q=P(G[S]);re=re===""?q:re+U("0",7-q.length)+q}return re};c({target:"Number",proto:!0,forced:I(function(){return H(8e-5,3)!=="0.000"||H(.9,0)!=="1"||H(1.255,2)!=="1.25"||H(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!I(function(){H({})})},{toFixed:function(G){var S,re,q,X,Q=y(this),ee=v(G),se=[0,0,0,0,0,0],Oe="",xe="0";if(ee<0||ee>20)throw g("Incorrect fraction digits");if(Q!=Q)return"NaN";if(Q<=-1e21||Q>=1e21)return P(Q);if(Q<0&&(Oe="-",Q=-Q),Q>1e-21)if(re=(S=function(Ne){for(var qe=0,Et=Ne;Et>=4096;)qe+=12,Et/=4096;for(;Et>=2;)qe+=1,Et/=2;return qe}(Q*L(2,69,1))-69)<0?Q*L(2,-S,1):Q/L(2,S,1),re*=4503599627370496,(S=52-S)>0){for(W(se,0,re),q=ee;q>=7;)W(se,1e7,0),q-=7;for(W(se,L(10,q,1),0),q=S-1;q>=23;)F(se,8388608),q-=23;F(se,1<<q),W(se,1,1),F(se,2),xe=w(se)}else W(se,0,re),W(se,1<<-S,0),xe=w(se)+U("0",ee);return ee>0?Oe+((X=xe.length)<=ee?"0."+U("0",ee-X)+xe:x(xe,0,X-ee)+"."+x(xe,X-ee)):Oe+xe}})},9601:function(a,m,n){var c=n(2109),l=n(1574);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==l},{assign:l})},9070:function(a,m,n){var c=n(2109),l=n(9781),v=n(3070).f;c({target:"Object",stat:!0,forced:Object.defineProperty!==v,sham:!l},{defineProperty:v})},9720:function(a,m,n){var c=n(2109),l=n(4699).entries;c({target:"Object",stat:!0},{entries:function(v){return l(v)}})},9660:function(a,m,n){var c=n(2109),l=n(6293),v=n(7293),y=n(5181),T=n(7908);c({target:"Object",stat:!0,forced:!l||v(function(){y.f(1)})},{getOwnPropertySymbols:function(I){var g=y.f;return g?g(T(I)):[]}})},7941:function(a,m,n){var c=n(2109),l=n(7908),v=n(1956);c({target:"Object",stat:!0,forced:n(7293)(function(){v(1)})},{keys:function(y){return v(l(y))}})},1539:function(a,m,n){var c=n(1694),l=n(8052),v=n(288);c||l(Object.prototype,"toString",v,{unsafe:!0})},821:function(a,m,n){var c=n(2109),l=n(6916),v=n(9662),y=n(8523),T=n(2534),I=n(408);c({target:"Promise",stat:!0,forced:n(612)},{all:function(g){var P=this,M=y.f(P),U=M.resolve,x=M.reject,H=T(function(){var L=v(P.resolve),W=[],F=0,w=1;I(g,function(G){var S=F++,re=!1;w++,l(L,P,G).then(function(q){re||(re=!0,W[S]=q,--w||U(W))},x)}),--w||U(W)});return H.error&&x(H.value),M.promise}})},4164:function(a,m,n){var c=n(2109),l=n(1913),v=n(3702).CONSTRUCTOR,y=n(2492),T=n(5005),I=n(614),g=n(8052),P=y&&y.prototype;if(c({target:"Promise",proto:!0,forced:v,real:!0},{catch:function(U){return this.then(void 0,U)}}),!l&&I(y)){var M=T("Promise").prototype.catch;P.catch!==M&&g(P,"catch",M,{unsafe:!0})}},3401:function(a,m,n){var c,l,v,y=n(2109),T=n(1913),I=n(5268),g=n(7854),P=n(6916),M=n(8052),U=n(7674),x=n(8003),H=n(6340),L=n(9662),W=n(614),F=n(111),w=n(5787),G=n(6707),S=n(261).set,re=n(5948),q=n(842),X=n(2534),Q=n(8572),ee=n(9909),se=n(2492),Oe=n(3702),xe=n(8523),Ne="Promise",qe=Oe.CONSTRUCTOR,Et=Oe.REJECTION_EVENT,et=Oe.SUBCLASSING,st=ee.getterFor(Ne),vt=ee.set,It=se&&se.prototype,wt=se,Ht=It,ue=g.TypeError,Se=g.document,Ue=g.process,ct=xe.f,Xe=ct,bt=!!(Se&&Se.createEvent&&g.dispatchEvent),_t="unhandledrejection",Lt=function(ke){var Je;return!(!F(ke)||!W(Je=ke.then))&&Je},Ae=function(ke,Je){var yt,Ct,mt,pt=Je.value,Mt=Je.state==1,Xt=Mt?ke.ok:ke.fail,jt=ke.resolve,zt=ke.reject,tr=ke.domain;try{Xt?(Mt||(Je.rejection===2&&Ye(Je),Je.rejection=1),Xt===!0?yt=pt:(tr&&tr.enter(),yt=Xt(pt),tr&&(tr.exit(),mt=!0)),yt===ke.promise?zt(ue("Promise-chain cycle")):(Ct=Lt(yt))?P(Ct,yt,jt,zt):jt(yt)):zt(pt)}catch(Ke){tr&&!mt&&tr.exit(),zt(Ke)}},Re=function(ke,Je){ke.notified||(ke.notified=!0,re(function(){for(var yt,Ct=ke.reactions;yt=Ct.get();)Ae(yt,ke);ke.notified=!1,Je&&!ke.rejection&&lt(ke)}))},Me=function(ke,Je,yt){var Ct,mt;bt?((Ct=Se.createEvent("Event")).promise=Je,Ct.reason=yt,Ct.initEvent(ke,!1,!0),g.dispatchEvent(Ct)):Ct={promise:Je,reason:yt},!Et&&(mt=g["on"+ke])?mt(Ct):ke===_t&&q("Unhandled promise rejection",yt)},lt=function(ke){P(S,g,function(){var Je,yt=ke.facade,Ct=ke.value;if(nt(ke)&&(Je=X(function(){I?Ue.emit("unhandledRejection",Ct,yt):Me(_t,yt,Ct)}),ke.rejection=I||nt(ke)?2:1,Je.error))throw Je.value})},nt=function(ke){return ke.rejection!==1&&!ke.parent},Ye=function(ke){P(S,g,function(){var Je=ke.facade;I?Ue.emit("rejectionHandled",Je):Me("rejectionhandled",Je,ke.value)})},Fe=function(ke,Je,yt){return function(Ct){ke(Je,Ct,yt)}},Ve=function(ke,Je,yt){ke.done||(ke.done=!0,yt&&(ke=yt),ke.value=Je,ke.state=2,Re(ke,!0))},$e=function(ke,Je,yt){if(!ke.done){ke.done=!0,yt&&(ke=yt);try{if(ke.facade===Je)throw ue("Promise can't be resolved itself");var Ct=Lt(Je);Ct?re(function(){var mt={done:!1};try{P(Ct,Je,Fe($e,mt,ke),Fe(Ve,mt,ke))}catch(pt){Ve(mt,pt,ke)}}):(ke.value=Je,ke.state=1,Re(ke,!1))}catch(mt){Ve({done:!1},mt,ke)}}};if(qe&&(Ht=(wt=function(ke){w(this,Ht),L(ke),P(c,this);var Je=st(this);try{ke(Fe($e,Je),Fe(Ve,Je))}catch(yt){Ve(Je,yt)}}).prototype,(c=function(ke){vt(this,{type:Ne,done:!1,notified:!1,parent:!1,reactions:new Q,rejection:!1,state:0,value:void 0})}).prototype=M(Ht,"then",function(ke,Je){var yt=st(this),Ct=ct(G(this,wt));return yt.parent=!0,Ct.ok=!W(ke)||ke,Ct.fail=W(Je)&&Je,Ct.domain=I?Ue.domain:void 0,yt.state==0?yt.reactions.add(Ct):re(function(){Ae(Ct,yt)}),Ct.promise}),l=function(){var ke=new c,Je=st(ke);this.promise=ke,this.resolve=Fe($e,Je),this.reject=Fe(Ve,Je)},xe.f=ct=function(ke){return ke===wt||ke===void 0?new l(ke):Xe(ke)},!T&&W(se)&&It!==Object.prototype)){v=It.then,et||M(It,"then",function(ke,Je){var yt=this;return new wt(function(Ct,mt){P(v,yt,Ct,mt)}).then(ke,Je)},{unsafe:!0});try{delete It.constructor}catch{}U&&U(It,Ht)}y({global:!0,constructor:!0,wrap:!0,forced:qe},{Promise:wt}),x(wt,Ne,!1,!0),H(Ne)},8674:function(a,m,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(a,m,n){var c=n(2109),l=n(6916),v=n(9662),y=n(8523),T=n(2534),I=n(408);c({target:"Promise",stat:!0,forced:n(612)},{race:function(g){var P=this,M=y.f(P),U=M.reject,x=T(function(){var H=v(P.resolve);I(g,function(L){l(H,P,L).then(M.resolve,U)})});return x.error&&U(x.value),M.promise}})},683:function(a,m,n){var c=n(2109),l=n(6916),v=n(8523);c({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(y){var T=v.f(this);return l(T.reject,void 0,y),T.promise}})},6294:function(a,m,n){var c=n(2109),l=n(5005),v=n(1913),y=n(2492),T=n(3702).CONSTRUCTOR,I=n(9478),g=l("Promise"),P=v&&!T;c({target:"Promise",stat:!0,forced:v||T},{resolve:function(M){return I(P&&this===g?y:this,M)}})},4916:function(a,m,n){var c=n(2109),l=n(2261);c({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},9714:function(a,m,n){var c=n(6530).PROPER,l=n(8052),v=n(9670),y=n(1340),T=n(7293),I=n(4706),g="toString",P=RegExp.prototype[g],M=T(function(){return P.call({source:"a",flags:"b"})!="/a/b"}),U=c&&P.name!=g;(M||U)&&l(RegExp.prototype,g,function(){var x=v(this);return"/"+y(x.source)+"/"+y(I(x))},{unsafe:!0})},2023:function(a,m,n){var c=n(2109),l=n(1702),v=n(3929),y=n(4488),T=n(1340),I=n(4964),g=l("".indexOf);c({target:"String",proto:!0,forced:!I("includes")},{includes:function(P){return!!~g(T(y(this)),T(v(P)),arguments.length>1?arguments[1]:void 0)}})},8783:function(a,m,n){var c=n(8710).charAt,l=n(1340),v=n(9909),y=n(1656),T=n(6178),I="String Iterator",g=v.set,P=v.getterFor(I);y(String,"String",function(M){g(this,{type:I,string:l(M),index:0})},function(){var M,U=P(this),x=U.string,H=U.index;return H>=x.length?T(void 0,!0):(M=c(x,H),U.index+=M.length,T(M,!1))})},3123:function(a,m,n){var c=n(2104),l=n(6916),v=n(1702),y=n(7007),T=n(9670),I=n(8554),g=n(7850),P=n(4488),M=n(6707),U=n(1530),x=n(7466),H=n(1340),L=n(8173),W=n(1589),F=n(7651),w=n(2261),G=n(2999),S=n(7293),re=G.UNSUPPORTED_Y,q=4294967295,X=Math.min,Q=[].push,ee=v(/./.exec),se=v(Q),Oe=v("".slice),xe=!S(function(){var Ne=/(?:)/,qe=Ne.exec;Ne.exec=function(){return qe.apply(this,arguments)};var Et="ab".split(Ne);return Et.length!==2||Et[0]!=="a"||Et[1]!=="b"});y("split",function(Ne,qe,Et){var et;return et="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(st,vt){var It=H(P(this)),wt=vt===void 0?q:vt>>>0;if(wt===0)return[];if(st===void 0)return[It];if(!g(st))return l(qe,It,st,wt);for(var Ht,ue,Se,Ue=[],ct=(st.ignoreCase?"i":"")+(st.multiline?"m":"")+(st.unicode?"u":"")+(st.sticky?"y":""),Xe=0,bt=new RegExp(st.source,ct+"g");(Ht=l(w,bt,It))&&!((ue=bt.lastIndex)>Xe&&(se(Ue,Oe(It,Xe,Ht.index)),Ht.length>1&&Ht.index<It.length&&c(Q,Ue,W(Ht,1)),Se=Ht[0].length,Xe=ue,Ue.length>=wt));)bt.lastIndex===Ht.index&&bt.lastIndex++;return Xe===It.length?!Se&&ee(bt,"")||se(Ue,""):se(Ue,Oe(It,Xe)),Ue.length>wt?W(Ue,0,wt):Ue}:"0".split(void 0,0).length?function(st,vt){return st===void 0&&vt===0?[]:l(qe,this,st,vt)}:qe,[function(st,vt){var It=P(this),wt=I(st)?void 0:L(st,Ne);return wt?l(wt,st,It,vt):l(et,H(It),st,vt)},function(st,vt){var It=T(this),wt=H(st),Ht=Et(et,It,wt,vt,et!==qe);if(Ht.done)return Ht.value;var ue=M(It,RegExp),Se=It.unicode,Ue=(It.ignoreCase?"i":"")+(It.multiline?"m":"")+(It.unicode?"u":"")+(re?"g":"y"),ct=new ue(re?"^(?:"+It.source+")":It,Ue),Xe=vt===void 0?q:vt>>>0;if(Xe===0)return[];if(wt.length===0)return F(ct,wt)===null?[wt]:[];for(var bt=0,_t=0,Lt=[];_t<wt.length;){ct.lastIndex=re?0:_t;var Ae,Re=F(ct,re?Oe(wt,_t):wt);if(Re===null||(Ae=X(x(ct.lastIndex+(re?_t:0)),wt.length))===bt)_t=U(wt,_t,Se);else{if(se(Lt,Oe(wt,bt,_t)),Lt.length===Xe)return Lt;for(var Me=1;Me<=Re.length-1;Me++)if(se(Lt,Re[Me]),Lt.length===Xe)return Lt;_t=bt=Ae}}return se(Lt,Oe(wt,bt)),Lt}]},!xe,re)},6755:function(a,m,n){var c,l=n(2109),v=n(1470),y=n(1236).f,T=n(7466),I=n(1340),g=n(3929),P=n(4488),M=n(4964),U=n(1913),x=v("".startsWith),H=v("".slice),L=Math.min,W=M("startsWith");l({target:"String",proto:!0,forced:!(!U&&!W&&(c=y(String.prototype,"startsWith"),c&&!c.writable)||W)},{startsWith:function(F){var w=I(P(this));g(F);var G=T(L(arguments.length>1?arguments[1]:void 0,w.length)),S=I(F);return x?x(w,S,G):H(w,G,G+S.length)===S}})},4032:function(a,m,n){var c=n(2109),l=n(7854),v=n(6916),y=n(1702),T=n(1913),I=n(9781),g=n(6293),P=n(7293),M=n(2597),U=n(7976),x=n(9670),H=n(5656),L=n(4948),W=n(1340),F=n(9114),w=n(30),G=n(1956),S=n(8006),re=n(1156),q=n(5181),X=n(1236),Q=n(3070),ee=n(6048),se=n(5296),Oe=n(8052),xe=n(7045),Ne=n(2309),qe=n(6200),Et=n(3501),et=n(9711),st=n(5112),vt=n(6061),It=n(6800),wt=n(6532),Ht=n(8003),ue=n(9909),Se=n(2092).forEach,Ue=qe("hidden"),ct="Symbol",Xe="prototype",bt=ue.set,_t=ue.getterFor(ct),Lt=Object[Xe],Ae=l.Symbol,Re=Ae&&Ae[Xe],Me=l.TypeError,lt=l.QObject,nt=X.f,Ye=Q.f,Fe=re.f,Ve=se.f,$e=y([].push),ke=Ne("symbols"),Je=Ne("op-symbols"),yt=Ne("wks"),Ct=!lt||!lt[Xe]||!lt[Xe].findChild,mt=I&&P(function(){return w(Ye({},"a",{get:function(){return Ye(this,"a",{value:7}).a}})).a!=7})?function(Ot,j,Y){var _e=nt(Lt,j);_e&&delete Lt[j],Ye(Ot,j,Y),_e&&Ot!==Lt&&Ye(Lt,j,_e)}:Ye,pt=function(Ot,j){var Y=ke[Ot]=w(Re);return bt(Y,{type:ct,tag:Ot,description:j}),I||(Y.description=j),Y},Mt=function(Ot,j,Y){Ot===Lt&&Mt(Je,j,Y),x(Ot);var _e=L(j);return x(Y),M(ke,_e)?(Y.enumerable?(M(Ot,Ue)&&Ot[Ue][_e]&&(Ot[Ue][_e]=!1),Y=w(Y,{enumerable:F(0,!1)})):(M(Ot,Ue)||Ye(Ot,Ue,F(1,{})),Ot[Ue][_e]=!0),mt(Ot,_e,Y)):Ye(Ot,_e,Y)},Xt=function(Ot,j){x(Ot);var Y=H(j),_e=G(Y).concat(Ke(Y));return Se(_e,function(De){I&&!v(jt,Y,De)||Mt(Ot,De,Y[De])}),Ot},jt=function(Ot){var j=L(Ot),Y=v(Ve,this,j);return!(this===Lt&&M(ke,j)&&!M(Je,j))&&(!(Y||!M(this,j)||!M(ke,j)||M(this,Ue)&&this[Ue][j])||Y)},zt=function(Ot,j){var Y=H(Ot),_e=L(j);if(Y!==Lt||!M(ke,_e)||M(Je,_e)){var De=nt(Y,_e);return!De||!M(ke,_e)||M(Y,Ue)&&Y[Ue][_e]||(De.enumerable=!0),De}},tr=function(Ot){var j=Fe(H(Ot)),Y=[];return Se(j,function(_e){M(ke,_e)||M(Et,_e)||$e(Y,_e)}),Y},Ke=function(Ot){var j=Ot===Lt,Y=Fe(j?Je:H(Ot)),_e=[];return Se(Y,function(De){!M(ke,De)||j&&!M(Lt,De)||$e(_e,ke[De])}),_e};g||(Ae=function(){if(U(Re,this))throw Me("Symbol is not a constructor");var Ot=arguments.length&&arguments[0]!==void 0?W(arguments[0]):void 0,j=et(Ot),Y=function(_e){this===Lt&&v(Y,Je,_e),M(this,Ue)&&M(this[Ue],j)&&(this[Ue][j]=!1),mt(this,j,F(1,_e))};return I&&Ct&&mt(Lt,j,{configurable:!0,set:Y}),pt(j,Ot)},Oe(Re=Ae[Xe],"toString",function(){return _t(this).tag}),Oe(Ae,"withoutSetter",function(Ot){return pt(et(Ot),Ot)}),se.f=jt,Q.f=Mt,ee.f=Xt,X.f=zt,S.f=re.f=tr,q.f=Ke,vt.f=function(Ot){return pt(st(Ot),Ot)},I&&(xe(Re,"description",{configurable:!0,get:function(){return _t(this).description}}),T||Oe(Lt,"propertyIsEnumerable",jt,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!g,sham:!g},{Symbol:Ae}),Se(G(yt),function(Ot){It(Ot)}),c({target:ct,stat:!0,forced:!g},{useSetter:function(){Ct=!0},useSimple:function(){Ct=!1}}),c({target:"Object",stat:!0,forced:!g,sham:!I},{create:function(Ot,j){return j===void 0?w(Ot):Xt(w(Ot),j)},defineProperty:Mt,defineProperties:Xt,getOwnPropertyDescriptor:zt}),c({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:tr}),wt(),Ht(Ae,ct),Et[Ue]=!0},1817:function(a,m,n){var c=n(2109),l=n(9781),v=n(7854),y=n(1702),T=n(2597),I=n(614),g=n(7976),P=n(1340),M=n(7045),U=n(9920),x=v.Symbol,H=x&&x.prototype;if(l&&I(x)&&(!("description"in H)||x().description!==void 0)){var L={},W=function(){var X=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),Q=g(H,this)?new x(X):X===void 0?x():x(X);return X===""&&(L[Q]=!0),Q};U(W,x),W.prototype=H,H.constructor=W;var F=String(x("test"))=="Symbol(test)",w=y(H.valueOf),G=y(H.toString),S=/^Symbol\((.*)\)[^)]+$/,re=y("".replace),q=y("".slice);M(H,"description",{configurable:!0,get:function(){var X=w(this);if(T(L,X))return"";var Q=G(X),ee=F?q(Q,7,-1):re(Q,S,"$1");return ee===""?void 0:ee}}),c({global:!0,constructor:!0,forced:!0},{Symbol:W})}},763:function(a,m,n){var c=n(2109),l=n(5005),v=n(2597),y=n(1340),T=n(2309),I=n(2015),g=T("string-to-symbol-registry"),P=T("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!I},{for:function(M){var U=y(M);if(v(g,U))return g[U];var x=l("Symbol")(U);return g[U]=x,P[x]=U,x}})},2165:function(a,m,n){n(6800)("iterator")},2526:function(a,m,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(a,m,n){var c=n(2109),l=n(2597),v=n(2190),y=n(6330),T=n(2309),I=n(2015),g=T("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!I},{keyFor:function(P){if(!v(P))throw TypeError(y(P)+" is not a symbol");if(l(g,P))return g[P]}})},2990:function(a,m,n){var c=n(1702),l=n(260),v=c(n(1048)),y=l.aTypedArray;(0,l.exportTypedArrayMethod)("copyWithin",function(T,I){return v(y(this),T,I,arguments.length>2?arguments[2]:void 0)})},8927:function(a,m,n){var c=n(260),l=n(2092).every,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("every",function(y){return l(v(this),y,arguments.length>1?arguments[1]:void 0)})},3105:function(a,m,n){var c=n(260),l=n(1285),v=n(4599),y=n(648),T=n(6916),I=n(1702),g=n(7293),P=c.aTypedArray,M=c.exportTypedArrayMethod,U=I("".slice);M("fill",function(x){var H=arguments.length;P(this);var L=U(y(this),0,3)==="Big"?v(x):+x;return T(l,this,L,H>1?arguments[1]:void 0,H>2?arguments[2]:void 0)},g(function(){var x=0;return new Int8Array(2).fill({valueOf:function(){return x++}}),x!==1}))},5035:function(a,m,n){var c=n(260),l=n(2092).filter,v=n(3074),y=c.aTypedArray;(0,c.exportTypedArrayMethod)("filter",function(T){var I=l(y(this),T,arguments.length>1?arguments[1]:void 0);return v(this,I)})},7174:function(a,m,n){var c=n(260),l=n(2092).findIndex,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("findIndex",function(y){return l(v(this),y,arguments.length>1?arguments[1]:void 0)})},4345:function(a,m,n){var c=n(260),l=n(2092).find,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("find",function(y){return l(v(this),y,arguments.length>1?arguments[1]:void 0)})},2846:function(a,m,n){var c=n(260),l=n(2092).forEach,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("forEach",function(y){l(v(this),y,arguments.length>1?arguments[1]:void 0)})},8145:function(a,m,n){var c=n(3832);(0,n(260).exportTypedArrayStaticMethod)("from",n(7321),c)},4731:function(a,m,n){var c=n(260),l=n(1318).includes,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("includes",function(y){return l(v(this),y,arguments.length>1?arguments[1]:void 0)})},7209:function(a,m,n){var c=n(260),l=n(1318).indexOf,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("indexOf",function(y){return l(v(this),y,arguments.length>1?arguments[1]:void 0)})},6319:function(a,m,n){var c=n(7854),l=n(7293),v=n(1702),y=n(260),T=n(6992),I=n(5112)("iterator"),g=c.Uint8Array,P=v(T.values),M=v(T.keys),U=v(T.entries),x=y.aTypedArray,H=y.exportTypedArrayMethod,L=g&&g.prototype,W=!l(function(){L[I].call([1])}),F=!!L&&L.values&&L[I]===L.values&&L.values.name==="values",w=function(){return P(x(this))};H("entries",function(){return U(x(this))},W),H("keys",function(){return M(x(this))},W),H("values",w,W||!F,{name:"values"}),H(I,w,W||!F,{name:"values"})},8867:function(a,m,n){var c=n(260),l=n(1702),v=c.aTypedArray,y=c.exportTypedArrayMethod,T=l([].join);y("join",function(I){return T(v(this),I)})},7789:function(a,m,n){var c=n(260),l=n(2104),v=n(6583),y=c.aTypedArray;(0,c.exportTypedArrayMethod)("lastIndexOf",function(T){var I=arguments.length;return l(v,y(this),I>1?[T,arguments[1]]:[T])})},3739:function(a,m,n){var c=n(260),l=n(2092).map,v=n(6304),y=c.aTypedArray;(0,c.exportTypedArrayMethod)("map",function(T){return l(y(this),T,arguments.length>1?arguments[1]:void 0,function(I,g){return new(v(I))(g)})})},4483:function(a,m,n){var c=n(260),l=n(3671).right,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduceRight",function(y){var T=arguments.length;return l(v(this),y,T,T>1?arguments[1]:void 0)})},9368:function(a,m,n){var c=n(260),l=n(3671).left,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduce",function(y){var T=arguments.length;return l(v(this),y,T,T>1?arguments[1]:void 0)})},2056:function(a,m,n){var c=n(260),l=c.aTypedArray,v=c.exportTypedArrayMethod,y=Math.floor;v("reverse",function(){for(var T,I=this,g=l(I).length,P=y(g/2),M=0;M<P;)T=I[M],I[M++]=I[--g],I[g]=T;return I})},3462:function(a,m,n){var c=n(7854),l=n(6916),v=n(260),y=n(6244),T=n(4590),I=n(7908),g=n(7293),P=c.RangeError,M=c.Int8Array,U=M&&M.prototype,x=U&&U.set,H=v.aTypedArray,L=v.exportTypedArrayMethod,W=!g(function(){var w=new Uint8ClampedArray(2);return l(x,w,{length:1,0:3},1),w[1]!==3}),F=W&&v.NATIVE_ARRAY_BUFFER_VIEWS&&g(function(){var w=new M(2);return w.set(1),w.set("2",1),w[0]!==0||w[1]!==2});L("set",function(w){H(this);var G=T(arguments.length>1?arguments[1]:void 0,1),S=I(w);if(W)return l(x,this,S,G);var re=this.length,q=y(S),X=0;if(q+G>re)throw P("Wrong length");for(;X<q;)this[G+X]=S[X++]},!W||F)},678:function(a,m,n){var c=n(260),l=n(6304),v=n(7293),y=n(206),T=c.aTypedArray;(0,c.exportTypedArrayMethod)("slice",function(I,g){for(var P=y(T(this),I,g),M=l(this),U=0,x=P.length,H=new M(x);x>U;)H[U]=P[U++];return H},v(function(){new Int8Array(1).slice()}))},7462:function(a,m,n){var c=n(260),l=n(2092).some,v=c.aTypedArray;(0,c.exportTypedArrayMethod)("some",function(y){return l(v(this),y,arguments.length>1?arguments[1]:void 0)})},3824:function(a,m,n){var c=n(7854),l=n(1470),v=n(7293),y=n(9662),T=n(4362),I=n(260),g=n(8886),P=n(256),M=n(7392),U=n(8008),x=I.aTypedArray,H=I.exportTypedArrayMethod,L=c.Uint16Array,W=L&&l(L.prototype.sort),F=!(!W||v(function(){W(new L(2),null)})&&v(function(){W(new L(2),{})})),w=!!W&&!v(function(){if(M)return M<74;if(g)return g<67;if(P)return!0;if(U)return U<602;var G,S,re=new L(516),q=Array(516);for(G=0;G<516;G++)S=G%4,re[G]=515-G,q[G]=G-2*S+3;for(W(re,function(X,Q){return(X/4|0)-(Q/4|0)}),G=0;G<516;G++)if(re[G]!==q[G])return!0});H("sort",function(G){return G!==void 0&&y(G),w?W(this,G):T(x(this),function(S){return function(re,q){return S!==void 0?+S(re,q)||0:q!=q?-1:re!=re?1:re===0&&q===0?1/re>0&&1/q<0?1:-1:re>q}}(G))},!w||F)},5021:function(a,m,n){var c=n(260),l=n(7466),v=n(1400),y=n(6304),T=c.aTypedArray;(0,c.exportTypedArrayMethod)("subarray",function(I,g){var P=T(this),M=P.length,U=v(I,M);return new(y(P))(P.buffer,P.byteOffset+U*P.BYTES_PER_ELEMENT,l((g===void 0?M:v(g,M))-U))})},2974:function(a,m,n){var c=n(7854),l=n(2104),v=n(260),y=n(7293),T=n(206),I=c.Int8Array,g=v.aTypedArray,P=v.exportTypedArrayMethod,M=[].toLocaleString,U=!!I&&y(function(){M.call(new I(1))});P("toLocaleString",function(){return l(M,U?T(g(this)):g(this),T(arguments))},y(function(){return[1,2].toLocaleString()!=new I([1,2]).toLocaleString()})||!y(function(){I.prototype.toLocaleString.call([1,2])}))},5016:function(a,m,n){var c=n(260).exportTypedArrayMethod,l=n(7293),v=n(7854),y=n(1702),T=v.Uint8Array,I=T&&T.prototype||{},g=[].toString,P=y([].join);l(function(){g.call({})})&&(g=function(){return P(this)});var M=I.toString!=g;c("toString",g,M)},2472:function(a,m,n){n(9843)("Uint8",function(c){return function(l,v,y){return c(this,l,v,y)}})},4747:function(a,m,n){var c=n(7854),l=n(8324),v=n(8509),y=n(8533),T=n(8880),I=function(P){if(P&&P.forEach!==y)try{T(P,"forEach",y)}catch{P.forEach=y}};for(var g in l)l[g]&&I(c[g]&&c[g].prototype);I(v)},3948:function(a,m,n){var c=n(7854),l=n(8324),v=n(8509),y=n(6992),T=n(8880),I=n(5112),g=I("iterator"),P=I("toStringTag"),M=y.values,U=function(H,L){if(H){if(H[g]!==M)try{T(H,g,M)}catch{H[g]=M}if(H[P]||T(H,P,L),l[L]){for(var W in y)if(H[W]!==y[W])try{T(H,W,y[W])}catch{H[W]=y[W]}}}};for(var x in l)U(c[x]&&c[x].prototype,x);U(v,"DOMTokenList")},6815:function(a,m,n){var c=n(2109),l=n(7854),v=n(7152)(l.setInterval,!0);c({global:!0,bind:!0,forced:l.setInterval!==v},{setInterval:v})},8417:function(a,m,n){var c=n(2109),l=n(7854),v=n(7152)(l.setTimeout,!0);c({global:!0,bind:!0,forced:l.setTimeout!==v},{setTimeout:v})},2564:function(a,m,n){n(6815),n(8417)},5556:function(a,m,n){n(6992);var c=n(2109),l=n(7854),v=n(6916),y=n(1702),T=n(9781),I=n(5143),g=n(8052),P=n(7045),M=n(9190),U=n(8003),x=n(3061),H=n(9909),L=n(5787),W=n(614),F=n(2597),w=n(9974),G=n(648),S=n(9670),re=n(111),q=n(1340),X=n(30),Q=n(9114),ee=n(4121),se=n(1246),Oe=n(8053),xe=n(5112),Ne=n(4362),qe=xe("iterator"),Et="URLSearchParams",et=Et+"Iterator",st=H.set,vt=H.getterFor(Et),It=H.getterFor(et),wt=Object.getOwnPropertyDescriptor,Ht=function(ve){if(!T)return l[ve];var ze=wt(l,ve);return ze&&ze.value},ue=Ht("fetch"),Se=Ht("Request"),Ue=Ht("Headers"),ct=Se&&Se.prototype,Xe=Ue&&Ue.prototype,bt=l.RegExp,_t=l.TypeError,Lt=l.decodeURIComponent,Ae=l.encodeURIComponent,Re=y("".charAt),Me=y([].join),lt=y([].push),nt=y("".replace),Ye=y([].shift),Fe=y([].splice),Ve=y("".split),$e=y("".slice),ke=/\+/g,Je=Array(4),yt=function(ve){return Je[ve-1]||(Je[ve-1]=bt("((?:%[\\da-f]{2}){"+ve+"})","gi"))},Ct=function(ve){try{return Lt(ve)}catch{return ve}},mt=function(ve){var ze=nt(ve,ke," "),ot=4;try{return Lt(ze)}catch{for(;ot;)ze=nt(ze,yt(ot--),Ct);return ze}},pt=/[!'()~]|%20/g,Mt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Xt=function(ve){return Mt[ve]},jt=function(ve){return nt(Ae(ve),pt,Xt)},zt=x(function(ve,ze){st(this,{type:et,iterator:ee(vt(ve).entries),kind:ze})},"Iterator",function(){var ve=It(this),ze=ve.kind,ot=ve.iterator.next(),ut=ot.value;return ot.done||(ot.value=ze==="keys"?ut.key:ze==="values"?ut.value:[ut.key,ut.value]),ot},!0),tr=function(ve){this.entries=[],this.url=null,ve!==void 0&&(re(ve)?this.parseObject(ve):this.parseQuery(typeof ve=="string"?Re(ve,0)==="?"?$e(ve,1):ve:q(ve)))};tr.prototype={type:Et,bindURL:function(ve){this.url=ve,this.update()},parseObject:function(ve){var ze,ot,ut,St,xt,Bt,Zt,fe=se(ve);if(fe)for(ot=(ze=ee(ve,fe)).next;!(ut=v(ot,ze)).done;){if(xt=(St=ee(S(ut.value))).next,(Bt=v(xt,St)).done||(Zt=v(xt,St)).done||!v(xt,St).done)throw _t("Expected sequence with length 2");lt(this.entries,{key:q(Bt.value),value:q(Zt.value)})}else for(var z in ve)F(ve,z)&&lt(this.entries,{key:z,value:q(ve[z])})},parseQuery:function(ve){if(ve)for(var ze,ot,ut=Ve(ve,"&"),St=0;St<ut.length;)(ze=ut[St++]).length&&(ot=Ve(ze,"="),lt(this.entries,{key:mt(Ye(ot)),value:mt(Me(ot,"="))}))},serialize:function(){for(var ve,ze=this.entries,ot=[],ut=0;ut<ze.length;)ve=ze[ut++],lt(ot,jt(ve.key)+"="+jt(ve.value));return Me(ot,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ke=function(){L(this,Ot);var ve=st(this,new tr(arguments.length>0?arguments[0]:void 0));T||(this.length=ve.entries.length)},Ot=Ke.prototype;if(M(Ot,{append:function(ve,ze){Oe(arguments.length,2);var ot=vt(this);lt(ot.entries,{key:q(ve),value:q(ze)}),T||this.length++,ot.updateURL()},delete:function(ve){Oe(arguments.length,1);for(var ze=vt(this),ot=ze.entries,ut=q(ve),St=0;St<ot.length;)ot[St].key===ut?Fe(ot,St,1):St++;T||(this.length=ot.length),ze.updateURL()},get:function(ve){Oe(arguments.length,1);for(var ze=vt(this).entries,ot=q(ve),ut=0;ut<ze.length;ut++)if(ze[ut].key===ot)return ze[ut].value;return null},getAll:function(ve){Oe(arguments.length,1);for(var ze=vt(this).entries,ot=q(ve),ut=[],St=0;St<ze.length;St++)ze[St].key===ot&&lt(ut,ze[St].value);return ut},has:function(ve){Oe(arguments.length,1);for(var ze=vt(this).entries,ot=q(ve),ut=0;ut<ze.length;)if(ze[ut++].key===ot)return!0;return!1},set:function(ve,ze){Oe(arguments.length,1);for(var ot,ut=vt(this),St=ut.entries,xt=!1,Bt=q(ve),Zt=q(ze),fe=0;fe<St.length;fe++)(ot=St[fe]).key===Bt&&(xt?Fe(St,fe--,1):(xt=!0,ot.value=Zt));xt||lt(St,{key:Bt,value:Zt}),T||(this.length=St.length),ut.updateURL()},sort:function(){var ve=vt(this);Ne(ve.entries,function(ze,ot){return ze.key>ot.key?1:-1}),ve.updateURL()},forEach:function(ve){for(var ze,ot=vt(this).entries,ut=w(ve,arguments.length>1?arguments[1]:void 0),St=0;St<ot.length;)ut((ze=ot[St++]).value,ze.key,this)},keys:function(){return new zt(this,"keys")},values:function(){return new zt(this,"values")},entries:function(){return new zt(this,"entries")}},{enumerable:!0}),g(Ot,qe,Ot.entries,{name:"entries"}),g(Ot,"toString",function(){return vt(this).serialize()},{enumerable:!0}),T&&P(Ot,"size",{get:function(){return vt(this).entries.length},configurable:!0,enumerable:!0}),U(Ke,Et),c({global:!0,constructor:!0,forced:!I},{URLSearchParams:Ke}),!I&&W(Ue)){var j=y(Xe.has),Y=y(Xe.set),_e=function(ve){if(re(ve)){var ze,ot=ve.body;if(G(ot)===Et)return ze=ve.headers?new Ue(ve.headers):new Ue,j(ze,"content-type")||Y(ze,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),X(ve,{body:Q(0,q(ot)),headers:Q(0,ze)})}return ve};if(W(ue)&&c({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ve){return ue(ve,arguments.length>1?_e(arguments[1]):{})}}),W(Se)){var De=function(ve){return L(this,ct),new Se(ve,arguments.length>1?_e(arguments[1]):{})};ct.constructor=De,De.prototype=ct,c({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:De})}}a.exports={URLSearchParams:Ke,getState:vt}},1637:function(a,m,n){n(5556)},8789:function(a,m,n){n(8783);var c,l=n(2109),v=n(9781),y=n(5143),T=n(7854),I=n(9974),g=n(1702),P=n(8052),M=n(7045),U=n(5787),x=n(2597),H=n(1574),L=n(8457),W=n(1589),F=n(8710).codeAt,w=n(3197),G=n(1340),S=n(8003),re=n(8053),q=n(5556),X=n(9909),Q=X.set,ee=X.getterFor("URL"),se=q.URLSearchParams,Oe=q.getState,xe=T.URL,Ne=T.TypeError,qe=T.parseInt,Et=Math.floor,et=Math.pow,st=g("".charAt),vt=g(/./.exec),It=g([].join),wt=g(1 .toString),Ht=g([].pop),ue=g([].push),Se=g("".replace),Ue=g([].shift),ct=g("".split),Xe=g("".slice),bt=g("".toLowerCase),_t=g([].unshift),Lt="Invalid scheme",Ae="Invalid host",Re="Invalid port",Me=/[a-z]/i,lt=/[\d+-.a-z]/i,nt=/\d/,Ye=/^0x/i,Fe=/^[0-7]+$/,Ve=/^\d+$/,$e=/^[\da-f]+$/i,ke=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Je=/[\0\t\n\r #/:<>?@[\\\]^|]/,yt=/^[\u0000-\u0020]+/,Ct=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,mt=/[\t\n\r]/g,pt=function(Ie){var ht,Tt,Yt,dt;if(typeof Ie=="number"){for(ht=[],Tt=0;Tt<4;Tt++)_t(ht,Ie%256),Ie=Et(Ie/256);return It(ht,".")}if(typeof Ie=="object"){for(ht="",Yt=function(Qe){for(var kt=null,Gt=1,At=null,$t=0,vr=0;vr<8;vr++)Qe[vr]!==0?($t>Gt&&(kt=At,Gt=$t),At=null,$t=0):(At===null&&(At=vr),++$t);return $t>Gt&&(kt=At,Gt=$t),kt}(Ie),Tt=0;Tt<8;Tt++)dt&&Ie[Tt]===0||(dt&&(dt=!1),Yt===Tt?(ht+=Tt?":":"::",dt=!0):(ht+=wt(Ie[Tt],16),Tt<7&&(ht+=":")));return"["+ht+"]"}return Ie},Mt={},Xt=H({},Mt,{" ":1,'"':1,"<":1,">":1,"`":1}),jt=H({},Xt,{"#":1,"?":1,"{":1,"}":1}),zt=H({},jt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),tr=function(Ie,ht){var Tt=F(Ie,0);return Tt>32&&Tt<127&&!x(ht,Ie)?Ie:encodeURIComponent(Ie)},Ke={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ot=function(Ie,ht){var Tt;return Ie.length==2&&vt(Me,st(Ie,0))&&((Tt=st(Ie,1))==":"||!ht&&Tt=="|")},j=function(Ie){var ht;return Ie.length>1&&Ot(Xe(Ie,0,2))&&(Ie.length==2||(ht=st(Ie,2))==="/"||ht==="\\"||ht==="?"||ht==="#")},Y=function(Ie){return Ie==="."||bt(Ie)==="%2e"},_e={},De={},ve={},ze={},ot={},ut={},St={},xt={},Bt={},Zt={},fe={},z={},te={},ye={},oe={},be={},Pe={},ie={},at={},we={},V={},Le=function(Ie,ht,Tt){var Yt,dt,Qe,kt=G(Ie);if(ht){if(dt=this.parse(kt))throw Ne(dt);this.searchParams=null}else{if(Tt!==void 0&&(Yt=new Le(Tt,!0)),dt=this.parse(kt,null,Yt))throw Ne(dt);(Qe=Oe(new se)).bindURL(this),this.searchParams=Qe}};Le.prototype={type:"URL",parse:function(Ie,ht,Tt){var Yt,dt,Qe,kt,Gt,At=this,$t=ht||_e,vr=0,pr="",br=!1,Pr=!1,xr=!1;for(Ie=G(Ie),ht||(At.scheme="",At.username="",At.password="",At.host=null,At.port=null,At.path=[],At.query=null,At.fragment=null,At.cannotBeABaseURL=!1,Ie=Se(Ie,yt,""),Ie=Se(Ie,Ct,"$1")),Ie=Se(Ie,mt,""),Yt=L(Ie);vr<=Yt.length;){switch(dt=Yt[vr],$t){case _e:if(!dt||!vt(Me,dt)){if(ht)return Lt;$t=ve;continue}pr+=bt(dt),$t=De;break;case De:if(dt&&(vt(lt,dt)||dt=="+"||dt=="-"||dt=="."))pr+=bt(dt);else{if(dt!=":"){if(ht)return Lt;pr="",$t=ve,vr=0;continue}if(ht&&(At.isSpecial()!=x(Ke,pr)||pr=="file"&&(At.includesCredentials()||At.port!==null)||At.scheme=="file"&&!At.host))return;if(At.scheme=pr,ht)return void(At.isSpecial()&&Ke[At.scheme]==At.port&&(At.port=null));pr="",At.scheme=="file"?$t=ye:At.isSpecial()&&Tt&&Tt.scheme==At.scheme?$t=ze:At.isSpecial()?$t=xt:Yt[vr+1]=="/"?($t=ot,vr++):(At.cannotBeABaseURL=!0,ue(At.path,""),$t=at)}break;case ve:if(!Tt||Tt.cannotBeABaseURL&&dt!="#")return Lt;if(Tt.cannotBeABaseURL&&dt=="#"){At.scheme=Tt.scheme,At.path=W(Tt.path),At.query=Tt.query,At.fragment="",At.cannotBeABaseURL=!0,$t=V;break}$t=Tt.scheme=="file"?ye:ut;continue;case ze:if(dt!="/"||Yt[vr+1]!="/"){$t=ut;continue}$t=Bt,vr++;break;case ot:if(dt=="/"){$t=Zt;break}$t=ie;continue;case ut:if(At.scheme=Tt.scheme,dt==c)At.username=Tt.username,At.password=Tt.password,At.host=Tt.host,At.port=Tt.port,At.path=W(Tt.path),At.query=Tt.query;else if(dt=="/"||dt=="\\"&&At.isSpecial())$t=St;else if(dt=="?")At.username=Tt.username,At.password=Tt.password,At.host=Tt.host,At.port=Tt.port,At.path=W(Tt.path),At.query="",$t=we;else{if(dt!="#"){At.username=Tt.username,At.password=Tt.password,At.host=Tt.host,At.port=Tt.port,At.path=W(Tt.path),At.path.length--,$t=ie;continue}At.username=Tt.username,At.password=Tt.password,At.host=Tt.host,At.port=Tt.port,At.path=W(Tt.path),At.query=Tt.query,At.fragment="",$t=V}break;case St:if(!At.isSpecial()||dt!="/"&&dt!="\\"){if(dt!="/"){At.username=Tt.username,At.password=Tt.password,At.host=Tt.host,At.port=Tt.port,$t=ie;continue}$t=Zt}else $t=Bt;break;case xt:if($t=Bt,dt!="/"||st(pr,vr+1)!="/")continue;vr++;break;case Bt:if(dt!="/"&&dt!="\\"){$t=Zt;continue}break;case Zt:if(dt=="@"){br&&(pr="%40"+pr),br=!0,Qe=L(pr);for(var Jr=0;Jr<Qe.length;Jr++){var Gr=Qe[Jr];if(Gr!=":"||xr){var sn=tr(Gr,zt);xr?At.password+=sn:At.username+=sn}else xr=!0}pr=""}else if(dt==c||dt=="/"||dt=="?"||dt=="#"||dt=="\\"&&At.isSpecial()){if(br&&pr=="")return"Invalid authority";vr-=L(pr).length+1,pr="",$t=fe}else pr+=dt;break;case fe:case z:if(ht&&At.scheme=="file"){$t=be;continue}if(dt!=":"||Pr){if(dt==c||dt=="/"||dt=="?"||dt=="#"||dt=="\\"&&At.isSpecial()){if(At.isSpecial()&&pr=="")return Ae;if(ht&&pr==""&&(At.includesCredentials()||At.port!==null))return;if(kt=At.parseHost(pr))return kt;if(pr="",$t=Pe,ht)return;continue}dt=="["?Pr=!0:dt=="]"&&(Pr=!1),pr+=dt}else{if(pr=="")return Ae;if(kt=At.parseHost(pr))return kt;if(pr="",$t=te,ht==z)return}break;case te:if(!vt(nt,dt)){if(dt==c||dt=="/"||dt=="?"||dt=="#"||dt=="\\"&&At.isSpecial()||ht){if(pr!=""){var rn=qe(pr,10);if(rn>65535)return Re;At.port=At.isSpecial()&&rn===Ke[At.scheme]?null:rn,pr=""}if(ht)return;$t=Pe;continue}return Re}pr+=dt;break;case ye:if(At.scheme="file",dt=="/"||dt=="\\")$t=oe;else{if(!Tt||Tt.scheme!="file"){$t=ie;continue}if(dt==c)At.host=Tt.host,At.path=W(Tt.path),At.query=Tt.query;else if(dt=="?")At.host=Tt.host,At.path=W(Tt.path),At.query="",$t=we;else{if(dt!="#"){j(It(W(Yt,vr),""))||(At.host=Tt.host,At.path=W(Tt.path),At.shortenPath()),$t=ie;continue}At.host=Tt.host,At.path=W(Tt.path),At.query=Tt.query,At.fragment="",$t=V}}break;case oe:if(dt=="/"||dt=="\\"){$t=be;break}Tt&&Tt.scheme=="file"&&!j(It(W(Yt,vr),""))&&(Ot(Tt.path[0],!0)?ue(At.path,Tt.path[0]):At.host=Tt.host),$t=ie;continue;case be:if(dt==c||dt=="/"||dt=="\\"||dt=="?"||dt=="#"){if(!ht&&Ot(pr))$t=ie;else if(pr==""){if(At.host="",ht)return;$t=Pe}else{if(kt=At.parseHost(pr))return kt;if(At.host=="localhost"&&(At.host=""),ht)return;pr="",$t=Pe}continue}pr+=dt;break;case Pe:if(At.isSpecial()){if($t=ie,dt!="/"&&dt!="\\")continue}else if(ht||dt!="?")if(ht||dt!="#"){if(dt!=c&&($t=ie,dt!="/"))continue}else At.fragment="",$t=V;else At.query="",$t=we;break;case ie:if(dt==c||dt=="/"||dt=="\\"&&At.isSpecial()||!ht&&(dt=="?"||dt=="#")){if((Gt=bt(Gt=pr))===".."||Gt==="%2e."||Gt===".%2e"||Gt==="%2e%2e"?(At.shortenPath(),dt=="/"||dt=="\\"&&At.isSpecial()||ue(At.path,"")):Y(pr)?dt=="/"||dt=="\\"&&At.isSpecial()||ue(At.path,""):(At.scheme=="file"&&!At.path.length&&Ot(pr)&&(At.host&&(At.host=""),pr=st(pr,0)+":"),ue(At.path,pr)),pr="",At.scheme=="file"&&(dt==c||dt=="?"||dt=="#"))for(;At.path.length>1&&At.path[0]==="";)Ue(At.path);dt=="?"?(At.query="",$t=we):dt=="#"&&(At.fragment="",$t=V)}else pr+=tr(dt,jt);break;case at:dt=="?"?(At.query="",$t=we):dt=="#"?(At.fragment="",$t=V):dt!=c&&(At.path[0]+=tr(dt,Mt));break;case we:ht||dt!="#"?dt!=c&&(dt=="'"&&At.isSpecial()?At.query+="%27":At.query+=dt=="#"?"%23":tr(dt,Mt)):(At.fragment="",$t=V);break;case V:dt!=c&&(At.fragment+=tr(dt,Xt))}vr++}},parseHost:function(Ie){var ht,Tt,Yt;if(st(Ie,0)=="["){if(st(Ie,Ie.length-1)!="]"||(ht=function(dt){var Qe,kt,Gt,At,$t,vr,pr,br=[0,0,0,0,0,0,0,0],Pr=0,xr=null,Jr=0,Gr=function(){return st(dt,Jr)};if(Gr()==":"){if(st(dt,1)!=":")return;Jr+=2,xr=++Pr}for(;Gr();){if(Pr==8)return;if(Gr()!=":"){for(Qe=kt=0;kt<4&&vt($e,Gr());)Qe=16*Qe+qe(Gr(),16),Jr++,kt++;if(Gr()=="."){if(kt==0||(Jr-=kt,Pr>6))return;for(Gt=0;Gr();){if(At=null,Gt>0){if(!(Gr()=="."&&Gt<4))return;Jr++}if(!vt(nt,Gr()))return;for(;vt(nt,Gr());){if($t=qe(Gr(),10),At===null)At=$t;else{if(At==0)return;At=10*At+$t}if(At>255)return;Jr++}br[Pr]=256*br[Pr]+At,++Gt!=2&&Gt!=4||Pr++}if(Gt!=4)return;break}if(Gr()==":"){if(Jr++,!Gr())return}else if(Gr())return;br[Pr++]=Qe}else{if(xr!==null)return;Jr++,xr=++Pr}}if(xr!==null)for(vr=Pr-xr,Pr=7;Pr!=0&&vr>0;)pr=br[Pr],br[Pr--]=br[xr+vr-1],br[xr+--vr]=pr;else if(Pr!=8)return;return br}(Xe(Ie,1,-1)),!ht))return Ae;this.host=ht}else if(this.isSpecial()){if(Ie=w(Ie),vt(ke,Ie)||(ht=function(dt){var Qe,kt,Gt,At,$t,vr,pr,br=ct(dt,".");if(br.length&&br[br.length-1]==""&&br.length--,(Qe=br.length)>4)return dt;for(kt=[],Gt=0;Gt<Qe;Gt++){if((At=br[Gt])=="")return dt;if($t=10,At.length>1&&st(At,0)=="0"&&($t=vt(Ye,At)?16:8,At=Xe(At,$t==8?1:2)),At==="")vr=0;else{if(!vt($t==10?Ve:$t==8?Fe:$e,At))return dt;vr=qe(At,$t)}ue(kt,vr)}for(Gt=0;Gt<Qe;Gt++)if(vr=kt[Gt],Gt==Qe-1){if(vr>=et(256,5-Qe))return null}else if(vr>255)return null;for(pr=Ht(kt),Gt=0;Gt<kt.length;Gt++)pr+=kt[Gt]*et(256,3-Gt);return pr}(Ie),ht===null))return Ae;this.host=ht}else{if(vt(Je,Ie))return Ae;for(ht="",Tt=L(Ie),Yt=0;Yt<Tt.length;Yt++)ht+=tr(Tt[Yt],Mt);this.host=ht}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return x(Ke,this.scheme)},shortenPath:function(){var Ie=this.path,ht=Ie.length;!ht||this.scheme=="file"&&ht==1&&Ot(Ie[0],!0)||Ie.length--},serialize:function(){var Ie=this,ht=Ie.scheme,Tt=Ie.username,Yt=Ie.password,dt=Ie.host,Qe=Ie.port,kt=Ie.path,Gt=Ie.query,At=Ie.fragment,$t=ht+":";return dt!==null?($t+="//",Ie.includesCredentials()&&($t+=Tt+(Yt?":"+Yt:"")+"@"),$t+=pt(dt),Qe!==null&&($t+=":"+Qe)):ht=="file"&&($t+="//"),$t+=Ie.cannotBeABaseURL?kt[0]:kt.length?"/"+It(kt,"/"):"",Gt!==null&&($t+="?"+Gt),At!==null&&($t+="#"+At),$t},setHref:function(Ie){var ht=this.parse(Ie);if(ht)throw Ne(ht);this.searchParams.update()},getOrigin:function(){var Ie=this.scheme,ht=this.port;if(Ie=="blob")try{return new Ce(Ie.path[0]).origin}catch{return"null"}return Ie!="file"&&this.isSpecial()?Ie+"://"+pt(this.host)+(ht!==null?":"+ht:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Ie){this.parse(G(Ie)+":",_e)},getUsername:function(){return this.username},setUsername:function(Ie){var ht=L(G(Ie));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Tt=0;Tt<ht.length;Tt++)this.username+=tr(ht[Tt],zt)}},getPassword:function(){return this.password},setPassword:function(Ie){var ht=L(G(Ie));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Tt=0;Tt<ht.length;Tt++)this.password+=tr(ht[Tt],zt)}},getHost:function(){var Ie=this.host,ht=this.port;return Ie===null?"":ht===null?pt(Ie):pt(Ie)+":"+ht},setHost:function(Ie){this.cannotBeABaseURL||this.parse(Ie,fe)},getHostname:function(){var Ie=this.host;return Ie===null?"":pt(Ie)},setHostname:function(Ie){this.cannotBeABaseURL||this.parse(Ie,z)},getPort:function(){var Ie=this.port;return Ie===null?"":G(Ie)},setPort:function(Ie){this.cannotHaveUsernamePasswordPort()||((Ie=G(Ie))==""?this.port=null:this.parse(Ie,te))},getPathname:function(){var Ie=this.path;return this.cannotBeABaseURL?Ie[0]:Ie.length?"/"+It(Ie,"/"):""},setPathname:function(Ie){this.cannotBeABaseURL||(this.path=[],this.parse(Ie,Pe))},getSearch:function(){var Ie=this.query;return Ie?"?"+Ie:""},setSearch:function(Ie){(Ie=G(Ie))==""?this.query=null:(st(Ie,0)=="?"&&(Ie=Xe(Ie,1)),this.query="",this.parse(Ie,we)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Ie=this.fragment;return Ie?"#"+Ie:""},setHash:function(Ie){(Ie=G(Ie))!=""?(st(Ie,0)=="#"&&(Ie=Xe(Ie,1)),this.fragment="",this.parse(Ie,V)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ce=function(Ie){var ht=U(this,rt),Tt=re(arguments.length,1)>1?arguments[1]:void 0,Yt=Q(ht,new Le(Ie,!1,Tt));v||(ht.href=Yt.serialize(),ht.origin=Yt.getOrigin(),ht.protocol=Yt.getProtocol(),ht.username=Yt.getUsername(),ht.password=Yt.getPassword(),ht.host=Yt.getHost(),ht.hostname=Yt.getHostname(),ht.port=Yt.getPort(),ht.pathname=Yt.getPathname(),ht.search=Yt.getSearch(),ht.searchParams=Yt.getSearchParams(),ht.hash=Yt.getHash())},rt=Ce.prototype,ge=function(Ie,ht){return{get:function(){return ee(this)[Ie]()},set:ht&&function(Tt){return ee(this)[ht](Tt)},configurable:!0,enumerable:!0}};if(v&&(M(rt,"href",ge("serialize","setHref")),M(rt,"origin",ge("getOrigin")),M(rt,"protocol",ge("getProtocol","setProtocol")),M(rt,"username",ge("getUsername","setUsername")),M(rt,"password",ge("getPassword","setPassword")),M(rt,"host",ge("getHost","setHost")),M(rt,"hostname",ge("getHostname","setHostname")),M(rt,"port",ge("getPort","setPort")),M(rt,"pathname",ge("getPathname","setPathname")),M(rt,"search",ge("getSearch","setSearch")),M(rt,"searchParams",ge("getSearchParams")),M(rt,"hash",ge("getHash","setHash"))),P(rt,"toJSON",function(){return ee(this).serialize()},{enumerable:!0}),P(rt,"toString",function(){return ee(this).serialize()},{enumerable:!0}),xe){var Be=xe.createObjectURL,He=xe.revokeObjectURL;Be&&P(Ce,"createObjectURL",I(Be,xe)),He&&P(Ce,"revokeObjectURL",I(He,xe))}S(Ce,"URL"),l({global:!0,constructor:!0,forced:!y,sham:!v},{URL:Ce})},285:function(a,m,n){n(8789)},3720:function(a){a.exports=n;var m=null;try{m=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(ee,se,Oe){this.low=0|ee,this.high=0|se,this.unsigned=!!Oe}function c(ee){return(ee&&ee.__isLong__)===!0}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=c;var l={},v={};function y(ee,se){var Oe,xe,Ne;return se?(Ne=0<=(ee>>>=0)&&ee<256)&&(xe=v[ee])?xe:(Oe=I(ee,(0|ee)<0?-1:0,!0),Ne&&(v[ee]=Oe),Oe):(Ne=-128<=(ee|=0)&&ee<128)&&(xe=l[ee])?xe:(Oe=I(ee,ee<0?-1:0,!1),Ne&&(l[ee]=Oe),Oe)}function T(ee,se){if(isNaN(ee))return se?F:W;if(se){if(ee<0)return F;if(ee>=x)return q}else{if(ee<=-H)return X;if(ee+1>=H)return re}return ee<0?T(-ee,se).neg():I(ee%U|0,ee/U|0,se)}function I(ee,se,Oe){return new n(ee,se,Oe)}n.fromInt=y,n.fromNumber=T,n.fromBits=I;var g=Math.pow;function P(ee,se,Oe){if(ee.length===0)throw Error("empty string");if(ee==="NaN"||ee==="Infinity"||ee==="+Infinity"||ee==="-Infinity")return W;if(typeof se=="number"?(Oe=se,se=!1):se=!!se,(Oe=Oe||10)<2||36<Oe)throw RangeError("radix");var xe;if((xe=ee.indexOf("-"))>0)throw Error("interior hyphen");if(xe===0)return P(ee.substring(1),se,Oe).neg();for(var Ne=T(g(Oe,8)),qe=W,Et=0;Et<ee.length;Et+=8){var et=Math.min(8,ee.length-Et),st=parseInt(ee.substring(Et,Et+et),Oe);if(et<8){var vt=T(g(Oe,et));qe=qe.mul(vt).add(T(st))}else qe=(qe=qe.mul(Ne)).add(T(st))}return qe.unsigned=se,qe}function M(ee,se){return typeof ee=="number"?T(ee,se):typeof ee=="string"?P(ee,se):I(ee.low,ee.high,typeof se=="boolean"?se:ee.unsigned)}n.fromString=P,n.fromValue=M;var U=4294967296,x=U*U,H=x/2,L=y(1<<24),W=y(0);n.ZERO=W;var F=y(0,!0);n.UZERO=F;var w=y(1);n.ONE=w;var G=y(1,!0);n.UONE=G;var S=y(-1);n.NEG_ONE=S;var re=I(-1,2147483647,!1);n.MAX_VALUE=re;var q=I(-1,-1,!0);n.MAX_UNSIGNED_VALUE=q;var X=I(0,-2147483648,!1);n.MIN_VALUE=X;var Q=n.prototype;Q.toInt=function(){return this.unsigned?this.low>>>0:this.low},Q.toNumber=function(){return this.unsigned?(this.high>>>0)*U+(this.low>>>0):this.high*U+(this.low>>>0)},Q.toString=function(ee){if((ee=ee||10)<2||36<ee)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(X)){var se=T(ee),Oe=this.div(se),xe=Oe.mul(se).sub(this);return Oe.toString(ee)+xe.toInt().toString(ee)}return"-"+this.neg().toString(ee)}for(var Ne=T(g(ee,6),this.unsigned),qe=this,Et="";;){var et=qe.div(Ne),st=(qe.sub(et.mul(Ne)).toInt()>>>0).toString(ee);if((qe=et).isZero())return st+Et;for(;st.length<6;)st="0"+st;Et=""+st+Et}},Q.getHighBits=function(){return this.high},Q.getHighBitsUnsigned=function(){return this.high>>>0},Q.getLowBits=function(){return this.low},Q.getLowBitsUnsigned=function(){return this.low>>>0},Q.getNumBitsAbs=function(){if(this.isNegative())return this.eq(X)?64:this.neg().getNumBitsAbs();for(var ee=this.high!=0?this.high:this.low,se=31;se>0&&!(ee&1<<se);se--);return this.high!=0?se+33:se+1},Q.isZero=function(){return this.high===0&&this.low===0},Q.eqz=Q.isZero,Q.isNegative=function(){return!this.unsigned&&this.high<0},Q.isPositive=function(){return this.unsigned||this.high>=0},Q.isOdd=function(){return(1&this.low)==1},Q.isEven=function(){return(1&this.low)==0},Q.equals=function(ee){return c(ee)||(ee=M(ee)),(this.unsigned===ee.unsigned||this.high>>>31!=1||ee.high>>>31!=1)&&this.high===ee.high&&this.low===ee.low},Q.eq=Q.equals,Q.notEquals=function(ee){return!this.eq(ee)},Q.neq=Q.notEquals,Q.ne=Q.notEquals,Q.lessThan=function(ee){return this.comp(ee)<0},Q.lt=Q.lessThan,Q.lessThanOrEqual=function(ee){return this.comp(ee)<=0},Q.lte=Q.lessThanOrEqual,Q.le=Q.lessThanOrEqual,Q.greaterThan=function(ee){return this.comp(ee)>0},Q.gt=Q.greaterThan,Q.greaterThanOrEqual=function(ee){return this.comp(ee)>=0},Q.gte=Q.greaterThanOrEqual,Q.ge=Q.greaterThanOrEqual,Q.compare=function(ee){if(c(ee)||(ee=M(ee)),this.eq(ee))return 0;var se=this.isNegative(),Oe=ee.isNegative();return se&&!Oe?-1:!se&&Oe?1:this.unsigned?ee.high>>>0>this.high>>>0||ee.high===this.high&&ee.low>>>0>this.low>>>0?-1:1:this.sub(ee).isNegative()?-1:1},Q.comp=Q.compare,Q.negate=function(){return!this.unsigned&&this.eq(X)?X:this.not().add(w)},Q.neg=Q.negate,Q.add=function(ee){c(ee)||(ee=M(ee));var se=this.high>>>16,Oe=65535&this.high,xe=this.low>>>16,Ne=65535&this.low,qe=ee.high>>>16,Et=65535&ee.high,et=ee.low>>>16,st=0,vt=0,It=0,wt=0;return It+=(wt+=Ne+(65535&ee.low))>>>16,vt+=(It+=xe+et)>>>16,st+=(vt+=Oe+Et)>>>16,st+=se+qe,I((It&=65535)<<16|(wt&=65535),(st&=65535)<<16|(vt&=65535),this.unsigned)},Q.subtract=function(ee){return c(ee)||(ee=M(ee)),this.add(ee.neg())},Q.sub=Q.subtract,Q.multiply=function(ee){if(this.isZero())return W;if(c(ee)||(ee=M(ee)),m)return I(m.mul(this.low,this.high,ee.low,ee.high),m.get_high(),this.unsigned);if(ee.isZero())return W;if(this.eq(X))return ee.isOdd()?X:W;if(ee.eq(X))return this.isOdd()?X:W;if(this.isNegative())return ee.isNegative()?this.neg().mul(ee.neg()):this.neg().mul(ee).neg();if(ee.isNegative())return this.mul(ee.neg()).neg();if(this.lt(L)&&ee.lt(L))return T(this.toNumber()*ee.toNumber(),this.unsigned);var se=this.high>>>16,Oe=65535&this.high,xe=this.low>>>16,Ne=65535&this.low,qe=ee.high>>>16,Et=65535&ee.high,et=ee.low>>>16,st=65535&ee.low,vt=0,It=0,wt=0,Ht=0;return wt+=(Ht+=Ne*st)>>>16,It+=(wt+=xe*st)>>>16,wt&=65535,It+=(wt+=Ne*et)>>>16,vt+=(It+=Oe*st)>>>16,It&=65535,vt+=(It+=xe*et)>>>16,It&=65535,vt+=(It+=Ne*Et)>>>16,vt+=se*st+Oe*et+xe*Et+Ne*qe,I((wt&=65535)<<16|(Ht&=65535),(vt&=65535)<<16|(It&=65535),this.unsigned)},Q.mul=Q.multiply,Q.divide=function(ee){if(c(ee)||(ee=M(ee)),ee.isZero())throw Error("division by zero");var se,Oe,xe;if(m)return this.unsigned||this.high!==-2147483648||ee.low!==-1||ee.high!==-1?I((this.unsigned?m.div_u:m.div_s)(this.low,this.high,ee.low,ee.high),m.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?F:W;if(this.unsigned){if(ee.unsigned||(ee=ee.toUnsigned()),ee.gt(this))return F;if(ee.gt(this.shru(1)))return G;xe=F}else{if(this.eq(X))return ee.eq(w)||ee.eq(S)?X:ee.eq(X)?w:(se=this.shr(1).div(ee).shl(1)).eq(W)?ee.isNegative()?w:S:(Oe=this.sub(ee.mul(se)),xe=se.add(Oe.div(ee)));if(ee.eq(X))return this.unsigned?F:W;if(this.isNegative())return ee.isNegative()?this.neg().div(ee.neg()):this.neg().div(ee).neg();if(ee.isNegative())return this.div(ee.neg()).neg();xe=W}for(Oe=this;Oe.gte(ee);){se=Math.max(1,Math.floor(Oe.toNumber()/ee.toNumber()));for(var Ne=Math.ceil(Math.log(se)/Math.LN2),qe=Ne<=48?1:g(2,Ne-48),Et=T(se),et=Et.mul(ee);et.isNegative()||et.gt(Oe);)et=(Et=T(se-=qe,this.unsigned)).mul(ee);Et.isZero()&&(Et=w),xe=xe.add(Et),Oe=Oe.sub(et)}return xe},Q.div=Q.divide,Q.modulo=function(ee){return c(ee)||(ee=M(ee)),m?I((this.unsigned?m.rem_u:m.rem_s)(this.low,this.high,ee.low,ee.high),m.get_high(),this.unsigned):this.sub(this.div(ee).mul(ee))},Q.mod=Q.modulo,Q.rem=Q.modulo,Q.not=function(){return I(~this.low,~this.high,this.unsigned)},Q.and=function(ee){return c(ee)||(ee=M(ee)),I(this.low&ee.low,this.high&ee.high,this.unsigned)},Q.or=function(ee){return c(ee)||(ee=M(ee)),I(this.low|ee.low,this.high|ee.high,this.unsigned)},Q.xor=function(ee){return c(ee)||(ee=M(ee)),I(this.low^ee.low,this.high^ee.high,this.unsigned)},Q.shiftLeft=function(ee){return c(ee)&&(ee=ee.toInt()),(ee&=63)==0?this:ee<32?I(this.low<<ee,this.high<<ee|this.low>>>32-ee,this.unsigned):I(0,this.low<<ee-32,this.unsigned)},Q.shl=Q.shiftLeft,Q.shiftRight=function(ee){return c(ee)&&(ee=ee.toInt()),(ee&=63)==0?this:ee<32?I(this.low>>>ee|this.high<<32-ee,this.high>>ee,this.unsigned):I(this.high>>ee-32,this.high>=0?0:-1,this.unsigned)},Q.shr=Q.shiftRight,Q.shiftRightUnsigned=function(ee){if(c(ee)&&(ee=ee.toInt()),(ee&=63)==0)return this;var se=this.high;return ee<32?I(this.low>>>ee|se<<32-ee,se>>>ee,this.unsigned):I(ee===32?se:se>>>ee-32,0,this.unsigned)},Q.shru=Q.shiftRightUnsigned,Q.shr_u=Q.shiftRightUnsigned,Q.toSigned=function(){return this.unsigned?I(this.low,this.high,!1):this},Q.toUnsigned=function(){return this.unsigned?this:I(this.low,this.high,!0)},Q.toBytes=function(ee){return ee?this.toBytesLE():this.toBytesBE()},Q.toBytesLE=function(){var ee=this.high,se=this.low;return[255&se,se>>>8&255,se>>>16&255,se>>>24,255&ee,ee>>>8&255,ee>>>16&255,ee>>>24]},Q.toBytesBE=function(){var ee=this.high,se=this.low;return[ee>>>24,ee>>>16&255,ee>>>8&255,255&ee,se>>>24,se>>>16&255,se>>>8&255,255&se]},n.fromBytes=function(ee,se,Oe){return Oe?n.fromBytesLE(ee,se):n.fromBytesBE(ee,se)},n.fromBytesLE=function(ee,se){return new n(ee[0]|ee[1]<<8|ee[2]<<16|ee[3]<<24,ee[4]|ee[5]<<8|ee[6]<<16|ee[7]<<24,se)},n.fromBytesBE=function(ee,se){return new n(ee[4]<<24|ee[5]<<16|ee[6]<<8|ee[7],ee[0]<<24|ee[1]<<16|ee[2]<<8|ee[3],se)}},3281:function(a,m,n){a.exports=n(9050)},2967:function(a){a.exports=c;var m,n=/\/|\./;function c(l,v){n.test(l)||(l="google/protobuf/"+l+".proto",v={nested:{google:{nested:{protobuf:{nested:v}}}}}),c[l]=v}c("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),c("duration",{Duration:m={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),c("timestamp",{Timestamp:m}),c("empty",{Empty:{fields:{}}}),c("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),c("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),c("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),c.get=function(l){return c[l]||null}},3996:function(a,m,n){var c=m,l=n(7025),v=n(9935);function y(I,g,P,M){if(g.resolvedType)if(g.resolvedType instanceof l){I("switch(d%s){",M);for(var U=g.resolvedType.values,x=Object.keys(U),H=0;H<x.length;++H)g.repeated&&U[x[H]]===g.typeDefault&&I("default:"),I("case%j:",x[H])("case %i:",U[x[H]])("m%s=%j",M,U[x[H]])("break");I("}")}else I('if(typeof d%s!=="object")',M)("throw TypeError(%j)",g.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",M,P,M);else{var L=!1;switch(g.type){case"double":case"float":I("m%s=Number(d%s)",M,M);break;case"uint32":case"fixed32":I("m%s=d%s>>>0",M,M);break;case"int32":case"sint32":case"sfixed32":I("m%s=d%s|0",M,M);break;case"uint64":L=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":I("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",M,M,L)('else if(typeof d%s==="string")',M)("m%s=parseInt(d%s,10)",M,M)('else if(typeof d%s==="number")',M)("m%s=d%s",M,M)('else if(typeof d%s==="object")',M)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",M,M,M,L?"true":"");break;case"bytes":I('if(typeof d%s==="string")',M)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",M,M,M)("else if(d%s.length)",M)("m%s=d%s",M,M);break;case"string":I("m%s=String(d%s)",M,M);break;case"bool":I("m%s=Boolean(d%s)",M,M)}}return I}function T(I,g,P,M){if(g.resolvedType)g.resolvedType instanceof l?I("d%s=o.enums===String?types[%i].values[m%s]:m%s",M,P,M,M):I("d%s=types[%i].toObject(m%s,o)",M,P,M);else{var U=!1;switch(g.type){case"double":case"float":I("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",M,M,M,M);break;case"uint64":U=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":I('if(typeof m%s==="number")',M)("d%s=o.longs===String?String(m%s):m%s",M,M,M)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",M,M,M,M,U?"true":"",M);break;case"bytes":I("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",M,M,M,M,M);break;default:I("d%s=m%s",M,M)}}return I}c.fromObject=function(I){var g=I.fieldsArray,P=v.codegen(["d"],I.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!g.length)return P("return new this.ctor");P("var m=new this.ctor");for(var M=0;M<g.length;++M){var U=g[M].resolve(),x=v.safeProp(U.name);U.map?(P("if(d%s){",x)('if(typeof d%s!=="object")',x)("throw TypeError(%j)",U.fullName+": object expected")("m%s={}",x)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",x),y(P,U,M,x+"[ks[i]]")("}")("}")):U.repeated?(P("if(d%s){",x)("if(!Array.isArray(d%s))",x)("throw TypeError(%j)",U.fullName+": array expected")("m%s=[]",x)("for(var i=0;i<d%s.length;++i){",x),y(P,U,M,x+"[i]")("}")("}")):(U.resolvedType instanceof l||P("if(d%s!=null){",x),y(P,U,M,x),U.resolvedType instanceof l||P("}"))}return P("return m")},c.toObject=function(I){var g=I.fieldsArray.slice().sort(v.compareFieldsById);if(!g.length)return v.codegen()("return {}");for(var P=v.codegen(["m","o"],I.name+"$toObject")("if(!o)")("o={}")("var d={}"),M=[],U=[],x=[],H=0;H<g.length;++H)g[H].partOf||(g[H].resolve().repeated?M:g[H].map?U:x).push(g[H]);if(M.length){for(P("if(o.arrays||o.defaults){"),H=0;H<M.length;++H)P("d%s=[]",v.safeProp(M[H].name));P("}")}if(U.length){for(P("if(o.objects||o.defaults){"),H=0;H<U.length;++H)P("d%s={}",v.safeProp(U[H].name));P("}")}if(x.length){for(P("if(o.defaults){"),H=0;H<x.length;++H){var L=x[H],W=v.safeProp(L.name);if(L.resolvedType instanceof l)P("d%s=o.enums===String?%j:%j",W,L.resolvedType.valuesById[L.typeDefault],L.typeDefault);else if(L.long)P("if(util.Long){")("var n=new util.Long(%i,%i,%j)",L.typeDefault.low,L.typeDefault.high,L.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",W)("}else")("d%s=o.longs===String?%j:%i",W,L.typeDefault.toString(),L.typeDefault.toNumber());else if(L.bytes){var F="["+Array.prototype.slice.call(L.typeDefault).join(",")+"]";P("if(o.bytes===String)d%s=%j",W,String.fromCharCode.apply(String,L.typeDefault))("else{")("d%s=%s",W,F)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",W,W)("}")}else P("d%s=%j",W,L.typeDefault)}P("}")}var w=!1;for(H=0;H<g.length;++H){L=g[H];var G=I._fieldsArray.indexOf(L);W=v.safeProp(L.name),L.map?(w||(w=!0,P("var ks2")),P("if(m%s&&(ks2=Object.keys(m%s)).length){",W,W)("d%s={}",W)("for(var j=0;j<ks2.length;++j){"),T(P,L,G,W+"[ks2[j]]")("}")):L.repeated?(P("if(m%s&&m%s.length){",W,W)("d%s=[]",W)("for(var j=0;j<m%s.length;++j){",W),T(P,L,G,W+"[j]")("}")):(P("if(m%s!=null&&m.hasOwnProperty(%j)){",W,L.name),T(P,L,G,W),L.partOf&&P("if(o.oneofs)")("d%s=%j",v.safeProp(L.partOf.name),L.name)),P("}")}return P("return d")}},5305:function(a,m,n){a.exports=function(T){var I=v.codegen(["r","l"],T.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(T.fieldsArray.filter(function(H){return H.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");T.group&&I("if((t&7)===4)")("break"),I("switch(t>>>3){");for(var g=0;g<T.fieldsArray.length;++g){var P=T._fieldsArray[g].resolve(),M=P.resolvedType instanceof c?"int32":P.type,U="m"+v.safeProp(P.name);I("case %i:",P.id),P.map?(I("if(%s===util.emptyObject)",U)("%s={}",U)("var c2 = r.uint32()+r.pos"),l.defaults[P.keyType]!==void 0?I("k=%j",l.defaults[P.keyType]):I("k=null"),l.defaults[M]!==void 0?I("value=%j",l.defaults[M]):I("value=null"),I("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",P.keyType)("case 2:"),l.basic[M]===void 0?I("value=types[%i].decode(r,r.uint32())",g):I("value=r.%s()",M),I("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),l.long[P.keyType]!==void 0?I('%s[typeof k==="object"?util.longToHash(k):k]=value',U):I("%s[k]=value",U)):P.repeated?(I("if(!(%s&&%s.length))",U,U)("%s=[]",U),l.packed[M]!==void 0&&I("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",U,M)("}else"),l.basic[M]===void 0?I(P.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",U,g):I("%s.push(r.%s())",U,M)):l.basic[M]===void 0?I(P.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",U,g):I("%s=r.%s()",U,M),I("break")}for(I("default:")("r.skipType(t&7)")("break")("}")("}"),g=0;g<T._fieldsArray.length;++g){var x=T._fieldsArray[g];x.required&&I("if(!m.hasOwnProperty(%j))",x.name)("throw util.ProtocolError(%j,{instance:m})",y(x))}return I("return m")};var c=n(7025),l=n(7063),v=n(9935);function y(T){return"missing required '"+T.name+"'"}},4928:function(a,m,n){a.exports=function(T){for(var I,g=v.codegen(["m","w"],T.name+"$encode")("if(!w)")("w=Writer.create()"),P=T.fieldsArray.slice().sort(v.compareFieldsById),M=0;M<P.length;++M){var U=P[M].resolve(),x=T._fieldsArray.indexOf(U),H=U.resolvedType instanceof c?"int32":U.type,L=l.basic[H];I="m"+v.safeProp(U.name),U.map?(g("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",I,U.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",I)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(U.id<<3|2)>>>0,8|l.mapKey[U.keyType],U.keyType),L===void 0?g("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",x,I):g(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|L,H,I),g("}")("}")):U.repeated?(g("if(%s!=null&&%s.length){",I,I),U.packed&&l.packed[H]!==void 0?g("w.uint32(%i).fork()",(U.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",I)("w.%s(%s[i])",H,I)("w.ldelim()"):(g("for(var i=0;i<%s.length;++i)",I),L===void 0?y(g,U,x,I+"[i]"):g("w.uint32(%i).%s(%s[i])",(U.id<<3|L)>>>0,H,I)),g("}")):(U.optional&&g("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",I,U.name),L===void 0?y(g,U,x,I):g("w.uint32(%i).%s(%s)",(U.id<<3|L)>>>0,H,I))}return g("return w")};var c=n(7025),l=n(7063),v=n(9935);function y(T,I,g,P){return I.resolvedType.group?T("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",g,P,(I.id<<3|3)>>>0,(I.id<<3|4)>>>0):T("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",g,P,(I.id<<3|2)>>>0)}},7025:function(a,m,n){a.exports=y;var c=n(3243);((y.prototype=Object.create(c.prototype)).constructor=y).className="Enum";var l=n(9313),v=n(9935);function y(T,I,g,P,M){if(c.call(this,T,g),I&&typeof I!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=P,this.comments=M||{},this.reserved=void 0,I)for(var U=Object.keys(I),x=0;x<U.length;++x)typeof I[U[x]]=="number"&&(this.valuesById[this.values[U[x]]=I[U[x]]]=U[x])}y.fromJSON=function(T,I){var g=new y(T,I.values,I.options,I.comment,I.comments);return g.reserved=I.reserved,g},y.prototype.toJSON=function(T){var I=!!T&&!!T.keepComments;return v.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",I?this.comment:void 0,"comments",I?this.comments:void 0])},y.prototype.add=function(T,I,g){if(!v.isString(T))throw TypeError("name must be a string");if(!v.isInteger(I))throw TypeError("id must be an integer");if(this.values[T]!==void 0)throw Error("duplicate name '"+T+"' in "+this);if(this.isReservedId(I))throw Error("id "+I+" is reserved in "+this);if(this.isReservedName(T))throw Error("name '"+T+"' is reserved in "+this);if(this.valuesById[I]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+I+" in "+this);this.values[T]=I}else this.valuesById[this.values[T]=I]=T;return this.comments[T]=g||null,this},y.prototype.remove=function(T){if(!v.isString(T))throw TypeError("name must be a string");var I=this.values[T];if(I==null)throw Error("name '"+T+"' does not exist in "+this);return delete this.valuesById[I],delete this.values[T],delete this.comments[T],this},y.prototype.isReservedId=function(T){return l.isReservedId(this.reserved,T)},y.prototype.isReservedName=function(T){return l.isReservedName(this.reserved,T)}},3548:function(a,m,n){a.exports=g;var c=n(3243);((g.prototype=Object.create(c.prototype)).constructor=g).className="Field";var l,v=n(7025),y=n(7063),T=n(9935),I=/^required|optional|repeated$/;function g(P,M,U,x,H,L,W){if(T.isObject(x)?(W=H,L=x,x=H=void 0):T.isObject(H)&&(W=L,L=H,H=void 0),c.call(this,P,L),!T.isInteger(M)||M<0)throw TypeError("id must be a non-negative integer");if(!T.isString(U))throw TypeError("type must be a string");if(x!==void 0&&!I.test(x=x.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(H!==void 0&&!T.isString(H))throw TypeError("extend must be a string");x==="proto3_optional"&&(x="optional"),this.rule=x&&x!=="optional"?x:void 0,this.type=U,this.id=M,this.extend=H||void 0,this.required=x==="required",this.optional=!this.required,this.repeated=x==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!T.Long&&y.long[U]!==void 0,this.bytes=U==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=W}g.fromJSON=function(P,M){return new g(P,M.id,M.type,M.rule,M.extend,M.options,M.comment)},Object.defineProperty(g.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),g.prototype.setOption=function(P,M,U){return P==="packed"&&(this._packed=null),c.prototype.setOption.call(this,P,M,U)},g.prototype.toJSON=function(P){var M=!!P&&!!P.keepComments;return T.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",M?this.comment:void 0])},g.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=y.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof l?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof v&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof v)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=T.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var P;T.base64.test(this.typeDefault)?T.base64.decode(this.typeDefault,P=T.newBuffer(T.base64.length(this.typeDefault)),0):T.utf8.write(this.typeDefault,P=T.newBuffer(T.utf8.length(this.typeDefault)),0),this.typeDefault=P}return this.map?this.defaultValue=T.emptyObject:this.repeated?this.defaultValue=T.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof l&&(this.parent.ctor.prototype[this.name]=this.defaultValue),c.prototype.resolve.call(this)},g.d=function(P,M,U,x){return typeof M=="function"?M=T.decorateType(M).name:M&&typeof M=="object"&&(M=T.decorateEnum(M).name),function(H,L){T.decorateType(H.constructor).add(new g(L,P,M,U,{default:x}))}},g._configure=function(P){l=P}},8836:function(a,m,n){var c=a.exports=n(9482);c.build="light",c.load=function(l,v,y){return typeof v=="function"?(y=v,v=new c.Root):v||(v=new c.Root),v.load(l,y)},c.loadSync=function(l,v){return v||(v=new c.Root),v.loadSync(l)},c.encoder=n(4928),c.decoder=n(5305),c.verifier=n(4497),c.converter=n(3996),c.ReflectionObject=n(3243),c.Namespace=n(9313),c.Root=n(9424),c.Enum=n(7025),c.Type=n(7645),c.Field=n(3548),c.OneOf=n(7598),c.MapField=n(6039),c.Service=n(7513),c.Method=n(4429),c.Message=n(8368),c.wrappers=n(1667),c.types=n(7063),c.util=n(9935),c.ReflectionObject._configure(c.Root),c.Namespace._configure(c.Type,c.Service,c.Enum),c.Root._configure(c.Type),c.Field._configure(c.Type)},9482:function(a,m,n){var c=m;function l(){c.util._configure(),c.Writer._configure(c.BufferWriter),c.Reader._configure(c.BufferReader)}c.build="minimal",c.Writer=n(1173),c.BufferWriter=n(3155),c.Reader=n(1408),c.BufferReader=n(593),c.util=n(9693),c.rpc=n(5994),c.roots=n(5054),c.configure=l,l()},9050:function(a,m,n){var c=a.exports=n(8836);c.build="full",c.tokenize=n(626),c.parse=n(2228),c.common=n(2967),c.Root._configure(c.Type,c.parse,c.common)},6039:function(a,m,n){a.exports=y;var c=n(3548);((y.prototype=Object.create(c.prototype)).constructor=y).className="MapField";var l=n(7063),v=n(9935);function y(T,I,g,P,M,U){if(c.call(this,T,I,P,void 0,void 0,M,U),!v.isString(g))throw TypeError("keyType must be a string");this.keyType=g,this.resolvedKeyType=null,this.map=!0}y.fromJSON=function(T,I){return new y(T,I.id,I.keyType,I.type,I.options,I.comment)},y.prototype.toJSON=function(T){var I=!!T&&!!T.keepComments;return v.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",I?this.comment:void 0])},y.prototype.resolve=function(){if(this.resolved)return this;if(l.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return c.prototype.resolve.call(this)},y.d=function(T,I,g){return typeof g=="function"?g=v.decorateType(g).name:g&&typeof g=="object"&&(g=v.decorateEnum(g).name),function(P,M){v.decorateType(P.constructor).add(new y(M,T,I,g))}}},8368:function(a,m,n){a.exports=l;var c=n(9693);function l(v){if(v)for(var y=Object.keys(v),T=0;T<y.length;++T)this[y[T]]=v[y[T]]}l.create=function(v){return this.$type.create(v)},l.encode=function(v,y){return this.$type.encode(v,y)},l.encodeDelimited=function(v,y){return this.$type.encodeDelimited(v,y)},l.decode=function(v){return this.$type.decode(v)},l.decodeDelimited=function(v){return this.$type.decodeDelimited(v)},l.verify=function(v){return this.$type.verify(v)},l.fromObject=function(v){return this.$type.fromObject(v)},l.toObject=function(v,y){return this.$type.toObject(v,y)},l.prototype.toJSON=function(){return this.$type.toObject(this,c.toJSONOptions)}},4429:function(a,m,n){a.exports=v;var c=n(3243);((v.prototype=Object.create(c.prototype)).constructor=v).className="Method";var l=n(9935);function v(y,T,I,g,P,M,U,x,H){if(l.isObject(P)?(U=P,P=M=void 0):l.isObject(M)&&(U=M,M=void 0),T!==void 0&&!l.isString(T))throw TypeError("type must be a string");if(!l.isString(I))throw TypeError("requestType must be a string");if(!l.isString(g))throw TypeError("responseType must be a string");c.call(this,y,U),this.type=T||"rpc",this.requestType=I,this.requestStream=!!P||void 0,this.responseType=g,this.responseStream=!!M||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=x,this.parsedOptions=H}v.fromJSON=function(y,T){return new v(y,T.type,T.requestType,T.responseType,T.requestStream,T.responseStream,T.options,T.comment,T.parsedOptions)},v.prototype.toJSON=function(y){var T=!!y&&!!y.keepComments;return l.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",T?this.comment:void 0,"parsedOptions",this.parsedOptions])},v.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),c.prototype.resolve.call(this))}},9313:function(a,m,n){a.exports=M;var c=n(3243);((M.prototype=Object.create(c.prototype)).constructor=M).className="Namespace";var l,v,y,T=n(3548),I=n(7598),g=n(9935);function P(x,H){if(x&&x.length){for(var L={},W=0;W<x.length;++W)L[x[W].name]=x[W].toJSON(H);return L}}function M(x,H){c.call(this,x,H),this.nested=void 0,this._nestedArray=null}function U(x){return x._nestedArray=null,x}M.fromJSON=function(x,H){return new M(x,H.options).addJSON(H.nested)},M.arrayToJSON=P,M.isReservedId=function(x,H){if(x){for(var L=0;L<x.length;++L)if(typeof x[L]!="string"&&x[L][0]<=H&&x[L][1]>H)return!0}return!1},M.isReservedName=function(x,H){if(x){for(var L=0;L<x.length;++L)if(x[L]===H)return!0}return!1},Object.defineProperty(M.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=g.toArray(this.nested))}}),M.prototype.toJSON=function(x){return g.toObject(["options",this.options,"nested",P(this.nestedArray,x)])},M.prototype.addJSON=function(x){if(x)for(var H,L=Object.keys(x),W=0;W<L.length;++W)H=x[L[W]],this.add((H.fields!==void 0?l.fromJSON:H.values!==void 0?y.fromJSON:H.methods!==void 0?v.fromJSON:H.id!==void 0?T.fromJSON:M.fromJSON)(L[W],H));return this},M.prototype.get=function(x){return this.nested&&this.nested[x]||null},M.prototype.getEnum=function(x){if(this.nested&&this.nested[x]instanceof y)return this.nested[x].values;throw Error("no such enum: "+x)},M.prototype.add=function(x){if(!(x instanceof T&&x.extend!==void 0||x instanceof l||x instanceof y||x instanceof v||x instanceof M||x instanceof I))throw TypeError("object must be a valid nested object");if(this.nested){var H=this.get(x.name);if(H){if(!(H instanceof M&&x instanceof M)||H instanceof l||H instanceof v)throw Error("duplicate name '"+x.name+"' in "+this);for(var L=H.nestedArray,W=0;W<L.length;++W)x.add(L[W]);this.remove(H),this.nested||(this.nested={}),x.setOptions(H.options,!0)}}else this.nested={};return this.nested[x.name]=x,x.onAdd(this),U(this)},M.prototype.remove=function(x){if(!(x instanceof c))throw TypeError("object must be a ReflectionObject");if(x.parent!==this)throw Error(x+" is not a member of "+this);return delete this.nested[x.name],Object.keys(this.nested).length||(this.nested=void 0),x.onRemove(this),U(this)},M.prototype.define=function(x,H){if(g.isString(x))x=x.split(".");else if(!Array.isArray(x))throw TypeError("illegal path");if(x&&x.length&&x[0]==="")throw Error("path must be relative");for(var L=this;x.length>0;){var W=x.shift();if(L.nested&&L.nested[W]){if(!((L=L.nested[W])instanceof M))throw Error("path conflicts with non-namespace objects")}else L.add(L=new M(W))}return H&&L.addJSON(H),L},M.prototype.resolveAll=function(){for(var x=this.nestedArray,H=0;H<x.length;)x[H]instanceof M?x[H++].resolveAll():x[H++].resolve();return this.resolve()},M.prototype.lookup=function(x,H,L){if(typeof H=="boolean"?(L=H,H=void 0):H&&!Array.isArray(H)&&(H=[H]),g.isString(x)&&x.length){if(x===".")return this.root;x=x.split(".")}else if(!x.length)return this;if(x[0]==="")return this.root.lookup(x.slice(1),H);var W=this.get(x[0]);if(W){if(x.length===1){if(!H||H.indexOf(W.constructor)>-1)return W}else if(W instanceof M&&(W=W.lookup(x.slice(1),H,!0)))return W}else for(var F=0;F<this.nestedArray.length;++F)if(this._nestedArray[F]instanceof M&&(W=this._nestedArray[F].lookup(x,H,!0)))return W;return this.parent===null||L?null:this.parent.lookup(x,H)},M.prototype.lookupType=function(x){var H=this.lookup(x,[l]);if(!H)throw Error("no such type: "+x);return H},M.prototype.lookupEnum=function(x){var H=this.lookup(x,[y]);if(!H)throw Error("no such Enum '"+x+"' in "+this);return H},M.prototype.lookupTypeOrEnum=function(x){var H=this.lookup(x,[l,y]);if(!H)throw Error("no such Type or Enum '"+x+"' in "+this);return H},M.prototype.lookupService=function(x){var H=this.lookup(x,[v]);if(!H)throw Error("no such Service '"+x+"' in "+this);return H},M._configure=function(x,H,L){l=x,v=H,y=L}},3243:function(a,m,n){a.exports=v,v.className="ReflectionObject";var c,l=n(9935);function v(y,T){if(!l.isString(y))throw TypeError("name must be a string");if(T&&!l.isObject(T))throw TypeError("options must be an object");this.options=T,this.parsedOptions=null,this.name=y,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(v.prototype,{root:{get:function(){for(var y=this;y.parent!==null;)y=y.parent;return y}},fullName:{get:function(){for(var y=[this.name],T=this.parent;T;)y.unshift(T.name),T=T.parent;return y.join(".")}}}),v.prototype.toJSON=function(){throw Error()},v.prototype.onAdd=function(y){this.parent&&this.parent!==y&&this.parent.remove(this),this.parent=y,this.resolved=!1;var T=y.root;T instanceof c&&T._handleAdd(this)},v.prototype.onRemove=function(y){var T=y.root;T instanceof c&&T._handleRemove(this),this.parent=null,this.resolved=!1},v.prototype.resolve=function(){return this.resolved||this.root instanceof c&&(this.resolved=!0),this},v.prototype.getOption=function(y){if(this.options)return this.options[y]},v.prototype.setOption=function(y,T,I){return I&&this.options&&this.options[y]!==void 0||((this.options||(this.options={}))[y]=T),this},v.prototype.setParsedOption=function(y,T,I){this.parsedOptions||(this.parsedOptions=[]);var g=this.parsedOptions;if(I){var P=g.find(function(x){return Object.prototype.hasOwnProperty.call(x,y)});if(P){var M=P[y];l.setProperty(M,I,T)}else(P={})[y]=l.setProperty({},I,T),g.push(P)}else{var U={};U[y]=T,g.push(U)}return this},v.prototype.setOptions=function(y,T){if(y)for(var I=Object.keys(y),g=0;g<I.length;++g)this.setOption(I[g],y[I[g]],T);return this},v.prototype.toString=function(){var y=this.constructor.className,T=this.fullName;return T.length?y+" "+T:y},v._configure=function(y){c=y}},7598:function(a,m,n){a.exports=y;var c=n(3243);((y.prototype=Object.create(c.prototype)).constructor=y).className="OneOf";var l=n(3548),v=n(9935);function y(I,g,P,M){if(Array.isArray(g)||(P=g,g=void 0),c.call(this,I,P),g!==void 0&&!Array.isArray(g))throw TypeError("fieldNames must be an Array");this.oneof=g||[],this.fieldsArray=[],this.comment=M}function T(I){if(I.parent)for(var g=0;g<I.fieldsArray.length;++g)I.fieldsArray[g].parent||I.parent.add(I.fieldsArray[g])}y.fromJSON=function(I,g){return new y(I,g.oneof,g.options,g.comment)},y.prototype.toJSON=function(I){var g=!!I&&!!I.keepComments;return v.toObject(["options",this.options,"oneof",this.oneof,"comment",g?this.comment:void 0])},y.prototype.add=function(I){if(!(I instanceof l))throw TypeError("field must be a Field");return I.parent&&I.parent!==this.parent&&I.parent.remove(I),this.oneof.push(I.name),this.fieldsArray.push(I),I.partOf=this,T(this),this},y.prototype.remove=function(I){if(!(I instanceof l))throw TypeError("field must be a Field");var g=this.fieldsArray.indexOf(I);if(g<0)throw Error(I+" is not a member of "+this);return this.fieldsArray.splice(g,1),(g=this.oneof.indexOf(I.name))>-1&&this.oneof.splice(g,1),I.partOf=null,this},y.prototype.onAdd=function(I){c.prototype.onAdd.call(this,I);for(var g=0;g<this.oneof.length;++g){var P=I.get(this.oneof[g]);P&&!P.partOf&&(P.partOf=this,this.fieldsArray.push(P))}T(this)},y.prototype.onRemove=function(I){for(var g,P=0;P<this.fieldsArray.length;++P)(g=this.fieldsArray[P]).parent&&g.parent.remove(g);c.prototype.onRemove.call(this,I)},y.d=function(){for(var I=new Array(arguments.length),g=0;g<arguments.length;)I[g]=arguments[g++];return function(P,M){v.decorateType(P.constructor).add(new y(M,I)),Object.defineProperty(P,M,{get:v.oneOfGetter(I),set:v.oneOfSetter(I)})}}},2228:function(a,m,n){a.exports=Q,Q.filename=null,Q.defaults={keepCase:!1};var c=n(626),l=n(9424),v=n(7645),y=n(3548),T=n(6039),I=n(7598),g=n(7025),P=n(7513),M=n(4429),U=n(7063),x=n(9935),H=/^[1-9][0-9]*$/,L=/^-?[1-9][0-9]*$/,W=/^0[x][0-9a-fA-F]+$/,F=/^-?0[x][0-9a-fA-F]+$/,w=/^0[0-7]+$/,G=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,re=/^[a-zA-Z_][a-zA-Z_0-9]*$/,q=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,X=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function Q(ee,se,Oe){se instanceof l||(Oe=se,se=new l),Oe||(Oe=Q.defaults);var xe,Ne,qe,Et,et,st=Oe.preferTrailingComment||!1,vt=c(ee,Oe.alternateCommentMode||!1),It=vt.next,wt=vt.push,Ht=vt.peek,ue=vt.skip,Se=vt.cmnt,Ue=!0,ct=!1,Xe=se,bt=Oe.keepCase?function(mt){return mt}:x.camelCase;function _t(mt,pt,Mt){var Xt=Q.filename;return Mt||(Q.filename=null),Error("illegal "+(pt||"token")+" '"+mt+"' ("+(Xt?Xt+", ":"")+"line "+vt.line+")")}function Lt(){var mt,pt=[];do{if((mt=It())!=='"'&&mt!=="'")throw _t(mt);pt.push(It()),ue(mt),mt=Ht()}while(mt==='"'||mt==="'");return pt.join("")}function Ae(mt){var pt=It();switch(pt){case"'":case'"':return wt(pt),Lt();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(Mt,Xt){var jt=1;switch(Mt.charAt(0)==="-"&&(jt=-1,Mt=Mt.substring(1)),Mt){case"inf":case"INF":case"Inf":return jt*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(H.test(Mt))return jt*parseInt(Mt,10);if(W.test(Mt))return jt*parseInt(Mt,16);if(w.test(Mt))return jt*parseInt(Mt,8);if(S.test(Mt))return jt*parseFloat(Mt);throw _t(Mt,"number",!0)}(pt)}catch{if(mt&&q.test(pt))return pt;throw _t(pt,"value")}}function Re(mt,pt){var Mt,Xt;do!pt||(Mt=Ht())!=='"'&&Mt!=="'"?mt.push([Xt=Me(It()),ue("to",!0)?Me(It()):Xt]):mt.push(Lt());while(ue(",",!0));ue(";")}function Me(mt,pt){switch(mt){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!pt&&mt.charAt(0)==="-")throw _t(mt,"id");if(L.test(mt))return parseInt(mt,10);if(F.test(mt))return parseInt(mt,16);if(G.test(mt))return parseInt(mt,8);throw _t(mt,"id")}function lt(){if(xe!==void 0)throw _t("package");if(xe=It(),!q.test(xe))throw _t(xe,"name");Xe=Xe.define(xe),ue(";")}function nt(){var mt,pt=Ht();switch(pt){case"weak":mt=qe||(qe=[]),It();break;case"public":It();default:mt=Ne||(Ne=[])}pt=Lt(),ue(";"),mt.push(pt)}function Ye(){if(ue("="),Et=Lt(),!(ct=Et==="proto3")&&Et!=="proto2")throw _t(Et,"syntax");ue(";")}function Fe(mt,pt){switch(pt){case"option":return ke(mt,pt),ue(";"),!0;case"message":return function(Mt,Xt){if(!re.test(Xt=It()))throw _t(Xt,"type name");var jt=new v(Xt);Ve(jt,function(zt){if(!Fe(jt,zt))switch(zt){case"map":(function(tr){ue("<");var Ke=It();if(U.mapKey[Ke]===void 0)throw _t(Ke,"type");ue(",");var Ot=It();if(!q.test(Ot))throw _t(Ot,"type");ue(">");var j=It();if(!re.test(j))throw _t(j,"name");ue("=");var Y=new T(bt(j),Me(It()),Ke,Ot);Ve(Y,function(_e){if(_e!=="option")throw _t(_e);ke(Y,_e),ue(";")},function(){Ct(Y)}),tr.add(Y)})(jt);break;case"required":case"repeated":$e(jt,zt);break;case"optional":$e(jt,ct?"proto3_optional":"optional");break;case"oneof":(function(tr,Ke){if(!re.test(Ke=It()))throw _t(Ke,"name");var Ot=new I(bt(Ke));Ve(Ot,function(j){j==="option"?(ke(Ot,j),ue(";")):(wt(j),$e(Ot,"optional"))}),tr.add(Ot)})(jt,zt);break;case"extensions":Re(jt.extensions||(jt.extensions=[]));break;case"reserved":Re(jt.reserved||(jt.reserved=[]),!0);break;default:if(!ct||!q.test(zt))throw _t(zt);wt(zt),$e(jt,"optional")}}),Mt.add(jt)}(mt,pt),!0;case"enum":return function(Mt,Xt){if(!re.test(Xt=It()))throw _t(Xt,"name");var jt=new g(Xt);Ve(jt,function(zt){switch(zt){case"option":ke(jt,zt),ue(";");break;case"reserved":Re(jt.reserved||(jt.reserved=[]),!0);break;default:(function(tr,Ke){if(!re.test(Ke))throw _t(Ke,"name");ue("=");var Ot=Me(It(),!0),j={};Ve(j,function(Y){if(Y!=="option")throw _t(Y);ke(j,Y),ue(";")},function(){Ct(j)}),tr.add(Ke,Ot,j.comment)})(jt,zt)}}),Mt.add(jt)}(mt,pt),!0;case"service":return function(Mt,Xt){if(!re.test(Xt=It()))throw _t(Xt,"service name");var jt=new P(Xt);Ve(jt,function(zt){if(!Fe(jt,zt)){if(zt!=="rpc")throw _t(zt);(function(tr,Ke){var Ot=Se(),j=Ke;if(!re.test(Ke=It()))throw _t(Ke,"name");var Y,_e,De,ve,ze=Ke;if(ue("("),ue("stream",!0)&&(_e=!0),!q.test(Ke=It())||(Y=Ke,ue(")"),ue("returns"),ue("("),ue("stream",!0)&&(ve=!0),!q.test(Ke=It())))throw _t(Ke);De=Ke,ue(")");var ot=new M(ze,j,Y,De,_e,ve);ot.comment=Ot,Ve(ot,function(ut){if(ut!=="option")throw _t(ut);ke(ot,ut),ue(";")}),tr.add(ot)})(jt,zt)}}),Mt.add(jt)}(mt,pt),!0;case"extend":return function(Mt,Xt){if(!q.test(Xt=It()))throw _t(Xt,"reference");var jt=Xt;Ve(null,function(zt){switch(zt){case"required":case"repeated":$e(Mt,zt,jt);break;case"optional":$e(Mt,ct?"proto3_optional":"optional",jt);break;default:if(!ct||!q.test(zt))throw _t(zt);wt(zt),$e(Mt,"optional",jt)}})}(mt,pt),!0}return!1}function Ve(mt,pt,Mt){var Xt=vt.line;if(mt&&(typeof mt.comment!="string"&&(mt.comment=Se()),mt.filename=Q.filename),ue("{",!0)){for(var jt;(jt=It())!=="}";)pt(jt);ue(";",!0)}else Mt&&Mt(),ue(";"),mt&&(typeof mt.comment!="string"||st)&&(mt.comment=Se(Xt)||mt.comment)}function $e(mt,pt,Mt){var Xt=It();if(Xt!=="group"){if(!q.test(Xt))throw _t(Xt,"type");var jt=It();if(!re.test(jt))throw _t(jt,"name");jt=bt(jt),ue("=");var zt=new y(jt,Me(It()),Xt,pt,Mt);if(Ve(zt,function(Ke){if(Ke!=="option")throw _t(Ke);ke(zt,Ke),ue(";")},function(){Ct(zt)}),pt==="proto3_optional"){var tr=new I("_"+jt);zt.setOption("proto3_optional",!0),tr.add(zt),mt.add(tr)}else mt.add(zt);ct||!zt.repeated||U.packed[Xt]===void 0&&U.basic[Xt]!==void 0||zt.setOption("packed",!1,!0)}else(function(Ke,Ot){var j=It();if(!re.test(j))throw _t(j,"name");var Y=x.lcFirst(j);j===Y&&(j=x.ucFirst(j)),ue("=");var _e=Me(It()),De=new v(j);De.group=!0;var ve=new y(Y,_e,j,Ot);ve.filename=Q.filename,Ve(De,function(ze){switch(ze){case"option":ke(De,ze),ue(";");break;case"required":case"repeated":$e(De,ze);break;case"optional":$e(De,ct?"proto3_optional":"optional");break;default:throw _t(ze)}}),Ke.add(De).add(ve)})(mt,pt)}function ke(mt,pt){var Mt=ue("(",!0);if(!q.test(pt=It()))throw _t(pt,"name");var Xt,jt=pt,zt=jt;Mt&&(ue(")"),zt=jt="("+jt+")",pt=Ht(),X.test(pt)&&(Xt=pt.substr(1),jt+=pt,It())),ue("="),function(tr,Ke,Ot,j){tr.setParsedOption&&tr.setParsedOption(Ke,Ot,j)}(mt,zt,Je(mt,jt),Xt)}function Je(mt,pt){if(ue("{",!0)){for(var Mt={};!ue("}",!0);){if(!re.test(et=It()))throw _t(et,"name");var Xt,jt=et;Ht()==="{"?Xt=Je(mt,pt+"."+et):(ue(":"),Ht()==="{"?Xt=Je(mt,pt+"."+et):(Xt=Ae(!0),yt(mt,pt+"."+et,Xt)));var zt=Mt[jt];zt&&(Xt=[].concat(zt).concat(Xt)),Mt[jt]=Xt,ue(",",!0)}return Mt}var tr=Ae(!0);return yt(mt,pt,tr),tr}function yt(mt,pt,Mt){mt.setOption&&mt.setOption(pt,Mt)}function Ct(mt){if(ue("[",!0)){do ke(mt,"option");while(ue(",",!0));ue("]")}return mt}for(;(et=It())!==null;)switch(et){case"package":if(!Ue)throw _t(et);lt();break;case"import":if(!Ue)throw _t(et);nt();break;case"syntax":if(!Ue)throw _t(et);Ye();break;case"option":ke(Xe,et),ue(";");break;default:if(Fe(Xe,et)){Ue=!1;continue}throw _t(et)}return Q.filename=null,{package:xe,imports:Ne,weakImports:qe,syntax:Et,root:se}}},1408:function(a,m,n){a.exports=I;var c,l=n(9693),v=l.LongBits,y=l.utf8;function T(L,W){return RangeError("index out of range: "+L.pos+" + "+(W||1)+" > "+L.len)}function I(L){this.buf=L,this.pos=0,this.len=L.length}var g,P=typeof Uint8Array<"u"?function(L){if(L instanceof Uint8Array||Array.isArray(L))return new I(L);throw Error("illegal buffer")}:function(L){if(Array.isArray(L))return new I(L);throw Error("illegal buffer")},M=function(){return l.Buffer?function(L){return(I.create=function(W){return l.Buffer.isBuffer(W)?new c(W):P(W)})(L)}:P};function U(){var L=new v(0,0),W=0;if(!(this.len-this.pos>4)){for(;W<3;++W){if(this.pos>=this.len)throw T(this);if(L.lo=(L.lo|(127&this.buf[this.pos])<<7*W)>>>0,this.buf[this.pos++]<128)return L}return L.lo=(L.lo|(127&this.buf[this.pos++])<<7*W)>>>0,L}for(;W<4;++W)if(L.lo=(L.lo|(127&this.buf[this.pos])<<7*W)>>>0,this.buf[this.pos++]<128)return L;if(L.lo=(L.lo|(127&this.buf[this.pos])<<28)>>>0,L.hi=(L.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return L;if(W=0,this.len-this.pos>4){for(;W<5;++W)if(L.hi=(L.hi|(127&this.buf[this.pos])<<7*W+3)>>>0,this.buf[this.pos++]<128)return L}else for(;W<5;++W){if(this.pos>=this.len)throw T(this);if(L.hi=(L.hi|(127&this.buf[this.pos])<<7*W+3)>>>0,this.buf[this.pos++]<128)return L}throw Error("invalid varint encoding")}function x(L,W){return(L[W-4]|L[W-3]<<8|L[W-2]<<16|L[W-1]<<24)>>>0}function H(){if(this.pos+8>this.len)throw T(this,8);return new v(x(this.buf,this.pos+=4),x(this.buf,this.pos+=4))}I.create=M(),I.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,I.prototype.uint32=(g=4294967295,function(){if(g=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(g=(g|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,T(this,10);return g}),I.prototype.int32=function(){return 0|this.uint32()},I.prototype.sint32=function(){var L=this.uint32();return L>>>1^-(1&L)|0},I.prototype.bool=function(){return this.uint32()!==0},I.prototype.fixed32=function(){if(this.pos+4>this.len)throw T(this,4);return x(this.buf,this.pos+=4)},I.prototype.sfixed32=function(){if(this.pos+4>this.len)throw T(this,4);return 0|x(this.buf,this.pos+=4)},I.prototype.float=function(){if(this.pos+4>this.len)throw T(this,4);var L=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,L},I.prototype.double=function(){if(this.pos+8>this.len)throw T(this,4);var L=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,L},I.prototype.bytes=function(){var L=this.uint32(),W=this.pos,F=this.pos+L;if(F>this.len)throw T(this,L);return this.pos+=L,Array.isArray(this.buf)?this.buf.slice(W,F):W===F?new this.buf.constructor(0):this._slice.call(this.buf,W,F)},I.prototype.string=function(){var L=this.bytes();return y.read(L,0,L.length)},I.prototype.skip=function(L){if(typeof L=="number"){if(this.pos+L>this.len)throw T(this,L);this.pos+=L}else do if(this.pos>=this.len)throw T(this);while(128&this.buf[this.pos++]);return this},I.prototype.skipType=function(L){switch(L){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(L=7&this.uint32())!=4;)this.skipType(L);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+L+" at offset "+this.pos)}return this},I._configure=function(L){c=L,I.create=M(),c._configure();var W=l.Long?"toLong":"toNumber";l.merge(I.prototype,{int64:function(){return U.call(this)[W](!1)},uint64:function(){return U.call(this)[W](!0)},sint64:function(){return U.call(this).zzDecode()[W](!1)},fixed64:function(){return H.call(this)[W](!0)},sfixed64:function(){return H.call(this)[W](!1)}})}},593:function(a,m,n){a.exports=v;var c=n(1408);(v.prototype=Object.create(c.prototype)).constructor=v;var l=n(9693);function v(y){c.call(this,y)}v._configure=function(){l.Buffer&&(v.prototype._slice=l.Buffer.prototype.slice)},v.prototype.string=function(){var y=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+y,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+y,this.len))},v._configure()},9424:function(a,m,n){a.exports=M;var c=n(9313);((M.prototype=Object.create(c.prototype)).constructor=M).className="Root";var l,v,y,T=n(3548),I=n(7025),g=n(7598),P=n(9935);function M(L){c.call(this,"",L),this.deferred=[],this.files=[]}function U(){}M.fromJSON=function(L,W){return W||(W=new M),L.options&&W.setOptions(L.options),W.addJSON(L.nested)},M.prototype.resolvePath=P.path.resolve,M.prototype.fetch=P.fetch,M.prototype.load=function L(W,F,w){typeof F=="function"&&(w=F,F=void 0);var G=this;if(!w)return P.asPromise(L,G,W,F);var S=w===U;function re(xe,Ne){if(w){var qe=w;if(w=null,S)throw xe;qe(xe,Ne)}}function q(xe){var Ne=xe.lastIndexOf("google/protobuf/");if(Ne>-1){var qe=xe.substring(Ne);if(qe in y)return qe}return null}function X(xe,Ne){try{if(P.isString(Ne)&&Ne.charAt(0)==="{"&&(Ne=JSON.parse(Ne)),P.isString(Ne)){v.filename=xe;var qe,Et=v(Ne,G,F),et=0;if(Et.imports)for(;et<Et.imports.length;++et)(qe=q(Et.imports[et])||G.resolvePath(xe,Et.imports[et]))&&Q(qe);if(Et.weakImports)for(et=0;et<Et.weakImports.length;++et)(qe=q(Et.weakImports[et])||G.resolvePath(xe,Et.weakImports[et]))&&Q(qe,!0)}else G.setOptions(Ne.options).addJSON(Ne.nested)}catch(st){re(st)}S||ee||re(null,G)}function Q(xe,Ne){if(!(G.files.indexOf(xe)>-1))if(G.files.push(xe),xe in y)S?X(xe,y[xe]):(++ee,setTimeout(function(){--ee,X(xe,y[xe])}));else if(S){var qe;try{qe=P.fs.readFileSync(xe).toString("utf8")}catch(Et){return void(Ne||re(Et))}X(xe,qe)}else++ee,G.fetch(xe,function(Et,et){--ee,w&&(Et?Ne?ee||re(null,G):re(Et):X(xe,et))})}var ee=0;P.isString(W)&&(W=[W]);for(var se,Oe=0;Oe<W.length;++Oe)(se=G.resolvePath("",W[Oe]))&&Q(se);if(S)return G;ee||re(null,G)},M.prototype.loadSync=function(L,W){if(!P.isNode)throw Error("not supported");return this.load(L,W,U)},M.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(L){return"'extend "+L.extend+"' in "+L.parent.fullName}).join(", "));return c.prototype.resolveAll.call(this)};var x=/^[A-Z]/;function H(L,W){var F=W.parent.lookup(W.extend);if(F){var w=new T(W.fullName,W.id,W.type,W.rule,void 0,W.options);return w.declaringField=W,W.extensionField=w,F.add(w),!0}return!1}M.prototype._handleAdd=function(L){if(L instanceof T)L.extend===void 0||L.extensionField||H(0,L)||this.deferred.push(L);else if(L instanceof I)x.test(L.name)&&(L.parent[L.name]=L.values);else if(!(L instanceof g)){if(L instanceof l)for(var W=0;W<this.deferred.length;)H(0,this.deferred[W])?this.deferred.splice(W,1):++W;for(var F=0;F<L.nestedArray.length;++F)this._handleAdd(L._nestedArray[F]);x.test(L.name)&&(L.parent[L.name]=L)}},M.prototype._handleRemove=function(L){if(L instanceof T){if(L.extend!==void 0)if(L.extensionField)L.extensionField.parent.remove(L.extensionField),L.extensionField=null;else{var W=this.deferred.indexOf(L);W>-1&&this.deferred.splice(W,1)}}else if(L instanceof I)x.test(L.name)&&delete L.parent[L.name];else if(L instanceof c){for(var F=0;F<L.nestedArray.length;++F)this._handleRemove(L._nestedArray[F]);x.test(L.name)&&delete L.parent[L.name]}},M._configure=function(L,W,F){l=L,v=W,y=F}},5054:function(a){a.exports={}},5994:function(a,m,n){m.Service=n(7948)},7948:function(a,m,n){a.exports=l;var c=n(9693);function l(v,y,T){if(typeof v!="function")throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=v,this.requestDelimited=!!y,this.responseDelimited=!!T}(l.prototype=Object.create(c.EventEmitter.prototype)).constructor=l,l.prototype.rpcCall=function v(y,T,I,g,P){if(!g)throw TypeError("request must be specified");var M=this;if(!P)return c.asPromise(v,M,y,T,I,g);if(M.rpcImpl)try{return M.rpcImpl(y,T[M.requestDelimited?"encodeDelimited":"encode"](g).finish(),function(U,x){if(U)return M.emit("error",U,y),P(U);if(x!==null){if(!(x instanceof I))try{x=I[M.responseDelimited?"decodeDelimited":"decode"](x)}catch(H){return M.emit("error",H,y),P(H)}return M.emit("data",x,y),P(null,x)}M.end(!0)})}catch(U){return M.emit("error",U,y),void setTimeout(function(){P(U)},0)}else setTimeout(function(){P(Error("already ended"))},0)},l.prototype.end=function(v){return this.rpcImpl&&(v||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:function(a,m,n){a.exports=T;var c=n(9313);((T.prototype=Object.create(c.prototype)).constructor=T).className="Service";var l=n(4429),v=n(9935),y=n(5994);function T(g,P){c.call(this,g,P),this.methods={},this._methodsArray=null}function I(g){return g._methodsArray=null,g}T.fromJSON=function(g,P){var M=new T(g,P.options);if(P.methods)for(var U=Object.keys(P.methods),x=0;x<U.length;++x)M.add(l.fromJSON(U[x],P.methods[U[x]]));return P.nested&&M.addJSON(P.nested),M.comment=P.comment,M},T.prototype.toJSON=function(g){var P=c.prototype.toJSON.call(this,g),M=!!g&&!!g.keepComments;return v.toObject(["options",P&&P.options||void 0,"methods",c.arrayToJSON(this.methodsArray,g)||{},"nested",P&&P.nested||void 0,"comment",M?this.comment:void 0])},Object.defineProperty(T.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=v.toArray(this.methods))}}),T.prototype.get=function(g){return this.methods[g]||c.prototype.get.call(this,g)},T.prototype.resolveAll=function(){for(var g=this.methodsArray,P=0;P<g.length;++P)g[P].resolve();return c.prototype.resolve.call(this)},T.prototype.add=function(g){if(this.get(g.name))throw Error("duplicate name '"+g.name+"' in "+this);return g instanceof l?(this.methods[g.name]=g,g.parent=this,I(this)):c.prototype.add.call(this,g)},T.prototype.remove=function(g){if(g instanceof l){if(this.methods[g.name]!==g)throw Error(g+" is not a member of "+this);return delete this.methods[g.name],g.parent=null,I(this)}return c.prototype.remove.call(this,g)},T.prototype.create=function(g,P,M){for(var U,x=new y.Service(g,P,M),H=0;H<this.methodsArray.length;++H){var L=v.lcFirst((U=this._methodsArray[H]).resolve().name).replace(/[^$\w_]/g,"");x[L]=v.codegen(["r","c"],v.isReserved(L)?L+"_":L)("return this.rpcCall(m,q,s,r,c)")({m:U,q:U.resolvedRequestType.ctor,s:U.resolvedResponseType.ctor})}return x}},626:function(a){a.exports=M;var m=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,c=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,l=/^ *[*/]+ */,v=/^\s*\*?\/*/,y=/\n/g,T=/\s/,I=/\\(.?)/g,g={0:"\0",r:"\r",n:`
`,t:"	"};function P(U){return U.replace(I,function(x,H){switch(H){case"\\":case"":return H;default:return g[H]||""}})}function M(U,x){U=U.toString();var H=0,L=U.length,W=1,F=null,w=null,G=0,S=!1,re=!1,q=[],X=null;function Q(et){return Error("illegal "+et+" (line "+W+")")}function ee(et){return U.charAt(et)}function se(et,st,vt){F=U.charAt(et++),G=W,S=!1,re=vt;var It,wt=et-(x?2:3);do if(--wt<0||(It=U.charAt(wt))===`
`){S=!0;break}while(It===" "||It==="	");for(var Ht=U.substring(et,st).split(y),ue=0;ue<Ht.length;++ue)Ht[ue]=Ht[ue].replace(x?v:l,"").trim();w=Ht.join(`
`).trim()}function Oe(et){var st=xe(et),vt=U.substring(et,st);return/^\s*\/{1,2}/.test(vt)}function xe(et){for(var st=et;st<L&&ee(st)!==`
`;)st++;return st}function Ne(){if(q.length>0)return q.shift();if(X)return function(){var Ue=X==="'"?c:n;Ue.lastIndex=H-1;var ct=Ue.exec(U);if(!ct)throw Q("string");return H=Ue.lastIndex,qe(X),X=null,P(ct[1])}();var et,st,vt,It,wt,Ht=H===0;do{if(H===L)return null;for(et=!1;T.test(vt=ee(H));)if(vt===`
`&&(Ht=!0,++W),++H===L)return null;if(ee(H)==="/"){if(++H===L)throw Q("comment");if(ee(H)==="/")if(x){if(It=H,wt=!1,Oe(H)){wt=!0;do{if((H=xe(H))===L)break;H++}while(Oe(H))}else H=Math.min(L,xe(H)+1);wt&&se(It,H,Ht),W++,et=!0}else{for(wt=ee(It=H+1)==="/";ee(++H)!==`
`;)if(H===L)return null;++H,wt&&se(It,H-1,Ht),++W,et=!0}else{if((vt=ee(H))!=="*")return"/";It=H+1,wt=x||ee(It)==="*";do{if(vt===`
`&&++W,++H===L)throw Q("comment");st=vt,vt=ee(H)}while(st!=="*"||vt!=="/");++H,wt&&se(It,H-2,Ht),et=!0}}}while(et);var ue=H;if(m.lastIndex=0,!m.test(ee(ue++)))for(;ue<L&&!m.test(ee(ue));)++ue;var Se=U.substring(H,H=ue);return Se!=='"'&&Se!=="'"||(X=Se),Se}function qe(et){q.push(et)}function Et(){if(!q.length){var et=Ne();if(et===null)return null;qe(et)}return q[0]}return Object.defineProperty({next:Ne,peek:Et,push:qe,skip:function(et,st){var vt=Et();if(vt===et)return Ne(),!0;if(!st)throw Q("token '"+vt+"', '"+et+"' expected");return!1},cmnt:function(et){var st=null;return et===void 0?G===W-1&&(x||F==="*"||S)&&(st=re?w:null):(G<et&&Et(),G!==et||S||!x&&F!=="/"||(st=re?null:w)),st}},"line",{get:function(){return W}})}M.unescape=P},7645:function(a,m,n){a.exports=w;var c=n(9313);((w.prototype=Object.create(c.prototype)).constructor=w).className="Type";var l=n(7025),v=n(7598),y=n(3548),T=n(6039),I=n(7513),g=n(8368),P=n(1408),M=n(1173),U=n(9935),x=n(4928),H=n(5305),L=n(4497),W=n(3996),F=n(1667);function w(S,re){c.call(this,S,re),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function G(S){return S._fieldsById=S._fieldsArray=S._oneofsArray=null,delete S.encode,delete S.decode,delete S.verify,S}Object.defineProperties(w.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var S=Object.keys(this.fields),re=0;re<S.length;++re){var q=this.fields[S[re]],X=q.id;if(this._fieldsById[X])throw Error("duplicate id "+X+" in "+this);this._fieldsById[X]=q}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=U.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=U.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=w.generateConstructor(this)())},set:function(S){var re=S.prototype;re instanceof g||((S.prototype=new g).constructor=S,U.merge(S.prototype,re)),S.$type=S.prototype.$type=this,U.merge(S,g,!0),this._ctor=S;for(var q=0;q<this.fieldsArray.length;++q)this._fieldsArray[q].resolve();var X={};for(q=0;q<this.oneofsArray.length;++q)X[this._oneofsArray[q].resolve().name]={get:U.oneOfGetter(this._oneofsArray[q].oneof),set:U.oneOfSetter(this._oneofsArray[q].oneof)};q&&Object.defineProperties(S.prototype,X)}}}),w.generateConstructor=function(S){for(var re,q=U.codegen(["p"],S.name),X=0;X<S.fieldsArray.length;++X)(re=S._fieldsArray[X]).map?q("this%s={}",U.safeProp(re.name)):re.repeated&&q("this%s=[]",U.safeProp(re.name));return q("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},w.fromJSON=function(S,re){var q=new w(S,re.options);q.extensions=re.extensions,q.reserved=re.reserved;for(var X=Object.keys(re.fields),Q=0;Q<X.length;++Q)q.add((re.fields[X[Q]].keyType!==void 0?T.fromJSON:y.fromJSON)(X[Q],re.fields[X[Q]]));if(re.oneofs)for(X=Object.keys(re.oneofs),Q=0;Q<X.length;++Q)q.add(v.fromJSON(X[Q],re.oneofs[X[Q]]));if(re.nested)for(X=Object.keys(re.nested),Q=0;Q<X.length;++Q){var ee=re.nested[X[Q]];q.add((ee.id!==void 0?y.fromJSON:ee.fields!==void 0?w.fromJSON:ee.values!==void 0?l.fromJSON:ee.methods!==void 0?I.fromJSON:c.fromJSON)(X[Q],ee))}return re.extensions&&re.extensions.length&&(q.extensions=re.extensions),re.reserved&&re.reserved.length&&(q.reserved=re.reserved),re.group&&(q.group=!0),re.comment&&(q.comment=re.comment),q},w.prototype.toJSON=function(S){var re=c.prototype.toJSON.call(this,S),q=!!S&&!!S.keepComments;return U.toObject(["options",re&&re.options||void 0,"oneofs",c.arrayToJSON(this.oneofsArray,S),"fields",c.arrayToJSON(this.fieldsArray.filter(function(X){return!X.declaringField}),S)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",re&&re.nested||void 0,"comment",q?this.comment:void 0])},w.prototype.resolveAll=function(){for(var S=this.fieldsArray,re=0;re<S.length;)S[re++].resolve();var q=this.oneofsArray;for(re=0;re<q.length;)q[re++].resolve();return c.prototype.resolveAll.call(this)},w.prototype.get=function(S){return this.fields[S]||this.oneofs&&this.oneofs[S]||this.nested&&this.nested[S]||null},w.prototype.add=function(S){if(this.get(S.name))throw Error("duplicate name '"+S.name+"' in "+this);if(S instanceof y&&S.extend===void 0){if(this._fieldsById?this._fieldsById[S.id]:this.fieldsById[S.id])throw Error("duplicate id "+S.id+" in "+this);if(this.isReservedId(S.id))throw Error("id "+S.id+" is reserved in "+this);if(this.isReservedName(S.name))throw Error("name '"+S.name+"' is reserved in "+this);return S.parent&&S.parent.remove(S),this.fields[S.name]=S,S.message=this,S.onAdd(this),G(this)}return S instanceof v?(this.oneofs||(this.oneofs={}),this.oneofs[S.name]=S,S.onAdd(this),G(this)):c.prototype.add.call(this,S)},w.prototype.remove=function(S){if(S instanceof y&&S.extend===void 0){if(!this.fields||this.fields[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.fields[S.name],S.parent=null,S.onRemove(this),G(this)}if(S instanceof v){if(!this.oneofs||this.oneofs[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.oneofs[S.name],S.parent=null,S.onRemove(this),G(this)}return c.prototype.remove.call(this,S)},w.prototype.isReservedId=function(S){return c.isReservedId(this.reserved,S)},w.prototype.isReservedName=function(S){return c.isReservedName(this.reserved,S)},w.prototype.create=function(S){return new this.ctor(S)},w.prototype.setup=function(){for(var S=this.fullName,re=[],q=0;q<this.fieldsArray.length;++q)re.push(this._fieldsArray[q].resolve().resolvedType);this.encode=x(this)({Writer:M,types:re,util:U}),this.decode=H(this)({Reader:P,types:re,util:U}),this.verify=L(this)({types:re,util:U}),this.fromObject=W.fromObject(this)({types:re,util:U}),this.toObject=W.toObject(this)({types:re,util:U});var X=F[S];if(X){var Q=Object.create(this);Q.fromObject=this.fromObject,this.fromObject=X.fromObject.bind(Q),Q.toObject=this.toObject,this.toObject=X.toObject.bind(Q)}return this},w.prototype.encode=function(S,re){return this.setup().encode(S,re)},w.prototype.encodeDelimited=function(S,re){return this.encode(S,re&&re.len?re.fork():re).ldelim()},w.prototype.decode=function(S,re){return this.setup().decode(S,re)},w.prototype.decodeDelimited=function(S){return S instanceof P||(S=P.create(S)),this.decode(S,S.uint32())},w.prototype.verify=function(S){return this.setup().verify(S)},w.prototype.fromObject=function(S){return this.setup().fromObject(S)},w.prototype.toObject=function(S,re){return this.setup().toObject(S,re)},w.d=function(S){return function(re){U.decorateType(re,S)}}},7063:function(a,m,n){var c=m,l=n(9935),v=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function y(T,I){var g=0,P={};for(I|=0;g<T.length;)P[v[g+I]]=T[g++];return P}c.basic=y([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),c.defaults=y([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",l.emptyArray,null]),c.long=y([0,0,0,1,1],7),c.mapKey=y([0,0,0,5,5,0,0,0,1,1,0,2],2),c.packed=y([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:function(a,m,n){var c,l,v=a.exports=n(9693),y=n(5054);v.codegen=n(5124),v.fetch=n(9054),v.path=n(8626),v.fs=v.inquire("fs"),v.toArray=function(M){if(M){for(var U=Object.keys(M),x=new Array(U.length),H=0;H<U.length;)x[H]=M[U[H++]];return x}return[]},v.toObject=function(M){for(var U={},x=0;x<M.length;){var H=M[x++],L=M[x++];L!==void 0&&(U[H]=L)}return U};var T=/\\/g,I=/"/g;v.isReserved=function(M){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(M)},v.safeProp=function(M){return!/^[$\w_]+$/.test(M)||v.isReserved(M)?'["'+M.replace(T,"\\\\").replace(I,'\\"')+'"]':"."+M},v.ucFirst=function(M){return M.charAt(0).toUpperCase()+M.substring(1)};var g=/_([a-z])/g;v.camelCase=function(M){return M.substring(0,1)+M.substring(1).replace(g,function(U,x){return x.toUpperCase()})},v.compareFieldsById=function(M,U){return M.id-U.id},v.decorateType=function(M,U){if(M.$type)return U&&M.$type.name!==U&&(v.decorateRoot.remove(M.$type),M.$type.name=U,v.decorateRoot.add(M.$type)),M.$type;c||(c=n(7645));var x=new c(U||M.name);return v.decorateRoot.add(x),x.ctor=M,Object.defineProperty(M,"$type",{value:x,enumerable:!1}),Object.defineProperty(M.prototype,"$type",{value:x,enumerable:!1}),x};var P=0;v.decorateEnum=function(M){if(M.$type)return M.$type;l||(l=n(7025));var U=new l("Enum"+P++,M);return v.decorateRoot.add(U),Object.defineProperty(M,"$type",{value:U,enumerable:!1}),U},v.setProperty=function(M,U,x){if(typeof M!="object")throw TypeError("dst must be an object");if(!U)throw TypeError("path must be specified");return function H(L,W,F){var w=W.shift();if(w==="__proto__")return L;if(W.length>0)L[w]=H(L[w]||{},W,F);else{var G=L[w];G&&(F=[].concat(G).concat(F)),L[w]=F}return L}(M,U=U.split("."),x)},Object.defineProperty(v,"decorateRoot",{get:function(){return y.decorated||(y.decorated=new(n(9424)))}})},1945:function(a,m,n){a.exports=l;var c=n(9693);function l(I,g){this.lo=I>>>0,this.hi=g>>>0}var v=l.zero=new l(0,0);v.toNumber=function(){return 0},v.zzEncode=v.zzDecode=function(){return this},v.length=function(){return 1};var y=l.zeroHash="\0\0\0\0\0\0\0\0";l.fromNumber=function(I){if(I===0)return v;var g=I<0;g&&(I=-I);var P=I>>>0,M=(I-P)/4294967296>>>0;return g&&(M=~M>>>0,P=~P>>>0,++P>4294967295&&(P=0,++M>4294967295&&(M=0))),new l(P,M)},l.from=function(I){if(typeof I=="number")return l.fromNumber(I);if(c.isString(I)){if(!c.Long)return l.fromNumber(parseInt(I,10));I=c.Long.fromString(I)}return I.low||I.high?new l(I.low>>>0,I.high>>>0):v},l.prototype.toNumber=function(I){if(!I&&this.hi>>>31){var g=1+~this.lo>>>0,P=~this.hi>>>0;return g||(P=P+1>>>0),-(g+4294967296*P)}return this.lo+4294967296*this.hi},l.prototype.toLong=function(I){return c.Long?new c.Long(0|this.lo,0|this.hi,!!I):{low:0|this.lo,high:0|this.hi,unsigned:!!I}};var T=String.prototype.charCodeAt;l.fromHash=function(I){return I===y?v:new l((T.call(I,0)|T.call(I,1)<<8|T.call(I,2)<<16|T.call(I,3)<<24)>>>0,(T.call(I,4)|T.call(I,5)<<8|T.call(I,6)<<16|T.call(I,7)<<24)>>>0)},l.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},l.prototype.zzEncode=function(){var I=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^I)>>>0,this.lo=(this.lo<<1^I)>>>0,this},l.prototype.zzDecode=function(){var I=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^I)>>>0,this.hi=(this.hi>>>1^I)>>>0,this},l.prototype.length=function(){var I=this.lo,g=(this.lo>>>28|this.hi<<4)>>>0,P=this.hi>>>24;return P===0?g===0?I<16384?I<128?1:2:I<2097152?3:4:g<16384?g<128?5:6:g<2097152?7:8:P<128?9:10}},9693:function(a,m,n){var c=m;function l(y,T,I){for(var g=Object.keys(T),P=0;P<g.length;++P)y[g[P]]!==void 0&&I||(y[g[P]]=T[g[P]]);return y}function v(y){function T(I,g){if(!(this instanceof T))return new T(I,g);Object.defineProperty(this,"message",{get:function(){return I}}),Error.captureStackTrace?Error.captureStackTrace(this,T):Object.defineProperty(this,"stack",{value:new Error().stack||""}),g&&l(this,g)}return(T.prototype=Object.create(Error.prototype)).constructor=T,Object.defineProperty(T.prototype,"name",{get:function(){return y}}),T.prototype.toString=function(){return this.name+": "+this.message},T}c.asPromise=n(4537),c.base64=n(7419),c.EventEmitter=n(9211),c.float=n(945),c.inquire=n(7199),c.utf8=n(4997),c.pool=n(6662),c.LongBits=n(1945),c.isNode=!!(n.g!==void 0&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),c.global=c.isNode&&n.g||typeof window<"u"&&window||typeof self<"u"&&self||this,c.emptyArray=Object.freeze?Object.freeze([]):[],c.emptyObject=Object.freeze?Object.freeze({}):{},c.isInteger=Number.isInteger||function(y){return typeof y=="number"&&isFinite(y)&&Math.floor(y)===y},c.isString=function(y){return typeof y=="string"||y instanceof String},c.isObject=function(y){return y&&typeof y=="object"},c.isset=c.isSet=function(y,T){var I=y[T];return!(I==null||!y.hasOwnProperty(T))&&(typeof I!="object"||(Array.isArray(I)?I.length:Object.keys(I).length)>0)},c.Buffer=function(){try{var y=c.inquire("buffer").Buffer;return y.prototype.utf8Write?y:null}catch{return null}}(),c._Buffer_from=null,c._Buffer_allocUnsafe=null,c.newBuffer=function(y){return typeof y=="number"?c.Buffer?c._Buffer_allocUnsafe(y):new c.Array(y):c.Buffer?c._Buffer_from(y):typeof Uint8Array>"u"?y:new Uint8Array(y)},c.Array=typeof Uint8Array<"u"?Uint8Array:Array,c.Long=c.global.dcodeIO&&c.global.dcodeIO.Long||c.global.Long||c.inquire("long"),c.key2Re=/^true|false|0|1$/,c.key32Re=/^-?(?:0|[1-9][0-9]*)$/,c.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,c.longToHash=function(y){return y?c.LongBits.from(y).toHash():c.LongBits.zeroHash},c.longFromHash=function(y,T){var I=c.LongBits.fromHash(y);return c.Long?c.Long.fromBits(I.lo,I.hi,T):I.toNumber(!!T)},c.merge=l,c.lcFirst=function(y){return y.charAt(0).toLowerCase()+y.substring(1)},c.newError=v,c.ProtocolError=v("ProtocolError"),c.oneOfGetter=function(y){for(var T={},I=0;I<y.length;++I)T[y[I]]=1;return function(){for(var g=Object.keys(this),P=g.length-1;P>-1;--P)if(T[g[P]]===1&&this[g[P]]!==void 0&&this[g[P]]!==null)return g[P]}},c.oneOfSetter=function(y){return function(T){for(var I=0;I<y.length;++I)y[I]!==T&&delete this[y[I]]}},c.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},c._configure=function(){var y=c.Buffer;y?(c._Buffer_from=y.from!==Uint8Array.from&&y.from||function(T,I){return new y(T,I)},c._Buffer_allocUnsafe=y.allocUnsafe||function(T){return new y(T)}):c._Buffer_from=c._Buffer_allocUnsafe=null}},4497:function(a,m,n){a.exports=function(I){var g=l.codegen(["m"],I.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),P={};I.oneofsArray.length&&g("var p={}");for(var M=0;M<I.fieldsArray.length;++M){var U=I._fieldsArray[M].resolve(),x="m"+l.safeProp(U.name);if(U.optional&&g("if(%s!=null&&m.hasOwnProperty(%j)){",x,U.name),U.map)g("if(!util.isObject(%s))",x)("return%j",v(U,"object"))("var k=Object.keys(%s)",x)("for(var i=0;i<k.length;++i){"),T(g,U,"k[i]"),y(g,U,M,x+"[k[i]]")("}");else if(U.repeated)g("if(!Array.isArray(%s))",x)("return%j",v(U,"array"))("for(var i=0;i<%s.length;++i){",x),y(g,U,M,x+"[i]")("}");else{if(U.partOf){var H=l.safeProp(U.partOf.name);P[U.partOf.name]===1&&g("if(p%s===1)",H)("return%j",U.partOf.name+": multiple values"),P[U.partOf.name]=1,g("p%s=1",H)}y(g,U,M,x)}U.optional&&g("}")}return g("return null")};var c=n(7025),l=n(9935);function v(I,g){return I.name+": "+g+(I.repeated&&g!=="array"?"[]":I.map&&g!=="object"?"{k:"+I.keyType+"}":"")+" expected"}function y(I,g,P,M){if(g.resolvedType)if(g.resolvedType instanceof c){I("switch(%s){",M)("default:")("return%j",v(g,"enum value"));for(var U=Object.keys(g.resolvedType.values),x=0;x<U.length;++x)I("case %i:",g.resolvedType.values[U[x]]);I("break")("}")}else I("{")("var e=types[%i].verify(%s);",P,M)("if(e)")("return%j+e",g.name+".")("}");else switch(g.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":I("if(!util.isInteger(%s))",M)("return%j",v(g,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":I("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",M,M,M,M)("return%j",v(g,"integer|Long"));break;case"float":case"double":I('if(typeof %s!=="number")',M)("return%j",v(g,"number"));break;case"bool":I('if(typeof %s!=="boolean")',M)("return%j",v(g,"boolean"));break;case"string":I("if(!util.isString(%s))",M)("return%j",v(g,"string"));break;case"bytes":I('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',M,M,M)("return%j",v(g,"buffer"))}return I}function T(I,g,P){switch(g.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":I("if(!util.key32Re.test(%s))",P)("return%j",v(g,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":I("if(!util.key64Re.test(%s))",P)("return%j",v(g,"integer|Long key"));break;case"bool":I("if(!util.key2Re.test(%s))",P)("return%j",v(g,"boolean key"))}return I}},1667:function(a,m,n){var c=m,l=n(8368);c[".google.protobuf.Any"]={fromObject:function(v){if(v&&v["@type"]){var y=v["@type"].substring(v["@type"].lastIndexOf("/")+1),T=this.lookup(y);if(T){var I=v["@type"].charAt(0)==="."?v["@type"].substr(1):v["@type"];return I.indexOf("/")===-1&&(I="/"+I),this.create({type_url:I,value:T.encode(T.fromObject(v)).finish()})}}return this.fromObject(v)},toObject:function(v,y){var T="",I="";if(y&&y.json&&v.type_url&&v.value){I=v.type_url.substring(v.type_url.lastIndexOf("/")+1),T=v.type_url.substring(0,v.type_url.lastIndexOf("/")+1);var g=this.lookup(I);g&&(v=g.decode(v.value))}if(!(v instanceof this.ctor)&&v instanceof l){var P=v.$type.toObject(v,y);return T===""&&(T="type.googleapis.com/"),I=T+(v.$type.fullName[0]==="."?v.$type.fullName.substr(1):v.$type.fullName),P["@type"]=I,P}return this.toObject(v,y)}}},1173:function(a,m,n){a.exports=M;var c,l=n(9693),v=l.LongBits,y=l.base64,T=l.utf8;function I(w,G,S){this.fn=w,this.len=G,this.next=void 0,this.val=S}function g(){}function P(w){this.head=w.head,this.tail=w.tail,this.len=w.len,this.next=w.states}function M(){this.len=0,this.head=new I(g,0,0),this.tail=this.head,this.states=null}var U=function(){return l.Buffer?function(){return(M.create=function(){return new c})()}:function(){return new M}};function x(w,G,S){G[S]=255&w}function H(w,G){this.len=w,this.next=void 0,this.val=G}function L(w,G,S){for(;w.hi;)G[S++]=127&w.lo|128,w.lo=(w.lo>>>7|w.hi<<25)>>>0,w.hi>>>=7;for(;w.lo>127;)G[S++]=127&w.lo|128,w.lo=w.lo>>>7;G[S++]=w.lo}function W(w,G,S){G[S]=255&w,G[S+1]=w>>>8&255,G[S+2]=w>>>16&255,G[S+3]=w>>>24}M.create=U(),M.alloc=function(w){return new l.Array(w)},l.Array!==Array&&(M.alloc=l.pool(M.alloc,l.Array.prototype.subarray)),M.prototype._push=function(w,G,S){return this.tail=this.tail.next=new I(w,G,S),this.len+=G,this},H.prototype=Object.create(I.prototype),H.prototype.fn=function(w,G,S){for(;w>127;)G[S++]=127&w|128,w>>>=7;G[S]=w},M.prototype.uint32=function(w){return this.len+=(this.tail=this.tail.next=new H((w>>>=0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},M.prototype.int32=function(w){return w<0?this._push(L,10,v.fromNumber(w)):this.uint32(w)},M.prototype.sint32=function(w){return this.uint32((w<<1^w>>31)>>>0)},M.prototype.uint64=function(w){var G=v.from(w);return this._push(L,G.length(),G)},M.prototype.int64=M.prototype.uint64,M.prototype.sint64=function(w){var G=v.from(w).zzEncode();return this._push(L,G.length(),G)},M.prototype.bool=function(w){return this._push(x,1,w?1:0)},M.prototype.fixed32=function(w){return this._push(W,4,w>>>0)},M.prototype.sfixed32=M.prototype.fixed32,M.prototype.fixed64=function(w){var G=v.from(w);return this._push(W,4,G.lo)._push(W,4,G.hi)},M.prototype.sfixed64=M.prototype.fixed64,M.prototype.float=function(w){return this._push(l.float.writeFloatLE,4,w)},M.prototype.double=function(w){return this._push(l.float.writeDoubleLE,8,w)};var F=l.Array.prototype.set?function(w,G,S){G.set(w,S)}:function(w,G,S){for(var re=0;re<w.length;++re)G[S+re]=w[re]};M.prototype.bytes=function(w){var G=w.length>>>0;if(!G)return this._push(x,1,0);if(l.isString(w)){var S=M.alloc(G=y.length(w));y.decode(w,S,0),w=S}return this.uint32(G)._push(F,G,w)},M.prototype.string=function(w){var G=T.length(w);return G?this.uint32(G)._push(T.write,G,w):this._push(x,1,0)},M.prototype.fork=function(){return this.states=new P(this),this.head=this.tail=new I(g,0,0),this.len=0,this},M.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new I(g,0,0),this.len=0),this},M.prototype.ldelim=function(){var w=this.head,G=this.tail,S=this.len;return this.reset().uint32(S),S&&(this.tail.next=w.next,this.tail=G,this.len+=S),this},M.prototype.finish=function(){for(var w=this.head.next,G=this.constructor.alloc(this.len),S=0;w;)w.fn(w.val,G,S),S+=w.len,w=w.next;return G},M._configure=function(w){c=w,M.create=U(),c._configure()}},3155:function(a,m,n){a.exports=v;var c=n(1173);(v.prototype=Object.create(c.prototype)).constructor=v;var l=n(9693);function v(){c.call(this)}function y(T,I,g){T.length<40?l.utf8.write(T,I,g):I.utf8Write?I.utf8Write(T,g):I.write(T,g)}v._configure=function(){v.alloc=l._Buffer_allocUnsafe,v.writeBytesBuffer=l.Buffer&&l.Buffer.prototype instanceof Uint8Array&&l.Buffer.prototype.set.name==="set"?function(T,I,g){I.set(T,g)}:function(T,I,g){if(T.copy)T.copy(I,g,0,T.length);else for(var P=0;P<T.length;)I[g++]=T[P++]}},v.prototype.bytes=function(T){l.isString(T)&&(T=l._Buffer_from(T,"base64"));var I=T.length>>>0;return this.uint32(I),I&&this._push(v.writeBytesBuffer,I,T),this},v.prototype.string=function(T){var I=l.Buffer.byteLength(T);return this.uint32(I),I&&this._push(y,I,T),this},v._configure()}},__webpack_module_cache__={};function __webpack_require__(a){var m=__webpack_module_cache__[a];if(m!==void 0)return m.exports;var n=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.amdO={},__webpack_require__.n=function(a){var m=a&&a.__esModule?function(){return a.default}:function(){return a};return __webpack_require__.d(m,{a:m}),m},__webpack_require__.d=function(a,m){for(var n in m)__webpack_require__.o(m,n)&&!__webpack_require__.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:m[n]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=function(a,m){return Object.prototype.hasOwnProperty.call(a,m)},__webpack_require__.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var __webpack_exports__={};return function(){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Ot}});var a=__webpack_require__(3281),m=__webpack_require__.n(a),n=__webpack_require__(3720),c=__webpack_require__.n(n),l=(__webpack_require__(9601),__webpack_require__(1539),__webpack_require__(8674),__webpack_require__(2526),__webpack_require__(1817),__webpack_require__(2165),__webpack_require__(6992),__webpack_require__(8783),__webpack_require__(3948),__webpack_require__(8309),__webpack_require__(3843),__webpack_require__(3710),__webpack_require__(7327),__webpack_require__(6755),__webpack_require__(1532),__webpack_require__(4812),__webpack_require__(9070),__webpack_require__(7941),__webpack_require__(2222),__webpack_require__(9575),__webpack_require__(2472),__webpack_require__(2990),__webpack_require__(8927),__webpack_require__(3105),__webpack_require__(5035),__webpack_require__(4345),__webpack_require__(7174),__webpack_require__(2846),__webpack_require__(4731),__webpack_require__(7209),__webpack_require__(6319),__webpack_require__(8867),__webpack_require__(7789),__webpack_require__(3739),__webpack_require__(9368),__webpack_require__(4483),__webpack_require__(2056),__webpack_require__(3462),__webpack_require__(678),__webpack_require__(7462),__webpack_require__(3824),__webpack_require__(5021),__webpack_require__(2974),__webpack_require__(5016),__webpack_require__(5827),__webpack_require__(2564),__webpack_require__(9653),__webpack_require__(9554),__webpack_require__(4747),__webpack_require__(6699),__webpack_require__(2023),__webpack_require__(7252)),v=__webpack_require__(4024),y=__webpack_require__(4998),T=__webpack_require__(5531),I=__webpack_require__(6424),g=__webpack_require__(7360),P=["onTextMessage","onFileMessage","onAudioMessage","onVideoMessage","onImageMessage","onLocationMessage","onCustomMessage","onCMDMessage"],M=function(){function j(Y,_e,De){this.handlerData={},this.handlerData={},Y.addEventHandler=this.addEventHandler.bind(this),Y.removeEventHandler=this.removeEventHandler.bind(this)}return j.prototype.addEventHandler=function(Y,_e){this.handlerData[Y]=_e},j.prototype.removeEventHandler=function(Y){delete this.handlerData[Y]},j.prototype.dispatch=function(Y,_e){for(var De in P.includes(Y)&&_e?g.kg.debug("dispatch event: "+Y,{id:_e.id,type:_e.type,time:_e.time,from:_e.from,to:_e.to,chatType:_e.chatType}):Y==="onMessage"?g.kg.debug("dispatch event: "+Y,_e==null?void 0:_e.length):g.kg.debug("dispatch event: "+Y,_e||""),this.handlerData){var ve=this.handlerData[De][Y];ve&&ve(_e)}},j}(),U=function(){};function x(j){this.onOpened=j.onOpened||U,this.onPresence=j.onPresence||U,this.onTextMessage=j.onTextMessage||U,this.onPictureMessage=j.onPictureMessage||U,this.onAudioMessage=j.onAudioMessage||U,this.onVideoMessage=j.onVideoMessage||U,this.onFileMessage=j.onFileMessage||U,this.onLocationMessage=j.onLocationMessage||U,this.onCmdMessage=j.onCmdMessage||U,this.onCustomMessage=j.onCustomMessage||U,this.onReceivedMessage=j.onReceivedMessage||U,this.onDeliveredMessage=j.onDeliveredMessage||U,this.onReadMessage=j.onReadMessage||U,this.onRecallMessage=j.onRecallMessage||U,this.onChannelMessage=j.onChannelMessage||U,this.onError=j.onError||U,this.onOffline=j.onOffline||U,this.onOnline=j.onOnline||U,this.onStatisticMessage=j.onStatisticMessage||U,this.onContactInvited=j.onContactInvited||U,this.onContactAgreed=j.onContactAgreed||U,this.onContactRefuse=j.onContactRefuse||U,this.onContactDeleted=j.onContactDeleted||U,this.onContactAdded=j.onContactAdded||U,this.onTokenWillExpire=j.onTokenWillExpire||U,this.onTokenExpired=j.onTokenExpired||U,this.onClosed=j.onClosed||U,this.onPresenceStatusChange=j.onPresenceStatusChange||U}__webpack_require__(2772);var H={biz:"",debug:!1,token:""},L="https://data-reporting.agora.io/report",W="https://data-reporting.sh.agoralab.co/report",F=__webpack_require__(2071),w=__webpack_require__(1595),G=function(j){var Y=Number(w.C8[j]);return Y===w.C8.USER_LOGIN?"MANUALLOGIN":Y===w.C8.MSYNC_SENDMESSAGE?"SENDMESSAGE":Y>w.C8.UNKNOWOPERATION&&Y<w.C8.REST_OPERATE?"REST":Y>w.C8.REST_OPERATE&&Y<w.C8.MSYNC_OPERATE?"MESSAGE":Y>w.C8.MSYNC_OPERATE&&Y<w.C8.ROSTER_OPERATE?"ROSTER":Y>w.C8.ROSTER_OPERATE&&Y<w.C8.USER_OPERATE?"USER":Y>w.C8.USER_OPERATE&&Y<w.C8.GROUP_OPERATE?"GROUP":Y>w.C8.GROUP_OPERATE&&Y<w.C8.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},S=function(){return new Date().getTime()},re=function(j){return[v.iw.BAIDU,v.iw.WX,v.iw.DD,v.iw.ZFB,v.iw.TT,v.iw.QUICK_APP,v.iw.UNI].includes(j.platform)},q=function(){return j=1,Y=99999,j=Math.ceil(j),Y=Math.floor(Y),Math.floor(Math.random()*(Y-j))+j;var j,Y},X=__webpack_require__(4319),Q={},ee=(__webpack_require__(561),__webpack_require__(1249),function(j,Y){var _e={};for(var De in j)Object.prototype.hasOwnProperty.call(j,De)&&Y.indexOf(De)<0&&(_e[De]=j[De]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var ve=0;for(De=Object.getOwnPropertySymbols(j);ve<De.length;ve++)Y.indexOf(De[ve])<0&&Object.prototype.propertyIsEnumerable.call(j,De[ve])&&(_e[De[ve]]=j[De[ve]])}return _e}),se=1e3,Oe=function(){function j(Y){this.eventQueue=[],this.stock=se,this.config=Y,this.governor()}return j.prototype.add=function(Y){this.stock<=0?console.warn("Event Report limit ".concat(se," per minute")):(this.eventQueue.push(Y),this.consume(),this.stock-=1)},j.prototype.consume=function(){var Y=this;this.eventQueue.length!==0&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout(function(){var _e,De=Y.eventQueue.splice(0,10),ve=De.filter(function(ot){return ot.appId===De[0].appId}),ze=De.filter(function(ot){return ot.appId!==De[0].appId});(_e=Y.eventQueue).unshift.apply(_e,ze),Y.batchSend(ve)},1e3))},j.prototype.governor=function(){var Y=this,_e=setInterval(function(){Y.stock=se},6e4);typeof addEventListener<"u"&&addEventListener("beforeunload",function(){clearInterval(_e)})},j.prototype.batchSend=function(Y){var _e,De;if(Y===void 0&&(Y=[]),Y.length!==0)try{var ve=Y.map(function(ze){ze.biz,ze.appId;var ot=ze.eventId,ut=ee(ze,["biz","appId","eventId"]);return{eventId:Number(ot),body:ut}});(function(ze,ot){try{var ut=ot.biz,St=ot.appId,xt=ot.data,Bt=ot.debug,Zt=ot.onSuccess;if(!ut)throw new Error("biz is not defined");Q.global||(Q=v.P6.getEnvInfo());var fe=Q;if(re(fe)){var z={url:Bt?W:L,data:xt,method:"POST",timeout:X.zj,success:function(){Zt==null||Zt()},fail:function(){},complete:function(){}},te={token:ze,appid:St??"",sendts:"".concat(Math.floor(new Date().getTime()/1e3)),biz:ut,debug:"".concat(Bt)};if(fe.platform==="zfb"||fe.platform==="dd"?z.headers=te:z.header=te,fe.platform==="dd")return fe.global.httpRequest(z);fe.global.request(z)}else{var ye=new XMLHttpRequest;ye.onreadystatechange=function(){ye.readyState===2&&(Zt==null||Zt())},ye.open("POST",Bt?W:L),ye.setRequestHeader("Content-Type","application/json"),ye.setRequestHeader("token",ze),ye.setRequestHeader("appid",St??""),ye.setRequestHeader("sendts","".concat(Math.floor(new Date().getTime()/1e3))),ye.setRequestHeader("biz",ut),ye.setRequestHeader("debug","".concat(Bt)),ye.send(JSON.stringify(xt))}}catch(oe){console.error(oe)}})(this.config.token,{biz:(_e=Y[0])===null||_e===void 0?void 0:_e.biz,appId:(De=Y[0])===null||De===void 0?void 0:De.appId,data:ve,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(ze){console.error(ze)}},j}(),xe=function(){return xe=Object.assign||function(j){for(var Y,_e=1,De=arguments.length;_e<De;_e++)for(var ve in Y=arguments[_e])Object.prototype.hasOwnProperty.call(Y,ve)&&(j[ve]=Y[ve]);return j},xe.apply(this,arguments)},Ne=new(function(){function j(Y){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=H,Y&&this.init(Y)}return j.prototype.init=function(Y){var _e;if(Y===void 0&&(Y={}),!Y.biz||!Y.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=(_e=Y.appId)!==null&&_e!==void 0?_e:"",this.biz=Y.biz,this.config=xe(xe({},H),Y),this.eventQueue=new Oe(this.config),this.log(Y),this.inited=!0}catch(De){console.error(De)}},j.prototype.updateAppId=function(Y){this.appId=Y},j.prototype.send=function(Y,_e,De){var ve;if(_e===void 0&&(_e={}),this.inited){var ze=xe(xe({},_e),{eventId:Number(Y),biz:this.biz,appId:(ve=De==null?void 0:De.appId)!==null&&ve!==void 0?ve:this.appId});this.eventQueue.add(ze),this.log(ze)}else console.error("Event Report: init is not called")},j.prototype.log=function(Y){try{if(this.config.debug){var _e=Y.payload,De=function(ve,ze){var ot={};for(var ut in ve)Object.prototype.hasOwnProperty.call(ve,ut)&&ze.indexOf(ut)<0&&(ot[ut]=ve[ut]);if(ve!=null&&typeof Object.getOwnPropertySymbols=="function"){var St=0;for(ut=Object.getOwnPropertySymbols(ve);St<ut.length;St++)ze.indexOf(ut[St])<0&&Object.prototype.propertyIsEnumerable.call(ve,ut[St])&&(ot[ut[St]]=ve[ut[St]])}return ot}(Y,["payload"]);console.log("%c Event Report: ".concat(this.config.biz," "),"background: #8A97FC; color: #fff"),console.table(De),_e&&(console.info("payload:"),console.table(_e))}}catch(ve){console.error(ve)}},j}()),qe=function(){return qe=Object.assign||function(j){for(var Y,_e=1,De=arguments.length;_e<De;_e++)for(var ve in Y=arguments[_e])Object.prototype.hasOwnProperty.call(Y,ve)&&(j[ve]=Y[ve]);return j},qe.apply(this,arguments)},Et={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},et=function(){function j(Y){this.platform=v.P6.getEnvInfo(),this.isReportDt=Y.isReport||!1,this.isCollectDt=!0,re(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel=F.yK,this.options=function(_e,De){De.platform||(De=v.P6.getEnvInfo());var ve=_e.org,ze=_e.appkey,ot=_e.deviceId,ut=_e.sdkVersion,St=typeof navigator<"u"?navigator==null?void 0:navigator.userAgent:"".concat(De.platform,"_mini_program");return{org:ve,appkey:ze,deviceId:ot,sdkServiceId:"sid_".concat(v.P6.getUniqueId(),"_").concat(q()),did:St,sdkVersion:ut,os:F.Wc,sdkProduct:w.aC.web}}(Y,this.platform),this.sid=this.options.sdkServiceId,this.init(Y)}return j.getInstance=function(Y){return j.instance||(j.instance=new j(Y)),j.instance},j.prototype.getServiceId=function(){return this.sid||"sid_0"},j.prototype.setIsReportDt=function(Y){this.isReportDt=Y,Y&&this.rptEventQueue()},j.prototype.setIsCollectDt=function(Y){this.isCollectDt=Y,Y||(this.eventQueue=[])},j.prototype.rptEventQueue=function(){var Y=this;this.eventQueue.length&&this.eventQueue.forEach(function(_e,De){Ne.send(_e.eventId,_e.dt),De>=Y.eventQueue.length-1&&(Y.eventQueue=[])})},j.prototype.init=function(Y){j.instance||(j.instance=this,Ne.init({biz:F.el,token:F.$x,appId:Y.appkey,debug:!1}),this.reportInit())},j.prototype.updateAppKey=function(Y){this.options.appkey=Y,this.eventQueue.forEach(function(_e){_e.dt.appkey==="default#appkey"&&(_e.dt.appkey=Y)})},j.prototype.reportInit=function(){if(this.isCollectDt){var Y=this.options,_e=Y.did,De=Y.os,ve=Y.sdkVersion,ze=Y.deviceId;this.reportData(F.iB.INIT,{did:_e,os:De,sdkVersion:ve,deviceId:ze})}},j.prototype.geOperateFun=function(Y){var _e=this;if(!this.isCollectDt)return function(){};var De=1,ve=0,ze="",ot=S(),ut=Y.uid,St=Y.operationName;ut&&(this.uid=ut);var xt={uid:this.uid,operationId:"opr_".concat(v.P6.getUniqueId(),"_").concat(q()),requestid:"req_".concat(v.P6.getUniqueId(),"_").concat(q()),operationName:St};return function(Bt){var Zt,fe,z,te;if(Bt.data.isSuccess?(ve=0,ze=""):(Bt.data.code===0&&(Bt.data.code=F.Tp),ve=(Zt=Bt.data.code)!==null&&Zt!==void 0?Zt:ve,ze=(fe=Bt.data.codeDesc)!==null&&fe!==void 0?fe:ze),!((z=Bt.data)===null||z===void 0)&&z.accessChannel&&(_e.accessChannel=(te=Bt.data)===null||te===void 0?void 0:te.accessChannel),Bt.isRetry?(De++,Bt.data.subrequestid="".concat(De)):(xt.requestid="req_".concat(v.P6.getUniqueId(),"_").concat(q()),De=1),Bt.data.isLastApi){var ye=S();Bt.data.requestElapse=ye-ot,Bt.data.requestMethod="",Bt.data.subrequestid="0",Bt.data.code=ve===200?0:ve,Bt.data.codeDesc=ze}else Bt.data.requestName||(Bt.data.requestName=St);Bt.data.requestElapse||(Bt.data.requestElapse=S()-ot),_e.reportData.call(_e,F.iB.API,qe(qe(qe(qe({},Et),xt),Bt.data),{accessChannel:_e.accessChannel,operationType:G(St)})),Bt.isEndApi&&_e.reportData.call(_e,F.iB.API,qe(qe(qe({},xt),Et),{isSuccess:Bt.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:ve===200?0:ve,codeDesc:ze,requestElapse:Bt.data.requestElapse,accessChannel:_e.accessChannel,operationType:G(St)}))}},j.prototype.reportData=function(Y,_e){return De=this,ve=void 0,ot=function(){var ut,St,xt,Bt,Zt,fe,z,te;return function(ye,oe){var be,Pe,ie,at,we={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]};return at={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function V(Le){return function(Ce){return function(rt){if(be)throw new TypeError("Generator is already executing.");for(;we;)try{if(be=1,Pe&&(ie=2&rt[0]?Pe.return:rt[0]?Pe.throw||((ie=Pe.return)&&ie.call(Pe),0):Pe.next)&&!(ie=ie.call(Pe,rt[1])).done)return ie;switch(Pe=0,ie&&(rt=[2&rt[0],ie.value]),rt[0]){case 0:case 1:ie=rt;break;case 4:return we.label++,{value:rt[1],done:!1};case 5:we.label++,Pe=rt[1],rt=[0];continue;case 7:rt=we.ops.pop(),we.trys.pop();continue;default:if(!((ie=(ie=we.trys).length>0&&ie[ie.length-1])||rt[0]!==6&&rt[0]!==2)){we=0;continue}if(rt[0]===3&&(!ie||rt[1]>ie[0]&&rt[1]<ie[3])){we.label=rt[1];break}if(rt[0]===6&&we.label<ie[1]){we.label=ie[1],ie=rt;break}if(ie&&we.label<ie[2]){we.label=ie[2],we.ops.push(rt);break}ie[2]&&we.ops.pop(),we.trys.pop();continue}rt=oe.call(ye,we)}catch(ge){rt=[6,ge],Pe=0}finally{be=ie=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([Le,Ce])}}}(this,function(ye){switch(ye.label){case 0:return ye.trys.push([0,3,,4]),ut=S(),St=0,Y!==F.iB.API?[3,2]:[4,(oe=this.platform,new Promise(function(be){var Pe;oe.platform||(oe=v.P6.getEnvInfo());var ie="";if(oe.platform===v.iw.WEB){var at=navigator.connection;at!=null&&at.type?(at==null||at.type,ie=w.td.WIFI):at!=null&&at.effectiveType&&(ie=w.td[at.effectiveType.toLocaleUpperCase()]),be(ie)}else oe.platform===v.iw.NODE?(ie=w.td.UNKNOWN,be(ie)):(Pe=oe.global)===null||Pe===void 0||Pe.getNetworkType({success:function(we){ie=w.td[we.networkType.toLocaleUpperCase()],be(ie)}})}))];case 1:St=ye.sent(),ye.label=2;case 2:return xt=this.options,Bt=xt.appkey,Zt=xt.sdkServiceId,fe=xt.sdkProduct,z=qe({lts:ut,net:St,appkey:Bt,sdkServiceId:Zt,sdkProduct:fe},_e),this.isReportDt?Ne.send(Y,z):this.isCollectDt&&this.eventQueue.push({eventId:Y,dt:z}),[3,4];case 3:return te=ye.sent(),console.warn(te),[3,4];case 4:return[2]}var oe})},new((ze=void 0)||(ze=Promise))(function(ut,St){function xt(fe){try{Zt(ot.next(fe))}catch(z){St(z)}}function Bt(fe){try{Zt(ot.throw(fe))}catch(z){St(z)}}function Zt(fe){var z;fe.done?ut(fe.value):(z=fe.value,z instanceof ze?z:new ze(function(te){te(z)})).then(xt,Bt)}Zt((ot=ot.apply(De,ve||[])).next())});var De,ve,ze,ot},j}(),st=__webpack_require__(7288),vt=__webpack_require__(7479),It=__webpack_require__(2856),wt=__webpack_require__(9667),Ht=__webpack_require__(3770),ue=__webpack_require__(1735),Se=__webpack_require__(7384),Ue=__webpack_require__(70),ct=__webpack_require__(8161);function Xe(j){return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},Xe(j)}var bt=function(){return bt=Object.assign||function(j){for(var Y,_e=1,De=arguments.length;_e<De;_e++)for(var ve in Y=arguments[_e])Object.prototype.hasOwnProperty.call(Y,ve)&&(j[ve]=Y[ve]);return j},bt.apply(this,arguments)},_t=function(j,Y,_e,De){return new(_e||(_e=Promise))(function(ve,ze){function ot(xt){try{St(De.next(xt))}catch(Bt){ze(Bt)}}function ut(xt){try{St(De.throw(xt))}catch(Bt){ze(Bt)}}function St(xt){var Bt;xt.done?ve(xt.value):(Bt=xt.value,Bt instanceof _e?Bt:new _e(function(Zt){Zt(Bt)})).then(ot,ut)}St((De=De.apply(j,Y||[])).next())})},Lt=function(j,Y){var _e,De,ve,ze,ot={label:0,sent:function(){if(1&ve[0])throw ve[1];return ve[1]},trys:[],ops:[]};return ze={next:ut(0),throw:ut(1),return:ut(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function ut(St){return function(xt){return function(Bt){if(_e)throw new TypeError("Generator is already executing.");for(;ot;)try{if(_e=1,De&&(ve=2&Bt[0]?De.return:Bt[0]?De.throw||((ve=De.return)&&ve.call(De),0):De.next)&&!(ve=ve.call(De,Bt[1])).done)return ve;switch(De=0,ve&&(Bt=[2&Bt[0],ve.value]),Bt[0]){case 0:case 1:ve=Bt;break;case 4:return ot.label++,{value:Bt[1],done:!1};case 5:ot.label++,De=Bt[1],Bt=[0];continue;case 7:Bt=ot.ops.pop(),ot.trys.pop();continue;default:if(!((ve=(ve=ot.trys).length>0&&ve[ve.length-1])||Bt[0]!==6&&Bt[0]!==2)){ot=0;continue}if(Bt[0]===3&&(!ve||Bt[1]>ve[0]&&Bt[1]<ve[3])){ot.label=Bt[1];break}if(Bt[0]===6&&ot.label<ve[1]){ot.label=ve[1],ve=Bt;break}if(ve&&ot.label<ve[2]){ot.label=ve[2],ot.ops.push(Bt);break}ve[2]&&ot.ops.pop(),ot.trys.pop();continue}Bt=Y.call(j,ot)}catch(Zt){Bt=[6,Zt],De=0}finally{_e=ve=0}if(5&Bt[0])throw Bt[1];return{value:Bt[0]?Bt[1]:void 0,done:!0}}([St,xt])}}},Ae=v.P6.getEnvInfo(),Re={CLOSED:3,CLOSING:2,CONNECTING:0,OPEN:1},Me=function(){function j(Y){var _e,De=this;if(this.name="connection",this.appKey="",this.dnsTotal=0,this.max_cache_length=100,this._reportLogs=!1,this._reportInterval=X.XV,this._isLogging=!1,this._initWithAppId=!1,this.lastHeartbeat=Date.now(),this.isDebug=Y.isDebug||!1,this.isReport=!1,this.uploadPartEnable=!0,this.isHttpDNS=Y.isHttpDNS===void 0||Y.isHttpDNS,this.heartBeatWait=Y.heartBeatWait||X.al,this.autoReconnectNumMax=Y.autoReconnectNumMax||X.ke,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.delivery=Y.delivery||!1,this.disconnectedReason=void 0,this.loginInfoCustomExt=void 0,this.https=v.P6.isUseHttps(Y.https),this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"].filter(function(ut){return ut.startsWith(De.https?"https":"")}),this.dnsIndex=0,this.restHosts=[],this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.socketHost=[],this.hostTotal=0,this.times=1,this.autoReconnectNumTotal=0,this.domain="easemob.com",this.dnsTotal=this.dnsArr.length,"appKey"in Y&&(this.appKey=Y.appKey),"appId"in Y&&(this.appId=Y.appId,this._initWithAppId=!0),this.appName="",this.orgName="",this.token="",this.grantType="",this.apiUrl=Y.apiUrl||"",this.url=Y.url||"",this.version="4.12.0",this.deviceId=Y.deviceId||"webim",this.isFixedDeviceId=(_e=Y.isFixedDeviceId)===null||_e===void 0||_e,this.osType=16,this.useOwnUploadFun=Y.useOwnUploadFun||!1,this.compressType=[0],this.encryptType=[0],this.clientResource="",this.expiresIn=0,this.expirationTime=0,this.useReplacedMessageContents=Y.useReplacedMessageContents||!1,this.logOut=!0,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",appId:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this._msgHash={},this._msgPromiseHash={},this._queues=[],this._load_msg_cache=[],this.unMSyncSendMsgMap=new Map,this.mr_cache={},this.reconnecting=!1,this._offlineMessagePullState=y.a.SYNC_INIT,this._offlineMessagePullQueue=[],this.uniPushConfig={},this.uniPush=null,this.isRegisterPush=!1,this.pushCertificateName="",this._initWithAppId){if(this.appKey="",typeof this.appId!="string"||!this.appId)throw Error("Invalid appId: ".concat(this.appId))}else{if(typeof this.appKey!="string"||this.appKey.split("#").length!==2)throw Error("Invalid appKey: ".concat(this.appKey));this.devInfos=this.appKey.split("#"),this.orgName=this.devInfos[0],this.appName=this.devInfos[1]}this.listen=x.bind(this),this.mSync=this.usePlugin(I.ZP),this.eventHandler=this.usePlugin(M),Object.assign(j.prototype,vt),Object.assign(j.prototype,It),Object.assign(j.prototype,wt),Object.assign(j.prototype,Ht),Object.assign(j.prototype,ue),Object.assign(j.prototype,Se),Object.assign(j.prototype,Ue),this.dataReport=new et({appkey:this.appKey||"default#appkey",org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport});var ve=0,ze=this;if(Object.defineProperty(v.P6,"ajaxUnconventionalErrorTimes",{set:function(ut){ut!==0&&(g.kg.debug("rest api request fail times: ".concat(ut)),(ve=ut)%5==0&&ze.isHttpDNS&&(g.kg.debug("refresh dns config when rest request fail."),pt.call(ze,function(){})))},get:function(){return ve}}),this.isFixedDeviceId){var ot=v.P6.getLocalDeviceInfo();ot&&(this.clientResource=JSON.parse(ot).deviceId)}g.kg.debug("init SDK: Conn ".concat(this.version," ").concat(Ae.platform))}return j.prototype.usePlugin=function(Y,_e){if(_e!=="push")return _e?void(this[_e]=new Y(this)):new Y(this);Y.config&&Y.emPush?(this.uniPushConfig=Y.config,this.uniPush=Y.emPush):g.kg.error("use push plugin failed","emPush",this.uniPush,"config",this.uniPushConfig)},j.prototype.listen=function(Y){},j.prototype.addEventHandler=function(Y,_e){},j.prototype.removeEventHandler=function(Y){},j.prototype.registerUser=function(Y){return _t(this,void 0,void 0,function(){var _e,De;return Lt(this,function(ve){switch(ve.label){case 0:if(!Y.username||!Y.password)throw Error("Invalid parameter");ve.label=1;case 1:return ve.trys.push([1,5,,6]),_e=this.dataReport.geOperateFun({uid:Y.username,operationName:w.fI.REGISTER}),this.isHttpDNS?(this.dnsIndex=0,[4,pt.call(this,_e)]):[3,3];case 2:ve.sent(),ve.label=3;case 3:return[4,nt.call(this,Y,{rpt:_e})];case 4:return[2,ve.sent()];case 5:throw De=ve.sent(),Y.error&&Y.error(De),De;case 6:return[2]}})})},j.prototype.open=function(Y){var _e;return _t(this,void 0,void 0,function(){var De,ve,ze,ot,ut,St;return Lt(this,function(xt){switch(xt.label){case 0:if(g.kg.debug("open",Y.user,"isLogout:",this.logOut),this._isLogging)throw ve=l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_ERROR,message:"Currently logging in, please wait."});if(!this.logOut)throw ve=l.Z.create({type:T.E.WEBIM_USER_ALREADY_LOGIN,message:"The user has logged in."});this.retryConnectTimes=0,this._isLogging=!0,xt.label=1;case 1:if(xt.trys.push([1,6,7,8]),Ae.platform==="web"&&(De=v.P6.detectBrowser(),g.kg.debug("browser",De)),ve=yt.call(this,Y))throw(_e=this.onError)===null||_e===void 0||_e.call(this,ve),ve;return Y.accessToken&&(this.token=Y.accessToken),ze=bt({},Y),ot=this.dataReport.geOperateFun({uid:Y.user,operationName:w.fI.LOGIN}),this.dnsIndex=0,this.isHttpDNS?[4,pt.call(this,ot)]:[3,3];case 2:xt.sent(),xt.label=3;case 3:return g.kg.initReport({report:this._reportLogs,reportInterval:this._reportInterval,connection:this}),[4,Fe.call(this,ze,{rpt:ot})];case 4:return ut=xt.sent(),[4,ke.call(this,ot)];case 5:return xt.sent(),g.kg.debug("grantType",this.grantType),v.P6.listenNetwork(Ve.bind(this),$e.bind(this)),v.P6.listenBrowserVisibility(function(){g.kg.debug("visibility: true")},function(){g.kg.debug("visibility: false")}),[2,ut];case 6:throw St=xt.sent(),this._isLogging=!1,Y.error&&Y.error(St),g.kg.error("login failed",St),St;case 7:return g.kg.reportLog(),[7];case 8:return[2]}})})},j.prototype.isOpened=function(){return this.sock&&this.sock.readyState===Re.OPEN||!1},j.prototype.close=function(){var Y,_e,De;g.kg.debug("call close"),g.kg._stopReportLogs(),this.logOut=!0,this.disconnectedReason=void 0,this.reconnecting=!1,this.context.status=T.E.STATUS_CLOSING,this.sock&&this.sock.close(),(Y=this.unMSyncSendMsgMap)===null||Y===void 0||Y.clear(),this.stopHeartBeat(),this.rejectMessage(),this.context.status=T.E.STATUS_CLOSED,this._load_msg_cache=[],this._queues=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken="",this.isRegisterPush=!1,this.clearTokenTimeout(),(De=(_e=this==null?void 0:this._localCache)===null||_e===void 0?void 0:_e.getInstance())===null||De===void 0||De.close(),this.connectionTimer&&clearTimeout(this.connectionTimer),this.provisionTimer&&clearTimeout(this.provisionTimer),this.probingTimer&&clearTimeout(this.probingTimer)},j.prototype.downloadAndParseCombineMessage=function(Y){var _e=this,De=Y.url,ve=Y.secret;return new Promise(function(ze,ot){var ut,St,xt=v.P6.getEnvInfo(),Bt=xt.platform!=="web"&&xt.platform!=="node"&&xt.platform!=="quick_app"&&((St=(ut=xt.global)===null||ut===void 0?void 0:ut.canIUse)===null||St===void 0?void 0:St.call(ut,"getFileSystemManager")),Zt=function(z){var te=function(ie){ot({type:T.E.PARSE_FILE_ERROR,message:"Read file failed",data:ie})},ye=function(ie){return _t(_e,void 0,void 0,function(){var at,we,V,Le,Ce,rt,ge,Be,He,Ie,ht,Tt,Yt;return Lt(this,function(dt){switch(dt.label){case 0:for(at=Bt?new Uint8Array(ie.data):new Uint8Array(ie.target.result),we=0,V=0,Le=2,Ce=at.subarray(we,we+Le),rt=v.P6.Uint8ArrayToString(Ce),g.kg.debug("file header:",rt),V+=Le,ge=0,Be=2;Be<at.length-1;Be++)Be%2==1&&(ge^=at[Be]);if(He=at.subarray(at.length-1,at.length),g.kg.debug("checkResult:",ge,He[0]===ge),He[0]!==ge)return[2,ot({type:T.E.PARSE_FILE_ERROR,message:"File verification failed"})];if(rt!=="cm")return[3,7];dt.label=1;case 1:dt.trys.push([1,5,,6]),Ie=[],ht=function(){var Qe,kt,Gt,At;return Lt(this,function($t){switch($t.label){case 0:return we+=Le,V+=Le=4,Qe=at.subarray(we,we+Le),we+=Le,Le=Qe.reduce(function(vr,pr,br){return vr+(pr<<8*(Qe.length-br-1))},0),V+=Le,kt=at.subarray(we,we+Le),Gt=(Gt=Tt.root.lookup("easemob.pb.Meta")).decode(kt),[4,ct.Z.call(Tt,Gt,0,!0,!0)];case 1:return At=$t.sent(),Ie.push(At),[2]}})},Tt=this,dt.label=2;case 2:return V<at.length-1?[5,ht()]:[3,4];case 3:return dt.sent(),[3,2];case 4:return[2,ze(Ie)];case 5:return Yt=dt.sent(),ot({type:T.E.PARSE_FILE_ERROR,message:"Parse file failed",data:Yt}),[3,6];case 6:return[3,8];case 7:return[2,ot({type:T.E.PARSE_FILE_ERROR,message:"File verification failed"})];case 8:return[2]}})})};if(Bt){var oe=xt.global.getFileSystemManager(),be=z.tempFilePath;oe.readFile({filePath:be,success:ye,fail:te})}else if(z instanceof Blob){var Pe=new FileReader;Pe.readAsArrayBuffer(z),Pe.onerror=te,Pe.onload=ye}},fe=function(z){ot({type:T.E.WEBIM_DOWNLOADFILE_ERROR,message:"Download failed, please try again",data:z})};Bt?xt.global.downloadFile({url:De,success:Zt,fail:fe}):v.P6.download.call(_e,{url:De,headers:{Accept:"application/json"},onFileDownloadComplete:Zt,onFileDownloadError:fe,secret:ve,accessToken:_e.context.accessToken})})},j.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},j.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},j.prototype.heartBeat=function(){},j.prototype.renewToken=function(Y){var _e=this;return this.isOpened()?this.getTokenExpireTimestamp(Y).then(function(De){var ve=De.expire_timestamp,ze=Date.now();return _e.expirationTime=ve,_e.expiresIn=ve-ze,_e.token=Y,_e.context.accessToken=Y,_e.clearTokenTimeout(),_e.tokenExpireTimeCountDown(_e.expiresIn),{status:!0,token:Y,expire:ve}}):Promise.reject({status:!1})},j.prototype.clearTokenTimeout=function(){g.kg.info("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer),this.tokenWillExpireTimer=null,this.tokenExpiredTimer=null},j.prototype.tokenExpireTimeCountDown=function(Y){var _e=this;g.kg.info("tokenExpireTimeCountDown",Y),Y>Math.pow(2,31)-1&&(Y=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout(function(){var De;_e.onTokenWillExpire&&_e.onTokenWillExpire(),(De=_e.eventHandler)===null||De===void 0||De.dispatch("onTokenWillExpire"),g.kg.info("onTokenWillExpire",Math.floor(Y/2))},Y/2),this.tokenExpiredTimer=setTimeout(function(){var De;g.kg.info("onTokenExpired",0),_e.onTokenExpired&&_e.onTokenExpired(),(De=_e.eventHandler)===null||De===void 0||De.dispatch("onTokenExpired"),_e.close()},Y)},j.prototype.compareTokenExpireTime=function(Y,_e){var De,ve=Number(_e)-Number(Y);g.kg.debug("compareTokenExpireTime",ve),ve<=this.expiresIn/2&&ve>0?(this.onTokenWillExpire&&this.onTokenWillExpire(),(De=this.eventHandler)===null||De===void 0||De.dispatch("onTokenWillExpire"),g.kg.info("onTokenWillExpire",ve)):ve<=0&&(this.closeByTokenExpired(),g.kg.info("closeByTokenExpired",ve))},j.prototype.closeByTokenExpired=function(){var Y;g.kg.info("closed By TokenExpired"),this.onTokenExpired&&this.onTokenExpired(),(Y=this.eventHandler)===null||Y===void 0||Y.dispatch("onTokenExpired"),this.close()},j.prototype.rejectMessage=function(){var Y=this,_e=Object.keys(this._msgHash);if(_e.length>0){var De=l.Z.create({type:T.E.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});_e.forEach(function(ve){var ze,ot,ut;!((ze=Y.unMSyncSendMsgMap)===null||ze===void 0)&&ze.has(ve)||(Y._msgHash[ve].reject instanceof Function&&Y._msgHash[ve].reject(De),(ut=(ot=Y._localCache)===null||ot===void 0?void 0:ot.getInstance())===null||ut===void 0||ut.updateLocalMessage(ve,{serverMsgId:ve,status:st.r.FAIL}),Y._msgHash[ve].fail instanceof Function&&Y._msgHash[ve].fail(De),Y._msgHash[ve].messageTimer&&clearTimeout(Y._msgHash[ve].messageTimer),delete Y._msgHash[ve])})}},j.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},j.prototype.reconnect=function(Y){var _e,De=this;if(this.logout)return g.kg.warn("The user has already logged out when reconnecting");if(g.kg.debug("socket reconnect readyState",this.sock.readyState),(this.sock.readyState!==Re.CONNECTING||Y)&&(this.sock.readyState!==Re.OPEN||Y)){g.kg.info("reconnect: time",this.times),g.kg.info("reconnect sock.readyState: ",this.sock.readyState),this.reconnecting===!1&&(this.reconnecting=!0),(_e=this.eventHandler)===null||_e===void 0||_e.dispatch("onReconnecting"),this.rejectMessage(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1);var ve=1e3*v.P6.getRetryDelay(this.times);g.kg.info("reconnect delay: ",ve),setTimeout(function(){(De.sock.readyState!==Re.OPEN||Y)&&(g.kg.info("login sock.readyState: ",De.sock.readyState),De.sock.close(),Je.call(De).catch(function(ze){g.kg.error("reconnect websocket failed",ze)}),De.times++)},ve),this.autoReconnectNumTotal++}},j.prototype.send=function(Y){return Promise.resolve(null)},j.prototype.setLoginInfoCustomExt=function(Y){if(g.kg.debug("setLoginInfoCustomExt","params:",Y),Y){if(typeof Y!="string")throw new Error("ext must be a string");if(Y.length>1024)throw new Error("ext length must be less than 1024")}this.loginInfoCustomExt=Y},j.prototype.onShow=function(){var Y=this;g.kg.debug("execute onshow callback",this.lastHeartbeat),!this.logOut&&!this.reconnecting&&Date.now()-this.lastHeartbeat>2e3&&(g.kg.debug("send ping"),this.mSync.sendUnreadDeal(),this.probingTimer&&clearTimeout(this.probingTimer),this.probingTimer=setTimeout(function(){g.kg.error("Websocket connection timeout"),Y.logOut||Y.reconnecting||Y.reconnect(!0)},X.xd))},j._getSock=function(){},j}();function lt(j,Y){var _e=Y.rpt,De=Y.isRetry,ve=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users",ze={requestName:w.c.RESISTER,requestUrl:ve},ot={headers:{"Content-Type":"application/json"},url:ve,dataType:"json",data:JSON.stringify({username:j.username,password:j.password,nickname:j.nickname||""})};return v.P6.ajax(ot,w.fI.SDK_INTERNAL).then(function(ut){var St=bt(bt({},ut),{type:T.E.REQUEST_SUCCESS}),xt=ut.extraInfo,Bt=xt.httpCode,Zt=xt.elapse;return _e({isEndApi:!0,isRetry:De,data:bt(bt({},{requestElapse:Zt,isSuccess:1,code:Bt}),ze)}),St}).catch(function(ut){var St=ut.extraInfo,xt=St.elapse,Bt=St.httpCode,Zt=St.errDesc;throw _e({isRetry:De,data:bt(bt({},{requestElapse:xt,isSuccess:0,code:Bt,codeDesc:Zt}),ze)}),ut})}function nt(j,Y){return _t(this,void 0,void 0,function(){var _e,De;return Lt(this,function(ve){switch(ve.label){case 0:_e=Y.rpt,ve.label=1;case 1:return ve.trys.push([1,3,,7]),[4,lt.call(this,j,Y)];case 2:return[2,ve.sent()];case 3:return!((De=ve.sent()).message.includes("Open registration doesn't allow")||De.message.includes("username be unique")||De.message.includes("is not legal"))&&this.isHttpDNS&&this.restIndex+1<this.restTotal?(this.restIndex++,Xt.call(this),[4,nt.call(this,j,{rpt:_e})]):[3,5];case 4:return[2,ve.sent()];case 5:throw g.kg.error("retry signup failed",De),_e({data:{isLastApi:1,isSuccess:0}}),De;case 6:return[3,7];case 7:return[2]}})})}function Ye(j,Y){var _e;return _t(this,void 0,void 0,function(){var De,ve,ze,ot,ut,St,xt,Bt,Zt,fe=this;return Lt(this,function(z){switch(z.label){case 0:if(De=yt.call(this,j))throw De;return g.kg.debug("socket readyState",(_e=this.sock)===null||_e===void 0?void 0:_e.readyState),ve=Y.rpt,ze=Y.isRetry,Ct.call(this,j),this.user=j.user,ot=this.context.appName,ut=this.context.orgName,St=this.apiUrl+"/"+ut+"/"+ot+"/token",j.accessToken?(g.kg.debug("login with accessToken"),this.grantType="accessToken",this.token=j.accessToken,this.context.accessToken=j.accessToken,this.context.restTokenData=j.accessToken,[2,{accessToken:j.accessToken}]):[3,1];case 1:return j.agoraToken?(g.kg.debug("login with agoraToken"),this.grantType="agoraToken",this.token=j.agoraToken,this.context.accessToken=j.agoraToken,this.context.restTokenData=j.agoraToken,[2,{accessToken:j.agoraToken}]):[3,2];case 2:return g.kg.debug("login with password"),this.grantType="password",xt={grant_type:"password",username:j.user,password:j.pwd,timestamp:+new Date},Bt=JSON.stringify(xt),Zt={headers:{"Content-Type":"application/json"},url:St,dataType:"json",data:Bt,version:this.version},g.kg.debug("start get token"),[4,v.P6.ajax(Zt,w.fI.SDK_INTERNAL).then(function(te){g.kg.debug("get token success",te),fe.token=te.access_token,fe.context.restTokenData=te.access_token,fe.context.accessToken=te.access_token,fe.expiresIn=te.expires_in;var ye=te.extraInfo,oe=ye.httpCode,be=ye.elapse,Pe={requestName:w.c.LOGIN_BY_PWD,requestElapse:be,requestUrl:St,isSuccess:1,code:oe};return ve({isRetry:ze,data:Pe}),{accessToken:te.access_token,duration:te.expires_in}}).catch(function(te){var ye=te.extraInfo,oe=ye.elapse,be=ye.httpCode,Pe=ye.errDesc,ie={requestName:w.c.LOGIN_BY_PWD,requestElapse:oe,requestUrl:St,isSuccess:0,code:be,codeDesc:Pe};throw ve({isRetry:ze,data:ie}),te})];case 3:return[2,z.sent()]}})})}function Fe(j,Y){var _e;return _t(this,void 0,void 0,function(){var De,ve,ze;return Lt(this,function(ot){switch(ot.label){case 0:De=Y.rpt,ot.label=1;case 1:return ot.trys.push([1,3,,7]),[4,Ye.call(this,j,Y)];case 2:return[2,ot.sent()];case 3:return(ve=ot.sent()).message!=="invalid password"&&ve.message!=="user not found"&&this.isHttpDNS&&this.restIndex+1<this.restTotal?(this.restIndex++,Xt.call(this),[4,Fe.call(this,j,{rpt:De,isRetry:!0})]):[3,5];case 4:return[2,ot.sent()];case 5:throw g.kg.error("retry login failed",ve),De({data:{isLastApi:1,isSuccess:0}}),this.clear(),ze=void 0,ve.error&&ve.error_description?(ze=l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,message:ve.error_description,data:ve}),this.onError&&this.onError(ze),ze):(ze=l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_ERROR,message:(_e=ve.message)!==null&&_e!==void 0?_e:"login failed",data:ve}),this.onError&&this.onError(ze),ze);case 6:return[3,7];case 7:return[2]}})})}function Ve(){var j;g.kg.debug("online"),this.onOnline&&this.onOnline(),(j=this.eventHandler)===null||j===void 0||j.dispatch("onOnline"),this.sock&&this.sock.readyState!==1&&(g.kg.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())}function $e(){var j,Y;g.kg.debug("offline"),(j=this.sock)===null||j===void 0||j.close(),this.onOffline&&this.onOffline(),(Y=this.eventHandler)===null||Y===void 0||Y.dispatch("onOffline")}function ke(j){var Y,_e,De;return _t(this,void 0,void 0,function(){var ve,ze,ot,ut;return Lt(this,function(St){switch(St.label){case 0:ve=new Date().getTime(),St.label=1;case 1:return St.trys.push([1,3,,7]),[4,Je.call(this,j)];case 2:return ze=St.sent(),j&&j({data:{isLastApi:1,isSuccess:1,accessChannel:(Y=this.socketHost[this.hostIndex])===null||Y===void 0?void 0:Y.channel}}),[2,ze];case 3:if(ot=St.sent(),g.kg.error("connect to msync failed times:",this.retryConnectTimes,ot),X.bh.includes(ot.type))throw j&&j({data:{isLastApi:1,isSuccess:0,accessChannel:(_e=this.socketHost[this.hostIndex])===null||_e===void 0?void 0:_e.channel,codeDesc:this.disconnectedReason&&JSON.stringify(this.disconnectedReason)||ot.message}}),ot;return this.retryConnectTimes++,this.retryConnectTimes<X.Ge?(this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1,Mt.call(this)),ot.type===T.E.REQUEST_TIMEOUT&&ot.message==="provision timeout"||(ut=new Date().getTime()-ve,j==null||j({isRetry:this.retryConnectTimes!==1,data:{requestUrl:this.url,requestName:w.c.CONNECT_WEBSOCKET,isSuccess:0,code:w.dd.closed,requestElapse:ut,codeDesc:this.disconnectedReason&&JSON.stringify(this.disconnectedReason)||"websocket close"}})),[4,ke.call(this,j)]):[3,5];case 4:return St.sent(),[3,6];case 5:throw g.kg.error("connect failed three times",ot),j&&j({data:{isLastApi:1,isSuccess:0,accessChannel:(De=this.socketHost[this.hostIndex])===null||De===void 0?void 0:De.channel,codeDesc:this.disconnectedReason&&JSON.stringify(this.disconnectedReason)||ot.message}}),ot;case 6:return[3,7];case 7:return[2]}})})}function Je(j){var Y=this,_e=new Date().getTime(),De="pending";return new Promise(function(ve,ze){var ot;Y._getSock?(ot=Y._getSock()).readyState===void 0&&(Y.needSetReadyState=!0):(ot=new WebSocket(Y.url)).binaryType="arraybuffer",Y.sock=ot,Y.connectionTimer&&clearTimeout(Y.connectionTimer),Y.connectionTimer=setTimeout(function(){Y.disconnectedReason={type:T.E.REQUEST_TIMEOUT,message:"connection timeout"},ot.close(),ze==null||ze(Y.disconnectedReason)},X.th),g.kg.debug("start connect ws"),Y.connectionResolve=ve,Y.connectionReject=ze;var ut=function(){if(Y.connectionTimer&&clearTimeout(Y.connectionTimer),g.kg.debug("websocket onOpen"),j){var Bt=new Date().getTime()-_e;j({isRetry:Y.retryConnectTimes!==0,data:{requestUrl:Y.url,requestName:w.c.CONNECT_WEBSOCKET,isSuccess:1,code:w.dd.success,requestElapse:Bt}})}var Zt;Zt=Y._getSock?v.P6.flow([Y.mSync.generateProvision,Y.mSync.base64transform])():Y.mSync.generateProvision();try{Y.provisionTimer&&clearTimeout(Y.provisionTimer),Y.provisionTimer=setTimeout(function(){g.kg.debug("provision timeout"),Y.disconnectedReason=l.Z.create({type:T.E.REQUEST_TIMEOUT,message:"provision timeout"}),ot.close(),ze==null||ze(Y.disconnectedReason)},X.Nt),ot.send(Zt)}catch(z){var fe=l.Z.create({type:T.E.SDK_RUNTIME_ERROR,message:"send message error",data:z});Y.onError&&Y.onError(fe)}},St=function(Bt){Y.connectionTimer&&clearTimeout(Y.connectionTimer),setTimeout(function(){var Zt,fe,z,te,ye,oe,be;if(g.kg.debug("websocket onClose, isLogging:",Y._isLogging,Bt),Y.needSetReadyState&&(Y.sock=bt(bt({},Y.sock),{close:Y.sock.close,send:Y.sock.send,readyState:Re.CLOSED})),Y._isLogging)return ze==null||ze({type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}),void(De="rejected");if(De!=="rejected")if(De="rejected",Y.logOut)Y.clear(),Y.resetConnState(),(fe=(Zt=Y==null?void 0:Y._localCache)===null||Zt===void 0?void 0:Zt.getInstance())===null||fe===void 0||fe.close(),Y.onClosed&&Y.onClosed(),(z=Y.eventHandler)===null||z===void 0||z.dispatch("onDisconnected",Y.disconnectedReason),ze==null||ze(Y.disconnectedReason||{type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"});else if(Y.autoReconnectNumTotal<Y.autoReconnectNumMax){Y.reconnect();var Pe={type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};Y.onError&&Y.onError(Pe),Y.autoReconnectNumTotal%Y.refreshDNSIntervals==0&&Y.isHttpDNS&&(g.kg.debug("refresh dns config when websocket close"),pt.call(Y,function(){}))}else(te=Y.unMSyncSendMsgMap)===null||te===void 0||te.clear(),Y.rejectMessage(),Pe={type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"},Y.disconnectedReason=l.Z.create({type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"reconnection failed"}),Y.onError&&Y.onError(Pe),(oe=(ye=Y==null?void 0:Y._localCache)===null||ye===void 0?void 0:ye.getInstance())===null||oe===void 0||oe.close(),Y.onClosed&&Y.onClosed(),(be=Y.eventHandler)===null||be===void 0||be.dispatch("onDisconnected",Y.disconnectedReason),Y.resetConnState(),Y.reconnecting=!1,ze==null||ze(Pe),g.kg.debug("reconnect fail");else g.kg.debug("reject is null")},0)},xt=function(Bt){var Zt=Y.mSync,fe=Zt.decodeMSync,z=Zt.distributeMSync;v.P6.flow([fe,z])(Bt)};Ae.platform==="web"?(ot.onopen=ut,ot.onclose=St,ot.onmessage=xt):(ot.onOpen(ut),ot.onMessage(xt),ot.onClose(St),typeof window<"u"&&window.WebSocket||ot.onError(function(Bt){var Zt,fe,z,te;if(Y.connectionTimer&&clearTimeout(Y.connectionTimer),g.kg.debug("websocket onerror, isLogging:",Y._isLogging,Bt),Y.sock.readyState!==Re.CLOSED&&(Y.sock=bt(bt({},Y.sock),{close:Y.sock.close,send:Y.sock.send,readyState:Re.CLOSED})),Y.onError&&Y.onError({type:T.E.WEBIM_CONNECTION_ERROR,message:"on socket error",data:Bt}),Y._isLogging)return ze==null||ze({type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}),void(De="rejected");if(De!=="rejected"){if(De="rejected",!Y.logOut)if(Y.autoReconnectNumTotal<Y.autoReconnectNumMax)g.kg.debug("sock.onError reconnect",Y.autoReconnectNumTotal,Y.autoReconnectNumMax),Y.reconnect(),Y.autoReconnectNumTotal%Y.refreshDNSIntervals==0&&Y.isHttpDNS&&(g.kg.debug("refresh dns config when websocket error"),pt.call(Y,function(){}));else{var ye={type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};Y.disconnectedReason=l.Z.create({type:T.E.WEBIM_CONNCTION_DISCONNECTED,message:"reconnection failed"}),(Zt=Y.unMSyncSendMsgMap)===null||Zt===void 0||Zt.clear(),Y.rejectMessage(),Y.onError&&Y.onError(ye),(z=(fe=Y==null?void 0:Y._localCache)===null||fe===void 0?void 0:fe.getInstance())===null||z===void 0||z.close(),Y.onClosed&&Y.onClosed(),(te=Y.eventHandler)===null||te===void 0||te.dispatch("onDisconnected",Y.disconnectedReason),Y.resetConnState(),Y.reconnecting=!1,ze==null||ze(ye),g.kg.debug("reconnect fail")}}else g.kg.debug("reject is null")}))})}function yt(j){if(Xe(j)!=="object"||j===null)return l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the param is illegal"});if(!j.user||typeof j.user!="string"){var Y=l.Z.create({type:T.E.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,message:"the user is empty or type is not string"});return g.kg.debug("open params error",Y),Y}return!("agoraToken"in j)||j.agoraToken&&typeof j.agoraToken=="string"?!("accessToken"in j)||j.accessToken&&typeof j.accessToken=="string"?"accessToken"in j||"agoraToken"in j||j.pwd?void 0:(Y=l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the accessToken or pwd is illegal"}),g.kg.debug("open params error",Y),Y):(Y=l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the accessToken is illegal"}),g.kg.debug("open params error",Y),Y):(Y=l.Z.create({type:T.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the agoraToken is illegal"}),g.kg.debug("open params error",Y),console.warn("agoraToken is deprecated, please use accessToken instead"),Y)}function Ct(j){this.context.jid={appKey:this.appKey,name:j.user,domain:this.domain,clientResource:this.clientResource},this.context.root=this.root,this.context.userId=j.user,this.context.appKey=this.appKey,this.context.appName=this.appName,this.context.orgName=this.orgName}function mt(j){var Y=this,_e=j.rpt,De=j.isRetry,ve=this.dnsIndex<this.dnsTotal?this.dnsIndex:0,ze="".concat(this.dnsArr[ve],"/easemob/server.json");g.kg.debug("call getHttpDNS: "+this.dnsIndex);var ot={url:ze,dataType:"json",type:"GET",data:{}};return this._initWithAppId?ot.data={app_id:this.appId,sdk_version:"4.10.0",file_version:"1"}:ot.data={app_key:Ae.platform===v.iw.WEB?encodeURIComponent(this.appKey):this.appKey},v.P6.ajax(ot,w.fI.SDK_INTERNAL).then(function(ut){if(!ut)throw l.Z.create({type:T.E.SERVER_GET_DNSLIST_FAILED,message:"get DNS failed"});g.kg.debug("getHttpDNS success");var St=ut.rest.hosts,xt=Y.https?"https":"http";if(g.kg.info("httpType: "+xt),Y._initWithAppId){if(!ut.app_key)throw(Zt=l.Z.create({type:T.E.SERVER_GET_DNSLIST_FAILED,message:"get DNS failed"})).extraInfo=ut.extraInfo,Zt;Y.appKey=ut.app_key,Y.context.appKey=Y.appKey,Y.devInfos=Y.appKey.split("#"),Y.orgName=Y.devInfos[0],Y.appName=Y.devInfos[1],Y.dataReport.updateAppKey(Y.appKey)}if(!St)throw(Zt=l.Z.create({type:T.E.SERVER_GET_DNSLIST_FAILED,message:"DNS hosts resolution failed",data:ut.rest})).extraInfo=ut.extraInfo,Zt;var Bt=St.filter(function(Pe){if(Pe.protocol===xt)return Pe});Y.restHosts=Bt,Y.restTotal=Bt.length;var Zt,fe=ut["msync-wx"].hosts;if(!fe)throw(Zt=l.Z.create({type:T.E.SERVER_GET_DNSLIST_FAILED,message:"DNS msync-wx resolution failed",data:ut["msync-wx"]})).extraInfo=ut.extraInfo,Zt;var z=fe.filter(function(Pe){if(Pe.protocol===xt)return Pe});if(Y.socketHost=z,Y.hostTotal=z.length,Y.isHttpDNS&&Xt.call(Y),Y.isHttpDNS&&Mt.call(Y),Y._reportLogs=ut.enableReportLogs==="true",Y._reportInterval=Number(ut.reportInterval||X.XV),(ut==null?void 0:ut.enableDataReport)==="true"?(Y.dataReport.setIsCollectDt(!0),Y.dataReport.setIsReportDt(!0)):(Y.dataReport.setIsReportDt(!1),Y.dataReport.setIsCollectDt(!1)),(ut==null?void 0:ut.uploadinparts_enable)==="false"&&(Y.uploadPartEnable=!1),ut.extraInfo){var te=ut.extraInfo,ye=te.elapse,oe=te.httpCode,be={requestUrl:ze,requestName:w.c.GET_DNS,requestElapse:ye,isSuccess:1,code:oe};_e&&_e({isRetry:De,data:be})}}).catch(function(ut){var St=ut.extraInfo||{},xt=St.elapse,Bt=St.httpCode,Zt=St.errDesc,fe={requestUrl:ze,requestName:w.c.GET_DNS,isSuccess:0,code:Bt,codeDesc:Zt,requestElapse:xt};throw _e&&_e({isRetry:De,data:fe}),l.Z.create({type:T.E.SERVER_GET_DNSLIST_FAILED,message:ut.message,data:ut})})}function pt(j,Y){return _t(this,void 0,void 0,function(){var _e;return Lt(this,function(De){switch(De.label){case 0:return De.trys.push([0,2,,6]),[4,mt.call(this,{rpt:j,isRetry:Y})];case 1:case 3:return[2,De.sent()];case 2:return _e=De.sent(),g.kg.error("get DNS failed",_e,"times:",this.dnsIndex),this.dnsIndex++,this.dnsIndex<this.dnsTotal?[4,pt.call(this,j,!0)]:[3,4];case 4:throw g.kg.error("retryRequestDNS failed"),l.Z.create({type:T.E.SERVER_GET_DNSLIST_FAILED,message:"get DNS failed",data:_e});case 5:return[3,6];case 6:return[2]}})})}function Mt(){var j=this.socketHost[this.hostIndex],Y=j.domain,_e=j.ip,De=j.port,ve="";ve=Y||_e,De&&De!=="80"&&De!=="443"&&(ve+=":"+De),ve&&(this.url="//"+ve+"/websocket");var ze=this.https?"wss:":"ws:";this.url=ze+this.url}function Xt(){var j,Y;if(this.restIndex>this.restTotal)return g.kg.debug("restIndex > restTotal"),"";var _e="",De=this.restHosts[this.restIndex],ve=De.domain,ze=De.ip,ot=De.port,ut=this.https?"https:":"http:";return ze&&typeof window<"u"&&((j=window==null?void 0:window.location)===null||j===void 0?void 0:j.protocol)==="http:"?_e=ut+"//"+ze+":"+ot:(_e=ut+"//"+ve,ot&&ot!=="80"&&ot!=="443"&&(_e+=":".concat(ot)),typeof window>"u"||window.location||(_e="https://"+ve),typeof window<"u"&&window.location&&((Y=window.location)===null||Y===void 0?void 0:Y.protocol)==="file:"&&(_e="https://"+ve)),typeof window>"u"&&(_e=ut+"//"+ve),this.apiUrl=_e,_e}var jt=__webpack_require__(2449);m().util.Long=c(),m().configure();var zt=m().Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9},editMessageId:{type:"uint64",id:11}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21},subType:{type:"SubType",id:22},title:{type:"string",id:23},summary:{type:"string",id:24},combineLevel:{type:"int32",id:25}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7,COMBINE:8}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}},SubType:{values:{COMBINE:0}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7,EDIT:8}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{rule:"repeated",type:"KeyValue",id:8},meta:{type:"bytes",id:9},directedUsers:{rule:"repeated",type:"string",id:10}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1,ROUTE_DIRECT:2}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17},authToken:{type:"string",id:18},sessionId:{type:"string",id:20},reason:{type:"string",id:21}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12},mucMemberCount:{type:"int32",id:13},ext:{type:"string",id:14},leaveOtherRooms:{type:"bool",id:15}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44,GROUP_MEMBER_METADATA_UPDATE:45}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2},chatroomInfo:{type:"string",id:3}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7},reason:{type:"string",id:10}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}});Me.prototype.root=zt;var tr=g.kg.getLogger("defaultLogger");tr.setConfig({useCache:!1,maxCache:3145728,color:"",background:""}),tr.enableAll(),Me.prototype.getUniqueId=v.P6.getUniqueId;var Ke={connection:Me,message:jt.Message,utils:v.P6,logger:tr,statusCode:T.E};typeof window<"u"&&(window.WebIM=Ke);var Ot=Ke}(),__webpack_exports__}()})})(EasemobChat);var EasemobChatExports=EasemobChat.exports;const WebIM=getDefaultExportFromCjs(EasemobChatExports),ProxyCreateWebIM=function(){let a=null;return function(m={},n=!1){return a&&!n?a:a=new WebIMController(m)}}();function validateAppKey(a){return!(typeof a!="string"||a.split("#").length!==2)}class WebIMController{constructor(m){Ri(this,"connection",null);Ri(this,"config");m&&validateAppKey(m.appKey)?(this.config=m,this.buildOut()):console.error("[WebIMController] constructor Error: ","Invalid AppKey")}buildOut(){this.creatClient()}creatClient(){this.config&&(this.connection=new WebIM.connection(this.config))}register(m,n){this.connection?this.connection.registerUser({username:m,password:n}).then(c=>{console.log("")}).catch(c=>{console.log("")}):console.log("EaseChatClient ")}login(m,n){var l;(l=this.connection)==null||l.close();const c=setTimeout(()=>{this.connection?this.connection.open({user:m,pwd:n}).then(v=>{console.log("",v)}).catch(v=>{console.log("",v)}):console.log("EaseChatClient "),clearTimeout(c)},300)}tokenLogin(m,n){return new Promise((c,l)=>{var y;(y=this.connection)==null||y.close();const v=setTimeout(()=>{if(this.connection)this.connection.open({accessToken:n,user:m}).then(T=>{console.log("",T),c(T)}).catch(T=>{console.log("",T),l(T)});else{const T=new Error("EaseChatClient ");console.log(T.message),l(T)}clearTimeout(v)},300)})}isOpened(){var m;return((m=this.connection)==null?void 0:m.isOpened())||!1}logout(){var m;(m=this.connection)==null||m.close()}sendMsg(m){return this.connection.send(m)}recallMessage(m){return new Promise((n,c)=>{this.connection?this.connection.recallMessage(m).then(l=>{n(l)}).catch(l=>{c(l)}):(c(new Error("EaseChatClient ")),console.log("EaseChatClient "))})}getHistoryMessages(m){return new Promise((n,c)=>{this.connection?this.connection.getHistoryMessages(m).then(l=>{n(l)}).catch(l=>{c(l)}):(c(new Error("EaseChatClient ")),console.log("EaseChatClient "))})}createMsg(m){return WebIM.message.create(m)}getImgInfo(m,n){return new Promise((c,l)=>{const v=new XMLHttpRequest;v.open("GET",m),v.responseType="blob",v.onload=function(){if(v.status===200){var y=v.response,T=new Image;T.onload=function(){n&&n(),c(this)},T.src=URL.createObjectURL(y)}},v.send()})}getImageDimensions(m){return new Promise((n,c)=>{const l=new Image;l.onload=()=>{n({width:l.width,height:l.height})},l.onerror=()=>{c(`Failed to load image file: ${m.name}`)},l.src=URL.createObjectURL(m)})}async fileToArrayBuffer(m){return new Promise((n,c)=>{const l=new FileReader;l.readAsArrayBuffer(m),l.onload=()=>{n(l.result)},l.onerror=v=>{c(v)}})}async getImgFileUrl(m,n){let c;const l=utils.base64toBlob(m),v=window.URL.createObjectURL(l),y=await this.getImgInfo(v);n?c=await this.fileToArrayBuffer(n):c=await l.arrayBuffer();const T=await window.RendererHelper.cacheImageData({arrayBuffer:c});return{data:l,url:T,width:y==null?void 0:y.width,height:y==null?void 0:y.height}}addEvents({eventName:m,handlers:n}){var c;(c=this.connection)==null||c.addEventHandler(m,{...n})}getGroupAdmin(m){return new Promise((n,c)=>{this.connection?this.connection.getGroupAdmin({groupId:m}).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}getAssignGroupDetail(m){return new Promise((n,c)=>{this.connection?this.connection.getGroupInfo(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}getGroupMembers(m){return new Promise((n,c)=>{this.connection?this.connection.listGroupMembers(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}getGroupMuteList(m){return new Promise((n,c)=>{this.connection?this.connection.getGroupMutelist({groupId:m}).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}modifyGroupInfo(m){return new Promise((n,c)=>{this.connection?this.connection.modifyGroup(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}inviteUserJoinTheGroup(m){return new Promise((n,c)=>{this.connection?this.connection.inviteUsersToGroup(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}setGroupAdmin(m){return new Promise((n,c)=>{this.connection?this.connection.setGroupAdmin(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}removeGroupAdmin(m){return new Promise((n,c)=>{this.connection?this.connection.removeGroupAdmin(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}removeTheGroupMember(m){return new Promise((n,c)=>{this.connection?this.connection.removeGroupMember(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}getJoinedGroupsList(m){return new Promise((n,c)=>{this.connection?this.connection.getJoinedGroups(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}destroyGroupByOwner(m){return new Promise((n,c)=>{this.connection?this.connection.destroyGroup(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}changeGroupOwner(m){return new Promise((n,c)=>{this.connection?this.connection.changeGroupOwner(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}addMemberToMuteList(m){return new Promise((n,c)=>{this.connection?this.connection.muteGroupMember(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}removeTheMemberFromMuteList(m){return new Promise((n,c)=>{this.connection?this.connection.unmuteGroupMember(m).then(l=>{n(l)}).catch(l=>{c(l)}):c(new Error("EaseChatClient "))})}getSilentModeForConversation(m){return new Promise((n,c)=>{if(this.connection){const{conversationId:l,type:v}=m;this.connection.getSilentModeForConversation({conversationId:l,type:v}).then(y=>{y.type===0?n(y.data):c("getSilentModeForConversation has error, error code is "+y.type)}).catch(y=>{c(y)})}else c(new Error("EaseChatClient "))})}getSilentModeForConversations(m){return new Promise((n,c)=>{if(this.connection){const{conversationList:l}=m;this.connection.getSilentModeForConversations({conversationList:l}).then(v=>{v.type===0?n(v.data):c("getSilentModeForConversations  "+v.type)}).catch(v=>{c(v)})}else c(new Error("EaseChatClient "))})}getSilentModeRemindTypeConversations(m){return new Promise((n,c)=>{const{cursor:l,pageSize:v=10}=m;this.connection?this.connection.getSilentModeRemindTypeConversations({cursor:l,pageSize:v}).then(y=>{y.type===0?y.data?n(y.data):n({conversations:[],cursor:""}):c("getSilentModeRemindTypeConversations  "+y.type)}):c(new Error("EaseChatClient "))})}setSilentModeForConversation(m){return new Promise((n,c)=>{if(this.connection){const{conversationId:l,type:v,isSilentMode:y}=m;this.connection.setSilentModeForConversation({conversationId:l,type:v,options:y?{paramType:0,remindType:"AT"}:{paramType:0,remindType:"ALL"}}).then(T=>{T.type===0?n(T.data):c("setSilentModeForConversation  "+T.type)}).catch(T=>{c(T)})}else c(new Error("EaseChatClient "))})}}const ProxyCreateWebIM$1=ProxyCreateWebIM,ORIGIN_PATH="ext.classInfo";async function checkConversationOrigin(a){const m=MessageAppStore(),n=safetyToJson(lodashExports.get(a,ORIGIN_PATH));if(hasOriginInfo(a)){const c=a.from;if(m.getConversationOrigin(c)!==n){const v=m.updateConversationOrigin(c,n),y=await window.MessageDbHelper.updateConversationOrigin(c,n);return v&&y.success}}return!1}function hasOriginInfo(a){return lodashExports.has(a,ORIGIN_PATH)}function getOriginInfo(a){return safetyToJson(lodashExports.get(a,ORIGIN_PATH))}const CURR_BASE_URL="https://mooc1-api.chaoxing.com",CLASS_BASE_URL="https://v1.chaoxing.com",CLASS2_BASE_URL="https://cv-p.chaoxing.com",squareCourseInfo=(a,m,n=!1)=>new Promise(async(c,l)=>{try{const v=await window.MainWindowHelper.genRequest({baseUrl:CURR_BASE_URL,url:"/course/phone/square-course-info",method:"get",getParams:{courseId:a,classId:m,clazzNameFlag:n}});v.result==1?c(v.data):l(new Error(`[squareCourseInfo] Error Code: ${v.result}`))}catch(v){console.error(v),l(v)}}),getSycnClass=a=>new Promise(async(m,n)=>{try{const c=await window.MainWindowHelper.genRequest({baseUrl:CLASS_BASE_URL,url:"/inter/classSpace/getSycnClass",method:"get",getParams:{chatId:a}});c.result==1?m(c.data):n(new Error(`[getSycnClass] Error Code: ${c.result}`))}catch(c){console.error(c),n(c)}}),getSyncClass=a=>new Promise(async(m,n)=>{try{const c=await window.MainWindowHelper.genRequest({baseUrl:CLASS2_BASE_URL,url:"/classSpace/getSyncClass",method:"get",genSign:!0,getParams:{chatId:a}});c.result==1?m(c.data):n(new Error(`[getSyncClass] Error Code: ${c.result}`))}catch(c){console.error(c),n(c)}}),getMyCurriculum=a=>new Promise(async(m,n)=>{try{const c=await window.MainWindowHelper.genRequest({baseUrl:CURR_BASE_URL,url:"/mycourse/toquery_basisclient",method:"get",genSign:!0,getParams:{userid:a,type:0}});c.result==1?m(c.data):n(new Error(`[getMyCurriculum] Error Code: ${c.result}`))}catch(c){console.error(c),n(c)}}),addSyncClass=(a,m)=>new Promise(async(n,c)=>{try{const l=await window.MainWindowHelper.genRequest({baseUrl:CLASS2_BASE_URL,url:"/classSpace/addSyncClass",method:"get",getParams:{chatId:a,courseid:m}});l.result==1?n(l):c(new Error(`[addSyncClass] Error Code: ${l.result}`))}catch(l){console.error(l),c(l)}});function queryGroupOwnerFromDb(a){return window.MessageDbHelper.queryGroupOwner(a)}var jsonBigint={exports:{}},stringify={exports:{}},bignumber={exports:{}};(function(a){(function(m){var n,c=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,v=Math.floor,y="[BigNumber Error] ",T=y+"Number primitive has more than 15 significant digits: ",I=1e14,g=14,P=9007199254740991,M=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],U=1e7,x=1e9;function H(q){var X,Q,ee,se=Ue.prototype={constructor:Ue,toString:null,valueOf:null},Oe=new Ue(1),xe=20,Ne=4,qe=-7,Et=21,et=-1e7,st=1e7,vt=!1,It=1,wt=0,Ht={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},ue="0123456789abcdefghijklmnopqrstuvwxyz",Se=!0;function Ue(Ae,Re){var Me,lt,nt,Ye,Fe,Ve,$e,ke,Je=this;if(!(Je instanceof Ue))return new Ue(Ae,Re);if(Re==null){if(Ae&&Ae._isBigNumber===!0){Je.s=Ae.s,!Ae.c||Ae.e>st?Je.c=Je.e=null:Ae.e<et?Je.c=[Je.e=0]:(Je.e=Ae.e,Je.c=Ae.c.slice());return}if((Ve=typeof Ae=="number")&&Ae*0==0){if(Je.s=1/Ae<0?(Ae=-Ae,-1):1,Ae===~~Ae){for(Ye=0,Fe=Ae;Fe>=10;Fe/=10,Ye++);Ye>st?Je.c=Je.e=null:(Je.e=Ye,Je.c=[Ae]);return}ke=String(Ae)}else{if(!c.test(ke=String(Ae)))return ee(Je,ke,Ve);Je.s=ke.charCodeAt(0)==45?(ke=ke.slice(1),-1):1}(Ye=ke.indexOf("."))>-1&&(ke=ke.replace(".","")),(Fe=ke.search(/e/i))>0?(Ye<0&&(Ye=Fe),Ye+=+ke.slice(Fe+1),ke=ke.substring(0,Fe)):Ye<0&&(Ye=ke.length)}else{if(w(Re,2,ue.length,"Base"),Re==10&&Se)return Je=new Ue(Ae),_t(Je,xe+Je.e+1,Ne);if(ke=String(Ae),Ve=typeof Ae=="number"){if(Ae*0!=0)return ee(Je,ke,Ve,Re);if(Je.s=1/Ae<0?(ke=ke.slice(1),-1):1,Ue.DEBUG&&ke.replace(/^0\.0*|\./,"").length>15)throw Error(T+Ae)}else Je.s=ke.charCodeAt(0)===45?(ke=ke.slice(1),-1):1;for(Me=ue.slice(0,Re),Ye=Fe=0,$e=ke.length;Fe<$e;Fe++)if(Me.indexOf(lt=ke.charAt(Fe))<0){if(lt=="."){if(Fe>Ye){Ye=$e;continue}}else if(!nt&&(ke==ke.toUpperCase()&&(ke=ke.toLowerCase())||ke==ke.toLowerCase()&&(ke=ke.toUpperCase()))){nt=!0,Fe=-1,Ye=0;continue}return ee(Je,String(Ae),Ve,Re)}Ve=!1,ke=Q(ke,Re,10,Je.s),(Ye=ke.indexOf("."))>-1?ke=ke.replace(".",""):Ye=ke.length}for(Fe=0;ke.charCodeAt(Fe)===48;Fe++);for($e=ke.length;ke.charCodeAt(--$e)===48;);if(ke=ke.slice(Fe,++$e)){if($e-=Fe,Ve&&Ue.DEBUG&&$e>15&&(Ae>P||Ae!==v(Ae)))throw Error(T+Je.s*Ae);if((Ye=Ye-Fe-1)>st)Je.c=Je.e=null;else if(Ye<et)Je.c=[Je.e=0];else{if(Je.e=Ye,Je.c=[],Fe=(Ye+1)%g,Ye<0&&(Fe+=g),Fe<$e){for(Fe&&Je.c.push(+ke.slice(0,Fe)),$e-=g;Fe<$e;)Je.c.push(+ke.slice(Fe,Fe+=g));Fe=g-(ke=ke.slice(Fe)).length}else Fe-=$e;for(;Fe--;ke+="0");Je.c.push(+ke)}}else Je.c=[Je.e=0]}Ue.clone=H,Ue.ROUND_UP=0,Ue.ROUND_DOWN=1,Ue.ROUND_CEIL=2,Ue.ROUND_FLOOR=3,Ue.ROUND_HALF_UP=4,Ue.ROUND_HALF_DOWN=5,Ue.ROUND_HALF_EVEN=6,Ue.ROUND_HALF_CEIL=7,Ue.ROUND_HALF_FLOOR=8,Ue.EUCLID=9,Ue.config=Ue.set=function(Ae){var Re,Me;if(Ae!=null)if(typeof Ae=="object"){if(Ae.hasOwnProperty(Re="DECIMAL_PLACES")&&(Me=Ae[Re],w(Me,0,x,Re),xe=Me),Ae.hasOwnProperty(Re="ROUNDING_MODE")&&(Me=Ae[Re],w(Me,0,8,Re),Ne=Me),Ae.hasOwnProperty(Re="EXPONENTIAL_AT")&&(Me=Ae[Re],Me&&Me.pop?(w(Me[0],-x,0,Re),w(Me[1],0,x,Re),qe=Me[0],Et=Me[1]):(w(Me,-x,x,Re),qe=-(Et=Me<0?-Me:Me))),Ae.hasOwnProperty(Re="RANGE"))if(Me=Ae[Re],Me&&Me.pop)w(Me[0],-x,-1,Re),w(Me[1],1,x,Re),et=Me[0],st=Me[1];else if(w(Me,-x,x,Re),Me)et=-(st=Me<0?-Me:Me);else throw Error(y+Re+" cannot be zero: "+Me);if(Ae.hasOwnProperty(Re="CRYPTO"))if(Me=Ae[Re],Me===!!Me)if(Me)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))vt=Me;else throw vt=!Me,Error(y+"crypto unavailable");else vt=Me;else throw Error(y+Re+" not true or false: "+Me);if(Ae.hasOwnProperty(Re="MODULO_MODE")&&(Me=Ae[Re],w(Me,0,9,Re),It=Me),Ae.hasOwnProperty(Re="POW_PRECISION")&&(Me=Ae[Re],w(Me,0,x,Re),wt=Me),Ae.hasOwnProperty(Re="FORMAT"))if(Me=Ae[Re],typeof Me=="object")Ht=Me;else throw Error(y+Re+" not an object: "+Me);if(Ae.hasOwnProperty(Re="ALPHABET"))if(Me=Ae[Re],typeof Me=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Me))Se=Me.slice(0,10)=="0123456789",ue=Me;else throw Error(y+Re+" invalid: "+Me)}else throw Error(y+"Object expected: "+Ae);return{DECIMAL_PLACES:xe,ROUNDING_MODE:Ne,EXPONENTIAL_AT:[qe,Et],RANGE:[et,st],CRYPTO:vt,MODULO_MODE:It,POW_PRECISION:wt,FORMAT:Ht,ALPHABET:ue}},Ue.isBigNumber=function(Ae){if(!Ae||Ae._isBigNumber!==!0)return!1;if(!Ue.DEBUG)return!0;var Re,Me,lt=Ae.c,nt=Ae.e,Ye=Ae.s;e:if({}.toString.call(lt)=="[object Array]"){if((Ye===1||Ye===-1)&&nt>=-x&&nt<=x&&nt===v(nt)){if(lt[0]===0){if(nt===0&&lt.length===1)return!0;break e}if(Re=(nt+1)%g,Re<1&&(Re+=g),String(lt[0]).length==Re){for(Re=0;Re<lt.length;Re++)if(Me=lt[Re],Me<0||Me>=I||Me!==v(Me))break e;if(Me!==0)return!0}}}else if(lt===null&&nt===null&&(Ye===null||Ye===1||Ye===-1))return!0;throw Error(y+"Invalid BigNumber: "+Ae)},Ue.maximum=Ue.max=function(){return Xe(arguments,-1)},Ue.minimum=Ue.min=function(){return Xe(arguments,1)},Ue.random=function(){var Ae=9007199254740992,Re=Math.random()*Ae&2097151?function(){return v(Math.random()*Ae)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Me){var lt,nt,Ye,Fe,Ve,$e=0,ke=[],Je=new Ue(Oe);if(Me==null?Me=xe:w(Me,0,x),Fe=l(Me/g),vt)if(crypto.getRandomValues){for(lt=crypto.getRandomValues(new Uint32Array(Fe*=2));$e<Fe;)Ve=lt[$e]*131072+(lt[$e+1]>>>11),Ve>=9e15?(nt=crypto.getRandomValues(new Uint32Array(2)),lt[$e]=nt[0],lt[$e+1]=nt[1]):(ke.push(Ve%1e14),$e+=2);$e=Fe/2}else if(crypto.randomBytes){for(lt=crypto.randomBytes(Fe*=7);$e<Fe;)Ve=(lt[$e]&31)*281474976710656+lt[$e+1]*1099511627776+lt[$e+2]*4294967296+lt[$e+3]*16777216+(lt[$e+4]<<16)+(lt[$e+5]<<8)+lt[$e+6],Ve>=9e15?crypto.randomBytes(7).copy(lt,$e):(ke.push(Ve%1e14),$e+=7);$e=Fe/7}else throw vt=!1,Error(y+"crypto unavailable");if(!vt)for(;$e<Fe;)Ve=Re(),Ve<9e15&&(ke[$e++]=Ve%1e14);for(Fe=ke[--$e],Me%=g,Fe&&Me&&(Ve=M[g-Me],ke[$e]=v(Fe/Ve)*Ve);ke[$e]===0;ke.pop(),$e--);if($e<0)ke=[Ye=0];else{for(Ye=-1;ke[0]===0;ke.splice(0,1),Ye-=g);for($e=1,Ve=ke[0];Ve>=10;Ve/=10,$e++);$e<g&&(Ye-=g-$e)}return Je.e=Ye,Je.c=ke,Je}}(),Ue.sum=function(){for(var Ae=1,Re=arguments,Me=new Ue(Re[0]);Ae<Re.length;)Me=Me.plus(Re[Ae++]);return Me},Q=function(){var Ae="0123456789";function Re(Me,lt,nt,Ye){for(var Fe,Ve=[0],$e,ke=0,Je=Me.length;ke<Je;){for($e=Ve.length;$e--;Ve[$e]*=lt);for(Ve[0]+=Ye.indexOf(Me.charAt(ke++)),Fe=0;Fe<Ve.length;Fe++)Ve[Fe]>nt-1&&(Ve[Fe+1]==null&&(Ve[Fe+1]=0),Ve[Fe+1]+=Ve[Fe]/nt|0,Ve[Fe]%=nt)}return Ve.reverse()}return function(Me,lt,nt,Ye,Fe){var Ve,$e,ke,Je,yt,Ct,mt,pt,Mt=Me.indexOf("."),Xt=xe,jt=Ne;for(Mt>=0&&(Je=wt,wt=0,Me=Me.replace(".",""),pt=new Ue(lt),Ct=pt.pow(Me.length-Mt),wt=Je,pt.c=Re(re(W(Ct.c),Ct.e,"0"),10,nt,Ae),pt.e=pt.c.length),mt=Re(Me,lt,nt,Fe?(Ve=ue,Ae):(Ve=Ae,ue)),ke=Je=mt.length;mt[--Je]==0;mt.pop());if(!mt[0])return Ve.charAt(0);if(Mt<0?--ke:(Ct.c=mt,Ct.e=ke,Ct.s=Ye,Ct=X(Ct,pt,Xt,jt,nt),mt=Ct.c,yt=Ct.r,ke=Ct.e),$e=ke+Xt+1,Mt=mt[$e],Je=nt/2,yt=yt||$e<0||mt[$e+1]!=null,yt=jt<4?(Mt!=null||yt)&&(jt==0||jt==(Ct.s<0?3:2)):Mt>Je||Mt==Je&&(jt==4||yt||jt==6&&mt[$e-1]&1||jt==(Ct.s<0?8:7)),$e<1||!mt[0])Me=yt?re(Ve.charAt(1),-Xt,Ve.charAt(0)):Ve.charAt(0);else{if(mt.length=$e,yt)for(--nt;++mt[--$e]>nt;)mt[$e]=0,$e||(++ke,mt=[1].concat(mt));for(Je=mt.length;!mt[--Je];);for(Mt=0,Me="";Mt<=Je;Me+=Ve.charAt(mt[Mt++]));Me=re(Me,ke,Ve.charAt(0))}return Me}}(),X=function(){function Ae(lt,nt,Ye){var Fe,Ve,$e,ke,Je=0,yt=lt.length,Ct=nt%U,mt=nt/U|0;for(lt=lt.slice();yt--;)$e=lt[yt]%U,ke=lt[yt]/U|0,Fe=mt*$e+ke*Ct,Ve=Ct*$e+Fe%U*U+Je,Je=(Ve/Ye|0)+(Fe/U|0)+mt*ke,lt[yt]=Ve%Ye;return Je&&(lt=[Je].concat(lt)),lt}function Re(lt,nt,Ye,Fe){var Ve,$e;if(Ye!=Fe)$e=Ye>Fe?1:-1;else for(Ve=$e=0;Ve<Ye;Ve++)if(lt[Ve]!=nt[Ve]){$e=lt[Ve]>nt[Ve]?1:-1;break}return $e}function Me(lt,nt,Ye,Fe){for(var Ve=0;Ye--;)lt[Ye]-=Ve,Ve=lt[Ye]<nt[Ye]?1:0,lt[Ye]=Ve*Fe+lt[Ye]-nt[Ye];for(;!lt[0]&&lt.length>1;lt.splice(0,1));}return function(lt,nt,Ye,Fe,Ve){var $e,ke,Je,yt,Ct,mt,pt,Mt,Xt,jt,zt,tr,Ke,Ot,j,Y,_e,De=lt.s==nt.s?1:-1,ve=lt.c,ze=nt.c;if(!ve||!ve[0]||!ze||!ze[0])return new Ue(!lt.s||!nt.s||(ve?ze&&ve[0]==ze[0]:!ze)?NaN:ve&&ve[0]==0||!ze?De*0:De/0);for(Mt=new Ue(De),Xt=Mt.c=[],ke=lt.e-nt.e,De=Ye+ke+1,Ve||(Ve=I,ke=L(lt.e/g)-L(nt.e/g),De=De/g|0),Je=0;ze[Je]==(ve[Je]||0);Je++);if(ze[Je]>(ve[Je]||0)&&ke--,De<0)Xt.push(1),yt=!0;else{for(Ot=ve.length,Y=ze.length,Je=0,De+=2,Ct=v(Ve/(ze[0]+1)),Ct>1&&(ze=Ae(ze,Ct,Ve),ve=Ae(ve,Ct,Ve),Y=ze.length,Ot=ve.length),Ke=Y,jt=ve.slice(0,Y),zt=jt.length;zt<Y;jt[zt++]=0);_e=ze.slice(),_e=[0].concat(_e),j=ze[0],ze[1]>=Ve/2&&j++;do{if(Ct=0,$e=Re(ze,jt,Y,zt),$e<0){if(tr=jt[0],Y!=zt&&(tr=tr*Ve+(jt[1]||0)),Ct=v(tr/j),Ct>1)for(Ct>=Ve&&(Ct=Ve-1),mt=Ae(ze,Ct,Ve),pt=mt.length,zt=jt.length;Re(mt,jt,pt,zt)==1;)Ct--,Me(mt,Y<pt?_e:ze,pt,Ve),pt=mt.length,$e=1;else Ct==0&&($e=Ct=1),mt=ze.slice(),pt=mt.length;if(pt<zt&&(mt=[0].concat(mt)),Me(jt,mt,zt,Ve),zt=jt.length,$e==-1)for(;Re(ze,jt,Y,zt)<1;)Ct++,Me(jt,Y<zt?_e:ze,zt,Ve),zt=jt.length}else $e===0&&(Ct++,jt=[0]);Xt[Je++]=Ct,jt[0]?jt[zt++]=ve[Ke]||0:(jt=[ve[Ke]],zt=1)}while((Ke++<Ot||jt[0]!=null)&&De--);yt=jt[0]!=null,Xt[0]||Xt.splice(0,1)}if(Ve==I){for(Je=1,De=Xt[0];De>=10;De/=10,Je++);_t(Mt,Ye+(Mt.e=Je+ke*g-1)+1,Fe,yt)}else Mt.e=ke,Mt.r=+yt;return Mt}}();function ct(Ae,Re,Me,lt){var nt,Ye,Fe,Ve,$e;if(Me==null?Me=Ne:w(Me,0,8),!Ae.c)return Ae.toString();if(nt=Ae.c[0],Fe=Ae.e,Re==null)$e=W(Ae.c),$e=lt==1||lt==2&&(Fe<=qe||Fe>=Et)?S($e,Fe):re($e,Fe,"0");else if(Ae=_t(new Ue(Ae),Re,Me),Ye=Ae.e,$e=W(Ae.c),Ve=$e.length,lt==1||lt==2&&(Re<=Ye||Ye<=qe)){for(;Ve<Re;$e+="0",Ve++);$e=S($e,Ye)}else if(Re-=Fe+(lt===2&&Ye>Fe),$e=re($e,Ye,"0"),Ye+1>Ve){if(--Re>0)for($e+=".";Re--;$e+="0");}else if(Re+=Ye-Ve,Re>0)for(Ye+1==Ve&&($e+=".");Re--;$e+="0");return Ae.s<0&&nt?"-"+$e:$e}function Xe(Ae,Re){for(var Me,lt,nt=1,Ye=new Ue(Ae[0]);nt<Ae.length;nt++)lt=new Ue(Ae[nt]),(!lt.s||(Me=F(Ye,lt))===Re||Me===0&&Ye.s===Re)&&(Ye=lt);return Ye}function bt(Ae,Re,Me){for(var lt=1,nt=Re.length;!Re[--nt];Re.pop());for(nt=Re[0];nt>=10;nt/=10,lt++);return(Me=lt+Me*g-1)>st?Ae.c=Ae.e=null:Me<et?Ae.c=[Ae.e=0]:(Ae.e=Me,Ae.c=Re),Ae}ee=function(){var Ae=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Re=/^([^.]+)\.$/,Me=/^\.([^.]+)$/,lt=/^-?(Infinity|NaN)$/,nt=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Ye,Fe,Ve,$e){var ke,Je=Ve?Fe:Fe.replace(nt,"");if(lt.test(Je))Ye.s=isNaN(Je)?null:Je<0?-1:1;else{if(!Ve&&(Je=Je.replace(Ae,function(yt,Ct,mt){return ke=(mt=mt.toLowerCase())=="x"?16:mt=="b"?2:8,!$e||$e==ke?Ct:yt}),$e&&(ke=$e,Je=Je.replace(Re,"$1").replace(Me,"0.$1")),Fe!=Je))return new Ue(Je,ke);if(Ue.DEBUG)throw Error(y+"Not a"+($e?" base "+$e:"")+" number: "+Fe);Ye.s=null}Ye.c=Ye.e=null}}();function _t(Ae,Re,Me,lt){var nt,Ye,Fe,Ve,$e,ke,Je,yt=Ae.c,Ct=M;if(yt){e:{for(nt=1,Ve=yt[0];Ve>=10;Ve/=10,nt++);if(Ye=Re-nt,Ye<0)Ye+=g,Fe=Re,$e=yt[ke=0],Je=v($e/Ct[nt-Fe-1]%10);else if(ke=l((Ye+1)/g),ke>=yt.length)if(lt){for(;yt.length<=ke;yt.push(0));$e=Je=0,nt=1,Ye%=g,Fe=Ye-g+1}else break e;else{for($e=Ve=yt[ke],nt=1;Ve>=10;Ve/=10,nt++);Ye%=g,Fe=Ye-g+nt,Je=Fe<0?0:v($e/Ct[nt-Fe-1]%10)}if(lt=lt||Re<0||yt[ke+1]!=null||(Fe<0?$e:$e%Ct[nt-Fe-1]),lt=Me<4?(Je||lt)&&(Me==0||Me==(Ae.s<0?3:2)):Je>5||Je==5&&(Me==4||lt||Me==6&&(Ye>0?Fe>0?$e/Ct[nt-Fe]:0:yt[ke-1])%10&1||Me==(Ae.s<0?8:7)),Re<1||!yt[0])return yt.length=0,lt?(Re-=Ae.e+1,yt[0]=Ct[(g-Re%g)%g],Ae.e=-Re||0):yt[0]=Ae.e=0,Ae;if(Ye==0?(yt.length=ke,Ve=1,ke--):(yt.length=ke+1,Ve=Ct[g-Ye],yt[ke]=Fe>0?v($e/Ct[nt-Fe]%Ct[Fe])*Ve:0),lt)for(;;)if(ke==0){for(Ye=1,Fe=yt[0];Fe>=10;Fe/=10,Ye++);for(Fe=yt[0]+=Ve,Ve=1;Fe>=10;Fe/=10,Ve++);Ye!=Ve&&(Ae.e++,yt[0]==I&&(yt[0]=1));break}else{if(yt[ke]+=Ve,yt[ke]!=I)break;yt[ke--]=0,Ve=1}for(Ye=yt.length;yt[--Ye]===0;yt.pop());}Ae.e>st?Ae.c=Ae.e=null:Ae.e<et&&(Ae.c=[Ae.e=0])}return Ae}function Lt(Ae){var Re,Me=Ae.e;return Me===null?Ae.toString():(Re=W(Ae.c),Re=Me<=qe||Me>=Et?S(Re,Me):re(Re,Me,"0"),Ae.s<0?"-"+Re:Re)}return se.absoluteValue=se.abs=function(){var Ae=new Ue(this);return Ae.s<0&&(Ae.s=1),Ae},se.comparedTo=function(Ae,Re){return F(this,new Ue(Ae,Re))},se.decimalPlaces=se.dp=function(Ae,Re){var Me,lt,nt,Ye=this;if(Ae!=null)return w(Ae,0,x),Re==null?Re=Ne:w(Re,0,8),_t(new Ue(Ye),Ae+Ye.e+1,Re);if(!(Me=Ye.c))return null;if(lt=((nt=Me.length-1)-L(this.e/g))*g,nt=Me[nt])for(;nt%10==0;nt/=10,lt--);return lt<0&&(lt=0),lt},se.dividedBy=se.div=function(Ae,Re){return X(this,new Ue(Ae,Re),xe,Ne)},se.dividedToIntegerBy=se.idiv=function(Ae,Re){return X(this,new Ue(Ae,Re),0,1)},se.exponentiatedBy=se.pow=function(Ae,Re){var Me,lt,nt,Ye,Fe,Ve,$e,ke,Je,yt=this;if(Ae=new Ue(Ae),Ae.c&&!Ae.isInteger())throw Error(y+"Exponent not an integer: "+Lt(Ae));if(Re!=null&&(Re=new Ue(Re)),Ve=Ae.e>14,!yt.c||!yt.c[0]||yt.c[0]==1&&!yt.e&&yt.c.length==1||!Ae.c||!Ae.c[0])return Je=new Ue(Math.pow(+Lt(yt),Ve?Ae.s*(2-G(Ae)):+Lt(Ae))),Re?Je.mod(Re):Je;if($e=Ae.s<0,Re){if(Re.c?!Re.c[0]:!Re.s)return new Ue(NaN);lt=!$e&&yt.isInteger()&&Re.isInteger(),lt&&(yt=yt.mod(Re))}else{if(Ae.e>9&&(yt.e>0||yt.e<-1||(yt.e==0?yt.c[0]>1||Ve&&yt.c[1]>=24e7:yt.c[0]<8e13||Ve&&yt.c[0]<=9999975e7)))return Ye=yt.s<0&&G(Ae)?-0:0,yt.e>-1&&(Ye=1/Ye),new Ue($e?1/Ye:Ye);wt&&(Ye=l(wt/g+2))}for(Ve?(Me=new Ue(.5),$e&&(Ae.s=1),ke=G(Ae)):(nt=Math.abs(+Lt(Ae)),ke=nt%2),Je=new Ue(Oe);;){if(ke){if(Je=Je.times(yt),!Je.c)break;Ye?Je.c.length>Ye&&(Je.c.length=Ye):lt&&(Je=Je.mod(Re))}if(nt){if(nt=v(nt/2),nt===0)break;ke=nt%2}else if(Ae=Ae.times(Me),_t(Ae,Ae.e+1,1),Ae.e>14)ke=G(Ae);else{if(nt=+Lt(Ae),nt===0)break;ke=nt%2}yt=yt.times(yt),Ye?yt.c&&yt.c.length>Ye&&(yt.c.length=Ye):lt&&(yt=yt.mod(Re))}return lt?Je:($e&&(Je=Oe.div(Je)),Re?Je.mod(Re):Ye?_t(Je,wt,Ne,Fe):Je)},se.integerValue=function(Ae){var Re=new Ue(this);return Ae==null?Ae=Ne:w(Ae,0,8),_t(Re,Re.e+1,Ae)},se.isEqualTo=se.eq=function(Ae,Re){return F(this,new Ue(Ae,Re))===0},se.isFinite=function(){return!!this.c},se.isGreaterThan=se.gt=function(Ae,Re){return F(this,new Ue(Ae,Re))>0},se.isGreaterThanOrEqualTo=se.gte=function(Ae,Re){return(Re=F(this,new Ue(Ae,Re)))===1||Re===0},se.isInteger=function(){return!!this.c&&L(this.e/g)>this.c.length-2},se.isLessThan=se.lt=function(Ae,Re){return F(this,new Ue(Ae,Re))<0},se.isLessThanOrEqualTo=se.lte=function(Ae,Re){return(Re=F(this,new Ue(Ae,Re)))===-1||Re===0},se.isNaN=function(){return!this.s},se.isNegative=function(){return this.s<0},se.isPositive=function(){return this.s>0},se.isZero=function(){return!!this.c&&this.c[0]==0},se.minus=function(Ae,Re){var Me,lt,nt,Ye,Fe=this,Ve=Fe.s;if(Ae=new Ue(Ae,Re),Re=Ae.s,!Ve||!Re)return new Ue(NaN);if(Ve!=Re)return Ae.s=-Re,Fe.plus(Ae);var $e=Fe.e/g,ke=Ae.e/g,Je=Fe.c,yt=Ae.c;if(!$e||!ke){if(!Je||!yt)return Je?(Ae.s=-Re,Ae):new Ue(yt?Fe:NaN);if(!Je[0]||!yt[0])return yt[0]?(Ae.s=-Re,Ae):new Ue(Je[0]?Fe:Ne==3?-0:0)}if($e=L($e),ke=L(ke),Je=Je.slice(),Ve=$e-ke){for((Ye=Ve<0)?(Ve=-Ve,nt=Je):(ke=$e,nt=yt),nt.reverse(),Re=Ve;Re--;nt.push(0));nt.reverse()}else for(lt=(Ye=(Ve=Je.length)<(Re=yt.length))?Ve:Re,Ve=Re=0;Re<lt;Re++)if(Je[Re]!=yt[Re]){Ye=Je[Re]<yt[Re];break}if(Ye&&(nt=Je,Je=yt,yt=nt,Ae.s=-Ae.s),Re=(lt=yt.length)-(Me=Je.length),Re>0)for(;Re--;Je[Me++]=0);for(Re=I-1;lt>Ve;){if(Je[--lt]<yt[lt]){for(Me=lt;Me&&!Je[--Me];Je[Me]=Re);--Je[Me],Je[lt]+=I}Je[lt]-=yt[lt]}for(;Je[0]==0;Je.splice(0,1),--ke);return Je[0]?bt(Ae,Je,ke):(Ae.s=Ne==3?-1:1,Ae.c=[Ae.e=0],Ae)},se.modulo=se.mod=function(Ae,Re){var Me,lt,nt=this;return Ae=new Ue(Ae,Re),!nt.c||!Ae.s||Ae.c&&!Ae.c[0]?new Ue(NaN):!Ae.c||nt.c&&!nt.c[0]?new Ue(nt):(It==9?(lt=Ae.s,Ae.s=1,Me=X(nt,Ae,0,3),Ae.s=lt,Me.s*=lt):Me=X(nt,Ae,0,It),Ae=nt.minus(Me.times(Ae)),!Ae.c[0]&&It==1&&(Ae.s=nt.s),Ae)},se.multipliedBy=se.times=function(Ae,Re){var Me,lt,nt,Ye,Fe,Ve,$e,ke,Je,yt,Ct,mt,pt,Mt,Xt,jt=this,zt=jt.c,tr=(Ae=new Ue(Ae,Re)).c;if(!zt||!tr||!zt[0]||!tr[0])return!jt.s||!Ae.s||zt&&!zt[0]&&!tr||tr&&!tr[0]&&!zt?Ae.c=Ae.e=Ae.s=null:(Ae.s*=jt.s,!zt||!tr?Ae.c=Ae.e=null:(Ae.c=[0],Ae.e=0)),Ae;for(lt=L(jt.e/g)+L(Ae.e/g),Ae.s*=jt.s,$e=zt.length,yt=tr.length,$e<yt&&(pt=zt,zt=tr,tr=pt,nt=$e,$e=yt,yt=nt),nt=$e+yt,pt=[];nt--;pt.push(0));for(Mt=I,Xt=U,nt=yt;--nt>=0;){for(Me=0,Ct=tr[nt]%Xt,mt=tr[nt]/Xt|0,Fe=$e,Ye=nt+Fe;Ye>nt;)ke=zt[--Fe]%Xt,Je=zt[Fe]/Xt|0,Ve=mt*ke+Je*Ct,ke=Ct*ke+Ve%Xt*Xt+pt[Ye]+Me,Me=(ke/Mt|0)+(Ve/Xt|0)+mt*Je,pt[Ye--]=ke%Mt;pt[Ye]=Me}return Me?++lt:pt.splice(0,1),bt(Ae,pt,lt)},se.negated=function(){var Ae=new Ue(this);return Ae.s=-Ae.s||null,Ae},se.plus=function(Ae,Re){var Me,lt=this,nt=lt.s;if(Ae=new Ue(Ae,Re),Re=Ae.s,!nt||!Re)return new Ue(NaN);if(nt!=Re)return Ae.s=-Re,lt.minus(Ae);var Ye=lt.e/g,Fe=Ae.e/g,Ve=lt.c,$e=Ae.c;if(!Ye||!Fe){if(!Ve||!$e)return new Ue(nt/0);if(!Ve[0]||!$e[0])return $e[0]?Ae:new Ue(Ve[0]?lt:nt*0)}if(Ye=L(Ye),Fe=L(Fe),Ve=Ve.slice(),nt=Ye-Fe){for(nt>0?(Fe=Ye,Me=$e):(nt=-nt,Me=Ve),Me.reverse();nt--;Me.push(0));Me.reverse()}for(nt=Ve.length,Re=$e.length,nt-Re<0&&(Me=$e,$e=Ve,Ve=Me,Re=nt),nt=0;Re;)nt=(Ve[--Re]=Ve[Re]+$e[Re]+nt)/I|0,Ve[Re]=I===Ve[Re]?0:Ve[Re]%I;return nt&&(Ve=[nt].concat(Ve),++Fe),bt(Ae,Ve,Fe)},se.precision=se.sd=function(Ae,Re){var Me,lt,nt,Ye=this;if(Ae!=null&&Ae!==!!Ae)return w(Ae,1,x),Re==null?Re=Ne:w(Re,0,8),_t(new Ue(Ye),Ae,Re);if(!(Me=Ye.c))return null;if(nt=Me.length-1,lt=nt*g+1,nt=Me[nt]){for(;nt%10==0;nt/=10,lt--);for(nt=Me[0];nt>=10;nt/=10,lt++);}return Ae&&Ye.e+1>lt&&(lt=Ye.e+1),lt},se.shiftedBy=function(Ae){return w(Ae,-P,P),this.times("1e"+Ae)},se.squareRoot=se.sqrt=function(){var Ae,Re,Me,lt,nt,Ye=this,Fe=Ye.c,Ve=Ye.s,$e=Ye.e,ke=xe+4,Je=new Ue("0.5");if(Ve!==1||!Fe||!Fe[0])return new Ue(!Ve||Ve<0&&(!Fe||Fe[0])?NaN:Fe?Ye:1/0);if(Ve=Math.sqrt(+Lt(Ye)),Ve==0||Ve==1/0?(Re=W(Fe),(Re.length+$e)%2==0&&(Re+="0"),Ve=Math.sqrt(+Re),$e=L(($e+1)/2)-($e<0||$e%2),Ve==1/0?Re="5e"+$e:(Re=Ve.toExponential(),Re=Re.slice(0,Re.indexOf("e")+1)+$e),Me=new Ue(Re)):Me=new Ue(Ve+""),Me.c[0]){for($e=Me.e,Ve=$e+ke,Ve<3&&(Ve=0);;)if(nt=Me,Me=Je.times(nt.plus(X(Ye,nt,ke,1))),W(nt.c).slice(0,Ve)===(Re=W(Me.c)).slice(0,Ve))if(Me.e<$e&&--Ve,Re=Re.slice(Ve-3,Ve+1),Re=="9999"||!lt&&Re=="4999"){if(!lt&&(_t(nt,nt.e+xe+2,0),nt.times(nt).eq(Ye))){Me=nt;break}ke+=4,Ve+=4,lt=1}else{(!+Re||!+Re.slice(1)&&Re.charAt(0)=="5")&&(_t(Me,Me.e+xe+2,1),Ae=!Me.times(Me).eq(Ye));break}}return _t(Me,Me.e+xe+1,Ne,Ae)},se.toExponential=function(Ae,Re){return Ae!=null&&(w(Ae,0,x),Ae++),ct(this,Ae,Re,1)},se.toFixed=function(Ae,Re){return Ae!=null&&(w(Ae,0,x),Ae=Ae+this.e+1),ct(this,Ae,Re)},se.toFormat=function(Ae,Re,Me){var lt,nt=this;if(Me==null)Ae!=null&&Re&&typeof Re=="object"?(Me=Re,Re=null):Ae&&typeof Ae=="object"?(Me=Ae,Ae=Re=null):Me=Ht;else if(typeof Me!="object")throw Error(y+"Argument not an object: "+Me);if(lt=nt.toFixed(Ae,Re),nt.c){var Ye,Fe=lt.split("."),Ve=+Me.groupSize,$e=+Me.secondaryGroupSize,ke=Me.groupSeparator||"",Je=Fe[0],yt=Fe[1],Ct=nt.s<0,mt=Ct?Je.slice(1):Je,pt=mt.length;if($e&&(Ye=Ve,Ve=$e,$e=Ye,pt-=Ye),Ve>0&&pt>0){for(Ye=pt%Ve||Ve,Je=mt.substr(0,Ye);Ye<pt;Ye+=Ve)Je+=ke+mt.substr(Ye,Ve);$e>0&&(Je+=ke+mt.slice(Ye)),Ct&&(Je="-"+Je)}lt=yt?Je+(Me.decimalSeparator||"")+(($e=+Me.fractionGroupSize)?yt.replace(new RegExp("\\d{"+$e+"}\\B","g"),"$&"+(Me.fractionGroupSeparator||"")):yt):Je}return(Me.prefix||"")+lt+(Me.suffix||"")},se.toFraction=function(Ae){var Re,Me,lt,nt,Ye,Fe,Ve,$e,ke,Je,yt,Ct,mt=this,pt=mt.c;if(Ae!=null&&(Ve=new Ue(Ae),!Ve.isInteger()&&(Ve.c||Ve.s!==1)||Ve.lt(Oe)))throw Error(y+"Argument "+(Ve.isInteger()?"out of range: ":"not an integer: ")+Lt(Ve));if(!pt)return new Ue(mt);for(Re=new Ue(Oe),ke=Me=new Ue(Oe),lt=$e=new Ue(Oe),Ct=W(pt),Ye=Re.e=Ct.length-mt.e-1,Re.c[0]=M[(Fe=Ye%g)<0?g+Fe:Fe],Ae=!Ae||Ve.comparedTo(Re)>0?Ye>0?Re:ke:Ve,Fe=st,st=1/0,Ve=new Ue(Ct),$e.c[0]=0;Je=X(Ve,Re,0,1),nt=Me.plus(Je.times(lt)),nt.comparedTo(Ae)!=1;)Me=lt,lt=nt,ke=$e.plus(Je.times(nt=ke)),$e=nt,Re=Ve.minus(Je.times(nt=Re)),Ve=nt;return nt=X(Ae.minus(Me),lt,0,1),$e=$e.plus(nt.times(ke)),Me=Me.plus(nt.times(lt)),$e.s=ke.s=mt.s,Ye=Ye*2,yt=X(ke,lt,Ye,Ne).minus(mt).abs().comparedTo(X($e,Me,Ye,Ne).minus(mt).abs())<1?[ke,lt]:[$e,Me],st=Fe,yt},se.toNumber=function(){return+Lt(this)},se.toPrecision=function(Ae,Re){return Ae!=null&&w(Ae,1,x),ct(this,Ae,Re,2)},se.toString=function(Ae){var Re,Me=this,lt=Me.s,nt=Me.e;return nt===null?lt?(Re="Infinity",lt<0&&(Re="-"+Re)):Re="NaN":(Ae==null?Re=nt<=qe||nt>=Et?S(W(Me.c),nt):re(W(Me.c),nt,"0"):Ae===10&&Se?(Me=_t(new Ue(Me),xe+nt+1,Ne),Re=re(W(Me.c),Me.e,"0")):(w(Ae,2,ue.length,"Base"),Re=Q(re(W(Me.c),nt,"0"),10,Ae,lt,!0)),lt<0&&Me.c[0]&&(Re="-"+Re)),Re},se.valueOf=se.toJSON=function(){return Lt(this)},se._isBigNumber=!0,q!=null&&Ue.set(q),Ue}function L(q){var X=q|0;return q>0||q===X?X:X-1}function W(q){for(var X,Q,ee=1,se=q.length,Oe=q[0]+"";ee<se;){for(X=q[ee++]+"",Q=g-X.length;Q--;X="0"+X);Oe+=X}for(se=Oe.length;Oe.charCodeAt(--se)===48;);return Oe.slice(0,se+1||1)}function F(q,X){var Q,ee,se=q.c,Oe=X.c,xe=q.s,Ne=X.s,qe=q.e,Et=X.e;if(!xe||!Ne)return null;if(Q=se&&!se[0],ee=Oe&&!Oe[0],Q||ee)return Q?ee?0:-Ne:xe;if(xe!=Ne)return xe;if(Q=xe<0,ee=qe==Et,!se||!Oe)return ee?0:!se^Q?1:-1;if(!ee)return qe>Et^Q?1:-1;for(Ne=(qe=se.length)<(Et=Oe.length)?qe:Et,xe=0;xe<Ne;xe++)if(se[xe]!=Oe[xe])return se[xe]>Oe[xe]^Q?1:-1;return qe==Et?0:qe>Et^Q?1:-1}function w(q,X,Q,ee){if(q<X||q>Q||q!==v(q))throw Error(y+(ee||"Argument")+(typeof q=="number"?q<X||q>Q?" out of range: ":" not an integer: ":" not a primitive number: ")+String(q))}function G(q){var X=q.c.length-1;return L(q.e/g)==X&&q.c[X]%2!=0}function S(q,X){return(q.length>1?q.charAt(0)+"."+q.slice(1):q)+(X<0?"e":"e+")+X}function re(q,X,Q){var ee,se;if(X<0){for(se=Q+".";++X;se+=Q);q=se+q}else if(ee=q.length,++X>ee){for(se=Q,X-=ee;--X;se+=Q);q+=se}else X<ee&&(q=q.slice(0,X)+"."+q.slice(X));return q}n=H(),n.default=n.BigNumber=n,a.exports?a.exports=n:(m||(m=typeof self<"u"&&self?self:window),m.BigNumber=n)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;(function(a){var m=bignumberExports,n=a.exports;(function(){var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,v,y={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},T;function I(P){return c.lastIndex=0,c.test(P)?'"'+P.replace(c,function(M){var U=y[M];return typeof U=="string"?U:"\\u"+("0000"+M.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+P+'"'}function g(P,M){var U,x,H,L,W=l,F,w=M[P],G=w!=null&&(w instanceof m||m.isBigNumber(w));switch(w&&typeof w=="object"&&typeof w.toJSON=="function"&&(w=w.toJSON(P)),typeof T=="function"&&(w=T.call(M,P,w)),typeof w){case"string":return G?w:I(w);case"number":return isFinite(w)?String(w):"null";case"boolean":case"null":case"bigint":return String(w);case"object":if(!w)return"null";if(l+=v,F=[],Object.prototype.toString.apply(w)==="[object Array]"){for(L=w.length,U=0;U<L;U+=1)F[U]=g(U,w)||"null";return H=F.length===0?"[]":l?`[
`+l+F.join(`,
`+l)+`
`+W+"]":"["+F.join(",")+"]",l=W,H}if(T&&typeof T=="object")for(L=T.length,U=0;U<L;U+=1)typeof T[U]=="string"&&(x=T[U],H=g(x,w),H&&F.push(I(x)+(l?": ":":")+H));else Object.keys(w).forEach(function(S){var re=g(S,w);re&&F.push(I(S)+(l?": ":":")+re)});return H=F.length===0?"{}":l?`{
`+l+F.join(`,
`+l)+`
`+W+"}":"{"+F.join(",")+"}",l=W,H}}typeof n.stringify!="function"&&(n.stringify=function(P,M,U){var x;if(l="",v="",typeof U=="number")for(x=0;x<U;x+=1)v+=" ";else typeof U=="string"&&(v=U);if(T=M,M&&typeof M!="function"&&(typeof M!="object"||typeof M.length!="number"))throw new Error("JSON.stringify");return g("",{"":P})})})()})(stringify);var stringifyExports=stringify.exports,BigNumber=null;const suspectProtoRx=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,suspectConstructorRx=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var json_parse$1=function(a){var m={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(a!=null){if(a.strict===!0&&(m.strict=!0),a.storeAsString===!0&&(m.storeAsString=!0),m.alwaysParseAsBig=a.alwaysParseAsBig===!0?a.alwaysParseAsBig:!1,m.useNativeBigInt=a.useNativeBigInt===!0?a.useNativeBigInt:!1,typeof a.constructorAction<"u")if(a.constructorAction==="error"||a.constructorAction==="ignore"||a.constructorAction==="preserve")m.constructorAction=a.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${a.constructorAction}`);if(typeof a.protoAction<"u")if(a.protoAction==="error"||a.protoAction==="ignore"||a.protoAction==="preserve")m.protoAction=a.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${a.protoAction}`)}var n,c,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},v,y=function(L){throw{name:"SyntaxError",message:L,at:n,text:v}},T=function(L){return L&&L!==c&&y("Expected '"+L+"' instead of '"+c+"'"),c=v.charAt(n),n+=1,c},I=function(){var L,W="";for(c==="-"&&(W="-",T("-"));c>="0"&&c<="9";)W+=c,T();if(c===".")for(W+=".";T()&&c>="0"&&c<="9";)W+=c;if(c==="e"||c==="E")for(W+=c,T(),(c==="-"||c==="+")&&(W+=c,T());c>="0"&&c<="9";)W+=c,T();if(L=+W,!isFinite(L))y("Bad number");else return BigNumber==null&&(BigNumber=bignumberExports),W.length>15?m.storeAsString?W:m.useNativeBigInt?BigInt(W):new BigNumber(W):m.alwaysParseAsBig?m.useNativeBigInt?BigInt(L):new BigNumber(L):L},g=function(){var L,W,F="",w;if(c==='"')for(var G=n;T();){if(c==='"')return n-1>G&&(F+=v.substring(G,n-1)),T(),F;if(c==="\\"){if(n-1>G&&(F+=v.substring(G,n-1)),T(),c==="u"){for(w=0,W=0;W<4&&(L=parseInt(T(),16),!!isFinite(L));W+=1)w=w*16+L;F+=String.fromCharCode(w)}else if(typeof l[c]=="string")F+=l[c];else break;G=n}}y("Bad string")},P=function(){for(;c&&c<=" ";)T()},M=function(){switch(c){case"t":return T("t"),T("r"),T("u"),T("e"),!0;case"f":return T("f"),T("a"),T("l"),T("s"),T("e"),!1;case"n":return T("n"),T("u"),T("l"),T("l"),null}y("Unexpected '"+c+"'")},U,x=function(){var L=[];if(c==="["){if(T("["),P(),c==="]")return T("]"),L;for(;c;){if(L.push(U()),P(),c==="]")return T("]"),L;T(","),P()}}y("Bad array")},H=function(){var L,W=Object.create(null);if(c==="{"){if(T("{"),P(),c==="}")return T("}"),W;for(;c;){if(L=g(),P(),T(":"),m.strict===!0&&Object.hasOwnProperty.call(W,L)&&y('Duplicate key "'+L+'"'),suspectProtoRx.test(L)===!0?m.protoAction==="error"?y("Object contains forbidden prototype property"):m.protoAction==="ignore"?U():W[L]=U():suspectConstructorRx.test(L)===!0?m.constructorAction==="error"?y("Object contains forbidden constructor property"):m.constructorAction==="ignore"?U():W[L]=U():W[L]=U(),P(),c==="}")return T("}"),W;T(","),P()}}y("Bad object")};return U=function(){switch(P(),c){case"{":return H();case"[":return x();case'"':return g();case"-":return I();default:return c>="0"&&c<="9"?I():M()}},function(L,W){var F;return v=L+"",n=0,c=" ",F=U(),P(),c&&y("Syntax error"),typeof W=="function"?function w(G,S){var re,q=G[S];return q&&typeof q=="object"&&Object.keys(q).forEach(function(X){re=w(q,X),re!==void 0?q[X]=re:delete q[X]}),W.call(G,S,q)}({"":F},""):F}},parse=json_parse$1,json_stringify=stringifyExports.stringify,json_parse=parse;jsonBigint.exports=function(a){return{parse:json_parse(a),stringify:json_stringify}};jsonBigint.exports.parse=json_parse();jsonBigint.exports.stringify=json_stringify;var jsonBigintExports=jsonBigint.exports;const JSONbigString=getDefaultExportFromCjs(jsonBigintExports),state$1=()=>({loginId:"",groupsInfos:{},sqlReady:!1,addGroupMember:[],currentAddGroupId:"",isCreateNewChatGroup:!0,isHasNewAnnouce:!1,pullCurrentGroupAnnounceVal:0,deletedGroupMemberList:[]}),GroupAppStore=defineStore({id:"group",state:state$1,getters:{getGroupsInfos(){return this.groupsInfos},getAddGroupsMember(){return this.addGroupMember},getCreateNewChatGroup(){return this.isCreateNewChatGroup},getIsHasNewAnnouce(){return this.isHasNewAnnouce},getCurrentGroupAnnounceVal(){return this.pullCurrentGroupAnnounceVal},getDeletedGroupMemberList(){return this.deletedGroupMemberList}},actions:{initSelfUserInfoDetail(a){this.loginId=(a==null?void 0:a.uid)||this.loginId},initUserInfo(a){this.loginId=a.tuid},getChatTargetId(){if(this.loginId)return sessionStorage.getItem(`chatTargetId_${this.loginId}`)},setAddGroupId(a){this.currentAddGroupId=a},setCreateNewChatGroup(a){this.isCreateNewChatGroup=a},setIsHasNewAnnouce(a){this.isHasNewAnnouce=a},changeCurrentGroupAnnounceVal(){this.pullCurrentGroupAnnounceVal++},initSql(){this.sqlReady=!0},initAddGroupMember(){this.addGroupMember=[],this.currentAddGroupId=""},async initGroupInfo(a,m,n=""){let c=[],l={};if(a)try{const v=await window.MessageDbHelper.queryGroup(a);if(v.success&&v.rows.length){const y=await window.MessageDbHelper.queryGroupMembers(a);l=v.rows[0]||{},c=_.uniqBy(y.rows||[],"uid"),n==a&&this.setGroupList({...l,members:_.uniqBy(c,"uid")},n),this.currentAddGroupId==a&&(this.addGroupMember=_.uniqBy(c,"uid"))}else{const y=await this.updateGroupInfo(a,m,n);l=y.groupDetail,c=y.allMembers}}catch(v){console.error(v)}return l.description=utils.isJSONString(l.description)?l.description:"{}",{groupDetail:l,allMembers:_.uniqBy(c,"uid")}},async updateGroupInfo(a,m,n=""){let c=[],l={},v=[],y=[];try{const T=await this.fetchGoupsMember(a),I=T==null?void 0:T.find(F=>F.owner),g=(I==null?void 0:I.owner)||"";let P=(T==null?void 0:T.map(F=>F.member||F.owner))||[];v=((await window.MessageDbHelper.queryGroupMembers(a)).rows||[]).filter(F=>F.status);const U=v.map(F=>F.uid),x=P.filter(F=>typeof F=="string"&&!U.includes(F));let H=x.length?await window.RendererHelper.getUsersByTuids(x.join(",")):[];if(console.log("",H),l=await this.getAssignGroupDetail(a),!l)throw new Error("");let L=l.affiliations?JSON.parse(l.affiliations):[],W=await this.fetchGoupsAdmin(a)??[];if(H&&H.forEach(F=>{const w=L.find(G=>G.owner==F.uid||G.member==F.uid);c.push({groupid:a,name:F.name,pic:F.pic,puid:F.puid,uid:F.uid,mute:!1,muteRole:"",muteTimeStamp:-1,owner:F.uid==g,admin:W.includes(String(F.uid)),desc:"",deptDesc:F.deptDesc,fullpinyin:F.fullpinyin,simplepinyin:F.simplepinyin,status:1,role:F.role,createTime:w?w.joined_time:void 0})}),W.includes(m)||m==g){let F=await this.fetchGoupsMuteList(a);F!=null&&F.length&&v.concat(c).forEach(w=>{F==null||F.forEach(G=>{w.uid==G.user&&(w.mute=!0)})})}if(console.log(">>>>>>>",W,c),await this.addGroupMemberPuid(c),y=U.filter(F=>!P.includes(String(F))),y.length){await this.delGroupMember(a,y);const F=v.filter(w=>y.includes(String(w)));await this.addDeletedGroupMember(a,F,n)}}catch(T){console.log(T)}return c=v.concat(c).filter(T=>!y.includes(String(T.uid))),n==a&&this.setGroupList({...l,members:_.uniqBy(c,"uid")},n),this.currentAddGroupId==a&&(this.addGroupMember=_.uniqBy(c,"uid")),l.description=utils.isJSONString(l.description)?l.description:"{}",{groupDetail:l,allMembers:_.uniqBy(c,"uid")}},async groupMemberChange(a,m,n,c=""){let l=[],v=[],y={};if(n=="add"){const I=((await window.MessageDbHelper.queryGroupMembers(a)).rows||[]).filter(M=>M.status);if(I.some(M=>M.uid==m))return;let g=await window.RendererHelper.getUsersByTuids(String(m));if(g){const M=g[0];l.push({groupid:a,name:M.name,pic:M.pic,puid:String(M.puid),uid:String(M.uid),mute:!1,muteRole:"",muteTimeStamp:-1,owner:0,admin:0,desc:"",deptDesc:M.deptDesc,fullpinyin:M.fullpinyin,simplepinyin:M.simplepinyin,status:1,role:M.role,createTime:new Date().getTime()}),await this.addGroupMemberPuid(l),v=I.concat(l),c==a&&this.setGroupList({...this.groupsInfos,members:_.uniqBy(v,"uid")},c),this.currentAddGroupId==a&&(this.addGroupMember=_.uniqBy(v,"uid"))}const P=await window.MessageDbHelper.queryGroup(a);return P.success&&P.rows.length&&(y=P.rows[0]||{}),{groupDetail:y,allMembers:_.uniqBy(v,"uid")}}else{const T=await window.MessageDbHelper.queryGroupMembers(a);await this.delGroupMember(a,[m]);const I=(T.rows||[]).filter(P=>P.uid==m&&P.status);await this.addDeletedGroupMember(a,I,c),v=(T.rows||[]).filter(P=>P.uid!=m&&P.status),c==a&&this.setGroupList({...this.groupsInfos,members:_.uniqBy(v,"uid")},c),this.currentAddGroupId==a&&(this.addGroupMember=_.uniqBy(v,"uid"));const g=await window.MessageDbHelper.queryGroup(a);return g.success&&g.rows.length&&(y=g.rows[0]||{}),y.description=utils.isJSONString(y.description)?y.description:"{}",{groupDetail:y,allMembers:_.uniqBy(v,"uid")}}},async updateGroupAllMember(a,m,n){let c=[],l={};try{const v=await this.fetchGoupsMember(a)||[],y=v.find(G=>G.owner),T=y?y.owner:"";let I=v.map(G=>G.member||G.owner),P=((await window.MessageDbHelper.queryGroupMembers(a)).rows||[]).filter(G=>G.status);const M=P.map(G=>G.uid),U=I.filter(G=>!M.includes(String(G)));let x=U.length?await window.RendererHelper.getUsersByTuids(U.join(",")):[],H=await this.fetchGoupsAdmin(a)??[],L=[];x&&x.forEach(G=>{L.push({groupid:a,name:G.name,pic:G.pic,puid:G.puid,uid:G.uid,mute:!1,muteRole:"",muteTimeStamp:-1,owner:G.uid==T,admin:H.includes(String(G.uid)),desc:"",deptDesc:G.deptDesc,fullpinyin:G.fullpinyin,simplepinyin:G.simplepinyin,status:1,role:G.role,createTime:new Date().getTime()})}),L.length&&await this.addGroupMemberPuid(L);let W=M.filter(G=>!I.includes(String(G)));if(W.length){await this.delGroupMember(a,W);const G=P.filter(S=>W.includes(String(S)));await this.addDeletedGroupMember(a,G,n)}c=m.concat(L).filter(G=>!W.includes(String(G.uid))),l=await this.getAssignGroupDetail(a,!0);let F=[];if(c.some(G=>G.role==3)){const G=c.filter(S=>S.role==3);for(let S of G){const re=await window.RendererHelper.getUsersByTuids(String(S.uid));re.length&&await this.updateGroupMember(a,String(S.uid),{name:re[0].name||S.name})}}a==n&&(c.forEach(G=>{G.admin=H.includes(String(G.uid))?1:0,G.owner=G.uid==T?1:0,G.role==3&&(F!=null&&F.length)&&(G.name=F[0].name||G.name)}),l!=null&&l.id?this.setGroupList({...l,members:_.uniqBy(c,"uid")},n):this.setGroupList({...this.getGroupsInfos,members:_.uniqBy(c,"uid")},n)),await window.MessageDbHelper.updateGroupAdminList(a,H);let w=c.find(G=>G.owner);w&&w.uid!=T&&(this.updateGroupMemberOwner(a,w.uid,0),this.updateGroupMemberOwner(a,T,1))}catch(v){if(console.log(v),(v==null?void 0:v.type)==17&&v.data&&JSON.parse(v.data).error=="group_authorization"||v.type==605)return!1}return l.description=utils.isJSONString(l.description)?l.description:"{}",{groupDetail:l!=null&&l.id?l:this.groupsInfos,allMembers:_.uniqBy(c,"uid")}},async initDeletedGroupMemberList(a){try{const n=(await window.MessageDbHelper.queryDeletedGroupMembers(a)).rows||[];this.deletedGroupMemberList=_.uniqBy(n,"uid")}catch{console.log("")}},async addDeletedGroupMember(a,m,n=""){try{const l=(await window.MessageDbHelper.queryDeletedGroupMembers(a)).rows||[],v=m.filter(y=>!l.some(T=>T.uid==y.uid));a==n&&(this.deletedGroupMemberList=_.uniqBy(l.concat(m),"uid")),await window.MessageDbHelper.insetDeletedGroupMembers(v)}catch{console.log("")}},async updateGroupMemberOwner(a,m,n,c=""){try{if(c&&a==c){let l=_.cloneDeep(this.groupsInfos.members);l.forEach(v=>{m==v.uid&&(v.owner=n)}),this.setGroupList({...this.groupsInfos,members:_.uniqBy(l,"uid")},c)}await window.MessageDbHelper.updateGroupOwner(a,m,n)}catch(l){console.log(l)}},setGroupList(a,m=""){console.log("sessionStoragekey",this.getChatTargetId()),m==this.getChatTargetId()&&(a.description=utils.isJSONString(a.description)?a.description:"{}",this.groupsInfos={...a})},async updateGroupDetail(a,m,n=""){try{const c={allowinvites:m.allowInvites,description:m.description,maxusers:m.maxUsers,name:m.name,public:m.public};n==a&&this.setGroupList({...this.groupsInfos,...c},n),await window.MessageDbHelper.updateGroupDetail(a,c)}catch(c){console.log(c)}},async updateGroup(a,m,n=""){try{n==a&&this.setGroupList({...this.groupsInfos,...m},n),await window.MessageDbHelper.updateGroupDetail(a,m)}catch(c){console.log(c)}},async updateGroupMember(a,m,n,c=""){try{let v=((await window.MessageDbHelper.queryGroupMembers(a)).rows||[]).filter(T=>T.status);if(!v)return;v.forEach(T=>{T.uid==m&&(T=_.assign(T,n))});const y={members:v};c==a&&this.setGroupList({...this.groupsInfos,...y},c),await window.MessageDbHelper.updateGroupMemberDetail(a,m,n)}catch(l){console.log(l)}},async delGroupMember(a,m){try{await window.MessageDbHelper.delGroupMembers(a,m)}catch(n){console.log(n)}},async fetchGoupsAdmin(a){typeof a=="number"&&(a=String(a));const{data:m}=await ProxyCreateWebIM$1({}).getGroupAdmin(a);return m},async setGroupAdmin(a="add",m,n,c){var l,v;if(a=="add"){let y={groupId:String(m),username:n};const T=await ProxyCreateWebIM$1({}).setGroupAdmin(y);if(console.log(T),((l=T==null?void 0:T.data)==null?void 0:l.result)=="success")if(c){const I=await ProxyCreateWebIM$1({}).removeTheMemberFromMuteList({groupId:m,username:n});console.log("",I),this.updateGroupMember(String(m),n,{admin:1,mute:!1},m)}else this.updateGroupMember(String(m),n,{admin:1},m)}else{let y={groupId:String(m),username:n};const T=await ProxyCreateWebIM$1({}).removeGroupAdmin(y);((v=T==null?void 0:T.data)==null?void 0:v.result)=="success"&&this.updateGroupMember(String(m),n,{admin:0},m)}},async getAssignGroupDetail(a,m=!1){var l,v;const n={groupId:a},c=await ProxyCreateWebIM$1({}).getAssignGroupDetail(n);if(c.data&&c.data.length>0){let y=c.data[0];if(y.description){let T=JSON.parse(y.description);if(T.groupType==GroupType.COURSE){const I=((l=T==null?void 0:T.courseInfo)==null?void 0:l.courseid)||(T==null?void 0:T.courseInfo["courseid "]),g=(v=T==null?void 0:T.courseInfo)==null?void 0:v.classid;try{const P=await squareCourseInfo(I,g,!0);P.clazzName?y.name=`${P.courseName}-${P.clazzName}`:y.name=P.courseName,y.squareCourseInfo=P}catch(P){console.log("",P)}}}y.affiliations=JSONbigString.stringify(y.affiliations),y.description=utils.isJSONString(y.description)?y.description:"{}";try{m?await window.MessageDbHelper.updateGroupDetail(a,y):await window.MessageDbHelper.insetGroupDetail(y)}catch(T){console.log(T)}return y}return null},async fetchGoupsMember(a){let c={pageNum:1,pageSize:1e3,groupId:a},l,v;return l=await ProxyCreateWebIM$1({}).getGroupMembers(c),l.data&&l.data.length===1e3&&(c.pageNum=2,v=await ProxyCreateWebIM$1({}).getGroupMembers(c),l.data=v.data&&v.data.length?l.data.concat(v.data):l.data),l.data},async fetchGoupsMuteList(a){console.log(">>>>>>>",a);try{const{data:m}=await ProxyCreateWebIM$1({}).getGroupMuteList(a);return m}catch(m){return console.log(">>>>",m),[]}},async addGroupMemberPuid(a){try{await window.MessageDbHelper.insetGroupMembers(a)}catch(m){console.log(m)}},async fetchGroupList(a){const m=await ProxyCreateWebIM$1({}).getJoinedGroupsList({needAffiliations:!0,...a});return _.keyBy(m.data,"groupid"),m},async modifyGroupInfo(a){const{groupid:m,modifyType:n,content:c}=a;if(n===0){const l={groupId:m,groupName:c};await ProxyCreateWebIM$1({}).modifyGroupInfo(l)}if(n===1){const l={groupId:m,description:c};await ProxyCreateWebIM$1({}).modifyGroupInfo(l)}},async destroyGroupByOwner(a){const{groupId:m}=a;try{await ProxyCreateWebIM$1({}).destroyGroupByOwner({groupId:m}),console.log(">>>>>")}catch(n){console.log(">>>>",n)}},async inviteUserJoinTheGroup(a){const{users:m,groupId:n}=a;try{await ProxyCreateWebIM$1({}).inviteUserJoinTheGroup({users:m,groupId:n}),console.log(">>>>>")}catch(c){console.log(">>>>",c)}},async removeTheGroupMember(a,m,n=""){const{username:c,groupId:l}=a;try{await ProxyCreateWebIM$1({}).removeTheGroupMember({username:c,groupId:l}),await this.delGroupMember(l,[c]),await this.addDeletedGroupMember(l,[m],n)}catch(v){console.log("<<>>>>>>>>",v)}},async changeGroupOwner(a){const{newOwner:m,groupId:n}=a;try{await ProxyCreateWebIM$1({}).changeGroupOwner({newOwner:m,groupId:n})}catch(c){console.log("<<>>>>>>>>",c)}},async addMemberToMuteList(a){const{groupId:m,usernames:n}=a;try{await ProxyCreateWebIM$1({}).addMemberToMuteList({groupId:m,username:n,muteDuration:-1}),console.log("<<<<<<"),this.updateGroupMember(String(m),n,{mute:!0},m)}catch{console.log("<<<<<<~")}},async removeTheMemberFromMuteList(a){const{groupId:m,usernames:n}=a;try{await ProxyCreateWebIM$1({}).removeTheMemberFromMuteList({groupId:m,username:n}),console.log("<<<<<<"),this.updateGroupMember(String(m),n,{mute:!1},m)}catch{console.log("<<<<<<~")}},async getGroupOwner(a){const m=await queryGroupOwnerFromDb(a);console.log("[getGroupOwner] location owner",m==null?void 0:m.uid);let n;return m?n=m.uid:n=(await this.getAssignGroupDetail(a,!1)).owner,(await window.RendererHelper.getUsersByTuids(n))[0]},async getGroupAdmins(a){const m=await ProxyCreateWebIM$1({}).getGroupAdmin(a);return m&&m.data&&m.data.length>0?await window.RendererHelper.getUsersByTuids(m.data.join(",")):[]},async genGroupAvatar(a){const m=await this.getGroupOwner(a),n=await this.getGroupAdmins(a),c=[m].concat(n.slice(0,3)),l=4-c.length;if(l>0){const v=await window.MessageDbHelper.queryGroup(a);if(v.success&&v.rows.length>0){const y=v.rows[0],T=safetyParseJson(y.affiliations,[]);T.sort((P,M)=>P.joined_time-M.joined_time);const I=[];for(const P of T)I.length<l&&"member"in P&&!n.some(M=>String(M.uid)===P.member)&&I.push(P.member);const g=await window.RendererHelper.getUsersByTuids(I.join(","));c.push(...g)}}return c.map(v=>v.pic)}}});var RobotStreamStatus=(a=>(a[a.LOADING=0]="LOADING",a[a.STREAMING=1]="STREAMING",a[a.FAILED=2]="FAILED",a[a.FINISHED=3]="FINISHED",a[a.CANCELED=4]="CANCELED",a))(RobotStreamStatus||{});const ROBOT_MSG_CONTENT="[]";function isRobotMessage(a){return a.ext.robotMessageInfo!==void 0}function isJsonAnswer(a){return a==null?!1:safetyParseJson(a).index!==void 0}function isRobotMenuResponse(a){return a==null?!1:(a==null?void 0:a.answerType)==="MENU"}function isRobotTaskFlowResponse(a){return a==null?!1:a.hitType==="TASK"&&a.answerType==="TASK_FLOW_V3"}function isRobotRichTextResponse(a){return a==null?!1:(a==null?void 0:a.answerType)==="RICH_TEXT"}function isRobotLLMResponse(a){return a==null?!1:(a==null?void 0:a.answerType)==="LLM_TEXT"}function isRobotTextResponse(a){return a==null?!1:a.answerType==="TEXT"||a.answerContentType==="TEXT"}function isRobotIFrameResponse(a){return a==null?!1:a.pcIframeUrl!==void 0}function isRobotJsonResponse(a){return a==null?!1:a.statusCode!==void 0}async function queryRobotInfo(a,m){var l,v;const n=GroupAppStore();let c=[];if(n.getGroupsInfos.id===a)c=((l=safetyParseJson(n.getGroupsInfos.description))==null?void 0:l.robotList)??[];else{const y=await window.MessageDbHelper.queryGroupByKeyWithRobotList(a);y&&y.description&&(c=((v=safetyParseJson(y.description))==null?void 0:v.robotList)??[])}if(c.length>0)return c.find(y=>y.robotUid===m)}function isServerRobot(a){return a.ext.robotMessageInfo!==void 0&&a.ext.robotStreamStatus===void 0}function isLocalRobot(a){return a.ext.robotMessageInfo!==void 0&&a.ext.robotStreamStatus!==void 0}function getServerRobotMsg(a,m=""){if(a.ext.robotMessageInfo){const n=safetyParseJson(a.ext.robotMessageInfo.answer);return n.responseText?n.responseText:a.ext.robotMessageInfo.answer}return m}const ATTACHMENT_FILE={1:{cnName:"",enName:"",desc:"",field:"att_topic",component:"AttTopic",insertNote:"insertTopic"},2:{cnName:"",enName:"",desc:"",field:"att_note",component:"AttNote",insertNote:"insertNote"},3:{cnName:"",enName:"",desc:"",field:"att_subject",component:"AttSubject",insertNote:"insertSubject"},4:{cnName:"",enName:"",desc:"",field:"att_subject",component:"AttSubject",insertNote:"insertSubject"},6:{cnName:"",enName:"",desc:"",field:"att_subject",component:"AttSubject",insertNote:"insertSubject"},7:{cnName:"",enName:"",desc:"",field:"att_group",component:"AttGroup"},8:{cnName:"",enName:"",desc:"",field:"att_notice",component:"AttNotice",insertNote:"insertNotice"},10:{cnName:"",enName:"",desc:"",field:"att_notebook",component:"AttNotebook",insertNote:"insertNotebook"},15:{cnName:"",enName:"",desc:"",field:"att_chat_course",component:"AttChatCourse"},17:{cnName:"",enName:"",desc:"",field:"att_course",component:"AttCourse"},18:{cnName:"",enName:"",desc:"",field:"att_clouddisk",component:"AttClouddisk",insertNote:"insertCloud"},20:{cnName:"",enName:"",desc:"",field:"att_user",component:"AttUser"},21:{cnName:"",enName:"",desc:"",field:"",component:""},22:{cnName:"",enName:"",desc:"",field:"",component:""},23:{cnName:"",enName:"",desc:"",field:"",component:""},25:{cnName:"",enName:"",desc:"",field:"att_web",component:"AttWeb"},26:{cnName:"",enName:"",desc:"",field:"att_voice",component:"AttVoice",insertNote:"insertVoice"},29:{cnName:"",enName:"",desc:"",field:"att_video",component:"AttVideo",insertNote:"insertVideo"},30:{cnName:"",enName:"",desc:"",field:"",component:""},31:{cnName:"",enName:"",desc:"",field:"att_linker",component:"AttLinker"},33:{cnName:"",enName:"",desc:"",field:"att_map_location",component:"AttMapLocation"},34:{cnName:"",enName:"",desc:"",field:"",component:""},37:{cnName:"",enName:"",desc:"",field:"att_createSpecialResFile",component:"AttCreateSpecialResFile"},38:{cnName:"",enName:"",desc:"",field:"att_cloudFolder",component:"AttCloudFolder",insertNote:"insertCloudfolder"},39:{cnName:"",enName:"",desc:"",field:"att_course_clone",component:"AttCourseClone"},40:{cnName:"",enName:"",desc:"",field:"att_course_clone",component:"AttCourseClone"},41:{cnName:"",enName:"",desc:"",field:"att_micro_course",component:"AttMicroCourse"},42:{cnName:"",enName:"",desc:"",field:"att_ClockIn",component:"AttClockIn"},43:{cnName:"wifi",enName:"",desc:"wifi",field:"att_ClockIn",component:"AttClockIn"},44:{cnName:"",enName:"",desc:"()",field:"att_class_qrcode_info",component:"AttClassQrcodeInfo"},47:{cnName:"",enName:"",desc:"",field:"att_topicfolder",component:"AttTopicfolder",insertNote:"insertTopicfolder"},48:{cnName:"",enName:"",desc:"",field:"att_datafolder",component:"AttDatafolder"},52:{cnName:"",enName:"",desc:"",field:"att_noticefile",component:"AttNoticefile"},53:{cnName:"",enName:"",desc:"()",field:"",component:""}},ATTACHMENT_FILE_REPETITION=[3,4,6,39,40,42,43];let loginId="";function initLoginId(a){loginId=a?String(a):""}function setMessageKey(a,m){var l;const n=m||((l=ProxyCreateWebIM$1().connection)==null?void 0:l.user)||loginId;return a.chatType===ChatType.SINGLE&&extractUserId(a.to)===n?extractUserId(a.from):extractUserId(a.to)}function extractUserId(a){return typeof a=="string"&&a.includes("/")?a.split("/")[0]:a}const FILE_TYPE={IMAGE:["jpg","jpeg","gif","png","bmp"],VIDEO:["mp3","mp4","mov"]},ONLINE_FILE_STATUS={AWAIT:"await",RECEIVE:"receive",REJECT:"reject",CANCEL:"cancel",OFFLINE:"offline"},INIT_GROUP_NAME="",CLEAR_MESSAGE_RED_DOT_TIME$1=1e3*60*60*24*30;function isWindowShakeMessage(a){return a.windowShake===!0}function buildWindowShakeMessageExt(a={}){return{...a,time:String(new Date().getTime()),windowShake:!0}}const extractFiles=a=>{const m=[],n=c=>{c.type==="file"?m.push({...c,name:c.name,path:c.path,size:c.size,status:"pending"}):c.type==="folder"&&c.children&&c.children.forEach(l=>n(l))};return a.forEach(c=>n(c)),m};function getReplyContent(a){var m,n,c,l,v,y,T;return((l=(c=(n=(m=a==null?void 0:a.replyInfo)==null?void 0:m.ext)==null?void 0:n.attachment)==null?void 0:c.att_notice)==null?void 0:l.sourceType)===INTERNAL_MESSAGE_SOURCE_TYPE?INTERNAL_MESSAGE_SHOW_TEXT:(T=utils.htmlEncodeByRegExp((y=(v=a==null?void 0:a.replyInfo)==null?void 0:v.body)==null?void 0:y.content))==null?void 0:T.replace(/\n/g," ")}function isTipMessage(a){return!!(isWindowShakeMessage(a.ext)||a.ext.sendOnlineFile===!0&&![ONLINE_FILE_STATUS.RECEIVE,ONLINE_FILE_STATUS.AWAIT].includes(a.ext.onlineFileStatus)||a.ext.onlineFileCancelSending===!0||a.ext.onlineFileRejectReceive===!0||a.ext.onlineFileTransferFailed===!0||a.ext.onlineFileToOfflineSending===!0)}const isSelfSend=(a,m)=>(a=formatFrom(a),String(a)===String(m));function formatFrom(a){return a=a?String(a):"",a&&a.includes("/")&&(a=a.split("/")[0]),a}async function createReplyPcInfoCMDExt(a){return{...await window.MainWindowHelper.getPcDeviceInfo(),status:a}}const SYNC_RED_DOT_CMD_MAX_AGE=24*60*60*1e3,RECALL_CMD_MAX_AGE=24*60*60*1e3,CHECK_CMD_CACHE_EXPIRE_INTERVAL=60*60*1e3;function isSendSuccessMessage(a){return!a||a==="success"}function isNoDisturb(a){return a==="AT"||a==="NONE"}function isCustomMessage(a){return a&&"customEvent"in a}const t$4=i18n.global.t,CLEAR_MESSAGE_RED_DOT_TIME=1e3*60*60*24*30,getHtmlTextContent=a=>{let m=document.createElement("div");m.innerHTML=a;const n=m.innerText;return m=null,n},handleLastMsgContent=(a,m=!1)=>{var I,g,P,M,U,x,H,L;const{type:n,msg:c,from:l}=a,v=ProxyCreateWebIM$1().connection.user;let y="",T=(I=a.ext)==null?void 0:I.attachment;if(typeof T=="string"&&T&&(T=JSON.parse(T)),PreMessageType[n]&&!a.isRecall)y=PreMessageType[n];else if(a.type==FakeMsgType.TIPS)y=getHtmlTextContent(c);else if(n===MessageType.CUSTOM)isCustomMessage(a)&&CustomMessageType[a.customEvent]&&(y=CustomMessageType[a.customEvent]);else if(a.isRecall)y=v&&l&&l!=v?t$4("message.withdrew"):t$4("message.withdrewMessage");else if(n===MessageType.AUDIO)y="["+t$4("message.voice")+"]";else if(ATTACHMENT_FILE[T==null?void 0:T.attachmentType]&&!ATTACHMENT_FILE_REPETITION.includes(T==null?void 0:T.attachmentType)){const W=ATTACHMENT_FILE[T==null?void 0:T.attachmentType];let F="";(T==null?void 0:T.attachmentType)==25&&((g=T==null?void 0:T.att_web)==null?void 0:g.type)==2&&(F="["+t$4("message.chatLog")+"]"),(T==null?void 0:T.attachmentType)==25&&((P=T==null?void 0:T.att_web)==null?void 0:P.type)==1&&(F="[]"+(((M=T==null?void 0:T.att_web)==null?void 0:M.realTitle)||((U=T==null?void 0:T.att_web)==null?void 0:U.title)||"")),(T==null?void 0:T.attachmentType)==15&&(F=`[${((x=T==null?void 0:T.att_chat_course)==null?void 0:x.atypeName)||((H=T==null?void 0:T.att_chat_course)==null?void 0:H.title)}]`),(T==null?void 0:T.attachmentType)==10&&(F=((L=T==null?void 0:T.att_notebook)==null?void 0:L.category)!=5?"[]":"[]"),y=F||`[${W.cnName}]`,c&&(y=c)}else{for(let W in MessageType)MessageType[W]===n&&(y=`[${n}]`);c&&(y=c)}return a.chatType==ChatType.GROUP&&!a.isRecall&&a.type!=FakeMsgType.TIPS?m?((a==null?void 0:a.sendName)||"")+": "+y:((a==null?void 0:a.sendName)||"")+":"+y:y};function createActiveConversation(a,m,n){let c={},l=_.cloneDeep(n[a]),v={};if(l)l.conversationInfo.name=m.name||"",l.origin=m.origin||"",m.pic&&(l.conversationInfo.avatarUrl=m.chatType===ChatType.SINGLE?m.pic||["default"]:m.pic&&m.pic.length?m.pic:["default"]),v=_.assign({},l);else{const{name:y,origin:T,pic:I=[],chatType:g,puid:P="",msg:M,sendType:U,time:x}=m;v={puid:g===ChatType.SINGLE?P:"",ext:{},conversationType:m.chatType||"singleChat",conversationKey:a,conversationInfo:{name:y||"",avatarUrl:g===ChatType.SINGLE?I:m.pic&&m.pic.length?m.pic:["default"]},fromInfo:{fromId:"",fromName:""},targetId:a,unreadMessageNum:0,realUnreadMessageNum:0,latestMessage:{msg:M||"",type:"txt",state:U||"success"},latestMessageId:"",latestSendTime:x||Date.now(),origin:T||"",draft:"",isTop:0,draftTime:0,isRemind:!1,isReply:!1,atMsgCounter:0,isCare:!1,isNewNotice:!1,clazzName:"",isNoDisturb:!1,topTime:0,isSilent:!1}}return c[a]=v,c}async function createConversation(a,m,n,c,l,v){const y={},T=a[a.length-1];await I(T,m,n,c,l,v);async function I(P,M,U,x,H,L){const W=M,F=setMessageKey(P);if(W[F]){if(W&&W[F]){const w=_.cloneDeep(M[F]),G=await g("update",P,w,U,x,H,L);y[F]=G}}else{const w=await g("create",P,{},U,x,H,L);y[F]=w}}async function g(P,M,U,x,H,L,W){var Et,et;const F=await window.MainWindowHelper.getAppSystemConfig(),w=(F==null?void 0:F.clearMessageRedDot)??!0,G=((Et=ProxyCreateWebIM$1().connection)==null?void 0:Et.user)??"",S=setMessageKey(M),{chatType:re,from:q,id:X,time:Q,to:ee,type:se,ext:Oe,puid:xe="",isSilent:Ne,sendType:qe}=M;if(P==="create"){let st=!1,vt=INIT_GROUP_NAME,It=Ne||q===G||S==x||M.isread||M.isRecall||H||M.type==FakeMsgType.TIPS?0:1;w&&It===1&&Date.now()-Q>CLEAR_MESSAGE_RED_DOT_TIME&&(It=0);const wt={isNoDisturb:st,isSilent:Ne||!1,draft:"",draftTime:0,topTime:0,isTop:0,puid:re===ChatType.SINGLE?xe:"",ext:Oe,isRemind:isAtMsg(Oe,G,q),isReply:isReplyMsg(Oe,G),atMsgCounter:0,isCare:isMyCares(L,q),isNewNotice:isShowNewNotice(Oe,q,G),clazzName:"",conversationType:re,conversationKey:S,conversationInfo:{name:"",avatarUrl:re===ChatType.SINGLE?(M==null?void 0:M.pic)||["default"]:(et=M==null?void 0:M.pic)!=null&&et.length?M.pic:["default"]},fromInfo:{fromId:q,fromName:""},targetId:ee,unreadMessageNum:It,realUnreadMessageNum:It,latestMessage:{msg:handleLastMsgContent(M),type:se,state:qe||"success"},latestMessageId:X,latestSendTime:Q||Date.now(),_needsQuery:!0};return re===ChatType.GROUP?wt.conversationInfo.name=M.name||vt:re===ChatType.SINGLE&&(wt.conversationInfo.name=M.name||""),wt}else{let st=getUnReadNumByUpdate(M,G,S,H,W,x,U);const vt=getReadUnReadNumByUpdate(M,G,S,H,W,x,U);w&&st>0&&Date.now()-Q>CLEAR_MESSAGE_RED_DOT_TIME&&(st=0);const It=U,wt={fromInfo:{fromId:q,fromName:""},atMsgCounter:isAtMsg(Oe,G,q)?((It==null?void 0:It.atMsgCounter)||0)+1:(It==null?void 0:It.atMsgCounter)||0,isRemind:S==x?!1:It.isRemind||isAtMsg(Oe,G,q),isReply:S==x?!1:It.isReply||isReplyMsg(Oe,G),isCare:S==x?!1:It.isCare||isMyCares(L,q),isNewNotice:S==x?!1:It.isNewNotice||isShowNewNotice(Oe,q,G),latestMessage:{msg:handleLastMsgContent(M),type:se,state:qe||"success"},ext:Oe,targetId:ee,latestMessageId:X,latestSendTime:H?(M==null?void 0:M.time)||Q:Q||Date.now(),unreadMessageNum:st,realUnreadMessageNum:vt};return _.assign(It,wt)}}return y}function getUnReadNumByUpdate(a,m,n,c,l,v,y){if(y.isSilent)return 0;const{from:T}=a;let I=0;return l==n?a.type==FakeMsgType.TIPS?I=(y==null?void 0:y.unreadMessageNum)||0:I=T===m||a.isread||a.isRecall?0:c?Math.max(y.unreadMessageNum-1,0):y.unreadMessageNum+1:a.type==FakeMsgType.TIPS?I=(y==null?void 0:y.unreadMessageNum)||0:I=T===m||a.isread||a.isRecall?0:c?Math.max(y.unreadMessageNum-1,0):y.unreadMessageNum+1,console.log("[getUnReadNumByUpdate] num:",I,"listKey:",n),I}function getReadUnReadNumByUpdate(a,m,n,c,l,v,y){if(y.isSilent)return 0;const{from:T,isread:I,isRecall:g,type:P}=a;if(P===FakeMsgType.TIPS)return(y==null?void 0:y.realUnreadMessageNum)||0;let x=T===m||I||g?0:c?Math.max(((y==null?void 0:y.realUnreadMessageNum)||0)-1,0):((y==null?void 0:y.realUnreadMessageNum)||0)+1;return console.log("[getReadUnReadNumByUpdate] num:",x,"listKey:",n),x}function isAtMsg(a,m,n){return!!(a&&(a!=null&&a.atToInfo)&&(a!=null&&a.atToInfo.length)&&(isJSONArray(a.atToInfo)?JSON.parse(a.atToInfo):a.atToInfo).some(l=>(l.uid==m||l.uid=="all")&&l.uid!=n))}function isJSONArray(a){try{const m=JSON.parse(a);return Array.isArray(m)}catch{return!1}}function isReplyMsg(a,m){return!!(a&&(a!=null&&a.replyInfo)&&a.replyInfo.messageFrom!=m&&a.replyInfo.uid==m)}function isShowNewNotice(a,m,n){var c,l,v;return((c=a==null?void 0:a.attachment)==null?void 0:c.attachmentType)==25&&((v=(l=a==null?void 0:a.attachment)==null?void 0:l.att_web)==null?void 0:v.type)==1&&m!=n}function isMyCares(a,m){return(a||[]).some(n=>n.ftuid==m)}function sortConversation(a){const m={},n=_.values(a);return _.sortBy(n,function(l){return-l.latestSendTime}).forEach(l=>{const v=l.conversationKey;m[v]=l}),m}const createOptions=({msgType:a,msgOptions:m},n)=>{var v,y;return{[MessageType.TEXT]:{chatType:m.chatType,type:a,from:m.from,to:m.to,msg:m.msg,ext:m.ext},[MessageType.IMAGE]:{chatType:m.chatType,type:a,from:m.from,to:m.to,file:m.file,width:((v=m==null?void 0:m.file)==null?void 0:v.width)||0,height:((y=m==null?void 0:m.file)==null?void 0:y.height)||0,ext:m.ext||{},url:m.url,thumb:"",secret:"",onFileUploadError:T=>{n(T),console.log("onFileUploadError",safetyToJson(T))},onFileUploadProgress:T=>{console.log(T)},onFileUploadComplete:function(T){console.log("onFileUploadComplete",T)}},[MessageType.FILE]:{chatType:m.chatType,type:a,from:m.from,to:m.to,file:m.file,filename:m.file&&m.file.filename,ext:{file_length:m.file&&m.file.size,...m.ext},onFileUploadError:function(T){n(T),console.log("onFileUploadError",safetyToJson(T))},onFileUploadProgress:function(T){console.log(T)},onFileUploadComplete:function(){console.log("onFileUploadComplete")}},[MessageType.AUDIO]:{chatType:m.chatType,type:a,from:m.from,to:m.to,file:m.file,filename:m.file&&m.file.filename,length:m.length||0,ext:{...m.ext},onFileUploadError:function(T){n(T),console.log("onFileUploadError",safetyToJson(T))},onFileUploadProgress:function(T){console.log(T)},onFileUploadComplete:function(){console.log("onFileUploadComplete")}},[MessageType.CUSTOM]:{chatType:m.chatType,type:a,from:m.from,to:m.to,customEvent:m.customEvent,customExts:m.customExts,ext:m.ext}}[a]},createMsgBody=a=>{const{msg:m}=a;return{[MessageType.TEXT]:{chatType:m.chatType,type:m.type,ext:m.ext||{},from:m.from||"",id:m.id,msg:m.msg,time:m.time,to:m.to,sendName:(m==null?void 0:m.sendName)||"",sendType:(m==null?void 0:m.sendType)||"sending"},[MessageType.IMAGE]:{chatType:m.chatType,type:m.type,file:m.file,secret:m.secret,thumb:m.thumb,url:m.url,ext:m.ext||{},from:m.from||"",to:m.to,id:m.id,height:m.height,width:m.width,time:m.time,sendName:(m==null?void 0:m.sendName)||"",sendType:(m==null?void 0:m.sendType)||"sending"},[MessageType.FILE]:{chatType:m.chatType,type:m.type,ext:m.ext||{},from:m.from||"",id:m.id,time:m.time,to:m.to,url:m.url,filename:m.filename,file_length:m.ext&&m.ext.file_length,sendName:(m==null?void 0:m.sendName)||"",sendType:(m==null?void 0:m.sendType)||"sending"},[MessageType.AUDIO]:{chatType:m.chatType,type:m.type,ext:m.ext||{},from:m.from||"",id:m.id,time:m.time,to:m.to,url:m.url,length:m.length,filename:m.filename,sendName:(m==null?void 0:m.sendName)||"",sendType:(m==null?void 0:m.sendType)||"sending"},[MessageType.CUSTOM]:{chatType:m.chatType,type:m.type,ext:m.ext||{},from:m.from||"",id:m.id,customEvent:m.customEvent,customExts:{...m.customExts},time:m.time,to:m.to,sendName:(m==null?void 0:m.sendName)||"",sendType:(m==null?void 0:m.sendType)||"sending"}}[m.type]},createMessage={createOptions,createMsgBody},getAttachTitle=a=>{var n,c,l,v,y,T,I,g,P,M,U,x,H,L,W,F,w,G,S,re,q,X,Q,ee,se,Oe,xe;let m="";if(!a)return m;try{typeof a=="string"&&(console.log("",JSON.parse(a)),a=JSON.parse(a))}catch{return m}switch(a.attachmentType){case 1:m=((n=a==null?void 0:a.att_topic)==null?void 0:n.title)||"";break;case 2:m=((c=a==null?void 0:a.att_note)==null?void 0:c.title)||"";break;case 3:case 4:case 6:((l=a==null?void 0:a.att_subject)==null?void 0:l.category)==0?m=((v=a==null?void 0:a.att_subject)==null?void 0:v.subjectTitle)||"":m=((y=a==null?void 0:a.att_subject)==null?void 0:y.chapterTitle)||"";break;case 7:m=((T=a==null?void 0:a.att_group)==null?void 0:T.groupName)||"";break;case 8:m=((I=a==null?void 0:a.att_notice)==null?void 0:I.title)||"";break;case 10:m=((g=a==null?void 0:a.att_notebook)==null?void 0:g.name)||"";break;case 15:m=((P=a==null?void 0:a.att_chat_course)==null?void 0:P.title)||"";break;case 17:m=((M=a==null?void 0:a.att_course)==null?void 0:M.knowledgeLabel)||"";break;case 18:m=((U=a==null?void 0:a.att_clouddisk)==null?void 0:U.name)||"";break;case 20:m=((x=a==null?void 0:a.att_user)==null?void 0:x.name)||"";break;case 23:m=((H=a==null?void 0:a.att_chat_group)==null?void 0:H.groupName)||"";break;case 25:m=(((L=a==null?void 0:a.att_web)==null?void 0:L.title)||"")+(((W=a==null?void 0:a.att_web)==null?void 0:W.realTitle)||"");break;case 26:m=((F=a==null?void 0:a.att_voice)==null?void 0:F.fileTitle)||"";break;case 29:m=((w=a==null?void 0:a.att_video)==null?void 0:w.fileTitle)||"";break;case 31:m=((G=a==null?void 0:a.att_linker)==null?void 0:G.title)||"";break;case 33:m=((S=a==null?void 0:a.att_map_location)==null?void 0:S.name)||"";break;case 37:let qe=((re=a==null?void 0:a.att_createSpecialResFile)==null?void 0:re.content)||"";if(qe)try{const Et=JSON.parse(qe);m=(Et==null?void 0:Et.cfName)||""}catch{m=""}break;case 38:m=((q=a==null?void 0:a.att_cloudFolder)==null?void 0:q.name)||"";break;case 39:case 40:m=((X=a==null?void 0:a.att_course_clone)==null?void 0:X.courseName)||"";break;case 41:m=((Q=a==null?void 0:a.att_micro_course)==null?void 0:Q.title)||"";break;case 42:case 43:case 44:m=((ee=a==null?void 0:a.att_class_qrcode_info)==null?void 0:ee.courseName)||"";break;case 47:m=((se=a==null?void 0:a.att_topicfolder)==null?void 0:se.name)||"";break;case 48:m=((Oe=a==null?void 0:a.att_datafolder)==null?void 0:Oe.folderName)||"";break;case 52:m=((xe=a==null?void 0:a.att_noticefile)==null?void 0:xe.name)||"";break;case 53:default:m="";break}return m},_hoisted_1$5={style:{padding:"2px 10px","background-color":"#fff"}},_sfc_main$r=defineComponent({__name:"empty",setup(a){return(m,n)=>(openBlock(),createElementBlock("div",_hoisted_1$5,toDisplayString(unref(ATTACHMENT).UNSUPPORTED.key),1))}});/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(m){return m});seal||(seal=function(m){return m});apply||(apply=function(m,n,c){return m.apply(n,c)});construct||(construct=function(m,n){return new m(...n)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(a){return function(m){m instanceof RegExp&&(m.lastIndex=0);for(var n=arguments.length,c=new Array(n>1?n-1:0),l=1;l<n;l++)c[l-1]=arguments[l];return apply(a,m,c)}}function unconstruct(a){return function(){for(var m=arguments.length,n=new Array(m),c=0;c<m;c++)n[c]=arguments[c];return construct(a,n)}}function addToSet(a,m){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(a,null);let c=m.length;for(;c--;){let l=m[c];if(typeof l=="string"){const v=n(l);v!==l&&(isFrozen(m)||(m[c]=v),l=v)}a[l]=!0}return a}function cleanArray(a){for(let m=0;m<a.length;m++)objectHasOwnProperty(a,m)||(a[m]=null);return a}function clone(a){const m=create(null);for(const[n,c]of entries(a))objectHasOwnProperty(a,n)&&(Array.isArray(c)?m[n]=cleanArray(c):c&&typeof c=="object"&&c.constructor===Object?m[n]=clone(c):m[n]=c);return m}function lookupGetter(a,m){for(;a!==null;){const c=getOwnPropertyDescriptor(a,m);if(c){if(c.get)return unapply(c.get);if(typeof c.value=="function")return unapply(c.value)}a=getPrototypeOf(a)}function n(){return null}return n}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},getGlobal=function a(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function a(m,n){if(typeof m!="object"||typeof m.createPolicy!="function")return null;let c=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(c=n.getAttribute(l));const v="dompurify"+(c?"#"+c:"");try{return m.createPolicy(v,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+v+" could not be created."),null}},_createHooksMap=function a(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const m=dt=>createDOMPurify(dt);if(m.version="3.2.5",m.removed=[],!a||!a.document||a.document.nodeType!==NODE_TYPE.document||!a.Element)return m.isSupported=!1,m;let{document:n}=a;const c=n,l=c.currentScript,{DocumentFragment:v,HTMLTemplateElement:y,Node:T,Element:I,NodeFilter:g,NamedNodeMap:P=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:M,DOMParser:U,trustedTypes:x}=a,H=I.prototype,L=lookupGetter(H,"cloneNode"),W=lookupGetter(H,"remove"),F=lookupGetter(H,"nextSibling"),w=lookupGetter(H,"childNodes"),G=lookupGetter(H,"parentNode");if(typeof y=="function"){const dt=n.createElement("template");dt.content&&dt.content.ownerDocument&&(n=dt.content.ownerDocument)}let S,re="";const{implementation:q,createNodeIterator:X,createDocumentFragment:Q,getElementsByTagName:ee}=n,{importNode:se}=c;let Oe=_createHooksMap();m.isSupported=typeof entries=="function"&&typeof G=="function"&&q&&q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:xe,ERB_EXPR:Ne,TMPLIT_EXPR:qe,DATA_ATTR:Et,ARIA_ATTR:et,IS_SCRIPT_OR_DATA:st,ATTR_WHITESPACE:vt,CUSTOM_ELEMENT:It}=EXPRESSIONS;let{IS_ALLOWED_URI:wt}=EXPRESSIONS,Ht=null;const ue=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Se=null;const Ue=addToSet({},[...html,...svg,...mathMl,...xml]);let ct=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,bt=null,_t=!0,Lt=!0,Ae=!1,Re=!0,Me=!1,lt=!0,nt=!1,Ye=!1,Fe=!1,Ve=!1,$e=!1,ke=!1,Je=!0,yt=!1;const Ct="user-content-";let mt=!0,pt=!1,Mt={},Xt=null;const jt=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zt=null;const tr=addToSet({},["audio","video","img","source","image","track"]);let Ke=null;const Ot=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),j="http://www.w3.org/1998/Math/MathML",Y="http://www.w3.org/2000/svg",_e="http://www.w3.org/1999/xhtml";let De=_e,ve=!1,ze=null;const ot=addToSet({},[j,Y,_e],stringToString);let ut=addToSet({},["mi","mo","mn","ms","mtext"]),St=addToSet({},["annotation-xml"]);const xt=addToSet({},["title","style","font","a","script"]);let Bt=null;const Zt=["application/xhtml+xml","text/html"],fe="text/html";let z=null,te=null;const ye=n.createElement("form"),oe=function(Qe){return Qe instanceof RegExp||Qe instanceof Function},be=function(){let Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(te&&te===Qe)){if((!Qe||typeof Qe!="object")&&(Qe={}),Qe=clone(Qe),Bt=Zt.indexOf(Qe.PARSER_MEDIA_TYPE)===-1?fe:Qe.PARSER_MEDIA_TYPE,z=Bt==="application/xhtml+xml"?stringToString:stringToLowerCase,Ht=objectHasOwnProperty(Qe,"ALLOWED_TAGS")?addToSet({},Qe.ALLOWED_TAGS,z):ue,Se=objectHasOwnProperty(Qe,"ALLOWED_ATTR")?addToSet({},Qe.ALLOWED_ATTR,z):Ue,ze=objectHasOwnProperty(Qe,"ALLOWED_NAMESPACES")?addToSet({},Qe.ALLOWED_NAMESPACES,stringToString):ot,Ke=objectHasOwnProperty(Qe,"ADD_URI_SAFE_ATTR")?addToSet(clone(Ot),Qe.ADD_URI_SAFE_ATTR,z):Ot,zt=objectHasOwnProperty(Qe,"ADD_DATA_URI_TAGS")?addToSet(clone(tr),Qe.ADD_DATA_URI_TAGS,z):tr,Xt=objectHasOwnProperty(Qe,"FORBID_CONTENTS")?addToSet({},Qe.FORBID_CONTENTS,z):jt,Xe=objectHasOwnProperty(Qe,"FORBID_TAGS")?addToSet({},Qe.FORBID_TAGS,z):{},bt=objectHasOwnProperty(Qe,"FORBID_ATTR")?addToSet({},Qe.FORBID_ATTR,z):{},Mt=objectHasOwnProperty(Qe,"USE_PROFILES")?Qe.USE_PROFILES:!1,_t=Qe.ALLOW_ARIA_ATTR!==!1,Lt=Qe.ALLOW_DATA_ATTR!==!1,Ae=Qe.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=Qe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Me=Qe.SAFE_FOR_TEMPLATES||!1,lt=Qe.SAFE_FOR_XML!==!1,nt=Qe.WHOLE_DOCUMENT||!1,Ve=Qe.RETURN_DOM||!1,$e=Qe.RETURN_DOM_FRAGMENT||!1,ke=Qe.RETURN_TRUSTED_TYPE||!1,Fe=Qe.FORCE_BODY||!1,Je=Qe.SANITIZE_DOM!==!1,yt=Qe.SANITIZE_NAMED_PROPS||!1,mt=Qe.KEEP_CONTENT!==!1,pt=Qe.IN_PLACE||!1,wt=Qe.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,De=Qe.NAMESPACE||_e,ut=Qe.MATHML_TEXT_INTEGRATION_POINTS||ut,St=Qe.HTML_INTEGRATION_POINTS||St,ct=Qe.CUSTOM_ELEMENT_HANDLING||{},Qe.CUSTOM_ELEMENT_HANDLING&&oe(Qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ct.tagNameCheck=Qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Qe.CUSTOM_ELEMENT_HANDLING&&oe(Qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ct.attributeNameCheck=Qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Qe.CUSTOM_ELEMENT_HANDLING&&typeof Qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ct.allowCustomizedBuiltInElements=Qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(Lt=!1),$e&&(Ve=!0),Mt&&(Ht=addToSet({},text),Se=[],Mt.html===!0&&(addToSet(Ht,html$1),addToSet(Se,html)),Mt.svg===!0&&(addToSet(Ht,svg$1),addToSet(Se,svg),addToSet(Se,xml)),Mt.svgFilters===!0&&(addToSet(Ht,svgFilters),addToSet(Se,svg),addToSet(Se,xml)),Mt.mathMl===!0&&(addToSet(Ht,mathMl$1),addToSet(Se,mathMl),addToSet(Se,xml))),Qe.ADD_TAGS&&(Ht===ue&&(Ht=clone(Ht)),addToSet(Ht,Qe.ADD_TAGS,z)),Qe.ADD_ATTR&&(Se===Ue&&(Se=clone(Se)),addToSet(Se,Qe.ADD_ATTR,z)),Qe.ADD_URI_SAFE_ATTR&&addToSet(Ke,Qe.ADD_URI_SAFE_ATTR,z),Qe.FORBID_CONTENTS&&(Xt===jt&&(Xt=clone(Xt)),addToSet(Xt,Qe.FORBID_CONTENTS,z)),mt&&(Ht["#text"]=!0),nt&&addToSet(Ht,["html","head","body"]),Ht.table&&(addToSet(Ht,["tbody"]),delete Xe.tbody),Qe.TRUSTED_TYPES_POLICY){if(typeof Qe.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Qe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=Qe.TRUSTED_TYPES_POLICY,re=S.createHTML("")}else S===void 0&&(S=_createTrustedTypesPolicy(x,l)),S!==null&&typeof re=="string"&&(re=S.createHTML(""));freeze&&freeze(Qe),te=Qe}},Pe=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),ie=addToSet({},[...mathMl$1,...mathMlDisallowed]),at=function(Qe){let kt=G(Qe);(!kt||!kt.tagName)&&(kt={namespaceURI:De,tagName:"template"});const Gt=stringToLowerCase(Qe.tagName),At=stringToLowerCase(kt.tagName);return ze[Qe.namespaceURI]?Qe.namespaceURI===Y?kt.namespaceURI===_e?Gt==="svg":kt.namespaceURI===j?Gt==="svg"&&(At==="annotation-xml"||ut[At]):!!Pe[Gt]:Qe.namespaceURI===j?kt.namespaceURI===_e?Gt==="math":kt.namespaceURI===Y?Gt==="math"&&St[At]:!!ie[Gt]:Qe.namespaceURI===_e?kt.namespaceURI===Y&&!St[At]||kt.namespaceURI===j&&!ut[At]?!1:!ie[Gt]&&(xt[Gt]||!Pe[Gt]):!!(Bt==="application/xhtml+xml"&&ze[Qe.namespaceURI]):!1},we=function(Qe){arrayPush(m.removed,{element:Qe});try{G(Qe).removeChild(Qe)}catch{W(Qe)}},V=function(Qe,kt){try{arrayPush(m.removed,{attribute:kt.getAttributeNode(Qe),from:kt})}catch{arrayPush(m.removed,{attribute:null,from:kt})}if(kt.removeAttribute(Qe),Qe==="is")if(Ve||$e)try{we(kt)}catch{}else try{kt.setAttribute(Qe,"")}catch{}},Le=function(Qe){let kt=null,Gt=null;if(Fe)Qe="<remove></remove>"+Qe;else{const vr=stringMatch(Qe,/^[\r\n\t ]+/);Gt=vr&&vr[0]}Bt==="application/xhtml+xml"&&De===_e&&(Qe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Qe+"</body></html>");const At=S?S.createHTML(Qe):Qe;if(De===_e)try{kt=new U().parseFromString(At,Bt)}catch{}if(!kt||!kt.documentElement){kt=q.createDocument(De,"template",null);try{kt.documentElement.innerHTML=ve?re:At}catch{}}const $t=kt.body||kt.documentElement;return Qe&&Gt&&$t.insertBefore(n.createTextNode(Gt),$t.childNodes[0]||null),De===_e?ee.call(kt,nt?"html":"body")[0]:nt?kt.documentElement:$t},Ce=function(Qe){return X.call(Qe.ownerDocument||Qe,Qe,g.SHOW_ELEMENT|g.SHOW_COMMENT|g.SHOW_TEXT|g.SHOW_PROCESSING_INSTRUCTION|g.SHOW_CDATA_SECTION,null)},rt=function(Qe){return Qe instanceof M&&(typeof Qe.nodeName!="string"||typeof Qe.textContent!="string"||typeof Qe.removeChild!="function"||!(Qe.attributes instanceof P)||typeof Qe.removeAttribute!="function"||typeof Qe.setAttribute!="function"||typeof Qe.namespaceURI!="string"||typeof Qe.insertBefore!="function"||typeof Qe.hasChildNodes!="function")},ge=function(Qe){return typeof T=="function"&&Qe instanceof T};function Be(dt,Qe,kt){arrayForEach(dt,Gt=>{Gt.call(m,Qe,kt,te)})}const He=function(Qe){let kt=null;if(Be(Oe.beforeSanitizeElements,Qe,null),rt(Qe))return we(Qe),!0;const Gt=z(Qe.nodeName);if(Be(Oe.uponSanitizeElement,Qe,{tagName:Gt,allowedTags:Ht}),Qe.hasChildNodes()&&!ge(Qe.firstElementChild)&&regExpTest(/<[/\w!]/g,Qe.innerHTML)&&regExpTest(/<[/\w!]/g,Qe.textContent)||Qe.nodeType===NODE_TYPE.progressingInstruction||lt&&Qe.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,Qe.data))return we(Qe),!0;if(!Ht[Gt]||Xe[Gt]){if(!Xe[Gt]&&ht(Gt)&&(ct.tagNameCheck instanceof RegExp&&regExpTest(ct.tagNameCheck,Gt)||ct.tagNameCheck instanceof Function&&ct.tagNameCheck(Gt)))return!1;if(mt&&!Xt[Gt]){const At=G(Qe)||Qe.parentNode,$t=w(Qe)||Qe.childNodes;if($t&&At){const vr=$t.length;for(let pr=vr-1;pr>=0;--pr){const br=L($t[pr],!0);br.__removalCount=(Qe.__removalCount||0)+1,At.insertBefore(br,F(Qe))}}}return we(Qe),!0}return Qe instanceof I&&!at(Qe)||(Gt==="noscript"||Gt==="noembed"||Gt==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,Qe.innerHTML)?(we(Qe),!0):(Me&&Qe.nodeType===NODE_TYPE.text&&(kt=Qe.textContent,arrayForEach([xe,Ne,qe],At=>{kt=stringReplace(kt,At," ")}),Qe.textContent!==kt&&(arrayPush(m.removed,{element:Qe.cloneNode()}),Qe.textContent=kt)),Be(Oe.afterSanitizeElements,Qe,null),!1)},Ie=function(Qe,kt,Gt){if(Je&&(kt==="id"||kt==="name")&&(Gt in n||Gt in ye))return!1;if(!(Lt&&!bt[kt]&&regExpTest(Et,kt))){if(!(_t&&regExpTest(et,kt))){if(!Se[kt]||bt[kt]){if(!(ht(Qe)&&(ct.tagNameCheck instanceof RegExp&&regExpTest(ct.tagNameCheck,Qe)||ct.tagNameCheck instanceof Function&&ct.tagNameCheck(Qe))&&(ct.attributeNameCheck instanceof RegExp&&regExpTest(ct.attributeNameCheck,kt)||ct.attributeNameCheck instanceof Function&&ct.attributeNameCheck(kt))||kt==="is"&&ct.allowCustomizedBuiltInElements&&(ct.tagNameCheck instanceof RegExp&&regExpTest(ct.tagNameCheck,Gt)||ct.tagNameCheck instanceof Function&&ct.tagNameCheck(Gt))))return!1}else if(!Ke[kt]){if(!regExpTest(wt,stringReplace(Gt,vt,""))){if(!((kt==="src"||kt==="xlink:href"||kt==="href")&&Qe!=="script"&&stringIndexOf(Gt,"data:")===0&&zt[Qe])){if(!(Ae&&!regExpTest(st,stringReplace(Gt,vt,"")))){if(Gt)return!1}}}}}}return!0},ht=function(Qe){return Qe!=="annotation-xml"&&stringMatch(Qe,It)},Tt=function(Qe){Be(Oe.beforeSanitizeAttributes,Qe,null);const{attributes:kt}=Qe;if(!kt||rt(Qe))return;const Gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let At=kt.length;for(;At--;){const $t=kt[At],{name:vr,namespaceURI:pr,value:br}=$t,Pr=z(vr);let xr=vr==="value"?br:stringTrim(br);if(Gt.attrName=Pr,Gt.attrValue=xr,Gt.keepAttr=!0,Gt.forceKeepAttr=void 0,Be(Oe.uponSanitizeAttribute,Qe,Gt),xr=Gt.attrValue,yt&&(Pr==="id"||Pr==="name")&&(V(vr,Qe),xr=Ct+xr),lt&&regExpTest(/((--!?|])>)|<\/(style|title)/i,xr)){V(vr,Qe);continue}if(Gt.forceKeepAttr||(V(vr,Qe),!Gt.keepAttr))continue;if(!Re&&regExpTest(/\/>/i,xr)){V(vr,Qe);continue}Me&&arrayForEach([xe,Ne,qe],Gr=>{xr=stringReplace(xr,Gr," ")});const Jr=z(Qe.nodeName);if(Ie(Jr,Pr,xr)){if(S&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!pr)switch(x.getAttributeType(Jr,Pr)){case"TrustedHTML":{xr=S.createHTML(xr);break}case"TrustedScriptURL":{xr=S.createScriptURL(xr);break}}try{pr?Qe.setAttributeNS(pr,vr,xr):Qe.setAttribute(vr,xr),rt(Qe)?we(Qe):arrayPop(m.removed)}catch{}}}Be(Oe.afterSanitizeAttributes,Qe,null)},Yt=function dt(Qe){let kt=null;const Gt=Ce(Qe);for(Be(Oe.beforeSanitizeShadowDOM,Qe,null);kt=Gt.nextNode();)Be(Oe.uponSanitizeShadowNode,kt,null),He(kt),Tt(kt),kt.content instanceof v&&dt(kt.content);Be(Oe.afterSanitizeShadowDOM,Qe,null)};return m.sanitize=function(dt){let Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kt=null,Gt=null,At=null,$t=null;if(ve=!dt,ve&&(dt="<!-->"),typeof dt!="string"&&!ge(dt))if(typeof dt.toString=="function"){if(dt=dt.toString(),typeof dt!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!m.isSupported)return dt;if(Ye||be(Qe),m.removed=[],typeof dt=="string"&&(pt=!1),pt){if(dt.nodeName){const br=z(dt.nodeName);if(!Ht[br]||Xe[br])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(dt instanceof T)kt=Le("<!---->"),Gt=kt.ownerDocument.importNode(dt,!0),Gt.nodeType===NODE_TYPE.element&&Gt.nodeName==="BODY"||Gt.nodeName==="HTML"?kt=Gt:kt.appendChild(Gt);else{if(!Ve&&!Me&&!nt&&dt.indexOf("<")===-1)return S&&ke?S.createHTML(dt):dt;if(kt=Le(dt),!kt)return Ve?null:ke?re:""}kt&&Fe&&we(kt.firstChild);const vr=Ce(pt?dt:kt);for(;At=vr.nextNode();)He(At),Tt(At),At.content instanceof v&&Yt(At.content);if(pt)return dt;if(Ve){if($e)for($t=Q.call(kt.ownerDocument);kt.firstChild;)$t.appendChild(kt.firstChild);else $t=kt;return(Se.shadowroot||Se.shadowrootmode)&&($t=se.call(c,$t,!0)),$t}let pr=nt?kt.outerHTML:kt.innerHTML;return nt&&Ht["!doctype"]&&kt.ownerDocument&&kt.ownerDocument.doctype&&kt.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,kt.ownerDocument.doctype.name)&&(pr="<!DOCTYPE "+kt.ownerDocument.doctype.name+`>
`+pr),Me&&arrayForEach([xe,Ne,qe],br=>{pr=stringReplace(pr,br," ")}),S&&ke?S.createHTML(pr):pr},m.setConfig=function(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};be(dt),Ye=!0},m.clearConfig=function(){te=null,Ye=!1},m.isValidAttribute=function(dt,Qe,kt){te||be({});const Gt=z(dt),At=z(Qe);return Ie(Gt,At,kt)},m.addHook=function(dt,Qe){typeof Qe=="function"&&arrayPush(Oe[dt],Qe)},m.removeHook=function(dt,Qe){if(Qe!==void 0){const kt=arrayLastIndexOf(Oe[dt],Qe);return kt===-1?void 0:arraySplice(Oe[dt],kt,1)[0]}return arrayPop(Oe[dt])},m.removeHooks=function(dt){Oe[dt]=[]},m.removeAllHooks=function(){Oe=_createHooksMap()},m}var purify=createDOMPurify();const _hoisted_1$4=["src"],_hoisted_2$3=["src"],_hoisted_3$2=["innerHTML"],_hoisted_4$2=["innerHTML"],_hoisted_5$1=["innerHTML"],_sfc_main$q=defineComponent({__name:"base",props:{logo:String,logoList:Array,label:String,title:{type:String,default:""},content:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!1},keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attBase"),c=inject("attCustomize"),l=inject("attOperation"),v=inject("attProgress");let y=ref(!1);const T=x=>{y.value=!0,utils.windowClickOnce(()=>{y.value=!1})},I=computed(()=>purify.sanitize(m.description)),g=computed(()=>{if(c!==void 0)return purify.sanitize(c.content)}),P=computed(()=>{if(l!==void 0)return purify.sanitize(l.content)}),M=computed(()=>{if(m.keyword){const x=new RegExp(`(${lodashExports.escapeRegExp(m.keyword)})`,"i");return m.title.split(x)}else return[m.title]}),U=computed(()=>{var x;return((x=m.logoList)==null?void 0:x.length)===1});return(x,H)=>{var L,W,F,w;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is("cover",unref(y))]),onContextmenu:T},[a.logo?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("logo"),unref(n).is("round",a.round)])},[createBaseVNode("img",{src:a.logo,referrerPolicy:"no-referrer",draggable:"false"},null,8,_hoisted_1$4)],2)):a.logoList?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("logoList"),unref(n).is("round",a.round),{"is-single":unref(U)}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.logoList,G=>(openBlock(),createElementBlock("img",{src:G,referrerPolicy:"no-referrer"},null,8,_hoisted_2$3))),256))],2)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("info"))},[a.label?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("label"))},toDisplayString(a.label),3)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("title"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(M),(G,S)=>(openBlock(),createElementBlock("span",{key:S,class:normalizeClass({highlight:m.keyword&&m.keyword.toLowerCase()===G.toLowerCase()})},toDisplayString(G),3))),128))],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("contentWrapper"))},[createBaseVNode("span",{class:normalizeClass(unref(n).e("content"))},toDisplayString(a.content),3),createBaseVNode("span",{style:normalizeStyle((L=unref(c))==null?void 0:L.style),onClick:H[0]||(H[0]=withModifiers(()=>{var G,S;(S=(G=unref(c))==null?void 0:G.fn)==null||S.call(G)},["stop"])),innerHTML:unref(g),class:normalizeClass(unref(n).e("customize"))},null,14,_hoisted_3$2),createBaseVNode("span",{style:normalizeStyle((W=unref(l))==null?void 0:W.style),onClick:H[1]||(H[1]=withModifiers(()=>{var G,S;(S=(G=unref(l))==null?void 0:G.fn)==null||S.call(G)},["stop"])),innerHTML:unref(P),class:normalizeClass(unref(n).e("operation"))},null,14,_hoisted_4$2)],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("description")),innerHTML:unref(I)},null,10,_hoisted_5$1)],2),withDirectives(createBaseVNode("div",{style:normalizeStyle({width:(F=unref(v))==null?void 0:F.progressBarWidth}),class:normalizeClass(unref(n).e("uploadProgress"))},null,6),[[vShow,(w=unref(v))==null?void 0:w.showProgressBar]])],34)}}}),base_vue_vue_type_style_index_0_scoped_c946a7fa_lang="",Base=_export_sfc(_sfc_main$q,[["__scopeId","data-v-c946a7fa"]]),_sfc_main$p=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){var T,I;const m=a,n=BEM("attNote"),c=i18n.global.t,l=utils.htmlEncodeByRegExp(((T=m.attachment)==null?void 0:T.creatorName)||((I=m.attachment)==null?void 0:I.createrName)||""),v=`${c("message.from")}-<span style="color:#3A8BFF">${l}</span>`,y=()=>{var g,P;(g=m.attachment)!=null&&g.cid&&window.open(`https://noteyd.chaoxing.com/pc/${(P=m.attachment)==null?void 0:P.cid}`)};return(g,P)=>{var M,U,x,H,L,W,F;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:y},[createVNode(Base,{logo:((U=(M=m.attachment)==null?void 0:M.images)==null?void 0:U[0])||((H=(x=m.attachment)==null?void 0:x.imgs)==null?void 0:H[0]),title:((L=m.attachment)==null?void 0:L.title)||"[]",content:((W=m.attachment)==null?void 0:W.contentTxt)||((F=m.attachment)==null?void 0:F.content),description:v,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_09f3e85b_lang="",AttNote=_export_sfc(_sfc_main$p,[["__scopeId","data-v-09f3e85b"]]);class circularSector{constructor(m,n,c,l,v,y){this.cx=m,this.cy=n,this.radius=c,this.startAngle=l,this.endAngle=v,this.color=y}_polarToCartesian(m,n,c,l){var v=(l-90)*Math.PI/180;return{x:(m+c*Math.cos(v)).toFixed(2),y:(n+c*Math.sin(v)).toFixed(2)}}_path(){const m=this._polarToCartesian(this.cx,this.cy,this.radius,this.endAngle),n=this._polarToCartesian(this.cx,this.cy,this.radius,this.startAngle),c=this.endAngle-this.startAngle<=180?"0":"1";return["M",m.x,m.y,"A",this.radius,this.radius,0,c,0,n.x,n.y,"L",this.cx,this.cy,"Z"].join(" ")}setCode(m){const n=`<svg style="flex-shrink: 0;" width="${this.radius*2}" height="${this.radius*2}">
        <path d="${this._path()}" fill="${this.color}"></path>
      </svg>`;m&&(m.innerHTML=n)}}const defaultCover$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAE8CAYAAADe24uJAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8ISURBVHgB7d3bmSPXdYDRKlz6QvtBIdARWCGIEUihOANZGdiZWBHIITADMwS+iBhcCjA2QFDo6lMXTHdrehfW+j6RnJkCBi/C/LPPOVV11bJabf8wn1d/PBwOfzr+8PsKAOAbqOvqx+O/fmya5i/Pz88/vfi1y38cg+V32+3uz8d//0cFAPCJ1HX9X8vl4i/Hf/98+nH84xwv278dDtXvKwCATygmMsvl8oeImFn8xHnyIl4AgM8rWiWaJf67Xq1W389m8/+rAAAS2O+bH2bHePlzBQCQRF3P/xRLSJaOAIA06rr6Y71ebw4VAEAiswoAIBkBAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDfGrb3b4CaBMwwKe23h2qjYgBWgQM8Omtt/uq2R8qgAsBA6Sw2jTV/iBigDMBA6QQ7bJa7ysNAwQBA6QRE5iYxAAIGCCV2AvzZXt7xBwOsRn4YCkKJmJRASSzPYbIrN5XD4v+v4NFtETr7Jp/bAJ+Ws6Or60rIDcBA6QUJ5MiRBbzlzFSipaLuH65MHiGKRAwQFqxlPTdbF5FwnRFy7XnR/ECUyFggLRiK8svp5NJw3taHi0dwaT46wiQ2ph4OS0dzcULTImAASYvNvvWpi8wKZaQgE/pshn3+F/VW8TkZbkQLzA1Agb4VHb7Q7Xb7at4fuPhjfdriaWjh6VBM0yRgAG+ub6jz28RS0c27sI0CRjgm3nPaUvbfGbpCKZMwAD/VB81bWmLgAGmS8AA/xRNhMv2Y6YtJdtjIMUExhISTJOAAT5ULBNttq+nLXGsOe7q/1FBE2+5Wu+rf3maV8D0CBjgQ/SFy8PifGO5y71Z4prVZv/uIRNPnY7HDTwtRQxMjYAB3lVXuIQ4FRTxcgmXCJbNLvbEHF7ESyz77N8pZuLJ1cv5wZ4YmBgBA7yLvnCJeIhnEV1HxOa4dhTx0g6Xp4fzdREwzT6eOt1Ub22ZL8fpzneP88p2GJgOAQO8yWmZZlMOl5i0PB6nLtfHmSN0vhSWi9rTmfhnvOd7DGLiM642zSligGkQMMBX6Vr+uSgtF63j+ti1e+V66nLRFTld4vcYujZiKKY+8bmA/AQMcLO+wCgGSRObaYenLiGua0dOn3iPWJ6KQIklp7i/TAyDSp8tAmZx/Fwz+2EgvXq93nz8DRmASeiaolws5sd4Wc4Gpy6npaVlnET6xzSktBQVMRRv1XXDu/j17x7LT5ruCprza+yHgewEDDBK39TlvNclbt3/Mkh+Wb++PgLi+fHlM4pK7x0TnOfjJGcdE5mm/DUV93gZe6O6+Dy7JsJmf3rNo4c8QmqWkIBBERGbjqlLKUji2nhN2yVK6oFrI4SeLoFxuvZ1wESA3HKX3dOTqU/feDbywhQIGKBT3wmjUAqSrj0sl70q10phFNdcb7QtJUosVdmMC/dNwABFXUtAF+0gOR1VXu+LN6BrR0mIMIrnFfVdtz8cXi0fWf4BgoABXindZO5aKTS6Yuct8VJ6z1uXjoBpEjDAC337XULsTVm+c7ycj1OPi5dYPgIQMMBvSnFxLe7v0j76/NZ4uTxmYOg9z5twLR0BZwIGON+vZXt4t3hpT1TC+Th0+S68Q+9Z/3rSCeBCwMCdO/waDX1Pf44Jydh4KW2y7VqWuj5+3TvNWdT2vQAv+CsN3LGx8TJ2w+6sMCnZ/foMotL7vrh3zLb8nsv5yxvkAQTfCnDH4p4tffHSXgo6DBytbt/Q7nIfmbb2fpYInNLddk/XOTINFPhmgDsVYbFruuOltBT0ZbvvPVrdXubpevTA9ZRm/+tTrUseLB0BHQQM3KHShtprpaWgeE1X8JROCMX1pTv4xpLQmKWjuMbSEdDFtwPcmaH7vITSwxb7XtOOnfNUpXz9w7L/Tru/XSdegB6+IeCO9IXFRXspqGsfy0WERnuZZ7MtX1+avnSZe+Yi0EPAwJ24nB7qU1oK2vTsezkv87yMl5iodE5VRk5f2qED0CZg4E6sek4PXbSXgvpiJJSmL+uOqcqiFSU9W3CO1/pqAvr5loA7sB44Lh1Kp4jW2/6NvqXpS1ckLWavJztd4vECAH0EDEzcmH0vXaeI+iY27XgJ257f5/ohjPGZuoJqdowXq0fAEAEDEze07yW046Vvf8pF+6nQ+/2heGw6zFtRsu/5SIYvwBgCBiZsaIoSSktBm4HXLQqbbPumPO1ru0InHFOnAhgiYGCixiwdheunQV9eNzR9WRY22e56N+W+ntZ0sXwEjCFgYKL6NslexGSkvWF2uzsMvq4dJHGju76JTTtKhn8HgH4CBiZo6PjzRelut0OvK50Q2g28pv2KngHM4JIXQBAwMEHrkdOXW45BX7SnL6FvSej0e92wM1e+AGMIGJiYMRESipOUEXtmSq9r9u+XHfvhjwAgYGBqxkxfwsPyZYhE8+xGhEj7RNF+xGvaPTXvGcic7hGzN4cB+gkYmJDdDdOXdoiMjZf2htwxudT+TPXAktJOwAADBAxMyJhj06G0j6Vphl9bOuI8Zs9tu0eGHhWwawQM0E/AwETE0svYvSjF/S8j2qcUMF+1hDTwzdPsD++6rwaYHgEDE7EZufeldO+XiJ8xS09fe4+5doycl6L6323sXh7gPgkYmIiRq0fVrPD/+o8++VOapizn9eBrTGGALgIGJmDoTrjXPvoYdMl5wvPy50o30Wv7sjGFAcoEDEzAbjf+D/pSwLzl2PLYm9RtW5uEYwVpaAoT4fNl21QAbQIGJuCGfnl1fDq8Zf4ydl9M6WTRw3L4KyiezWQpCWgTMJDc/oblo2iX4kmikX1QOt08G/ktUtrTEjE1ZilptWlO0xiACwEDyd1y07dZ58mfce9RCqXSze26lE4WRcAMnUiK33a13osY4DcCBpJr3uGmb2O7IK4rXbsYuQ+mNIWJdnl+GP4qingRMcCFgIHkmsMtE5jqzUoBccvTpksni2Jj8dNyPvja3yLGnhi4ewIGEisdT+739oIpbcZdzsd/lcRnLj3yYLkYtx8mXv/3dTP6sQnANAkYSOzWQUTXVpP6hq4pnQiK189vmMJEfJSmKI/L2TFkxn0txX6aLzb3wt0SMJDY+y2ljI+PZl+e+jwsxn+dnDblHpeSSu/zdEPEbJvzklIctQbui4CBxG7tl65hxa17Y7ZNeR/LLZOcvpvURcSMDaLL+5jGwH0RMJDY7ROY8vW3BkxpH8z5zrq3faXE+3RFTCwnPS7Hv19MY/7+pTktLQkZmD4BA4nd+ud01+WzGwum60GL53u6VDeJ5Z+uJ0/H+z0/zAfvE3Mt9tfEspKQgWkTMJDYrX887zuXkG4/nbQtnAKKt3kccRy6LaKjK2IW87r67nF2U8RcTjrFRMbSEkyTgIHEDjf+wdx1/ewrvgliyaYUBvGAxvlX3HAmgqNrOSkC61+f5jctKVVXnzNC5pd1c5r2HMQMTMKiAtKqv2JyEn9+t18WgRD/u/WP9oiDx8Xrz/D0MDsFw62tcHpwY9NUz8eJS2kqFEtKMZHZHKc1t94GJqZP6+OLNrvjF9/xMy+PkTV7jzv7Ad9EvV5v/HUEeHenh0xWXyfa5WuWtYD7YQIDfAjTDeAj2QMDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6QgYACAdAQMApCNgAIB0BAwAkI6AAQDSETAAQDoCBgBIR8AAAOkIGAAgHQEDAKQjYACAdAQMAJCOgAEA0hEwAEA6AgYASEfAAADpCBgAIB0BAwCkI2AAgHQEDACQjoABANIRMABAOgIGAEhHwAAA6cwOh+qnCgAgjx9jAvPXCgAgibqufqxXq9UfZrP53yoAgAT2++bfZs/Pz/97XEb67woA4JOLZjm2y0/1+QeH320225jC/L4CAPiEYulouVz+UNf1z7PzT9Q/PzwsfzCJAQA+o2iUS7zEj+v2BavV6vuqmv3nbFb/e2UiAwB8Oz8dw+Wvh0PzP7Hl5foX/h9cX0G5wjVUeAAAAABJRU5ErkJggg==",defaultCoverPortrait=""+new URL("video-portrait-ab83b67f.png",import.meta.url).href,_hoisted_1$3=["id"],_hoisted_2$2=["src"],_hoisted_3$1=["innerHTML"],_hoisted_4$1=["innerHTML"],_hoisted_5=["innerHTML"],_sfc_main$o=defineComponent({__name:"index",props:{attachment:Object,msgid:String},setup(a){var X;const m=a,n=BEM("attVideo"),c=inject("attCustomize"),l=inject("attOperation"),v=inject("attProgress"),y=computed(()=>{if(l!==void 0)return purify.sanitize(l.content)}),T=computed(()=>{if(c!==void 0)return purify.sanitize(c.content)}),I=ref(null),g=new circularSector(16,16,16,0,30,"#fff");let P=ref(!0);const M={"border-radius":"8px",cursor:"pointer"};let U=ref((X=m.attachment)==null?void 0:X.coverUrl),x="",H=ref(!1);const L=computed(()=>{var Q,ee,se,Oe,xe,Ne,qe,Et,et,st,vt,It,wt;if((Q=m.attachment)!=null&&Q.coverUrl&&(U.value=(ee=m.attachment)==null?void 0:ee.coverUrl),(se=m.attachment)!=null&&se.videoHeight&&((Oe=m.attachment)==null?void 0:Oe.videoHeight)>((xe=m.attachment)==null?void 0:xe.videoWidth))return H.value=!0,(Ne=m.attachment)!=null&&Ne.coverUrl?x="#000":(U.value=defaultCoverPortrait,x="none"),{width:"158px",height:"280px","background-color":x,...M};if((qe=m.attachment)!=null&&qe.videoHeight&&((Et=m.attachment)==null?void 0:Et.videoHeight)<=((et=m.attachment)==null?void 0:et.videoWidth))return H.value=!1,(st=m.attachment)!=null&&st.coverUrl?x="#000":(U.value=defaultCover$1,x="none"),{width:"280px",height:"158px","background-color":x,...M};if(!((vt=m.attachment)!=null&&vt.videoHeight)||((It=m.attachment)==null?void 0:It.videoHeight)===0||!((wt=m.attachment)!=null&&wt.coverUrl))return H.value=!1,U.value=defaultCover$1,{width:"280px",height:"158px",...M}});let W=ref(!1);const F=Q=>{W.value=!0,utils.windowClickOnce(()=>{W.value=!1})},w=async(Q,ee,se,Oe)=>{var xe;try{const Ne=await window.MainWindowHelper.getCloudVideoUrl(Q,ee);console.log("url222",Ne),Ne.result&&Ne.data?window.RendererHelper.openWindow("sview:/#/videoPreview",{width:960,height:570,frame:!1,id:"previewVideo"},{videoUrl:(xe=Ne.data)==null?void 0:xe.sd}):Toast({content:Ne.msg,duration:2e3,zIndex:2099})}catch(Ne){console.error("2urlError:",Ne)}};let G=ref(!1);const S=()=>{var Q,ee,se;G.value=!0,(Q=m.attachment)!=null&&Q.videoHeight&&((ee=m.attachment)==null?void 0:ee.videoHeight)>((se=m.attachment)==null?void 0:se.videoWidth)?U.value=defaultCoverPortrait:U.value=defaultCover$1},re=Q=>{if(!Q)return"";const ee=Math.floor(Q/3600),se=Math.floor((Q-ee*3600)/60),Oe=Math.floor(Q-ee*3600-se*60),xe=ee.toString().padStart(2,"0"),Ne=se.toString().padStart(2,"0"),qe=Oe.toString().padStart(2,"0");return ee?`${xe}:${Ne}:${qe}`:`${Ne}:${qe}`},q=Q=>Q==parseInt(Q)?utils.formatSize(Q):Q;return onMounted(()=>{var Q;m!=null&&m.msgid&&((Q=document.getElementById(m==null?void 0:m.msgid))==null||Q.addEventListener("attachmentProgress",ee=>{var Oe;P.value=!1;const se=(Oe=ee==null?void 0:ee.detail)==null?void 0:Oe.progress;g.endAngle=se*3.6,g.setCode(I.value),se>=100&&(P.value=!0)}))}),(Q,ee)=>{var se,Oe,xe,Ne,qe,Et,et,st,vt,It,wt,Ht,ue;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is("cover",unref(W))]),onClick:ee[3]||(ee[3]=Se=>{var Ue,ct,Xe,bt,_t;return w(((Ue=m.attachment)==null?void 0:Ue.resid)||"",((ct=m.attachment)==null?void 0:ct.objectId)||((Xe=m.attachment)==null?void 0:Xe.objectId2)||"",(bt=m.attachment)==null?void 0:bt.videoWidth,(_t=m.attachment)==null?void 0:_t.videoHeight)}),style:normalizeStyle(unref(L)),id:m.msgid,onContextmenu:F},[createBaseVNode("img",{src:unref(U),class:normalizeClass([unref(n).e("img"),unref(n).is("bespread",unref(G))]),referrerPolicy:"no-referrer",onError:S,draggable:"false"},null,42,_hoisted_2$2),unref(P)&&!((se=unref(l))!=null&&se.content)?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(unref(n).e("pause"))},null,2)):!unref(P)&&!((Oe=unref(l))!=null&&Oe.content)?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(n).e("progress"))},[createBaseVNode("div",{class:normalizeClass(unref(n).e("uploadDuration")),ref_key:"loading",ref:I},null,2)],2)):unref(y)?(openBlock(),createElementBlock("span",{key:2,style:normalizeStyle((xe=unref(l))==null?void 0:xe.style),onClick:ee[0]||(ee[0]=withModifiers(()=>{var Se,Ue;(Ue=(Se=unref(l))==null?void 0:Se.fn)==null||Ue.call(Se)},["stop"])),innerHTML:unref(y),class:normalizeClass(unref(n).e("operation"))},null,14,_hoisted_3$1)):createCommentVNode("",!0),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(n).e("info"))},[createBaseVNode("div",null,[createBaseVNode("span",{class:normalizeClass(unref(n).e("fileLength"))},toDisplayString(((Ne=m.attachment)==null?void 0:Ne.fileLength)==0?"":q((qe=m.attachment)==null?void 0:qe.fileLength)),3),createBaseVNode("span",{style:normalizeStyle((Et=unref(c))==null?void 0:Et.style),onClick:ee[1]||(ee[1]=withModifiers(()=>{var Se,Ue;(Ue=(Se=unref(c))==null?void 0:Se.fn)==null||Ue.call(Se)},["stop"])),innerHTML:unref(T),class:normalizeClass(unref(n).e("customize"))},null,14,_hoisted_4$1)]),createBaseVNode("div",null,[createBaseVNode("span",null,toDisplayString(re((et=m.attachment)==null?void 0:et.videoLength)),1)])],2),[[vShow,!unref(H)]]),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(n).e("info_portrait"))},[createBaseVNode("span",{style:normalizeStyle((st=unref(c))==null?void 0:st.style),onClick:ee[2]||(ee[2]=withModifiers(()=>{var Se,Ue;(Ue=(Se=unref(c))==null?void 0:Se.fn)==null||Ue.call(Se)},["stop"])),innerHTML:unref(T),class:normalizeClass(unref(n).e("customize_portrait"))},null,14,_hoisted_5),createBaseVNode("div",{class:normalizeClass(unref(n).e("portrait_fileLength"))},[createBaseVNode("span",{class:normalizeClass(unref(n).e("fileLength"))},toDisplayString(((vt=m.attachment)==null?void 0:vt.fileLength)==0?"":q((It=m.attachment)==null?void 0:It.fileLength)),3),createBaseVNode("span",null,toDisplayString(re((wt=m.attachment)==null?void 0:wt.videoLength)),1)],2)],2),[[vShow,unref(H)]]),withDirectives(createBaseVNode("div",{style:normalizeStyle({width:(Ht=unref(v))==null?void 0:Ht.progressBarWidth}),class:normalizeClass(unref(n).e("uploadProgress"))},null,6),[[vShow,(ue=unref(v))==null?void 0:ue.showProgressBar]])],46,_hoisted_1$3)}}}),index_vue_vue_type_style_index_0_scoped_4f651c5b_lang="",AttVideo=_export_sfc(_sfc_main$o,[["__scopeId","data-v-4f651c5b"]]),_sfc_main$n=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){var g,P;const m=a,n=i18n.global.t,c=BEM("attTopic"),l=MessageAppStore(),{getUserInfo:v}=storeToRefs(l),y=`${n("message.from")}-<span style="color:#3A8BFF">${utils.htmlEncodeByRegExp((P=(g=m.attachment)==null?void 0:g.att_group)==null?void 0:P.name)}<span>`,T=async()=>{var x;let M={baseUrl:"https://groupyd.chaoxing.com",url:"/apis/topic/getTopic",getParams:{t:1},postParams:{puid:Number(v.value.puid),maxW:1080,topicId:(x=m.attachment)==null?void 0:x.id},tokenSign:!0};return await window.MainWindowHelper.genRequest(M)},I=async()=>{var U,x,H,L;let M=(U=m.attachment)==null?void 0:U.uuid;if(!M){const W=await T();W.result==1&&(M=(x=W==null?void 0:W.data)==null?void 0:x.uuid)}window.open(`https://groupweb.chaoxing.com/pc/topic/jumpToTopicDetail?bbsid=${(L=(H=m.attachment)==null?void 0:H.att_group)==null?void 0:L.bbsId}&uuid=${M}`)};return(M,U)=>{var x,H,L,W;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:I},[createVNode(Base,{logo:((x=m.attachment)==null?void 0:x.images)&&((H=m.attachment)==null?void 0:H.images[0]),title:((L=m.attachment)==null?void 0:L.title)||"[]",content:(W=m.attachment)==null?void 0:W.content,description:y,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_366d6e08_lang="",AttTopic=_export_sfc(_sfc_main$n,[["__scopeId","data-v-366d6e08"]]);async function getVideoUrl(a){return await window.MainWindowHelper.genRequest({url:`https://im.chaoxing.com/webim/file/status/${a}`,getParams:{},tokenSign:!0})}const defaultCloud="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExUReHh4f///wO2n8gAAABySURBVDjL7dKxDYAgEIVhCAUlIziKo8FojMIIlhSGp1B49xpCq/G6r7mfAMb887UJRWuvWvFUsGgkKDkgiTyQ1xSAQmoklYjQiRuyxk3kSX2lBIcq6clvXWClifKCwrI8FViOTmZJ45bkzXr++H/4++cCQmuSH1QaO8EAAAAASUVORK5CYII=",defaultIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAIAAACzY+a1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYmNjZmNkYS01YzY0LTI4NDItYjczMC1kYWFhNDJmOGZkMjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUZENDc0MzAwQTQwMTFFOThBRjRBNTkzMjE3QTAwNDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUZENDc0MkYwQTQwMTFFOThBRjRBNTkzMjE3QTAwNDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YjUwMGE0YzktNTg5NS1jYjQ0LTlkNmEtMTA5YTI0YWNiYjFkIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFiY2NmY2RhLTVjNjQtMjg0Mi1iNzMwLWRhYWE0MmY4ZmQyMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuKsG+gAAAFnSURBVHja7NwxDoIwGIZhapi4kIPX0QMxex28EhOJnoAOTWPC1+ddmfRJG36Klu/2nHTlbr4ChEIohAiFUAiFEKEQCqHam1M+x3J66dgRXqH7enrp87KRCqEQCiFCIRRCxc+Flfk9feov+W+wPd7ZU7+NFKEQCiFCIRRCGe0np/YBObUXQiEUQoRCKIQaey50ap+cU3shFEIhRCiEQqgBRvu2qT+i4i9lbaSykXYp/SmaVYhQCIVQCBEKoRAqfLSvzO/enRFCIRRChEIohEJotE+d+q1CIRRCIUQod6S9qpwopd+sWoUIhVAIEQqhEAohQiEUQiEcucQXL+oPr9seiFuFQiiECIVQCIUQoYz2fytueLcKEQqhEGqE25n034FahQiFUAiFEKEQCqEQIhRCIRRChEIohEKIUAiFUAgRCqEQCiFCIRRCIUQohEIohAiFUAiFEKEQCqEQIhRCIRRChEKoHv0EGAC7Wivv7T3gkQAAAABJRU5ErkJggg==",defaultImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAIAAACzY+a1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YWRlYjg2NS0xNTE1LThjNDItODc3Ny1iYTYyOGRlZjUzMGIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjdDRkVGODE2NTg5MTFFNzk4N0ZBOUU4RjgyNEY2MzkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjdDRkVGODA2NTg5MTFFNzk4N0ZBOUU4RjgyNEY2MzkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY4NTQwMmRkLTEwYWItMzA0Yy1hMThhLTA2MjZjZjlmNzc2ZiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4YWRlYjg2NS0xNTE1LThjNDItODc3Ny1iYTYyOGRlZjUzMGIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7HSHx5AAAGSElEQVR42uydb0wbZRzHe9cetFCuUFpaWvqHAhYJFJxAFTOdgDr/zERjxjCZLxYZS4zTZHMxy5zGaLL4YjExJHuhxhhjYuZeGKdZMiV7RYIvXBYXIk7LPwXGSvlPgZbWR5ZgU2BcS7k+1/t+0hdN+7vnePrhvs9z1+sds//6JQWQMiw+AigEUAigEAoBFAIoBFAIhQAKARQCKIRCAIUACgEUQiGAQgCFAAqhEEAhgEIAhVAIoBBAIYBCKARQCKAQQCEUAigEUAigEAoBFAIoBFAIhQAKgYio0rBKhn3WULov3+bQ8BpWlUmfZjASHgrOXpse+cE/EI5GxFkpI/I12Ao5zfuuJpdGl9lbhi84c9bXMxkKZlqQku1PDv4IpI+kpxzDZprCZwylcvC3bvFpQ2mmKXw83yariYY4/RVVYXlOvqwUlonSX1EnhKoNYwOZtn06+lt3YGRudUW6qrRKrkVvf9VSE9dBccbCNM/pPxu9+d2dv6S+tc2vhkgvshjlEUu17Hbtfw4MZ0xsXpkcTMt606xQ0vlJSV9wgE3yQCEUAigE0t6pSA5eldVa4PDqzE61jjyfDa8MLs38Mjt+NTBEnkMh1TAK5qWiijaTO1fJxRr1aI3k0W6q/OZ2/7cTt6KKKBRSGfoMc9rpfURn2aqAeCU715W5+g8HeyNRuViU0ljYafXcw986TTrLMWstpjPUQXLyeUOZwOIDBlet1giFdPFKcVVC9YcTrIfC3aWQ01TlFia0CKknS0EhLZBUZBKeuyrq8oxQSAuGLE1y2y4U0kI4EhFtKSjcFSbDyZzNFwgvQSEt9C9MJbPUYgAKaWF8ZaFvYTKhRUj92PJCoivSKjlGwUhLoWQOsH051neufG9C9cKLrdnal82VjXwxURiORv5enr8yOXDZ71uVwlE6yeza35i/873fJ7CYVJJ6gcWNvLnL3dJcYNeuHTpXMaxTzR+z1p4r2xt7MB0KU8CFf270zIxuW0ZqSKXANh1q/rTTm80qN75VrTWcsD8IhakkEo1+MND7+ejNlcjqpgXkdfIuqRH4NQXZ4E45Gjb1d5eHdZZWvQNjYSqJKqIXJ/74KTDUrLd7+eJSjY6k3/xqaCA40zs71h0YngovC2/toMm97W88Oq2e63O3J0NLUJhKiKdLE7fIYyeNEP3tJreQOerrtj3v+XoQpJT95zLsSXu9StgJ817e/ATFcSpThUIiNJajVk8hp4ZCWnAJi9C4OD1u2wOFtEToCcERGrf7SGecyk5hW4IRSn+cykshkXcowQiNi9M3bdTt7NO+U1GtNezLLyng1P6VYPfUcP/iVPJdTTZCY6nnTSROrwaGoHB7GIWiw+p5wVi+/soBY9lX431fj/+eXIOHdhChcXH669yEOBckkXaQvlhUEevvrtTD5qqnCp3JRWjbDiJ0Q5xSNDulVGFdXtGR4s1/9PxaSd19OQXiR+jGOIXCLTFymrcdDSyz+VevHMOeKX1Ip8oW3mB7iiI0lk6rx0DH6VXUKdSwqq7KlnsbIo673M1KYVsVkXcwRREaS66Se4OOOKVO4Sfu5jxl1rZlhZzmfMVj4kdoXJw+SUGc0qXwpL3emq0VWExGxA5rjfgRGjc7TXucUqSQTBBa9PbEZq3GCq+uWOQIpS1OaVFoU+clN1M/4/Qas3I2jdC3HA2q3b/+0lqcOuWuUMWy5yv2bTUF3Xa0+5gsu1mEOtW8OH//UWtNGuOUCoUflT+q3cG5YnpO/a6rKfaVck3+bkfoxjhlZKuQjH/35+h32Egjb27gzf/PQh31KkbUrv0Xp0kdNpK8QoeaP17yQEqaOuVoMK0NimJGaCwdlpr0DEPpVXihsjVVTZEo/qJqfxr7kq7zhnHpIMkDhVAIoBBISaFoN1ChhGAknGkK/1yclpXCoeBspim8Nj0iK4Xi9FdUhT/6B3zBGZn4GwjOkP5mmsJQNHLW1yMHi6SP7/h6QqKM/WLfOU2xdgzzOYOrucBmU+epM+vmd0uR8MjSXPfUyGW/L2NvfgewXwigEAoBFAIoBFAIhQAKARQCKIRCAIUACgEUQiGAQgCFAAqhEEAhgEIAhVAIoBBAIYBCKARQCKAQQCEUAigEUAigEAoBFAIohEIAhQAKARRCIZA0/wowAPOSg4o/PmsGAAAAAElFTkSuQmCC",defaultVideo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJUExURf/OVP/////mpgs2ccEAAADOSURBVFjD7da7DcMwDEVRJ0AKZ4+MRIJQ5VJjaIn0qj1ljHxdWbdgE+C9+gACqQ81TYqiKIqi0NwcMbMO1MksAJvNrI3ZZWOVMWcMFPFkwZg3xGxhrDA2bN2bVcacsVHrPiwYGxTxZQtjzthxET8WjDljh0XsWDB21Lo9WxgLxgpjnspKagmR2Tdnu1DYnnZ23hpilR3LhljJvKfObn3NfJFK6mvZMl/yjhicMuNJCSfgTAp4MTCdz6SALXey5vZdQf+Q6brqZ6coiqL8dx7dP5/PreD47QAAAABJRU5ErkJggg==",defaultAudio="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJUExURU/B6f///6Xg9GnEsagAAADySURBVFjD7ZY9DoJAEIXXTSiw5wbuPTjCFgyh5CgeQnobG08pDnYW85FgbN6rv+xk3vxtSpIkSdKvdWHYDVHtSKhsA6EWghUzgGVD2Psxm0JsQZjHtBphJ8fmCGv2YD1K1K4Ii0vaMHdblIEbMiZU0jtoI9Rra01R56bOEFZibzfjejRVwDU3rrLpm1AOMk7GybhdxuUHWXB+PyqoAT9GQ1wCtMo9plnsGbofnaFrtFGRcfmDVXJOQ6zdh03k6h6FlX9i9VBsZoZArGfFuqIOGdHExJNl7Ju3sP9bQfNHd4NHBQvpjH5cK/dEu1KSJEn60gvRNn7GWP/44AAAAABJRU5ErkJggg==",defaultPDF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURfxuUf////7SzP2ciyec/gUAAAEmSURBVFjD7dMxTsNAEEDRkS0KV1QcgSOkSMcRXDAbK7hwnQaO4Eu4p6HZhtQ0+BI5Qgq6HABpmdlsrCjajIcOofnNxpsnx/Y4AJZlWZZlWf+pQB1ovU0rlLwTvi/YgIiuB6h43dJGgVyTYbzJDJ3MXGL4IjLsE2uusucQ9thB5UL44tMW+Jm7hY6/qYnRwR5HOugzD4QZDO2RVfggsbvmyEr6dYHdJwZDrWK7VsXog8AWJ7Z4VJ3tZiWxnY6dnhtUzDbe+9cMW8ZhRebSTLtLtvae34w5FndHFVvBOcteG7MtnN9C9k7p2t4BVA9kYvIUJibP9LdMfpEmhrWGFTQOBVsSmWflIP8BI/vwbzy1GRYn3upYr2JPoGGb8SqzLMuyLMv6o/0A242olCmg0f4AAAAASUVORK5CYII=",defaultTXT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURWS19v///8vk/JbK+bYgmSoAAAEaSURBVFjD7ZWxbcQwDEUZCVe4cHkjaATXyQhXmLaQuLgRboQsoVHSe4NU2iNNugAKqVOqxCKbdHyFYcEPAr70CQMYhmEYhmEYh/jS2Gnx2N4/fmkjNp5okdv79Uh75k8eJS3iBuBkLc8AA74daRThcynlKywAE76Xkl/+ikAMZMAJd2AVQjw4k6qNFDVFUXN49RxD0AA3hzdZy/OAr7IWlglB1gZMq0Kjc44KjS70otAg1aCidq5BRS3grtGybrfWH0GjTm66c5sV2oRhAc2dnmpUQUtxrEPY1zxeXI0qtfcGSW4vdzKvosadVEzWeb3vKGg8fCNXqat57qTjR1d7qJ3kLbvaffg4alcLCD9xo/1CDMMwDMP4T74B62l52Z/e3F0AAAAASUVORK5CYII=",defaultPPT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURfxuUf////7Dt/2Lc3DHmRIAAAFbSURBVFjD7dc7TsNAEAbgiVcpXASqHCFHcAEF8hFceKwUW9CCKDgCl9gjbONcwpfwESjCEVLhfTgCkWFGIEEQ8ze2Vl+k9eyuMwbQaDQazfuYvUTdOBSoAyLPLj0K2LVDnpk9Is8uPArYAZFnxqOELfHXGfkDZSy7k7H6WcJ8XQjYw7KGkWUdTKxkmQ1swbLHwMxJZsO1SmwIDBzJisg6iGwkGWwCaxPb0KwMbMuyRWA2sYpmJrBmfvSTDLEbpsdDuGXYVLBRwiysE0vTpNg2VIRn7Ru24lgjY8dK03Nbp1VIYxRrYkHaeXkp9hTL28WxkWB9vwPI+w3SHbWmRd69+Y5iq3wW8paiWJVO1hCnRjOXzylc4SesnE/9Pb1DXvres28kC6IX1x9hx8EzZGdXkI//9T/LtCX4Gvtu0yhsQUND60RM2B5Lm21x6y79EBB/Vkg/UjQajeZf5RXcpqBopIKvuQAAAABJRU5ErkJggg==",defaultPDZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURf/EZP/////py//Vl3tOmaMAAAFgSURBVFjD7dSxbcMwEAXQs4QULpzOI2iE1MkILnyS4ahQnaTwCF5CIxgIOIOBaAmNkD4LBMwdSQUSeRJcBsH9wqKJB5OfFAyg0Wg0Go1G84+SW0pHg8fwdANrv6YsQ8qRBgU9S3Y9z2AtMGw8w8My2weG3SLDgTWz7MPaFs9QPFt74VW5wjf7KTsDrPEJChI5Vn6WJ1KW4ckxWtnPFtgJDGgNxzbuG+2vAom1gWVhMXcy8yyn1SmruEHEeCA1iFm/48+HuEHMtrXYwLMcpyxp4NkqHC8dWO3mdiL75Mvy7CA2IPZiLvxmjFjaILwhFYxZX4LM6glLGwTWwaiC0MDtzVyH33EHsvY3JhzvL+NbEBrErCW2TRskrBEbRIxfJKlBxPjWNkKDiN3R7qUGEePzlxpM2T3fWrtfZEdjWrq1DGlgzPscc7d2Gv4tqiVWwk3s7Sb2CnNMo9FoNBqN5q/mB+tlrDKgqFBcAAAAAElFTkSuQmCC",defaultExcel="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURWa7av///53Un9Ls1HANtRgAAAEKSURBVFjD7Zc9DoJAEIUHDIUklp6Cmt4jWPCEwoIjeBmPYTyBCZfgKPaOSyKx0HnFBn+YVxBCPnbnb3dnRVwul8v1rPTCUPkVBHUGQEwIAit6ENgJsDG1ncAKwMYG200sw8exlz98AaZC+Pj32K+Gd5MoUcnawA6pYo30BtbIEWhTa9KdlEC3NF24P4aXtwHRkcKIBqZ2BfsMTL0M3hq2VVJ2iY3VksmKSFaXBw8srJXggYVtRZgK2cuCqbd68CAS9pg0igtkQLjwkskiUz8WUoyyJIt8XDIRFiC5nMnNgdxq5rP3+tE2YbKmaMzIppFsQemGlm2P6Wabbd3ZiwB9rWAvKS6XyzUr3QDHD4bEmIXv3QAAAABJRU5ErkJggg==",defaultExe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAIAAACzY+a1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYmNjZmNkYS01YzY0LTI4NDItYjczMC1kYWFhNDJmOGZkMjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTA4QzYwOTQwQTQwMTFFOTg5QkFGMjhBRjQ3QTI2MDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTA4QzYwOTMwQTQwMTFFOTg5QkFGMjhBRjQ3QTI2MDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YjUwMGE0YzktNTg5NS1jYjQ0LTlkNmEtMTA5YTI0YWNiYjFkIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFiY2NmY2RhLTVjNjQtMjg0Mi1iNzMwLWRhYWE0MmY4ZmQyMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnMFtQMAAAWESURBVHja7JtrUxNXGICzm4Qkm40C44CXViqlUEfkXrVjW6ti0S+d6bSf+yP6P+xPsdNPVq1aa+0wVq6iVYsiXgrlZiGbC0k221OZcfCcBcJoAhueZ/gAh92dLA/n3fc9513t7LlpH3gZnT8BCgGFgEIUAgoBhYBCFAIKAYWAQhQCCgGFgEIUAgoBhYBCFAIKAYWAQhQCCgGFgEIUAgoBhYBCFAIKAYWAQhQCCgGFgEIUAgoBhYBCFAIKAYWAQhQCCgGFgEIUAgqhJATe7uW++2rHW/+I3/8ws/RN0K9988l2I6RJB4xOZK7dTqzrmrGI/vXR7X7lH7j/YXrgYaqod/TqdjapwqKStZ0/HiS/PLJNGu9siIxNZp5MZwu/1Mk2szrmlwZnFuzhsTSBtLiICXf3yaI63t1uijla4EX2vxuq31khDdp53/lbcTvvoLDoXB224qm8NFgZ9R89YBRyejSsH28x1fHee8np+RzpTClYzDoX++PqeHt9ZHd1cM3Tj7dEwxXyfJ2Yy918kCQjLR3jU9mhR/JDS9N8X3SYgVXDaeOekPhSH7E/9cUdx6MGi5/OvPUEbIlfRxJ1tUERP5cPigzl4/3G9RH37DRSoZ9ojbpe6oVlb/gdbbm68OXUsdSp09UQqa10/7/8vCVqhOT7ffxPRp3QBNIS8fdstm80pYbTnk5TLfhECioSUWkwLR6rA5bXS3tvr87cuJsUxZw0uGNb4HDTa9lpKKiJqkM9/cqQZSnJLQpLiijjRCaSVyx81GgIka9+PHYwaoblO33wfPHe00Wf9/H8GunUv7ne+3I9IAKpCKf6y+S0ribYXBeWDkik8z8PWr6yoByWuW/eT06+kKtykdR0fRAJBrRTbiFUPALTGQeFm4W847vQF8/ZspIjHxpnumLbDHkt9Pbj9NhkxlculMlm02zcFqmNXPP6tYZd8lrofML+ZZ3bGigsEf0PU89m1tisEHXk+T4rm3PKSWHRV2fecL+t8KUQoedCv/XtiUrx/FvpmFujKVFNeuWOttwsXAqSq+z9zizkfr+b9JUd5dZ4Mfw4/XyFeSbmqBe3A7ecwlhEX17UL0dNbVC4GeluN0NB92fhoUZjV3UAhZua5rrwvtoVp5qm+U53xgrvzyAjLVYCtkoIPXYwuvoxVaZfHPOGS2vsF5Y0hKpLNi37wu/VltVDsUwUHtjrEkJFCfhj74J6cE+HqbbPoHAjMcP6sRY5hGZtR1QR41PZO+Pypnw0rHe3mSjcXCE0rITQ3+4klzpiro0kkovyjmLjnpC6iY/CjcG1r/fpTPZVX30641wddlmyOd5qigwIhRuMa19vNudc7Hst57z/bPGRsrskJm5PRwyFG8ypdpfERETO+aTcUHN50MooGxR7a4Lt70dQuLlCqMhfXF9tiafyN9zWuD89YKjvx6Bww0Lo/736A/GVThl8lJqYk/szAn7tdGdM11FYck62uoXQ24l4csWmQsfxXRqI28rvd1YFjjQZ3lXoyS3fpndCDbvlEDo2mRkZX6Mve2bBvvVX8rAi7FCTIfIdtYeqZHe0tWahEXJ5NSKddS4V1pfdey81F5eTHV3znemKBby5Au49hcJfpEL+2FeHLCtdUF+2nXeXXWX6P2uOorDoiBCqvl02OpH5cz192c9n3bPWtvpwXU0QhaUOoalM/vL6N4+u30m4zlpR7HtuBdxLCl1D6OXBRCK97ldbRPlxZchFvBnRRa7rLYXa2XPTPqC0BxQCClEIKAQUAgpRCCgEFAIKUQgoBBQCClEIKAQUAgpRCCgEFAIKUQgoBBQCClEIKAQUAgpRCCgEFAIKUQgoBBQCClEIKAQUAgpRCCgEFAIKUQgoBBQCClEIKAQUAgrLnv8EGADVedBdZvaMKQAAAABJRU5ErkJggg==",defaultWord="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURV2c7P///5e/89Hj+jaLRtgAAAFSSURBVFjD7dcxTsNAEAXQ77WC5EguLVFQ0EQUaWgsKPcIKTwmRQofwUfYI1Dg1FwAcQKkvUSAi9AzdhCIgp0RDRDmN5biF61n15vMAhaLxWL5HPegUfMXUqh7IlIMSAq23JGC3RHJjJ9dwZZEMts/u8hm9OPsyy8cHHv/8BeyPzq9YaAeNa2LdKWhYraglcBiTR2zvkwzv1CxbmR8maVL4Pt+r5OMR/Mox7GTjEv0p+VYSZLxhMXzQmbZxHj6kpVucoqX2bgYSdY4CscZQWAts5P8CjuB4YMlSmAQblwL6X3DAGZOYmHA1jUyq7AFT4vA4gUe31hqn/ozPOE5k1g3sUJkRyBci6yfM7stpRJW4HWAyNbgVZ32tcgi7y2BbXSsQc6bppYqbfWsQ2W/vfbXdhCL9e2mUdmCqhtabXusbra1rbv2IKA+VmgPKRaLxfKv8grkMZxnoWgTyQAAAABJRU5ErkJggg==",defaultEpub="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURYzBUv///9Hnup3Ka+/355gxi2MAAAGZSURBVGje7dlhcoMgEAVgJskFsBwgTHsAm8kBYs39z9SmqRFYkHXf9t++387zU8FBdM5isVgsFovFopLL/WvUqvLeDzpVx+mny59Vuq6PKh3Yk6UDe7JUYAtLA7awFGArC4etLBiWslBYygJhOQuD5SwIVrIQ2MIKFxj2Ys0uorAXa3QHEJawHApLWA6EZSwQlrEwWMGCYAULgRHW2rUbRljrNfpRj/VmLGP9N+tw1mPFQY/Fm5U8Fut1wWVxYCcmizM8IpflQ7eLzeqPtSOb1b9h5LhTk8V2DeS5Eha7a4VdWyzfvfdTA0ZZ/cH62YBR1q3bRU/7C6OswHj9xCqMsmbG3K7CZKw6TMaqwmYha3N1tJO1NYJ2szZgu1ltmIDVhAlYLZiI1YCJWHWYkFWFCVk1mJhVgYlZFAawCAxglTCIVcAgVg4DWRkMZKUwmJXAJpSVrnFgVrr2QlkEFqDd36jGKmAB3JSOaqwMFuC98qjGUpiJmx8POCyo/FmIaqw/WFD64fGAvetUuePHXavKYrFYLBaLxaKYbxBhgflNcioiAAAAAElFTkSuQmCC";function formatFileSize(a){if(!a)return"";const m=a.match(/(\d+\.?\d*)([a-zA-Z]+)/);if(m){const n=parseFloat(m[1]),c=m[2];return Number.isInteger(n)?`${n}${c}`:`${n.toFixed(1)}${c}`}return a}function renderFileSize(a){if(!a||isNaN(a))return"0B";const m=["B","KB","MB","GB","TB"];let n=a,c=0;for(;n>=1024&&c<m.length-1;)n/=1024,c++;return`${n%1===0?n.toFixed(0):n.toFixed(1)}${m[c]}`}function renderSpeed(a){if(!a||isNaN(a))return"0B/s";const m=["B/s","KB/s","MB/s","GB/s"];let n=a,c=0;for(;n>=1024&&c<m.length-1;)n/=1024,c++;return`${n%1===0?n.toFixed(0):n.toFixed(1)}${m[c]}`}function formatRemainingTime(a){if(!a||isNaN(a)||a<0)return"00:00";const m=Math.floor(a/3600),n=Math.floor(a%3600/60),c=Math.floor(a%60),l=v=>v<10?`0${v}`:v.toString();return m>0?`${l(m)}:${l(n)}:${l(c)}`:`${l(n)}:${l(c)}`}function renderLongFileName(a,m=16){const n=a.lastIndexOf("."),c=n===-1?a:a.substring(0,n),l=n===-1?"":a.substring(n);return c.length<=m?a:`${c.substring(0,m)}...${l}`}const url="https://fe.chaoxing.com/comp/scloud/1.1.0/index.html?showEditSetting=true&canDrag=false&usePcProtocol=true";function openSelectCollaborativeFileWindow(a){window.RendererHelper.removeAllListeners("CLOUD_SELECTOR"),window.RendererHelper.on("CLOUD_SELECTOR",m=>{a(m)}),window.MainWindowHelper.openWindowWidthMask({url,width:840,height:630,id:"selectCollaborativeFile"})}function getWpsDocEditUrl(a){const{puid:m,resids:n}=a;return window.MainWindowHelper.genRequest({url:"https://wps.chaoxing.com/api/wpsdt/previewByResId",getParams:{},postParams:{puid:m,resids:n},method:"post"})}function isNotEmptyArray(a){return Array.isArray(a)&&a.length>0}const _hoisted_1$2=["id"],_sfc_main$m=defineComponent({__name:"index",props:{att:{type:Object,default:{}},attachment:{type:Object,default:"file"},msgid:String,keyword:{type:String,default:""},isDownLoad:{type:Boolean,default:!1}},setup(a){const m=a,n=i18n.global.t,c=BEM("attClouddisk"),l=MessageAppStore(),v=computed(()=>{var U;return{jpg:defaultImg,png:defaultImg,gif:defaultImg,mp4:defaultVideo,m2v:defaultVideo,mkv:defaultVideo,zip:defaultIcon,rar:defaultIcon,tar:defaultIcon,"7z":defaultIcon,flac:defaultAudio,mp3:defaultAudio,wav:defaultAudio,wmv:defaultAudio,pdf:defaultPDF,txt:defaultTXT,ppt:defaultPPT,pptx:defaultPPT,pps:defaultPPT,ppsx:defaultPPT,pot:defaultPPT,potx:defaultPPT,pdz:defaultPDZ,xlsx:defaultExcel,xls:defaultExcel,xlsm:defaultExcel,xlt:defaultExcel,xltx:defaultExcel,exe:defaultExe,docx:defaultWord,doc:defaultWord,dot:defaultWord,dotx:defaultWord,epub:defaultEpub}[(U=m.attachment)==null?void 0:U.suffix]||defaultCloud}),y=async()=>{var M,U,x,H,L,W,F,w,G,S,re,q;if(FILE_TYPE.VIDEO.includes((M=m.attachment)==null?void 0:M.suffix))try{const X=(U=m.attachment)==null?void 0:U.resid;let Q="",ee=n("message.playVideoError");if(X){const se=await window.MainWindowHelper.getCloudVideoUrl((x=m.attachment)==null?void 0:x.resid);console.log("getCloudVideoUrl id is ",(H=m.attachment)==null?void 0:H.resid),se.result&&se.data?Q=se.data.sd||se.data.url:ee=se.msg??n("message.playVideoError")}else{const se=await getVideoUrl(((L=m.attachment)==null?void 0:L.objectId)||((W=m.attachment)==null?void 0:W.fileId));console.log("getVideoUrl id is ",((F=m.attachment)==null?void 0:F.objectId)||((w=m.attachment)==null?void 0:w.fileId)),se.status===0?Q=se.url:ee=se.msg??n("message.playVideoError")}Q?window.RendererHelper.openWindow("sview:/#/videoPreview",{width:960,height:570,frame:!1,id:"previewVideo"},{videoUrl:Q}):Toast({content:ee,duration:2e3})}catch(X){console.error("playVideo error:",X)}else if(FILE_TYPE.IMAGE.includes((G=m.attachment)==null?void 0:G.suffix)){const X=await window.MainWindowHelper.getCloudExtFilesInfo({resids:(S=m.attachment)==null?void 0:S.resid,objectId:(re=m.attachment)==null?void 0:re.objectId});X.result&&window.RendererHelper.previewImage({},{imgUrl:[X.data[0].http],curIndex:0,puid:l==null?void 0:l.puid})}else{let X=m.att;if(!X.att_clouddisk.resid&&!X.att_clouddisk.sharepuid&&!X.att_clouddisk.objectId)Toast({content:n("message.attNotUpload"),duration:2e3,zIndex:9999});else{const Q=await window.MainWindowHelper.getSupportPreviewSuffix();Q.result&&Q.data.length>0&&(Q.data.includes((q=m.attachment)==null?void 0:q.suffix)?T(X):Toast({content:n("message.noPreviewSuffix"),duration:2e3}))}}},T=async M=>{if(M.collaborativeFile===!0){const U=lodashExports.get(M,"hasEditRight",!1);I(M,U)}else{const U=lodashExports.get(M,"att_clouddisk.resid"),x=lodashExports.get(M,"att_clouddisk.objectId"),H={menuButtonControl:"1111"};U?H.resid=U:x&&(H.objectId=x);try{const L=await window.MainWindowHelper.getResourceDetailUrl(H);if(!L)throw new Error("getResourceDetailUrl error");if(console.debug("getResourceDetailUrl result:",L),L!=null&&L.result){const W=L.data;window.open(W);return}else Toast({content:L.msg,duration:2e3});console.log("res",L)}catch(L){Toast({content:n("message.previewFailed"),duration:2e3}),console.error("error",L)}}};async function I(M,U){const x=MessageAppStore(),H=await getWpsDocEditUrl({puid:x.puid,resids:lodashExports.get(M,"att_clouddisk.resid")});if(H.code!=="200"){Toast({content:n("collaborativeFile.openFailed"),duration:2e3}),console.error("[handleClickCollaborativeFile] error",H.message);return}if(H.code==="200"&&isNotEmptyArray(H.errorData)){Toast({content:n("collaborativeFile.openFailed"),duration:2e3}),console.error("[handleClickCollaborativeFile] error",H.errorData[0].msg);return}window.open(U?H.data[0].editUrl:H.data[0].playUrl)}let g=ref("0"),P=ref(!1);return onMounted(()=>{var M;m!=null&&m.msgid&&((M=document.getElementById(m==null?void 0:m.msgid))==null||M.addEventListener("attachmentProgress",U=>{var H;P.value=!0;const x=(H=U==null?void 0:U.detail)==null?void 0:H.progress;g.value=x+"%",x>=100&&(P.value=!1)}))}),(M,U)=>{var x,H;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:y,id:m.msgid},[createVNode(Base,{logo:unref(v),title:((x=m.attachment)==null?void 0:x.name)||"",content:unref(formatFileSize)((H=m.attachment)==null?void 0:H.fileSize),keyword:m.keyword},null,8,["logo","title","content","keyword"]),withDirectives(createBaseVNode("div",{style:normalizeStyle({width:unref(g)}),class:normalizeClass(unref(c).e("uploadProgress"))},null,6),[[vShow,unref(P)]])],10,_hoisted_1$2)}}}),index_vue_vue_type_style_index_0_scoped_5cb13074_lang="",AttClouddisk=_export_sfc(_sfc_main$m,[["__scopeId","data-v-5cb13074"]]),NoticeLogo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS2SURBVHgB7Zw9TxRRFIYPRi0QooUUbCGFBCMFJG6jhcIPAHvs+aiBXujBXuy1soLCxohYaAGFNEZiA4lLoYWIWmiB++71ZO5eZmeGmZdhE8+TbHYzd2aZ+8y5535t6Kg+PzoSg8Y5MaiYUDImlIwJJWNCyZhQMiaUjAklY0LJmFAyJpSMCSVjQsmYUDImlIwJJWNCyZhQMiaUjAklY0LJmFAyJpSMCSVjQsmYUDImlIwJJXNeClDtERnvc5+X34sc/pHSeDUu0n1BZOuryPSGtA2FhO58Exm76z7XfoqsfIjKlm6LDFyRQtx/EX8cIvHSe2gnCglFRG59cZE60S/y7FMUpT9OGK2+pDQGLjdfN34t/rzaLxfBoxWR2SHJzMyGuzYPhYSC9X0nFBXD+3rNHV/Ycu84PtobnY8KhjeLhzHnVRjli5vSEj/yx/rcKw5NB931WlY6pRQKC13bjWRMXI+EKhqxk4OuUpD1pJ4aVnddpM0N1x/E1eh8pA0/0uPAAwBo7jvf60K9CF3biz4jDYUsb4u8rh0/vnSnOfLzUlgoKr5z4G6mVc5c3XPRonn1YdVFlS8S5YjKtKYGmRpt8+/c+b7Qhc3k65GK4v4Gq0MtLBQ0mlWQ/yD4RvDEEXkaqSoTFUGUI9pwrOqdj3TiVxTfOXXTfUYk581zpwlFKCodPmF0BFr5JPAgtAmH1DZc5CoP+t35aLZ4OO1IbqHoaMKo/Hjgmn8Iomnfy2eN5t6TXhaC73/6Mv5vtAu5hc4OH+85ISeushha+ZHmC0sqC2nXqPTJLRQ9ZfdFkd7O5s7lfye3UOQxAJmP7yWfiyGJn2P9VJFUFtLotBIiGIR5Gy2gTCidUhpJQ5KTDFcgM62jC8tXpDlHnzalCMX40s+TC9VodpNUFoJoWwmOhaOEcFKAa8qaJYFShLKAeF8+wEQhFBqOTyst5vqnQSlCwxlUb2e2siyE0YfvO8sBfylC54bylWXBX3gB6LjWa3JmlCIUU0s/aiBBIzOpLAu3gl6fscBRhFKEYmXJz31opiotqSwNRKM2eawF4DqMBHRV6yxouz2lLm8cup8iZWrQvUPe9JvoeKtRQhlQhVYuSW6QSzFBwKIKgKSkKMMqvc7QkDZ01Qr4S3xlU7jJ+81zpDfbNY3ZS4f7rGPGkUokASkAm36twHmTXnTqXhbe8T0Ym2LLA+ulWfFnaEXSRWGh/jweN4WZCiqmrziw4Ly613xs5t/OZdxSYAgWqlX+jLfjqXIR7Yh03efyQUoJoxfnaWdWNPcWEoob0SaKqIJcCMUNo7PZz3Fz4WZdKBiytFUsbh0XAIH6YPEKtztwfdJQTdNGXnILxU3pDAU3gU05PZa0cXZSsEek2xoadRD8aNs9tDi0ZTSk1lPD+uf0yMPDRz1Wz0qoVkw31QBWoDCoxo8fEEVdGbeFkzj8HX3G7iXEzL9NX2RWqegosZWCVxl05P03Q2jeqFSZvxZBKsmSY32QG8tc4e+w/9vExX4sRsaEkjGhZEwoGRNKxoSSMaFkTCgZE0rGhJIxoWRMKBkTSsaEkjGhZEwoGRNKxoSSMaFkTCgZE0rGhJIxoWRMKBkTSsaEkjGhZP4CTliEtiNgGSUAAAAASUVORK5CYII=",LetterLogo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbLSURBVHgB7ZxdTxRXGMePhYq1wJJg6ttSSGi0AZqa9MJF7zG9F/0AtvelfADiB6B4X+HewgcoXLUXCib1wii0NiWBsFgh0LL4ghCInv+BZx2GmZ0X/mdQcn7JZsfZcXbnP895zvM85xmONP3x2xvloPGRclBxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpJxgpKpVha48dlZVV9VrabWXqrRlaWKx3Y3nlKddTmz/ePME8Wg/Xit6so1mu2x0rKafPVCZYUlQfMqX3NMjSw/ixS0UJtTV7WogCVo2ye1qudMi9kubrzOVFA35MlQLLT9+KdmiAv11dvbdXqfDGdQ3FhXc+uv1WGGImhf/gtVqGvYs/9KwwnzEnpn/qooaFNNTeD+ufX18nb+6DF176uLKi79LV+aVyUuP5pQcxvrigFF0OHlBTX+fCXyOExSlbjbUQjc//mD3wP3r25tqtXNzT37MUJkxMQ5hglJ0GeKwUjC84zpCS9oIkPk0N9y3mzfnPvH3HA//c3nVfeJU4oN7Rbd67hoZnYMa+8FyP6BpzNq4N/ZiudgzfL1VVXqoKDP8vBxB82uCbLKSmQYyqEMm7wiZn2DaYLC+QO/RUgIhQA7K5ApCXA3WUIbDxCsTV9IrtonqGe2Bd2NJ3d97r1g/2f4P6MryyopbR5BOwPCOZvQBC3thCZ1IcNtdWvLvFeKCf2f4SYlFRQzvN+HQtQ4YR0DqoWCJo/Fea3Vn0/jAkcCwhlwVVtqWsvqOdNs3hHK4YbiPD+cbv4QBd3ONHZbx3b4YoLrrd3B9by+AWHxKwomqk4lpkcLBxFxc289nVVoK/y17Rsjal9Tq45Jp5VtaJPS1Nq2BeKCRFRUfcxnGVR7IKZUmHp1PDunRYWw309Pmn2ogOEY29AExZAWK8ztWKb4UNvlM2Q9EBPff/3vh7uGN7a//fOBERfHIIOyGZtS41ARTgolEr5MvLDnv3DTkELCfVx6dD/QV+J3XXvy0ByDSStnMZOi3ioMbfgrsUwJXwq1DabqdHthXrEJssogYKFwBQPat0rEYQOaoAjgZaaHxcA6ZWjdOJk378Mhs/p+gKBJZnDbCQZF0McXLu9J98RKi7r+OVpa0pWh5dgX7k8ObOD9jhLRYim/3JsNQcBx7TOnXr00vjNphR4VfvHBRXJ1XwrYiD66dgrfiE78Id1+oAiK0AQ/LIl4WJiTxbkwWHVWgBFzt2NvpX9woaiYUASNWtn0MhFj2BdN0L9Az27ku2GRiFOTuKG4HHHPKXFxy8hknKBknKBknKBknKBkrHXfScfIdzpGDQucfzn3dXn7ms7HDwNWBIWYyHYQT1bKQgr7WO+53dperremBSkxu+hMFxSLbiLU6P9L6iddf4yzlOu1Vj9B1lvaTJ4u+ttvcu9rK46Xztp3Vje0OK/uaKHiLOUmtdbe2WRdJnBDUtEHyJpQymNDFRTCySIZfjDSu0uP76uDBMWWntMt5RsGF4SWIHYOL1AFlUUyENXHlBbpRUWRuNLSSpCQg3rEQEjx63HPlQSaoBCzO6R6BKttStESg8KFvygtvagYAfCt0k8vggl3zl0w75gYISLOg9UEDH3p/fefiwFFUO+KYxDwq2ln9Kgqf/5oTXmBziuoALFkP8TE70AnYJIKWRI4guoLgiWMPy/taacBiEXTVOHjzOT4ThCnQ6StvGhYUragCCpOHvFnkKBBjQ4sZE0JYqJBIkxQ+FSIvn3j7a3CcgTVQ6gSVxoaU62FoxslzsXf0jfUCAq3EjIZyuqA7ZacTLpR0bWRxoeiRTyOADjmesSkMqSXsNFLZbvpIhNBEUDna5IvISdZo4KoyIQwQfpDNnFDNpax/WQiKFZBleX2JvhIaYf0C4rYGBMnXrBkm89KZSIoLCdN+wvWy1cjZnqTnXli4KCEApaJ5gtZ+YzzAEVaMhG072xrqkdYoi4ck93PrR3lf98sTgemlJjZ0fdkrHQnZk7TGR2HTB+RQIgzFiOgjlqvF+qrPjbvCN5Rhptcq+xXcINg8egVtdWdkrmgcZ5FiisomiuCGsW81S1/cjC4WCz3stogU0HZ+EMgpJYI0eo91hfUSik3wEYD7gctaBgY1uiLGv5vwZqvDONQCWrKc4vxe1BtPMOUuaDe5+eD6Mq9exy8kq+DGEF1g7gUPI3BzOwpU0FxAVKnjCLqGSWcK+o5+LjfM7TI66zORFD8IZUkncOIBsLSxLRpbBDy90iYlTDXfUfGdY6QcYKScYKScYKScYKScYKScYKScYKScYKScYKScYKScYKScYKSeQuTWSAhdP/CMgAAAABJRU5ErkJggg==",_sfc_main$l=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){var y;const m=a,n=BEM("attNotice"),c=computed(()=>{var T,I,g;return((T=m.attachment)==null?void 0:T.sourceType)===0?NoticeLogo:((I=m.attachment)==null?void 0:I.sourceType)===1e3?LetterLogo:(g=m.attachment)==null?void 0:g.logo}),l=`${utils.htmlEncodeByRegExp((y=m.attachment)==null?void 0:y.createrName)}`,v=()=>{var T,I;(T=m.attachment)!=null&&T.idCode&&window.open(`https://notice.chaoxing.com/pc/notice/${(I=m.attachment)==null?void 0:I.idCode}/detail`)};return(T,I)=>{var g,P;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:v},[createVNode(Base,{logo:unref(c),title:((g=m.attachment)==null?void 0:g.title)||"[]",content:(P=m.attachment)==null?void 0:P.content,description:l,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_5720c950_lang="",AttNotice=_export_sfc(_sfc_main$l,[["__scopeId","data-v-5720c950"]]),_sfc_main$k=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attGroup"),c=()=>{var l,v;(l=m.attachment)!=null&&l.bbsId&&window.open(`https://groupweb.chaoxing.com/pc/topic/topiclist/index?bbsid=${(v=m.attachment)==null?void 0:v.bbsId}`)};return(l,v)=>{var y,T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:(y=m.attachment)==null?void 0:y.groupLogo[0],label:"",title:(T=m.attachment)==null?void 0:T.groupName,content:(I=m.attachment)==null?void 0:I.creatorName,round:!0,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_7228d9c5_lang="",AttGroup=_export_sfc(_sfc_main$k,[["__scopeId","data-v-7228d9c5"]]),_sfc_main$j=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attSubject"),c=()=>{var l,v,y,T;((l=m.attachment)!=null&&l.subjectLink||(v=m.attachment)!=null&&v.chapterLink)&&window.open(((y=m.attachment)==null?void 0:y.subjectLink)||((T=m.attachment)==null?void 0:T.chapterLink))};return(l,v)=>{var y,T,I,g,P;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:((y=m.attachment)==null?void 0:y.subjectLogo)||((T=m.attachment)==null?void 0:T.chapterLogo),title:(I=m.attachment)==null?void 0:I.subjectTitle,content:((g=m.attachment)==null?void 0:g.subjectDescription)||((P=m.attachment)==null?void 0:P.chapterDescription),keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_7d6b105a_lang="",AttSubject=_export_sfc(_sfc_main$j,[["__scopeId","data-v-7d6b105a"]]),folderIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFHSURBVHgB7doxUoNAFMbxb5cwjp3egCNIaZkbeAQ9QRy7VJIitnoDr6AnIBdgzBG4QaizwnMZOxZHZxLAvPl+HY+C+QO71QJEREREIzF9w/t8l8xM9ArIlb+8wGEPKBuYTS316mV+WWJiQfB3rP3AgaE9DyqdNPOpo213EJnoGUeObQmQxMbmmFgQbCA3GEgb/ZDvbjEhi5FFxj76ZXP0P+ivRg9uv/LMbxWYyKw7OItjDE8W6+KzxAAaQVU7t82uz8u++8EuvS5qgQLW2myZmlUwh1JN02RPRR0sHbXBLf+rLroz1cFe0h1oDw4wWDsGa8dg7RisHYO1Y7B2DNaOwdoxWDsGa8dg7RisHYO1Y7B2fcEVFAtP8RizhRYi791RX/AddHzlyjn3+wmAZWpKa23q384bTlMlIhu336c/HWwhIiL6J74A1thS1mzxI1UAAAAASUVORK5CYII=",defaultCover=""+new URL("default-cover-880fe696.png",import.meta.url).href,_sfc_main$i=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attNotebook"),c=computed(()=>{var y,T,I,g,P;return((y=m.attachment)==null?void 0:y.category)==5?(T=m.attachment)!=null&&T.logo?(I=m.attachment)!=null&&I.logo.indexOf("p.ananas.chaoxing.com")?(g=m.attachment)==null?void 0:g.logo:`https://noteyd.chaoxing.com${(P=m.attachment)==null?void 0:P.logo}`:defaultCover:folderIcon}),l=computed(()=>{var y,T;return((y=m.attachment)==null?void 0:y.category)==5?(T=m.attachment)==null?void 0:T.authorName:""}),v=()=>{var y,T;(y=m.attachment)!=null&&y.cid&&window.open(`https://noteyd.chaoxing.com/pc/note_notebook/otherNotebooksLatest/${(T=m.attachment)==null?void 0:T.cid}`)};return(y,T)=>{var I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:v},[createVNode(Base,{logo:unref(c),description:unref(l),title:(I=m.attachment)==null?void 0:I.name,keyword:m.keyword},null,8,["logo","description","title","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_19976b98_lang="",AttNotebook=_export_sfc(_sfc_main$i,[["__scopeId","data-v-19976b98"]]),_sfc_main$h=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attCourse"),c=()=>{var l,v;(l=m.attachment)!=null&&l.knowledgeUrl&&window.open((v=m.attachment)==null?void 0:v.knowledgeUrl)};return(l,v)=>{var y,T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:(y=m.attachment)==null?void 0:y.knowledgeLogo,title:(T=m.attachment)==null?void 0:T.courseName,content:(I=m.attachment)==null?void 0:I.knowledgeLabel,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_7c0d92b6_lang="",AttCourse=_export_sfc(_sfc_main$h,[["__scopeId","data-v-7c0d92b6"]]),_sfc_main$g=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attClassQrcodeInfo"),c=i18n.global.t;console.log(m.attachment);const l=()=>{var v,y;(v=m.attachment)!=null&&v.url&&window.open((y=m.attachment)==null?void 0:y.url)};return(v,y)=>{var T,I,g;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:l},[createVNode(Base,{logo:(T=m.attachment)==null?void 0:T.courseLogo,title:(I=m.attachment)==null?void 0:I.courseName,content:(g=m.attachment)==null?void 0:g.courseTeacher,label:unref(c)("message.Course"),keyword:m.keyword,round:""},null,8,["logo","title","content","label","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_ca391d0d_lang="",AttClassQrcodeInfo=_export_sfc(_sfc_main$g,[["__scopeId","data-v-ca391d0d"]]),_hoisted_1$1=["innerHTML"],_hoisted_2$1=["innerHTML"],_sfc_main$f=defineComponent({__name:"noticeBase",props:{logo:String,logoList:Array,label:String,title:{type:String,default:""},content:{type:String,default:""},time:{type:Number,default:0},isDelete:{type:Boolean,default:!1},keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attNoticeBase"),{t:c}=useI18n();let l=ref(!1);const v=T=>{l.value=!0,utils.windowClickOnce(()=>{l.value=!1})},y=T=>T&&m.keyword?utils.htmlEncodeByRegExp(T).replaceAll(m.keyword,`<span style='color: #3A8BFF'>${m.keyword}</span>`):T;return(T,I)=>{const g=__unplugin_components_1;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is("cover",unref(l))]),onContextmenu:v},[createBaseVNode("div",{class:normalizeClass(unref(n).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(n).e("title"))},[createVNode(g,{"icon-class":"group_notice",width:"16px",height:"16px",color:"#3A8BFF",style:{"margin-right":"6px"}}),createTextVNode(" "+toDisplayString(unref(c)("message.groupAnnouncement"))+" ",1),m.isDelete?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("delTag"))},"",2)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("time"))},toDisplayString(m.time?unref(utils).parseDateFull(m.time,!0):""),3)],2),m.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("titleWrap")),innerHTML:y(m.title)},null,10,_hoisted_1$1)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("contentWrap")),innerHTML:y(m.content||"")},null,10,_hoisted_2$1)],34)}}}),noticeBase_vue_vue_type_style_index_0_scoped_878fdd24_lang="",NoticeBase=_export_sfc(_sfc_main$f,[["__scopeId","data-v-878fdd24"]]),defaultWebIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPtSURBVHgB7Zs/TBRBFMafRgvDnwQLTKQgoAUFJDYaKhssjdZaa2toxVpqe7XFWisLtRSRwkQsKBS00OQoNIEQC03wPtfJvhv37ri9/WZnjvdrbpfb3YTfvX078+3usavPDw7EoHFcDCommIwJJmOCyZhgMiaYjAkmY4LJmGAyJpiMCSZjgsmYYDImmIwJJmOCyZhgMiaYjAkmY4LJmGAyJpjMCRkQ5sZEFiZEpkZFhv/9V42fItt7Im8aIhs/pBaOpf5cBMQuzomMn+q83U5T9t317DMkSbeIG+dEli91lwuwzePLItcmJSjJtgjIvXm+9W8b37OWsLWXraO65063/gC3Z7LPZ18kCEkK9uXu/xZ5sNHstTut2738mn1iW+zjwDq2DdEukmsRvlxIuvP6f7malY8iS+v5+lCzrBZnJQhJCS6Se9gLF9oHRDv81sEiGcH9yHWg76KdOObHhU4SgquQCyAXleyYHhE60QuuSq5jazdfPvItomq5dRCt4IWzHLnTo/my7scsohXMkIuWoC9suh+ziFIwqlf3x5VP1bQFHFfTaexcFVEKxhjVAbFuRtYPfsvBMY/sTE73yRcVyUXi5kDvxVkRgiizCN0e/CrDFBcVDvFPDiHJlwuQW4QaiSQV9rhQHeB0RyV2SsUK5X4I03sdtbYICEB86A/493/ly1OqXSCG1EMr7Kv7tX/sIrlV9PNeqE0wJhEQgADcT7beq+HTlYl8GXKX3rZK1jGkIxa5oBbBRWG55tW3fBnRor4LgSp++jlfRwX7Vewfuy65ILjgoukvBGgwAdCTAGyvRxZ+KjY71rp/Q13A7r+rTy4IKriXbEGPEFDFyxezTwC5q438ey0f4Ad7uJmF7CEvaEUEE9xrcIMK9iVr9H7+RRLfocpDTIW7EWSYVjYVc3cg0ALWdtqHM3rUERt0wf2mYvo2jyZ0KlYWeotgpWJ65BBDK2gHVTCiQVYqpnty3ReyTtAFO1JPxcpCFaz75GoFVVZnKlYWqmB9Gm/vSl/UnYqVJYnb9jGkYmWhCtbDp6lRKUVMwU0ZqILbpWKHJXW5gCp4TZ3CfirWjUGQC6iC/VQMAfn8me77DYpcQL/IPdpsXb93Icsmhgom6fjbrZnBkQuCvKNxfTITp3EP4uFZseGTzYvgSDZu9sWnLBcEewmmSHIn8AMg001ZLgj6lhFyib99uMtzuahsVG5KD/m1o5bXuNwzYkjEXEuATNxvQ8XGHD/2SvLvycWOvUpLxgSTMcFkTDAZE0zGBJMxwWRMMBkTTMYEkzHBZEwwGRNMxgSTMcFkTDAZE0zGBJMxwWRMMBkTTMYEkzHBZP4Aw/58Kes6Gs8AAAAASUVORK5CYII=",_sfc_main$e=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,{t:n}=useI18n(),c=BEM("attWeb"),l=GroupAppStore(),v=MessageAppStore(),{getGroupsInfos:y}=storeToRefs(l),{getUserInfo:T}=storeToRefs(v),I=()=>{var U,x;return((x=(U=y.value)==null?void 0:U.members)==null?void 0:x.some(H=>H.uid==T.value.loginId&&(H.owner||H.admin)))||!1},g=()=>{var U,x;if((U=y.value)!=null&&U.description){let H=utils.removeSpaces(JSON.parse(y.value.description));return((x=H==null?void 0:H.courseInfo)==null?void 0:x.courseid)||""}else return""},P=()=>{var U,x,H,L,W,F,w;if(console.log(M(((U=m.attachment)==null?void 0:U.url)||"","announceId"),m.attachment),((x=m.attachment)==null?void 0:x.type)==1&&((H=m.attachment)==null?void 0:H.opType)=="delete"){Toast({content:n("message.noticeDeleted"),zIndex:2024,duration:2e3});return}if(((L=m.attachment)==null?void 0:L.type)==1){let G={puid:String(v.getUserInfo.puid),chatId:M(((W=m.attachment)==null?void 0:W.url)||"","chatId"),isAdminOrOwner:Number(I())};g()&&(G.courseid=g());const S=M(((F=m.attachment)==null?void 0:F.url)||"","announceId");window.MainWindowHelper.openWindowWidthMask({url:`https://fe.chaoxing.com/front/announce/#/detail?announceId=${S}&t=${new Date().getTime()}`,width:840,height:600,resizable:!1,forbidClose:!0,frame:!1,modal:!0,subWindow:!0,id:"Id_GroupAnnounce",args:G})}else window.open((w=m.attachment)==null?void 0:w.url)},M=(U,x)=>{const H=new URL(U);return new URLSearchParams(H.search).get(x)};return(U,x)=>{var H,L,W,F,w,G,S,re,q,X,Q;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:P},[((H=m.attachment)==null?void 0:H.type)==1?(openBlock(),createBlock(NoticeBase,{key:0,logo:((L=m.attachment)==null?void 0:L.logo)||unref(defaultWebIcon),title:(W=m.attachment)==null?void 0:W.realTitle,content:(F=m.attachment)==null?void 0:F.title,time:(w=m.attachment)==null?void 0:w.updateTime,keyword:m.keyword,isDelete:((G=m.attachment)==null?void 0:G.type)==1&&((S=m.attachment)==null?void 0:S.opType)=="delete"},null,8,["logo","title","content","time","keyword","isDelete"])):(openBlock(),createBlock(Base,{key:1,content:((re=m.attachment)==null?void 0:re.showContent)===1?(q=m.attachment)==null?void 0:q.content:void 0,logo:((X=m.attachment)==null?void 0:X.logo)||unref(defaultWebIcon),title:(Q=m.attachment)==null?void 0:Q.title,keyword:m.keyword},null,8,["content","logo","title","keyword"]))],2)}}}),index_vue_vue_type_style_index_0_scoped_e7022244_lang="",AttWeb=_export_sfc(_sfc_main$e,[["__scopeId","data-v-e7022244"]]),_sfc_main$d=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a;useI18n();const n=MessageAppStore(),c=BEM("attUser"),l=async v=>{var U;const y=await window.RendererHelper.getMousePointInWindow(),T=await window.RendererHelper.getMousePointInScreen(),{width:I,height:g}=await window.RendererHelper.getScreenWorkArea(),P=T.x+340>I?y.x-340:y.x,M=T.y+200>g?y.y-200:y.y;window.RendererHelper.openWindow("sview:/#/personalCard",{width:340,height:200,resizable:!1,marginLeft:P,marginTop:M,subWindow:!0,frame:!1,id:"id_PersonInfoWindow"},{myPuid:n.getUserInfo.puid,puid:(U=m.attachment)==null?void 0:U.puid})};return(v,y)=>{var T,I,g;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:l},[createVNode(Base,{logo:(T=m.attachment)==null?void 0:T.pic,title:((I=m.attachment)==null?void 0:I.name)||((g=m.attachment)==null?void 0:g.nick),label:"",round:"",keyword:m.keyword},null,8,["logo","title","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_7f016e3e_lang="",AttUser=_export_sfc(_sfc_main$d,[["__scopeId","data-v-7f016e3e"]]),_sfc_main$c=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a;useI18n();const n=BEM("attMapLocation");function c(v){if(bignumberExports.BigNumber.isBigNumber(v))return v.toString();let y=new bignumberExports.BigNumber("30.459997643297886");return Object.assign(y,v),y.toString()}const l=()=>{var P,M,U,x;let v=(P=m.attachment)==null?void 0:P.latitude,y=(M=m.attachment)==null?void 0:M.longitude,T=c(v),I=c(y);console.log("",T,I);let g=`http://api.map.baidu.com/marker?location=${T},${I}&title=${(U=m.attachment)==null?void 0:U.name}&content=${(x=m.attachment)==null?void 0:x.address}&output=html&src=www.chaoxing.com`;window.open(g)};return(v,y)=>{var T,I,g;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:l},[createVNode(Base,{logo:(T=m.attachment)==null?void 0:T.iconUrl,title:(I=m.attachment)==null?void 0:I.name,content:(g=m.attachment)==null?void 0:g.address,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_199fbc3e_lang="",AttMapLocation=_export_sfc(_sfc_main$c,[["__scopeId","data-v-199fbc3e"]]),_sfc_main$b=defineComponent({__name:"index",props:{attachment:Object,msgid:String,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attCloudFolder"),c=()=>{var y,T,I,g;(T=(y=m.attachment)==null?void 0:y.shareInfo)!=null&&T.weburl&&window.open((g=(I=m.attachment)==null?void 0:I.shareInfo)==null?void 0:g.weburl)},l=ref("0"),v=ref(!1);return onMounted(()=>{var y;m!=null&&m.msgid&&((y=document.getElementById(m==null?void 0:m.msgid))==null||y.addEventListener("attachmentProgress",T=>{var g;v.value=!0;const I=(g=T==null?void 0:T.detail)==null?void 0:g.progress;l.value=I+"%",I>=100&&(v.value=!1)}))}),(y,T)=>{var I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:unref(folderIcon),title:(I=m.attachment)==null?void 0:I.name,keyword:m.keyword},null,8,["logo","title","keyword"]),withDirectives(createBaseVNode("div",{style:normalizeStyle({width:l.value}),class:normalizeClass(unref(n).e("uploadProgress"))},null,6),[[vShow,v.value]])],2)}}}),index_vue_vue_type_style_index_0_scoped_2c964d44_lang="",AttCloudFolder=_export_sfc(_sfc_main$b,[["__scopeId","data-v-2c964d44"]]),_sfc_main$a=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,{t:n}=useI18n(),c=BEM("attNoticefile"),l=()=>{alert(n(ATTACHMENT.UNSUPPORTED.key))};return(v,y)=>{var T;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:l},[createVNode(Base,{logo:unref(folderIcon),title:(T=m.attachment)==null?void 0:T.name,keyword:m.keyword},null,8,["logo","title","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_cb35429a_lang="",AttNoticefile=_export_sfc(_sfc_main$a,[["__scopeId","data-v-cb35429a"]]),_sfc_main$9=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attChatCourse"),c=()=>{const l=_.get(m,"attachment.description.liveId"),v=_.get(m,"attachment.pcUrl",_.get(m,"attachment.url"));l?window.open(`https://zhibo.chaoxing.com/${l}`):v&&window.open(v)};return(l,v)=>{var y,T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:(y=m.attachment)==null?void 0:y.logo,title:(T=m.attachment)==null?void 0:T.title,content:(I=m.attachment)==null?void 0:I.subTitle,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_6b0928b4_lang="",AttChatCourse=_export_sfc(_sfc_main$9,[["__scopeId","data-v-6b0928b4"]]),_sfc_main$8=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){var y;const m=a,{t:n}=useI18n(),c=BEM("attCreateSpecialResFile"),l=JSONbigString.parse((y=m.attachment)==null?void 0:y.content),v=()=>{alert(n(ATTACHMENT.UNSUPPORTED.key))};return(T,I)=>{var g;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:v},[createVNode(Base,{logo:unref(folderIcon),title:(g=unref(l))==null?void 0:g.folderName,keyword:m.keyword},null,8,["logo","title","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_16587af5_lang="",AttCreateSpecialResFile=_export_sfc(_sfc_main$8,[["__scopeId","data-v-16587af5"]]),_sfc_main$7=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attCourseClone"),c=()=>{var l,v,y,T;(v=(l=m.attachment)==null?void 0:l.cloneJson)!=null&&v.cloneCourseUrl&&window.open((T=(y=m.attachment)==null?void 0:y.cloneJson)==null?void 0:T.cloneCourseUrl)};return(l,v)=>{var y,T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:(y=m.attachment)==null?void 0:y.courseLogo,title:(T=m.attachment)==null?void 0:T.courseName,content:(I=m.attachment)==null?void 0:I.courseTeacher,label:"",keyword:m.keyword,round:""},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_e327743a_lang="",AttCourseClone=_export_sfc(_sfc_main$7,[["__scopeId","data-v-e327743a"]]),_sfc_main$6=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attMicroCourse"),c=()=>{var l,v;(l=m.attachment)!=null&&l.url&&window.open((v=m.attachment)==null?void 0:v.url)};return(l,v)=>{var y,T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:(y=m.attachment)==null?void 0:y.cover,title:(T=m.attachment)==null?void 0:T.title,content:(I=m.attachment)==null?void 0:I.createrName,label:"",keyword:m.keyword,round:""},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_f600ee70_lang="",AttMicroCourse=_export_sfc(_sfc_main$6,[["__scopeId","data-v-f600ee70"]]),_sfc_main$5=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,{t:n}=useI18n(),c=BEM("attClockIn"),l=()=>{alert(n(ATTACHMENT.UNSUPPORTED.key))};return(v,y)=>{var T,I,g;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:l},[createVNode(Base,{logo:(T=m.attachment)==null?void 0:T.iconUrl,title:(I=m.attachment)==null?void 0:I.title,content:(g=m.attachment)==null?void 0:g.subjectContent,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_6305bc3a_lang="",AttClockIn=_export_sfc(_sfc_main$5,[["__scopeId","data-v-6305bc3a"]]),_sfc_main$4=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,{t:n}=useI18n(),c=BEM("attTopicfolder"),l=()=>{alert(n(ATTACHMENT.UNSUPPORTED.key))};return(v,y)=>{var T;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:l},[createVNode(Base,{logo:unref(folderIcon),title:(T=m.attachment)==null?void 0:T.name,keyword:m.keyword},null,8,["logo","title","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_dc8734a1_lang="",AttTopicfolder=_export_sfc(_sfc_main$4,[["__scopeId","data-v-dc8734a1"]]),_sfc_main$3=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a;useI18n();const n=BEM("attDatafolder"),c=()=>{var l,v,y,T;(v=(l=m==null?void 0:m.attachment)==null?void 0:l.groupInfo)!=null&&v.bbsId&&window.open(`https://groupweb.chaoxing.com/pc/resource/jumpToResourceList?bbsid=${(T=(y=m==null?void 0:m.attachment)==null?void 0:y.groupInfo)==null?void 0:T.bbsId}`)};return(l,v)=>{var y,T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:unref(folderIcon),title:(y=m.attachment)==null?void 0:y.folderName,content:(I=(T=m.attachment)==null?void 0:T.groupInfo)==null?void 0:I.name,keyword:m.keyword},null,8,["logo","title","content","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_d60f40e8_lang="",AttDatafolder=_export_sfc(_sfc_main$3,[["__scopeId","data-v-d60f40e8"]]),_sfc_main$2=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,n=BEM("attLinker"),c=()=>{var l,v;(l=m.attachment)!=null&&l.url&&window.open((v=m.attachment)==null?void 0:v.url)};return(l,v)=>{var y;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b()),onClick:c},[createVNode(Base,{logo:unref(defaultWebIcon),title:(y=m.attachment)==null?void 0:y.title,keyword:m.keyword},null,8,["logo","title","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_a063d4d5_lang="",AttLinker=_export_sfc(_sfc_main$2,[["__scopeId","data-v-a063d4d5"]]),_sfc_main$1=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){const m=a,{t:n}=useI18n(),c=BEM("attChatGroup");useRouter(),MessageAppStore();const l=v=>{var y,T,I,g;(y=m.attachment)!=null&&y.groupId&&((T=m.attachment)!=null&&T.inviteCode)?window.open(`https:/learn.chaoxing.com/im/addcg?cgid=${(I=m.attachment)==null?void 0:I.groupId}&inviteCode=${(g=m.attachment)==null?void 0:g.inviteCode}&type=1`):Toast({content:n("message.supportopen"),duration:2e3})};return(v,y)=>{var T,I;return openBlock(),createElementBlock("div",{class:normalizeClass(unref(c).b()),onClick:l},[createVNode(Base,{"logo-list":(T=m==null?void 0:m.attachment)==null?void 0:T.listPic,title:(I=m==null?void 0:m.attachment)==null?void 0:I.groupName,label:unref(n)("message.groupsChat"),keyword:m.keyword,round:""},null,8,["logo-list","title","label","keyword"])],2)}}}),index_vue_vue_type_style_index_0_scoped_164d97a3_lang="",AttChatGroup=_export_sfc(_sfc_main$1,[["__scopeId","data-v-164d97a3"]]),defaulPlayIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAeXSURBVHgB7VxdchNHEP5Gku1KeFFOEHECxAsBUynkE2BOgDmBTYJJUnmweAoBpzAnwJwAcwJEVbAp8oA4AcoJolTFlTKWdvL17KyQhYlnf2a1Uu1XtVp5vdrd+bZ7uqe7Z4ASJUqUKFGiRIkSJUrMPBQKguVt/TUfpoUhmoFCQ3Hj4Tq3xsSpPW59rdGrcNMVdAZD9N78qN6hAJgqoVce6GskZZWkrCEkLzGEYDamwxbt7W+q55gScif08i+6gRpuVoANjJOo0EeAjkicCvA3j3SDIfqvf1K9yd/XakaC60ONC9Bo8rdNjEnyiNwK2vt31J/IEbkRKkRUqtjiHdfGbt7R0nCN5/t3VRcpsPxAN/kyriltXlRj9A+N3TyJ9U5oq63rR+ewpUKJDCUR2KOqP/19U3XgAUIuSVwnmWujgzkR65XQ5fv6OqpsiFVt3mxn4RD3Om3VRw4wWrFArbDESlfArf36B/UUnuCF0EmpNKpNVc+7P4sgxKoanhgvgtABdpb+9fNiMyfU9pXPjKGgevPh2wd31WMUAFe29Tr72Da/1o3hqqCV9UvOlNBLv+kLtSH2eNUGjU2Plrg1Lan8HMwLr+EFvzZ8kFpBRjBkBsYPbIiKLx3iYtHIFIgbtljDRfEuzOBBo3vpvr6AjJCJhNq3/hZifBR2SeQtzAA4OntiDVafo61WFqOt1BJq+0xRoZkiU2CeVYVeSLWCPRn+IiVSSahY8w9fUjKtmr/aVCuYQVx5qF9YD6C7eIiVNNY/lYSKaxQZIPqXNzCjWKqZZ+9xax59wTalQGIJvfqrvsmh3q4d+TSLaIDi4IQdAFaTBlgSSajcnI56W76LnznrZArE+kdtInalO0MCJCLUBjlMv1kUpz0LHNxRj02whlKaVPVjE2rCbzZipMciR/MCPYDxUujwbySx+rEJNdJp7mhcpJlX9UmI6ksQx/wRjLoAZ8QidFw6iTbmFAs13OOuL22NK6WxCM1DOiUtQg/ikWxZONpJ0LmthMw984eO163FVfmWfBwfwYshkvgpx9eSBtmQjY3pMVj8ZBrEGpcwxEac3zkTuvyQwWLrxP/xc7p0xf88zc4nx6h2dM06l+n3IkccfKdeRhZftMb1d+4Syuyk3e/AF9QnKePwMI9XKDGU1rd5SqsKCUVF2bY7II7Kt+RjcIyXmBYkaM1u4PJDvZXU8Y4FJg/DnXs/6kSoSXr5VvcY4EO3jxiU8d0N2EysDK3rrprhJqEK4cUYjEVBMNYN+DVaOlT7KB91FpwIjS7GRhSG0BHEL7bdADzAGiaYggoHOBHK3EvDfi0eoRbSDdAav8+6G6AwSRULAn26wTzlOZyu2jAnD8KLFxWeuoFudG2Xk12tvLGowQLeYxaQYTcg9VXmi3YrZnMltCEfsxYMkW7gmwd6HSkwKlbLWEJnFlWVbxBn7gnNG/NPaBQ1ygmuhPbkY1rhtKSQsfjiP7iNFDAxYIEOOTgLNbjBWDqG7b7irvCGSYbIVeBWFvWnaomjxCGiutYz4Sah9u0sLiGzGiCPaEtdVVbFvGoYuks6SwmlU9vjW0cQpJtY4BMea1DNkJMhvJ7LyU6E8u28syURLW7FShuLKjJN8crXzI9wUsTHMf0ZcFJ5jhY6spd6TxQIkp2k0TnveRqNkdDjD262w7kUhymQv7ir88IXfcVEeQ/tcp6o9zFzTm++9zvZy8aB34qRO9hU511+4+yHshG7sl9YxHVMC8rMoNuQKj/fZApIpMklSeLQ9TfOhAbV0EHW8Kr2n3VNIvXOs/RnNBVIuw8OnAmVLCB3fQk2x8kCxoE+Zdwt6s2HXKFU3s5rOo5gPO0Tp4+OO/Q0GU8FPzVNUqxF9VoTEo0bZNXb1wSxM2CiVHHU3Zwf52RbQykx0f7iIc7nKTF5YqydJmwXx7eNJaEmNmhr0tNW+hYZaUqOYkebgmNTSJW43K/oSFsQF5vQ8XI/rUf1P3MDmcIYfklWEJcoHhqV+4nFT5tiKBLovaxLm3QYrmwjAWIZpXGY4jEY/0xK/+Zq0kJAlX99J9mM5cQRe/HNrOrXpToul1ojT5BnjyavSZuSkilIlQKxqt+VnPXROTzDjMI8+8f5VveQAqkIlUrfYBBOmpK+RwoMMGOQ+Z5RvynRtLS+deI+dByjmchSEEHLv393xibPZjh5LRNCBeOk6nB6942ijqTsihPPTBEcyRxQMrOKXmVGqMD35P4sMJo9bfvMYQWrWYYCM83Li9PPPnUFYX9kJvcXyU8VP9O4RmFZjRjTVtZx1UwlNELrka4fD7ClbTzRrp5QmEVcfK7O44XQCFe39U0dLprSMAdyXpTq1DWjaIR85qC8EiqYXDvJgMQOAuz4WgBQAuAmZhvO3sh1zSjvhEY4jVhbPLAzpHeQllxZiIXGZlXU+kQ9fBhunJ+l2iYxRmwL+Fhzacnt2jr+Lv/u00voTRIhIcPBAHWO0pq28KJl09snFyaU+VRTmOCbO6Hj+HZbrw7BLOoEuYlAEhW7Ejbo+ZRSJvYxCgJJilUraAQa12SShAr9xFMXZFV2QVZTIqTxTgoxJpfFLFGiRIkSJUqUKFGiRInE+A+rnzvl/gRlMwAAAABJRU5ErkJggg==",stopImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbmSURBVHgB7ZxRUttGGMf/awxMmxf3BNUNYh6aFjIdxAninAB6AtIWaDt9wDx0mhI6JScATgCcIM5MC0z6UPcEdW/gPjAdgq3t961WjnCd8UpaGcne34ws2SBb+uvb3W+//XYBh8PhcDgcDofDUXoECsLKgfyYLsZHH/VAwBO00cc12ryhf+3Q1pUSnQptsoJWr4/Om2/FnygA9yro8r5cJVEaJMoGQvFSwwLTzbTojs4utsU57omJC/rZj9JDFesV4BniIgp0EaDFFicC/EOftIM+ulffic7w+dWqsuBaX+IhJOp0bh0xSx6IW0HzYkv8jQkyMUFZiMocdukXN2I/3pJ84xLnFzuijQys7Ms6PYxVIdWD8gZ/kDiepLC5C+o3Ze3mAXZFaJGhJQJnVNRPft0WLeQAi0sibpKYG4MPJyRsroKuPJdPMEc3oos2/djh/DX2Wk3RxQRQpWKeSoUWlqsC2ppX34gT5EQugg5bpSraVNQnXZ9FsLCiiiPlRRAywOHiv/k8WOuC6rryVDUUVLzp4puXO+IlCsDygdykOrZJhzXVcFXg237IVgV99LN8WO3jjL7Vo8amQy2xf19W+T7UA6/iFR16eYhagSWUmIHyAz0u4ovXWCqamAy7YQtVLLF3oToPEu1Hz+VDWMKKheqn/ge48RE4JiG/QAmg3tmRbrC61NvybfS2MluorjO5CJVKTEZdqwi9kLkKzrj7i4xkslBuzd9+SJapi/lv22INJWT5hXylPYD2wjXWsrT+mSyUXaOoASL/8ilKymJVXXuHtvrNB3RPGUhtoY9/kuvU1TvWPZ96ERugJNxpB4BG2gBLKgvlHydHvcnH7GeWXUyGW//onohjrs6QglSC6iCHqjeL4rTb4HJLvFTBGrLStEU/saAq/KYjRjIWOZoWZA/KSyGH/1maVj+xoMo61S8qF6n0RX0YLvocxFFvgkEVYEwiQePWSTQxpcxXsUe7Lt9rUitNJOi0W2dE60vBYp6pNzJZtVZFMnx+ub2BtYZoKLTWphtpmD6sLOeOg11C0Vdicghyz/Q8YwtdeUHBYu3E//59tuGKOxdQxWkUpyTqUqquYO7njuPyK/E6avF5MNH0PPMiT6OTen8Iu9Tjb2IC5X3uWEQoKCpC37sBSepQn196t3iNWYEGD8OdeT1qJKga9MqhuBcdPRLLXeuaaWtvZqEC4ZdRMBazhgyLvWl1YiRo9GUU4Z45QXXDBJVQYYCRoNR6evpw5gQlY+IsFgTyfzlWIzEt8p7651745TOGMiKdvDYW01ZehbKCefyFGYPzq9SBNEtmMxXU45dp7m6+j0GymmULdRjiBLWME9QypoJ2+MXGuHXZUDFgRoYajMNUUNXSUdjuI8wYYlH3EgWMxurNBNVPZ2ER1nKAygLFRJW7JG1aKDm1Hd4HQbaJBSVFdTkrwqKg9HSiJCofs4buww/69GMwEpR6Cy3ec74nZg8l6O1bGHVqjATVvQUVF/zkB2kUdZkG0sSBjf1Qiroc835+AU8wI5CQaiyJSmbL9BxjQYO5cFhVWq5HR9RNxiHCLOeaMJgKJPWQsgHGgvIoIO26HGxOMgo4Dk59EVGILJxaaDwgluXcccSLe5JMvKTj8jzi2RThoJWVwTpdPy8hBVnONWCTX5IUdyZRXz7o4UQdkCWkTfcrA1lSjhIJqixC56RnzfQtMllSjhJHm4LbMC0lbbpf0cmaEJdY0Hi6n83Ul6LAuVLhQbqEuFTx0Cjdj1v8T/flJqYE8l42+Z5kGK5sIgWpJy2o5DEo/4xT/6Zq0kJARf5qK92M5dQRe/bNdNGvyQCtMrf6fO3R5DW+p7RiMpmGQHTRb/OY9c0DnKKkqGt/N9/KOBd0FJkE5Uxf8k3VpCmue6h3cYSSwfM9o3qTo2lZ59CnrkPjDGYic0IEtfwXOyWbPGtx8poVQZm4qDKc3v10UkthJEWvOBFmP5OYPbLMN1/bWffJmqBM3pP7bTCYPa3rzH4FDVtiMlbH5dnppzp1DWF9pCb3F8lPZT9TuUZhWg03pr5NMRmrFhrh/yJrtz3sSh1P1KsnFGYRlzxX58lF0IjHB3JdhoumeOqDCS9KNXLNKGqE8lzKLVdBmeG1kxQkbC/AYV4LAHIAXMVsw4DzRNeMyl3QiFHC6uSBwz55B1nF5YVYqLFpcLG+kw8fhhunZ6m2YWLC+sC7nEstblvn8bfpfZe8hM6wEBwy7PVQo15aXSde+Hp4++7ChDyf6h6mUE5c0DifH8hGHzSKOiRuKkhEQVUJ3dB5XmvqmV1GQeBBsbkKvEBilSdJiNBPHLkgq9ALsnKKEGe1cCLG8LKYDofD4XA4HA6Hw5Ga/wAT+NzxrhTeUwAAAABJRU5ErkJggg==";var BenzAMRRecorder={exports:{}};(function(a,m){(function(n,c){a.exports=c()})(commonjsGlobal,function(){function n(W,F){if(!(W instanceof F))throw new TypeError("Cannot call a class as a function")}function c(W,F){for(var w=0;w<F.length;w++){var G=F[w];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}function l(W,F,w){return F&&c(W.prototype,F),w&&c(W,w),W}var v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{},y={exports:{}};(function(W,F){(function(w,G){W.exports=G()})(v,function(){var w=function(){var q=0,X=[],Q=[],ee;self.onmessage=function(wt){switch(wt.data.command){case"init":se(wt.data.config);break;case"record":Oe(wt.data.buffer);break;case"exportWAV":xe(wt.data.type);break;case"getBuffer":Ne();break;case"clear":qe();break}};function se(wt){ee=wt.sampleRate}function Oe(wt){X.push(wt[0]),Q.push(wt[1]),q+=wt[0].length}function xe(wt){var Ht=Et(X,q),ue=Et(Q,q),Se=et(Ht,ue),Ue=It(Se),ct=new Blob([Ue],{type:wt});self.postMessage({type:"blob",data:ct})}function Ne(){var wt=[];wt.push(Et(X,q)),wt.push(Et(Q,q)),self.postMessage({type:"buffer",data:wt})}function qe(){q=0,X=[],Q=[]}function Et(wt,Ht){for(var ue=new Float32Array(Ht),Se=0,Ue=0;Ue<wt.length;Ue++)ue.set(wt[Ue],Se),Se+=wt[Ue].length;return ue}function et(wt,Ht){for(var ue=wt.length+Ht.length,Se=new Float32Array(ue),Ue=0,ct=0;Ue<ue;)Se[Ue++]=wt[ct],Se[Ue++]=Ht[ct],ct++;return Se}function st(wt,Ht,ue){for(var Se=0;Se<ue.length;Se++,Ht+=2){var Ue=Math.max(-1,Math.min(1,ue[Se]));wt.setInt16(Ht,Ue<0?Ue*32768:Ue*32767,!0)}}function vt(wt,Ht,ue){for(var Se=0;Se<ue.length;Se++)wt.setUint8(Ht+Se,ue.charCodeAt(Se))}function It(wt){var Ht=new ArrayBuffer(44+wt.length*2),ue=new DataView(Ht);return vt(ue,0,"RIFF"),ue.setUint32(4,36+wt.length*2,!0),vt(ue,8,"WAVE"),vt(ue,12,"fmt "),ue.setUint32(16,16,!0),ue.setUint16(20,1,!0),ue.setUint16(22,2,!0),ue.setUint32(24,ee,!0),ue.setUint32(28,ee*4,!0),ue.setUint16(32,4,!0),ue.setUint16(34,16,!0),vt(ue,36,"data"),ue.setUint32(40,wt.length*2,!0),st(ue,44,wt),ue}},G=w.toString().replace(/^\s*function.*?\(\)\s*{/,"").replace(/}\s*$/,""),S=function(q,X){var Q=X||{},ee=Q.bufferLen||4096;this.context=q.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,ee,2,2);var se=new Worker((window.URL||window.webkitURL).createObjectURL(new Blob([G],{type:"text/javascript"})));se.onmessage=function(qe){qe.data.type==="blob"?Ne(qe.data.data):xe(qe.data.data)},se.postMessage({command:"init",config:{sampleRate:this.context.sampleRate}});var Oe=!1,xe,Ne;this.node.onaudioprocess=function(qe){Oe&&se.postMessage({command:"record",buffer:[qe.inputBuffer.getChannelData(0),qe.inputBuffer.getChannelData(1)]})},this.configure=function(qe){for(var Et in qe)qe.hasOwnProperty(Et)&&(Q[Et]=qe[Et])},this.record=function(){Oe=!0},this.stop=function(){Oe=!1},this.clear=function(){se.postMessage({command:"clear"})},this.getBuffer=function(qe){xe=qe||Q.callback,se.postMessage({command:"getBuffer"})},this.exportWAV=function(qe,Et){if(Ne=qe||Q.callback,Et=Et||Q.type||"audio/wav",!Ne)throw new Error("Callback not set");se.postMessage({command:"exportWAV",type:Et})},this.release=function(){this.stop(),this.clear(),this.configure=this.record=this.stop=this.clear=this.getBuffer=this.exportWAV=function(){},q.disconnect(this.node),this.node.onaudioprocess=null,this.node.disconnect(),se.terminate()},q.connect(this.node),this.node.connect(this.context.destination)};S.forceDownload=function(q,X){var Q=(window.URL||window.webkitURL).createObjectURL(q),ee=window.document.createElement("a");ee.href=Q,ee.download=X||"output.wav";var se=document.createEvent("Event");se.initEvent("click",!0,!0),ee.dispatchEvent(se)};var re=S;return re})})(y);var T=y.exports,I=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,g=null,P=!0;I||(P=!1,console.warn("Web Audio API is Unsupported."));var M=function(){function W(){n(this,W),this._recorderStream=null,this._recorderStreamSourceNode=null,this._recorder=null,this._isRecording=!1,this._curSourceNode=null}return l(W,[{key:"playPcm",value:function(w,G,S,re){(!g||g.state==="closed")&&(g=new I),(g.state==="interrupted"||g.state==="suspended")&&g.resume(),G=G||8e3,this.stopPcm();var q=re&&re>.001?w.slice(G*re):w;if(!q.length)return S();var X,Q;this._curSourceNode=g.createBufferSource();try{X=g.createBuffer(1,q.length,G)}catch{G<11025?(X=g.createBuffer(1,q.length,G*4),this._curSourceNode.playbackRate.value=.25):(X=g.createBuffer(1,q.length,G*2),this._curSourceNode.playbackRate.value=.5)}X.copyToChannel?X.copyToChannel(q,0,0):(Q=X.getChannelData(0),Q.set(q)),this._curSourceNode.buffer=X,this._curSourceNode.loop=!1,this._curSourceNode.connect(g.destination),this._curSourceNode.onended=S,this._curSourceNode.start()}},{key:"stopPcm",value:function(){this._curSourceNode&&(this._curSourceNode.stop(),this._curSourceNode=null)}},{key:"stopPcmSilently",value:function(){this._curSourceNode.onended=null,this.stopPcm()}},{key:"initRecorder",value:function(){var w=this;return new Promise(function(G,S){var re=function(Q){w._recorderStream=Q,w._recorderStreamSourceNode=g.createMediaStreamSource(Q),w._recorder=new T(w._recorderStreamSourceNode),w._isRecording=!1,G()},q=function(Q){S(Q)};w._recorder?G():window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia?window.navigator.mediaDevices.getUserMedia({audio:!0}).then(re).catch(q):window.navigator.getUserMedia?window.navigator.getUserMedia({audio:!0},re,q):q()})}},{key:"isRecording",value:function(){return this._recorder&&this._isRecording}},{key:"startRecord",value:function(){this._recorder&&(this._recorder.clear(),this._recorder.record(),this._isRecording=!0)}},{key:"stopRecord",value:function(){this._recorder&&(this._recorder.stop(),this._isRecording=!1)}},{key:"generateRecordSamples",value:function(){var w=this;return new Promise(function(G){w._recorder&&w._recorder.getBuffer(function(S){G(S[0])})})}},{key:"releaseRecord",value:function(){this._recorderStream&&this._recorderStream.getTracks&&(this._recorderStream.getTracks().forEach(function(w){w.stop()}),this._recorderStream=null),this._recorder&&(this._recorder.release(),this._recorder=null)}}],[{key:"isPlaySupported",value:function(){return P}},{key:"isRecordSupported",value:function(){return!!(window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia||window.navigator.getUserMedia)}},{key:"getCtxSampleRate",value:function(){return g&&g.sampleRate||0}},{key:"getCtxTime",value:function(){return g&&g.currentTime||0}},{key:"decodeAudioArrayBufferByContext",value:function(w){return new Promise(function(G,S){g.decodeAudioData(w,function(re){var q=re.numberOfChannels,X=new Float32Array(re.length);switch(q){default:case 1:{X=re.getChannelData(0);break}case 2:{for(var Q=re.getChannelData(0),ee=re.getChannelData(1),se=0,Oe=X.length;se<Oe;se++)X[se]=.5*(Q[se]+ee[se]);break}case 4:{for(var xe=re.getChannelData(0),Ne=re.getChannelData(1),qe=re.getChannelData(2),Et=re.getChannelData(3),et=0,st=X.length;et<st;et++)X[et]=.25*(xe[et]+Ne[et]+qe[et]+Et[et]);break}case 6:{for(var vt=re.getChannelData(0),It=re.getChannelData(1),wt=re.getChannelData(2),Ht=re.getChannelData(4),ue=re.getChannelData(5),Se=0,Ue=X.length;Se<Ue;Se++)X[Se]=.7071*(vt[Se]+It[Se])+wt[Se]+.5*(Ht[Se]+ue[Se]);break}}G(X)},S)})}}]),W}(),U=function(){var W=function(){var G={toWAV:function(N){var B=this._decode(N);if(!B)return null;var J=new Uint8Array(B.buffer,B.byteOffset,B.byteLength),ne=new Uint8Array(J.length+this.WAV_HEADER_SIZE),e=0,d=function(ar){var fr=new Uint8Array(2);new Int16Array(fr.buffer)[0]=ar,ne.set(fr,e),e+=2},it=function(ar){var fr=new Uint8Array(4);new Int32Array(fr.buffer)[0]=ar,ne.set(fr,e),e+=4},ae=function(ar){var fr=new TextEncoder("utf-8").encode(ar);ne.set(fr,e),e+=fr.length};ae("RIFF"),it(36+J.length),ae("WAVEfmt "),it(16);var Jt=16,Qt=8e3,or=1,he=Jt/8*or,Kt=he*Qt;return d(1),d(1),it(Qt),it(Kt),d(he),d(Jt),ae("data"),it(J.length),ne.set(J,e),ne},decode:function(N){var B=this._decode(N);if(!B)return null;for(var J=new Float32Array(B.length),ne=0;ne<J.length;ne++)J[ne]=B[ne]/32768;return J},_decode:function(N){if(String.fromCharCode.apply(null,N.subarray(0,this.AMR_HEADER.length))!==this.AMR_HEADER)return null;var B=this.Decoder_Interface_init();if(!B)return null;var J=new Int16Array(Math.floor(N.length/6*this.PCM_BUFFER_COUNT)),ne=S._malloc(this.AMR_BUFFER_COUNT),e=new Uint8Array(S.HEAPU8.buffer,ne,this.AMR_BUFFER_COUNT);ne=S._malloc(this.PCM_BUFFER_COUNT*2);for(var d=new Int16Array(S.HEAPU8.buffer,ne,this.PCM_BUFFER_COUNT),it=6,ae=0;it+1<N.length&&ae+1<J.length;){var Jt=this.SIZES[N[it]>>3&15];if(it+Jt+1>N.length)break;if(e.set(N.subarray(it,it+Jt+1)),this.Decoder_Interface_Decode(B,e.byteOffset,d.byteOffset,0),ae+this.PCM_BUFFER_COUNT>J.length){var Qt=new Int16Array(J.length*2);Qt.set(J.subarray(0,ae)),J=Qt}J.set(d,ae),ae+=this.PCM_BUFFER_COUNT,it+=Jt+1}return S._free(e.byteOffset),S._free(d.byteOffset),this.Decoder_Interface_exit(B),J.subarray(0,ae)},encode:function(N,B,J){if(B<8e3)return console.error("pcmSampleRate should not be less than 8000."),null;typeof J>"u"&&(J=this.Mode.MR795);var ne=this.Encoder_Interface_init();if(!ne)return null;var e=S._malloc(this.PCM_BUFFER_COUNT*2),d=new Int16Array(S.HEAPU8.buffer,e,this.PCM_BUFFER_COUNT);e=S._malloc(this.AMR_BUFFER_COUNT);for(var it=new Uint8Array(S.HEAPU8.buffer,e,this.AMR_BUFFER_COUNT),ae=B/8e3,Jt=Math.floor(N.length/ae),Qt=new Int16Array(Jt),or=0;or<Jt;or++)Qt[or]=N[Math.floor(or*ae)]*32767;var he=this.SIZES[J]+1,Kt=new Uint8Array(Math.ceil(Jt/this.PCM_BUFFER_COUNT*he)+this.AMR_HEADER.length);Kt.set(new TextEncoder("utf-8").encode(this.AMR_HEADER));for(var ar=0,fr=this.AMR_HEADER.length;ar+this.PCM_BUFFER_COUNT<Qt.length&&fr+he<Kt.length;){d.set(Qt.subarray(ar,ar+this.PCM_BUFFER_COUNT));var Tr=this.Encoder_Interface_Encode(ne,J,d.byteOffset,it.byteOffset,0);if(Tr!=he){console.error([Tr,he]);break}Kt.set(it.subarray(0,Tr),fr),ar+=this.PCM_BUFFER_COUNT,fr+=Tr}return S._free(d.byteOffset),S._free(it.byteOffset),this.Encoder_Interface_exit(ne),Kt.subarray(0,fr)},Decoder_Interface_init:function(){return console.warn("Decoder_Interface_init not initialized."),0},Decoder_Interface_exit:function(N){console.warn("Decoder_Interface_exit not initialized.")},Decoder_Interface_Decode:function(N,B,J,ne){console.warn("Decoder_Interface_Decode not initialized.")},Encoder_Interface_init:function(N){return console.warn("Encoder_Interface_init not initialized."),0},Encoder_Interface_exit:function(N){console.warn("Encoder_Interface_exit not initialized.")},Encoder_Interface_Encode:function(N,B,J,ne,e){console.warn("Encoder_Interface_Encode not initialized.")},Mode:{MR475:0,MR515:1,MR59:2,MR67:3,MR74:4,MR795:5,MR102:6,MR122:7,MRDTX:8},SIZES:[12,13,15,17,19,20,26,31,5,6,5,5,0,0,0,0],AMR_BUFFER_COUNT:32,PCM_BUFFER_COUNT:160,AMR_HEADER:`#!AMR
`,WAV_HEADER_SIZE:44},S={canvas:{},print:function(N){console.log(N)},_main:function(){return G.Decoder_Interface_init=S._Decoder_Interface_init,G.Decoder_Interface_exit=S._Decoder_Interface_exit,G.Decoder_Interface_Decode=S._Decoder_Interface_Decode,G.Encoder_Interface_init=S._Encoder_Interface_init,G.Encoder_Interface_exit=S._Encoder_Interface_exit,G.Encoder_Interface_Encode=S._Encoder_Interface_Encode,0}},S;S||(S=(typeof S<"u"?S:null)||{});var re={};for(var q in S)S.hasOwnProperty(q)&&(re[q]=S[q]);var X=typeof window=="object",Q=typeof importScripts=="function",ee=!1,se=!X&&!ee&&!Q;if(se)S.print||(S.print=print),typeof printErr<"u"&&(S.printErr=printErr),typeof read<"u"?S.read=read:S.read=function(){throw"no read() available (jsc?)"},S.readBinary=function(B){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(B));var J=read(B,"binary");return vt(typeof J=="object"),J},typeof scriptArgs<"u"?S.arguments=scriptArgs:typeof arguments<"u"&&(S.arguments=arguments);else if(X||Q){if(S.read=function(B){var J=new XMLHttpRequest;return J.open("GET",B,!1),J.send(null),J.responseText},typeof arguments<"u"&&(S.arguments=arguments),typeof console<"u")S.print||(S.print=function(B){console.log(B)}),S.printErr||(S.printErr=function(B){console.log(B)});else{var Oe=!1;S.print||(S.print=Oe&&typeof dump<"u"?function(N){dump(N)}:function(N){})}Q&&(S.load=importScripts),typeof S.setWindowTitle>"u"&&(S.setWindowTitle=function(N){document.title=N})}else throw"Unknown runtime environment. Where are we?";function xe(N){eval.call(null,N)}!S.load&&S.read&&(S.load=function(B){xe(S.read(B))}),S.print||(S.print=function(){}),S.printErr||(S.printErr=S.print),S.arguments||(S.arguments=[]),S.thisProgram||(S.thisProgram="./this.program"),S.print=S.print,S.printErr=S.printErr,S.preRun=[],S.postRun=[];for(var q in re)re.hasOwnProperty(q)&&(S[q]=re[q]);var Ne={setTempRet0:function(N){st=N},getTempRet0:function(){return st},stackSave:function(){return fe},stackRestore:function(N){fe=N},getNativeTypeSize:function(N){switch(N){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(N[N.length-1]==="*")return Ne.QUANTUM_SIZE;if(N[0]==="i"){var B=parseInt(N.substr(1));return vt(B%8===0),B/8}else return 0}}},getNativeFieldSize:function(N){return Math.max(Ne.getNativeTypeSize(N),Ne.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(N,B){return B==="double"||B==="i64"?N&7&&(vt((N&7)===4),N+=4):vt((N&3)===0),N},getAlignSize:function(N,B,J){return!J&&(N=="i64"||N=="double")?8:N?Math.min(B||(N?Ne.getNativeFieldSize(N):0),Ne.QUANTUM_SIZE):Math.min(B,8)},dynCall:function(N,B,J){return J&&J.length?(J.splice||(J=Array.prototype.slice.call(J)),J.splice(0,0,B),S["dynCall_"+N].apply(null,J)):S["dynCall_"+N].call(null,B)},functionPointers:[],addFunction:function(N){for(var B=0;B<Ne.functionPointers.length;B++)if(!Ne.functionPointers[B])return Ne.functionPointers[B]=N,2*(1+B);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(N){Ne.functionPointers[(N-2)/2]=null},warnOnce:function(N){Ne.warnOnce.shown||(Ne.warnOnce.shown={}),Ne.warnOnce.shown[N]||(Ne.warnOnce.shown[N]=1,S.printErr(N))},funcWrappers:{},getFuncWrapper:function(N,B){vt(B),Ne.funcWrappers[B]||(Ne.funcWrappers[B]={});var J=Ne.funcWrappers[B];return J[N]||(J[N]=function(){return Ne.dynCall(B,N,arguments)}),J[N]},getCompilerSetting:function(N){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(N){var B=fe;return fe=fe+N|0,fe=fe+15&-16,B},staticAlloc:function(N){var B=xt;return xt=xt+N|0,xt=xt+15&-16,B},dynamicAlloc:function(N){var B=ye;if(ye=ye+N|0,ye=ye+15&-16,ye>=Pe){var J=oe();if(!J)return ye=B,0}return B},alignMemory:function(N,B){var J=N=Math.ceil(N/(B||16))*(B||16);return J},makeBigInt:function(N,B,J){var ne=J?+(N>>>0)+ +(B>>>0)*4294967296:+(N>>>0)+ +(B|0)*4294967296;return ne},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};S.Runtime=Ne;var qe=!1,Et,et,st;function vt(N,B){N||jn("Assertion failed: "+B)}function It(N){var B=S["_"+N];if(!B)try{B=[eval][0]("_"+N)}catch{}return vt(B,"Cannot call unknown function "+N+" (perhaps LLVM optimizations or closure removed it?)"),B}var wt,Ht;(function(){var N={stackSave:function(){Ne.stackSave()},stackRestore:function(){Ne.stackRestore()},arrayToC:function(it){var ae=Ne.stackAlloc(it.length);return br(it,ae),ae},stringToC:function(it){var ae=0;return it!=null&&it!==0&&(ae=Ne.stackAlloc((it.length<<2)+1),pr(it,ae)),ae}},B={string:N.stringToC,array:N.arrayToC};Ht=function(ae,Jt,Qt,or,he){var Kt=It(ae),ar=[],fr=0;if(or)for(var Tr=0;Tr<or.length;Tr++){var Nr=B[Qt[Tr]];Nr?(fr===0&&(fr=Ne.stackSave()),ar[Tr]=Nr(or[Tr])):ar[Tr]=or[Tr]}var Or=Kt.apply(null,ar);if(Jt==="string"&&(Or=Re(Or)),fr!==0){if(he&&he.async){EmterpreterAsync.asyncFinalizers.push(function(){Ne.stackRestore(fr)});return}Ne.stackRestore(fr)}return Or};var J=/^function\s\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function ne(it){var ae=it.toString().match(J);return ae?(ae=ae.slice(1),{arguments:ae[0],body:ae[1],returnValue:ae[2]}):{}}var e={};for(var d in N)N.hasOwnProperty(d)&&(e[d]=ne(N[d]));wt=function(ae,Jt,Qt){Qt=Qt||[];var or=It(ae),he=Qt.every(function(Sn){return Sn==="number"}),Kt=Jt!=="string";if(Kt&&he)return or;var ar=Qt.map(function(Sn,Fr){return"$"+Fr}),fr="(function("+ar.join(",")+") {",Tr=Qt.length;if(!he){fr+="var stack = "+e.stackSave.body+";";for(var Nr=0;Nr<Tr;Nr++){var Or=ar[Nr],kr=Qt[Nr];if(kr!=="number"){var Sr=e[kr+"ToC"];fr+="var "+Sr.arguments+" = "+Or+";",fr+=Sr.body+";",fr+=Or+"="+Sr.returnValue+";"}}}var nn=ne(function(){return or}).returnValue;if(fr+="var ret = "+nn+"("+ar.join(",")+");",!Kt){var Dr=ne(function(){return Re}).returnValue;fr+="ret = "+Dr+"(ret);"}return he||(fr+=e.stackRestore.body.replace("()","(stack)")+";"),fr+="return ret})",[eval][0](fr)}})(),S.ccall=Ht,S.cwrap=wt;function ue(N,B,J,ne){switch(J=J||"i8",J.charAt(J.length-1)==="*"&&(J="i32"),J){case"i1":j[N>>0]=B;break;case"i8":j[N>>0]=B;break;case"i16":_e[N>>1]=B;break;case"i32":ve[N>>2]=B;break;case"i64":et=[B>>>0,(Et=B,+xr(Et)>=1?Et>0?(sn(+Gr(Et/4294967296),4294967295)|0)>>>0:~~+Jr((Et-+(~~Et>>>0))/4294967296)>>>0:0)],ve[N>>2]=et[0],ve[N+4>>2]=et[1];break;case"float":ot[N>>2]=B;break;case"double":ut[N>>3]=B;break;default:jn("invalid type for setValue: "+J)}}S.setValue=ue;function Se(N,B,J){switch(B=B||"i8",B.charAt(B.length-1)==="*"&&(B="i32"),B){case"i1":return j[N>>0];case"i8":return j[N>>0];case"i16":return _e[N>>1];case"i32":return ve[N>>2];case"i64":return ve[N>>2];case"float":return ot[N>>2];case"double":return ut[N>>3];default:jn("invalid type for setValue: "+B)}return null}S.getValue=Se;var Ue=0,ct=1,Xe=2,bt=3,_t=4;S.ALLOC_NORMAL=Ue,S.ALLOC_STACK=ct,S.ALLOC_STATIC=Xe,S.ALLOC_DYNAMIC=bt,S.ALLOC_NONE=_t;function Lt(N,B,J,ne){var e,d;typeof N=="number"?(e=!0,d=N):(e=!1,d=N.length);var it=typeof B=="string"?B:null,ae;if(J==_t?ae=ne:ae=[Ln,Ne.stackAlloc,Ne.staticAlloc,Ne.dynamicAlloc][J===void 0?Xe:J](Math.max(d,it?1:B.length)),e){var ne=ae,Jt;for(vt((ae&3)==0),Jt=ae+(d&-4);ne<Jt;ne+=4)ve[ne>>2]=0;for(Jt=ae+d;ne<Jt;)j[ne++>>0]=0;return ae}if(it==="i8")return N.subarray||N.slice?Y.set(N,ae):Y.set(new Uint8Array(N),ae),ae;for(var Qt=0,or,he,Kt;Qt<d;){var ar=N[Qt];if(typeof ar=="function"&&(ar=Ne.getFunctionIndex(ar)),or=it||B[Qt],or===0){Qt++;continue}or=="i64"&&(or="i32"),ue(ae+Qt,ar,or),Kt!==or&&(he=Ne.getNativeTypeSize(or),Kt=or),Qt+=he}return ae}S.allocate=Lt;function Ae(N){return Bt?typeof Cn<"u"&&!Cn.called||!Be?Ne.dynamicAlloc(N):Ln(N):Ne.staticAlloc(N)}S.getMemory=Ae;function Re(N,B){if(B===0||!N)return"";for(var J=0,ne,e=0;ne=Y[N+e>>0],J|=ne,!(ne==0&&!B||(e++,B&&e==B)););B||(B=e);var d="";if(J<128){for(var it=1024,ae;B>0;)ae=String.fromCharCode.apply(String,Y.subarray(N,N+Math.min(B,it))),d=d?d+ae:ae,N+=it,B-=it;return d}return S.UTF8ToString(N)}S.Pointer_stringify=Re;function Me(N){for(var B="";;){var J=j[N++>>0];if(!J)return B;B+=String.fromCharCode(J)}}S.AsciiToString=Me;function lt(N,B){return Pr(N,B,!1)}S.stringToAscii=lt;function nt(N,B){for(var J,ne,e,d,it,ae,Jt="";;){if(J=N[B++],!J)return Jt;if(!(J&128)){Jt+=String.fromCharCode(J);continue}if(ne=N[B++]&63,(J&224)==192){Jt+=String.fromCharCode((J&31)<<6|ne);continue}if(e=N[B++]&63,(J&240)==224?J=(J&15)<<12|ne<<6|e:(d=N[B++]&63,(J&248)==240?J=(J&7)<<18|ne<<12|e<<6|d:(it=N[B++]&63,(J&252)==248?J=(J&3)<<24|ne<<18|e<<12|d<<6|it:(ae=N[B++]&63,J=(J&1)<<30|ne<<24|e<<18|d<<12|it<<6|ae))),J<65536)Jt+=String.fromCharCode(J);else{var Qt=J-65536;Jt+=String.fromCharCode(55296|Qt>>10,56320|Qt&1023)}}}S.UTF8ArrayToString=nt;function Ye(N){return nt(Y,N)}S.UTF8ToString=Ye;function Fe(N,B,J,ne){if(!(ne>0))return 0;for(var e=J,d=J+ne-1,it=0;it<N.length;++it){var ae=N.charCodeAt(it);if(ae>=55296&&ae<=57343&&(ae=65536+((ae&1023)<<10)|N.charCodeAt(++it)&1023),ae<=127){if(J>=d)break;B[J++]=ae}else if(ae<=2047){if(J+1>=d)break;B[J++]=192|ae>>6,B[J++]=128|ae&63}else if(ae<=65535){if(J+2>=d)break;B[J++]=224|ae>>12,B[J++]=128|ae>>6&63,B[J++]=128|ae&63}else if(ae<=2097151){if(J+3>=d)break;B[J++]=240|ae>>18,B[J++]=128|ae>>12&63,B[J++]=128|ae>>6&63,B[J++]=128|ae&63}else if(ae<=67108863){if(J+4>=d)break;B[J++]=248|ae>>24,B[J++]=128|ae>>18&63,B[J++]=128|ae>>12&63,B[J++]=128|ae>>6&63,B[J++]=128|ae&63}else{if(J+5>=d)break;B[J++]=252|ae>>30,B[J++]=128|ae>>24&63,B[J++]=128|ae>>18&63,B[J++]=128|ae>>12&63,B[J++]=128|ae>>6&63,B[J++]=128|ae&63}}return B[J]=0,J-e}S.stringToUTF8Array=Fe;function Ve(N,B,J){return Fe(N,Y,B,J)}S.stringToUTF8=Ve;function $e(N){for(var B=0,J=0;J<N.length;++J){var ne=N.charCodeAt(J);ne>=55296&&ne<=57343&&(ne=65536+((ne&1023)<<10)|N.charCodeAt(++J)&1023),ne<=127?++B:ne<=2047?B+=2:ne<=65535?B+=3:ne<=2097151?B+=4:ne<=67108863?B+=5:B+=6}return B}S.lengthBytesUTF8=$e;function ke(N){for(var B=0,J="";;){var ne=_e[N+B*2>>1];if(ne==0)return J;++B,J+=String.fromCharCode(ne)}}S.UTF16ToString=ke;function Je(N,B,J){if(J===void 0&&(J=2147483647),J<2)return 0;J-=2;for(var ne=B,e=J<N.length*2?J/2:N.length,d=0;d<e;++d){var it=N.charCodeAt(d);_e[B>>1]=it,B+=2}return _e[B>>1]=0,B-ne}S.stringToUTF16=Je;function yt(N){return N.length*2}S.lengthBytesUTF16=yt;function Ct(N){for(var B=0,J="";;){var ne=ve[N+B*4>>2];if(ne==0)return J;if(++B,ne>=65536){var e=ne-65536;J+=String.fromCharCode(55296|e>>10,56320|e&1023)}else J+=String.fromCharCode(ne)}}S.UTF32ToString=Ct;function mt(N,B,J){if(J===void 0&&(J=2147483647),J<4)return 0;for(var ne=B,e=ne+J-4,d=0;d<N.length;++d){var it=N.charCodeAt(d);if(it>=55296&&it<=57343){var ae=N.charCodeAt(++d);it=65536+((it&1023)<<10)|ae&1023}if(ve[B>>2]=it,B+=4,B+4>e)break}return ve[B>>2]=0,B-ne}S.stringToUTF32=mt;function pt(N){for(var B=0,J=0;J<N.length;++J){var ne=N.charCodeAt(J);ne>=55296&&ne<=57343&&++J,B+=4}return B}S.lengthBytesUTF32=pt;function Mt(N){var B=!!S.___cxa_demangle;if(B)try{var J=Ln(N.length);pr(N.substr(1),J);var ne=Ln(4),e=S.___cxa_demangle(J,0,0,ne);if(Se(ne,"i32")===0&&e)return Re(e)}catch{}finally{J&&Yn(J),ne&&Yn(ne),e&&Yn(e)}var d=3,it={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},ae=[],Jt=!0;function Qt(){d++,N[d]==="K"&&d++;for(var Kt=[];N[d]!=="E";){if(N[d]==="S"){d++;var ar=N.indexOf("_",d),fr=N.substring(d,ar)||0;Kt.push(ae[fr]||"?"),d=ar+1;continue}if(N[d]==="C"){Kt.push(Kt[Kt.length-1]),d+=2;continue}var Tr=parseInt(N.substr(d)),Nr=Tr.toString().length;if(!Tr||!Nr){d--;break}var Or=N.substr(d+Nr,Tr);Kt.push(Or),ae.push(Or),d+=Nr+Tr}return d++,Kt}function or(Kt,ar,fr){ar=ar||1/0;var Tr="",Nr=[];function Or(){return"("+Nr.join(", ")+")"}var kr;if(N[d]==="N"){if(kr=Qt().join("::"),ar--,ar===0)return Kt?[kr]:kr}else{(N[d]==="K"||Jt&&N[d]==="L")&&d++;var Sr=parseInt(N.substr(d));if(Sr){var nn=Sr.toString().length;kr=N.substr(d+nn,Sr),d+=nn+Sr}}if(Jt=!1,N[d]==="I"){d++;var Dr=or(!0),Sn=or(!0,1,!0);Tr+=Sn[0]+" "+kr+"<"+Dr.join(", ")+">"}else Tr=kr;e:for(;d<N.length&&ar-- >0;){var Fr=N[d++];if(Fr in it)Nr.push(it[Fr]);else switch(Fr){case"P":Nr.push(or(!0,1,!0)[0]+"*");break;case"R":Nr.push(or(!0,1,!0)[0]+"&");break;case"L":{d++;var en=N.indexOf("E",d),Sr=en-d;Nr.push(N.substr(d,Sr)),d+=Sr+2;break}case"A":{var Sr=parseInt(N.substr(d));if(d+=Sr.toString().length,N[d]!=="_")throw"?";d++,Nr.push(or(!0,1,!0)[0]+" ["+Sr+"]");break}case"E":break e;default:Tr+="?"+Fr;break e}}return!fr&&Nr.length===1&&Nr[0]==="void"&&(Nr=[]),Kt?(Tr&&Nr.push(Tr+"?"),Nr):Tr+Or()}var he=N;try{if(N=="Object._main"||N=="_main")return"main()";if(typeof N=="number"&&(N=Re(N)),N[0]!=="_"||N[1]!=="_"||N[2]!=="Z")return N;switch(N[3]){case"n":return"operator new()";case"d":return"operator delete()"}he=or()}catch{he+="?"}return he.indexOf("?")>=0&&!B&&Ne.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),he}function Xt(N){return N.replace(/__Z[\w\d_]+/g,function(B){var J=Mt(B);return B===J?B:B+" ["+J+"]"})}function jt(){var N=new Error;if(!N.stack){try{throw new Error(0)}catch(B){N=B}if(!N.stack)return"(no stack trace available)"}return N.stack.toString()}function zt(){return Xt(jt())}S.stackTrace=zt;var tr=4096;function Ke(N){return N%4096>0&&(N+=4096-N%4096),N}var Ot,j,Y,_e,De,ve,ze,ot,ut,St=0,xt=0,Bt=!1,Zt=0,fe=0,z=0,te=0,ye=0;function oe(){jn("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+Pe+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.")}for(var be=S.TOTAL_STACK||65536,Pe=S.TOTAL_MEMORY||524288,ie=64*1024;ie<Pe||ie<2*be;)ie<16777216?ie*=2:ie+=16777216;ie!==Pe&&(S.printErr("increasing TOTAL_MEMORY to "+ie+" to be compliant with the asm.js spec (and given that TOTAL_STACK="+be+")"),Pe=ie),vt(typeof Int32Array<"u"&&typeof Float64Array<"u"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var at;at=new ArrayBuffer(Pe),j=new Int8Array(at),_e=new Int16Array(at),ve=new Int32Array(at),Y=new Uint8Array(at),De=new Uint16Array(at),ze=new Uint32Array(at),ot=new Float32Array(at),ut=new Float64Array(at),ve[0]=255,vt(Y[0]===255&&Y[3]===0,"Typed arrays 2 must be run on a little-endian system"),S.HEAP=Ot,S.buffer=at,S.HEAP8=j,S.HEAP16=_e,S.HEAP32=ve,S.HEAPU8=Y,S.HEAPU16=De,S.HEAPU32=ze,S.HEAPF32=ot,S.HEAPF64=ut;function we(N){for(;N.length>0;){var B=N.shift();if(typeof B=="function"){B();continue}var J=B.func;typeof J=="number"?B.arg===void 0?Ne.dynCall("v",J):Ne.dynCall("vi",J,[B.arg]):J(B.arg===void 0?null:B.arg)}}var V=[],Le=[],Ce=[],rt=[],ge=[],Be=!1;function He(){if(S.preRun)for(typeof S.preRun=="function"&&(S.preRun=[S.preRun]);S.preRun.length;)dt(S.preRun.shift());we(V)}function Ie(){Be||(Be=!0,we(Le))}function ht(){we(Ce)}function Tt(){we(rt)}function Yt(){if(S.postRun)for(typeof S.postRun=="function"&&(S.postRun=[S.postRun]);S.postRun.length;)At(S.postRun.shift());we(ge)}function dt(N){V.unshift(N)}S.addOnPreRun=dt;function Qe(N){Le.unshift(N)}S.addOnInit=Qe;function kt(N){Ce.unshift(N)}S.addOnPreMain=kt;function Gt(N){rt.unshift(N)}S.addOnExit=Gt;function At(N){ge.unshift(N)}S.addOnPostRun=At;function $t(N,B,J){var ne=J>0?J:$e(N)+1,e=new Array(ne),d=Fe(N,e,0,e.length);return B&&(e.length=d),e}S.intArrayFromString=$t;function vr(N){for(var B=[],J=0;J<N.length;J++){var ne=N[J];ne>255&&(ne&=255),B.push(String.fromCharCode(ne))}return B.join("")}S.intArrayToString=vr;function pr(N,B,J){for(var ne=$t(N,J),e=0;e<ne.length;){var d=ne[e];j[B+e>>0]=d,e=e+1}}S.writeStringToMemory=pr;function br(N,B){for(var J=0;J<N.length;J++)j[B++>>0]=N[J]}S.writeArrayToMemory=br;function Pr(N,B,J){for(var ne=0;ne<N.length;++ne)j[B++>>0]=N.charCodeAt(ne);J||(j[B>>0]=0)}S.writeAsciiToMemory=Pr,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(B,J){var ne=B>>>16,e=B&65535,d=J>>>16,it=J&65535;return e*it+(ne*it+e*d<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(N){N=N>>>0;for(var B=0;B<32;B++)if(N&1<<31-B)return B;return 32}),Math.clz32=Math.clz32;var xr=Math.abs,Jr=Math.ceil,Gr=Math.floor,sn=Math.min,rn=0,bn=null;function Un(N){rn++,S.monitorRunDependencies&&S.monitorRunDependencies(rn)}S.addRunDependency=Un;function Fn(N){if(rn--,S.monitorRunDependencies&&S.monitorRunDependencies(rn),rn==0&&bn){var B=bn;bn=null,B()}}S.removeRunDependency=Fn,S.preloadedImages={},S.preloadedAudios={},St=8,xt=St+31776,Le.push(),Lt([154,14,0,0,188,14,0,0,226,14,0,0,8,15,0,0,46,15,0,0,84,15,0,0,130,15,0,0,208,15,0,0,66,16,0,0,108,16,0,0,42,17,0,0,248,17,0,0,228,18,0,0,240,19,0,0,24,21,0,0,86,22,0,0,238,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,13,0,15,0,17,0,19,0,20,0,26,0,31,0,5,0,6,0,5,0,5,0,0,0,0,0,0,0,0,0,1,252,146,252,36,253,182,253,72,254,218,254,108,255,0,0,0,0,32,78,32,78,32,78,32,78,32,78,80,70,0,64,0,32,0,0,0,0,255,127,112,125,112,125,112,125,112,125,112,125,153,89,255,127,112,125,112,125,102,102,102,38,153,25,153,25,154,89,185,62,232,43,188,30,132,21,16,15,139,10,97,7,42,5,157,3,0,96,0,72,0,54,128,40,96,30,200,22,22,17,209,12,157,9,54,7,102,70,184,38,75,21,182,11,113,6,139,3,243,1,18,1,151,0,83,0,154,89,185,62,232,43,188,30,132,21,16,15,139,10,97,7,42,5,157,3,44,3,128,0,30,2,140,0,57,11,111,4,218,8,74,13,19,8,51,2,133,49,135,2,36,16,6,7,225,21,165,20,9,30,118,1,151,14,185,1,160,42,78,10,31,46,190,9,10,80,29,3,98,20,163,2,68,26,162,32,162,20,160,6,208,5,172,1,250,22,196,1,212,20,232,15,255,13,244,4,165,9,133,3,22,62,237,3,134,58,199,12,91,40,250,18,51,14,229,7,36,10,67,3,72,48,28,19,174,47,168,6,120,52,68,6,158,35,37,9,128,15,2,6,103,21,208,38,211,14,161,1,79,5,158,1,56,14,33,6,59,31,213,13,141,44,133,2,104,33,123,2,216,15,97,5,224,64,236,23,156,44,188,2,215,7,95,2,127,48,42,6,111,43,46,18,112,53,172,6,214,46,205,4,60,31,129,28,175,51,83,22,124,9,135,4,25,8,149,7,74,24,233,23,218,13,12,7,221,34,10,7,231,33,44,6,111,54,248,13,1,52,93,24,254,23,106,4,106,23,198,6,61,55,54,18,7,44,249,12,194,47,15,6,107,54,199,11,217,19,224,40,228,36,50,26,153,6,171,2,156,5,26,5,44,28,93,15,242,15,153,10,113,30,192,2,222,58,34,3,155,24,92,20,241,16,237,20,20,26,29,2,174,23,114,2,83,53,116,14,234,44,104,9,28,63,204,2,145,47,239,2,129,31,225,44,170,24,208,8,114,17,240,1,125,28,11,2,229,39,249,14,202,32,221,11,211,32,198,3,148,55,88,7,255,33,33,21,11,64,255,18,252,28,187,7,201,23,206,4,155,36,46,17,222,56,35,13,247,52,57,11,107,51,185,5,158,21,142,6,82,51,179,57,170,28,88,2,38,5,36,2,156,16,211,13,60,39,60,9,91,41,110,2,32,51,157,2,46,55,198,13,175,19,56,38,234,59,107,2,43,12,78,2,58,64,197,11,182,60,72,16,177,60,75,6,45,60,204,4,151,62,83,36,110,29,112,19,198,7,189,4,183,44,133,4,224,48,143,21,3,37,84,10,36,30,242,7,224,51,191,8,139,62,229,19,130,31,105,26,99,39,133,5,138,19,43,9,235,48,87,23,22,59,83,11,88,71,241,8,211,61,223,9,137,63,14,40,59,57,55,44,5,7,81,1,43,12,141,1,182,13,112,11,240,17,110,10,95,29,116,2,151,44,144,2,58,23,131,9,144,25,199,28,46,32,61,3,160,15,95,3,48,39,188,9,185,62,223,13,28,71,30,4,215,23,174,5,252,22,220,30,64,73,140,13,72,7,32,2,238,35,171,2,103,45,64,16,242,17,108,6,86,12,133,4,81,62,0,10,61,48,149,14,12,68,140,20,218,23,212,7,101,11,206,6,83,64,137,20,147,65,144,6,53,67,223,6,165,18,159,12,218,28,147,23,6,56,28,39,195,15,186,1,98,16,202,1,254,35,194,8,3,29,121,16,60,50,33,3,178,43,57,3,104,49,36,8,156,50,154,25,33,37,228,3,229,25,217,3,41,41,198,9,185,59,142,19,58,49,7,8,124,60,117,6,66,63,9,27,151,55,158,22,66,10,60,3,239,21,150,6,95,53,146,22,84,14,18,6,49,44,73,10,42,38,179,5,179,54,125,18,25,62,147,24,134,24,78,7,230,30,237,8,82,66,219,17,192,64,9,15,144,59,7,9,151,62,172,12,123,56,144,69,71,46,203,10,189,7,127,5,120,5,108,3,239,16,219,13,39,17,114,16,29,21,168,2,53,68,13,3,101,25,254,19,155,31,253,29,187,28,26,3,141,32,158,4,193,58,88,12,80,58,223,11,197,79,112,3,209,56,84,3,49,48,116,57,248,26,128,7,129,16,165,3,26,32,63,4,163,41,244,15,98,39,181,17,175,10,72,3,177,80,57,4,71,65,78,23,1,62,226,17,119,42,14,10,189,14,142,4,183,56,204,15,219,80,67,10,115,59,174,10,170,59,138,8,113,24,154,12,69,51,24,76,28,28,162,3,158,9,82,6,163,17,20,12,28,54,181,16,220,40,65,3,187,67,42,3,251,65,241,8,186,60,25,32,35,53,148,6,125,12,42,7,76,62,4,11,196,61,207,20,110,66,134,9,148,65,46,5,55,61,220,31,206,45,108,33,178,14,5,8,91,37,37,5,249,52,134,26,195,47,144,7,244,31,222,13,231,51,242,6,171,63,199,25,163,63,78,30,73,33,247,9,57,28,85,10,93,71,65,29,245,65,200,8,218,69,68,11,113,67,0,13,201,36,194,78,34,43,128,32,6,5,108,2,151,5,71,2,105,23,241,8,138,15,42,14,24,20,240,2,97,52,62,3,177,21,44,11,244,45,20,23,241,41,48,2,70,21,52,2,9,52,192,11,170,46,99,14,175,77,30,3,97,38,216,2,95,53,44,34,223,28,237,11,211,9,10,3,162,23,65,3,69,25,210,19,113,32,159,9,253,23,73,7,204,59,238,4,72,56,195,17,95,53,163,17,65,12,167,11,175,9,235,4,240,58,39,18,22,60,47,10,156,56,88,9,174,48,233,9,115,29,133,11,109,50,28,47,92,21,172,2,69,12,210,2,217,19,250,4,188,49,104,16,198,59,169,2,139,30,80,2,134,25,229,7,94,64,33,34,52,52,114,3,21,21,131,3,64,57,130,8,149,57,131,16,190,55,18,5,105,54,237,7,117,60,58,29,199,61,220,17,217,9,221,7,198,19,12,7,39,20,182,25,218,27,13,14,168,42,75,6,209,45,172,6,7,66,127,13,140,63,240,25,90,36,239,3,153,36,58,8,238,74,173,19,153,48,173,16,47,62,52,5,253,59,184,13,122,46,61,55,229,62,198,26,218,7,225,2,195,14,93,3,190,44,64,11,236,13,212,13,97,35,217,4,103,48,128,3,98,33,21,18,41,45,144,22,193,31,77,2,26,32,76,2,40,73,171,14,173,50,77,12,113,61,246,2,250,64,242,2,118,59,130,43,255,61,160,8,65,18,98,2,234,39,166,2,153,59,50,16,97,22,255,12,185,32,134,6,150,77,17,9,90,60,135,21,230,54,105,21,96,22,72,11,156,29,66,5,48,56,205,20,108,63,110,15,14,59,160,14,202,59,155,5,5,57,230,15,13,48,80,61,193,29,163,6,122,8,116,3,107,17,215,17,174,70,234,12,198,49,47,3,78,58,139,3,168,58,185,16,158,60,176,32,74,70,63,4,54,9,97,3,153,63,203,14,63,61,244,17,228,63,254,5,200,64,162,8,193,65,225,37,57,62,161,17,205,12,61,4,171,37,139,8,197,46,180,23,239,35,110,17,251,34,93,6,49,40,246,11,97,64,35,20,106,60,154,27,110,53,239,9,153,20,229,8,106,65,69,24,15,65,80,13,80,79,35,13,0,73,193,7,92,55,67,50,50,59,87,61,121,17,252,3,145,6,118,3,215,16,205,16,248,34,73,14,5,23,123,4,127,45,172,5,14,62,179,8,230,17,244,25,17,27,181,4,76,24,31,3,127,48,81,13,96,62,37,15,147,77,61,8,217,37,93,8,150,57,126,34,144,56,39,10,25,7,214,4,91,30,45,3,135,74,58,17,178,21,16,8,103,14,28,11,27,68,208,8,57,65,134,17,71,63,12,21,92,31,203,10,77,13,71,8,18,68,101,21,130,53,226,10,167,77,160,10,138,35,40,15,252,70,225,18,184,67,175,47,252,19,228,3,71,19,220,3,160,38,9,12,126,23,251,20,9,62,131,6,213,32,159,4,239,58,62,9,65,77,90,27,187,46,26,6,111,28,104,4,219,65,252,5,146,61,5,21,116,57,17,8,137,78,107,8,6,67,53,32,247,69,174,24,91,21,224,5,4,16,14,10,13,68,154,26,41,22,72,11,252,64,54,13,15,35,39,7,191,78,129,18,94,76,126,28,2,26,221,10,208,44,249,12,197,75,190,19,190,73,114,18,55,64,69,9,206,79,34,17,89,44,158,103,73,45,252,11,50,11,30,6,244,19,46,4,142,37,51,19,75,19,208,13,117,29,110,3,237,80,83,3,26,27,43,17,159,65,53,30,153,39,251,3,117,38,196,3,134,60,115,15,99,60,102,13,175,73,214,3,152,78,195,3,236,65,87,50,254,55,104,16,199,25,196,4,6,36,46,3,46,66,14,20,29,22,34,19,112,21,6,7,34,79,122,15,109,66,34,24,9,70,41,23,149,36,92,13,50,29,179,7,81,76,57,20,59,74,190,11,70,64,204,14,198,62,63,9,216,33,183,10,229,36,246,102,104,42,7,5,227,13,241,3,230,21,38,14,253,75,136,21,165,48,29,3,154,80,143,3,67,60,250,11,141,66,35,40,195,73,73,10,73,15,244,4,63,76,43,13,132,70,110,20,91,75,142,6,52,76,100,12,152,70,2,42,241,64,189,26,62,12,250,8,117,42,133,9,220,60,1,27,53,49,53,13,108,43,225,12,122,65,120,9,165,73,59,26,19,67,159,38,199,49,45,10,233,34,68,12,89,74,84,30,171,71,40,15,251,79,98,14,146,76,52,13,244,50,173,75,30,41,84,90,1,0,3,0,0,0,1,0,2,0,4,0,82,120,26,113,81,106,240,99,241,93,78,88,2,83,7,78,89,73,242,68,51,115,174,103,80,93,251,83,149,75,6,68,56,61,25,55,150,49,161,44,205,76,21,46,166,27,151,16,244,9,249,5,149,3,38,2,74,1,198,0,249,79,26,80,59,80,92,80,125,80,164,80,197,80,236,80,13,81,52,81,85,81,124,81,157,81,196,81,236,81,19,82,58,82,97,82,137,82,176,82,215,82,255,82,38,83,84,83,123,83,169,83,208,83,254,83,38,84,84,84,129,84,175,84,221,84,11,85,57,85,103,85,149,85,201,85,247,85,43,86,89,86,142,86,194,86,247,86,43,87,95,87,148,87,200,87,3,88,56,88,115,88,174,88,233,88,36,89,95,89,154,89,219,89,22,90,88,90,153,90,212,90,28,91,94,91,159,91,231,91,48,92,113,92,192,92,8,93,80,93,159,93,237,93,60,94,138,94,224,94,46,95,131,95,217,95,52,96,138,96,229,96,72,97,163,97,6,98,104,98,209,98,51,99,156,99,11,100,123,100,234,100,96,101,214,101,76,102,201,102,76,103,207,103,82,104,220,104,108,105,252,105,147,106,48,107,205,107,113,108,27,109,204,109,125,110,59,111,249,111,197,112,150,113,111,114,84,115,64,116,50,117,50,118,63,119,88,120,225,122,255,127,255,127,255,127,255,127,255,127,255,127,255,127,225,122,88,120,63,119,50,118,50,117,64,116,84,115,111,114,150,113,197,112,249,111,59,111,125,110,204,109,27,109,113,108,205,107,48,107,147,106,252,105,108,105,220,104,82,104,207,103,76,103,201,102,76,102,214,101,96,101,234,100,123,100,11,100,156,99,51,99,209,98,104,98,6,98,163,97,72,97,229,96,138,96,52,96,217,95,131,95,46,95,224,94,138,94,60,94,237,93,159,93,80,93,8,93,192,92,113,92,48,92,231,91,159,91,94,91,28,91,212,90,153,90,88,90,22,90,219,89,154,89,95,89,36,89,233,88,174,88,115,88,56,88,3,88,200,87,148,87,95,87,43,87,247,86,194,86,142,86,89,86,43,86,247,85,201,85,149,85,103,85,57,85,11,85,221,84,175,84,129,84,84,84,38,84,254,83,208,83,169,83,123,83,84,83,38,83,255,82,215,82,176,82,137,82,97,82,58,82,19,82,236,81,196,81,157,81,124,81,85,81,52,81,13,81,236,80,197,80,164,80,125,80,92,80,59,80,26,80,249,79,210,79,177,79,145,79,112,79,13,0,14,0,16,0,18,0,20,0,21,0,27,0,32,0,6,0,7,0,6,0,6,0,0,0,0,0,0,0,1,0,13,0,14,0,16,0,18,0,19,0,21,0,26,0,31,0,6,0,6,0,6,0,6,0,0,0,0,0,0,0,1,0,79,115,156,110,74,97,126,77,72,54,9,31,195,10,153,251,125,242,48,239,127,240,173,244,231,249,176,254,22,2,202,3,255,3,55,3,4,2,220,0,0,0,125,255,62,255,41,255,0,0,216,127,107,127,182,126,187,125,123,124,248,122,53,121,53,119,250,116,137,114,128,46,128,67,0,120,0,101,128,94,64,113,64,95,192,28,64,76,192,57,84,0,1,0,254,255,2,0,5,0,10,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,5,0,10,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,10,0,19,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,94,0,0,0,253,255,3,0,3,0,6,0,5,0,9,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,19,0,19,0,19,0,19,0,23,0,39,0,57,0,5,0,8,0,8,0,7,0,8,0,7,0,2,0,8,0,4,0,7,0,2,0,4,0,7,0,2,0,8,0,4,0,7,0,2,0,8,0,8,0,7,0,8,0,7,0,2,0,6,0,4,0,7,0,2,0,6,0,4,0,7,0,2,0,6,0,4,0,7,0,2,0,6,0,8,0,9,0,9,0,8,0,9,0,2,0,6,0,4,0,9,0,2,0,6,0,8,0,9,0,2,0,6,0,4,0,9,0,2,0,6,0,8,0,9,0,9,0,8,0,11,0,3,0,7,0,4,0,11,0,3,0,7,0,8,0,11,0,3,0,7,0,4,0,11,0,3,0,7,0,8,0,9,0,9,0,8,0,13,0,4,0,7,0,5,0,13,0,4,0,7,0,8,0,13,0,4,0,7,0,5,0,13,0,4,0,7,0,9,0,9,0,9,0,8,0,13,0,4,0,4,0,5,0,6,0,13,0,4,0,4,0,5,0,8,0,13,0,4,0,4,0,5,0,6,0,13,0,4,0,4,0,5,0,8,0,9,0,9,0,8,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,5,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,8,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,5,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,7,0,8,0,9,0,8,0,6,0,9,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,6,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,9,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,6,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,3,0,8,0,9,0,9,0,6,0,95,0,103,0,118,0,134,0,148,0,159,0,204,0,244,0,39,0,43,0,38,0,37,0,0,0,0,0,0,0,0,0,0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,12,0,13,0,14,0,15,0,23,0,24,0,25,0,26,0,27,0,28,0,48,0,49,0,61,0,62,0,82,0,83,0,47,0,46,0,45,0,44,0,81,0,80,0,79,0,78,0,17,0,18,0,20,0,22,0,77,0,76,0,75,0,74,0,29,0,30,0,43,0,42,0,41,0,40,0,38,0,39,0,16,0,19,0,21,0,50,0,51,0,59,0,60,0,63,0,64,0,72,0,73,0,84,0,85,0,93,0,94,0,32,0,33,0,35,0,36,0,53,0,54,0,56,0,57,0,66,0,67,0,69,0,70,0,87,0,88,0,90,0,91,0,34,0,55,0,68,0,89,0,37,0,58,0,71,0,92,0,31,0,52,0,65,0,86,0,7,0,6,0,5,0,4,0,3,0,2,0,1,0,0,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,23,0,24,0,25,0,26,0,27,0,46,0,65,0,84,0,45,0,44,0,43,0,64,0,63,0,62,0,83,0,82,0,81,0,102,0,101,0,100,0,42,0,61,0,80,0,99,0,28,0,47,0,66,0,85,0,18,0,41,0,60,0,79,0,98,0,29,0,48,0,67,0,17,0,20,0,22,0,40,0,59,0,78,0,97,0,21,0,30,0,49,0,68,0,86,0,19,0,16,0,87,0,39,0,38,0,58,0,57,0,77,0,35,0,54,0,73,0,92,0,76,0,96,0,95,0,36,0,55,0,74,0,93,0,32,0,51,0,33,0,52,0,70,0,71,0,89,0,90,0,31,0,50,0,69,0,88,0,37,0,56,0,75,0,94,0,34,0,53,0,72,0,91,0,0,0,1,0,4,0,5,0,3,0,6,0,7,0,2,0,13,0,15,0,8,0,9,0,11,0,12,0,14,0,10,0,16,0,28,0,74,0,29,0,75,0,27,0,73,0,26,0,72,0,30,0,76,0,51,0,97,0,50,0,71,0,96,0,117,0,31,0,77,0,52,0,98,0,49,0,70,0,95,0,116,0,53,0,99,0,32,0,78,0,33,0,79,0,48,0,69,0,94,0,115,0,47,0,68,0,93,0,114,0,46,0,67,0,92,0,113,0,19,0,21,0,23,0,22,0,18,0,17,0,20,0,24,0,111,0,43,0,89,0,110,0,64,0,65,0,44,0,90,0,25,0,45,0,66,0,91,0,112,0,54,0,100,0,40,0,61,0,86,0,107,0,39,0,60,0,85,0,106,0,36,0,57,0,82,0,103,0,35,0,56,0,81,0,102,0,34,0,55,0,80,0,101,0,42,0,63,0,88,0,109,0,41,0,62,0,87,0,108,0,38,0,59,0,84,0,105,0,37,0,58,0,83,0,104,0,0,0,1,0,4,0,3,0,5,0,6,0,13,0,7,0,2,0,8,0,9,0,11,0,15,0,12,0,14,0,10,0,28,0,82,0,29,0,83,0,27,0,81,0,26,0,80,0,30,0,84,0,16,0,55,0,109,0,56,0,110,0,31,0,85,0,57,0,111,0,48,0,73,0,102,0,127,0,32,0,86,0,51,0,76,0,105,0,130,0,52,0,77,0,106,0,131,0,58,0,112,0,33,0,87,0,19,0,23,0,53,0,78,0,107,0,132,0,21,0,22,0,18,0,17,0,20,0,24,0,25,0,50,0,75,0,104,0,129,0,47,0,72,0,101,0,126,0,54,0,79,0,108,0,133,0,46,0,71,0,100,0,125,0,128,0,103,0,74,0,49,0,45,0,70,0,99,0,124,0,42,0,67,0,96,0,121,0,39,0,64,0,93,0,118,0,38,0,63,0,92,0,117,0,35,0,60,0,89,0,114,0,34,0,59,0,88,0,113,0,44,0,69,0,98,0,123,0,43,0,68,0,97,0,122,0,41,0,66,0,95,0,120,0,40,0,65,0,94,0,119,0,37,0,62,0,91,0,116,0,36,0,61,0,90,0,115,0,0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,12,0,13,0,14,0,15,0,16,0,26,0,87,0,27,0,88,0,28,0,89,0,29,0,90,0,30,0,91,0,51,0,80,0,112,0,141,0,52,0,81,0,113,0,142,0,54,0,83,0,115,0,144,0,55,0,84,0,116,0,145,0,58,0,119,0,59,0,120,0,21,0,22,0,23,0,17,0,18,0,19,0,31,0,60,0,92,0,121,0,56,0,85,0,117,0,146,0,20,0,24,0,25,0,50,0,79,0,111,0,140,0,57,0,86,0,118,0,147,0,49,0,78,0,110,0,139,0,48,0,77,0,53,0,82,0,114,0,143,0,109,0,138,0,47,0,76,0,108,0,137,0,32,0,33,0,61,0,62,0,93,0,94,0,122,0,123,0,41,0,42,0,43,0,44,0,45,0,46,0,70,0,71,0,72,0,73,0,74,0,75,0,102,0,103,0,104,0,105,0,106,0,107,0,131,0,132,0,133,0,134,0,135,0,136,0,34,0,63,0,95,0,124,0,35,0,64,0,96,0,125,0,36,0,65,0,97,0,126,0,37,0,66,0,98,0,127,0,38,0,67,0,99,0,128,0,39,0,68,0,100,0,129,0,40,0,69,0,101,0,130,0,8,0,7,0,6,0,5,0,4,0,3,0,2,0,14,0,16,0,9,0,10,0,12,0,13,0,15,0,11,0,17,0,20,0,22,0,24,0,23,0,19,0,18,0,21,0,56,0,88,0,122,0,154,0,57,0,89,0,123,0,155,0,58,0,90,0,124,0,156,0,52,0,84,0,118,0,150,0,53,0,85,0,119,0,151,0,27,0,93,0,28,0,94,0,29,0,95,0,30,0,96,0,31,0,97,0,61,0,127,0,62,0,128,0,63,0,129,0,59,0,91,0,125,0,157,0,32,0,98,0,64,0,130,0,1,0,0,0,25,0,26,0,33,0,99,0,34,0,100,0,65,0,131,0,66,0,132,0,54,0,86,0,120,0,152,0,60,0,92,0,126,0,158,0,55,0,87,0,121,0,153,0,117,0,116,0,115,0,46,0,78,0,112,0,144,0,43,0,75,0,109,0,141,0,40,0,72,0,106,0,138,0,36,0,68,0,102,0,134,0,114,0,149,0,148,0,147,0,146,0,83,0,82,0,81,0,80,0,51,0,50,0,49,0,48,0,47,0,45,0,44,0,42,0,39,0,35,0,79,0,77,0,76,0,74,0,71,0,67,0,113,0,111,0,110,0,108,0,105,0,101,0,145,0,143,0,142,0,140,0,137,0,133,0,41,0,73,0,107,0,139,0,37,0,69,0,103,0,135,0,38,0,70,0,104,0,136,0,7,0,6,0,5,0,4,0,3,0,2,0,1,0,0,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,26,0,27,0,28,0,29,0,30,0,31,0,115,0,116,0,117,0,118,0,119,0,120,0,72,0,73,0,161,0,162,0,65,0,68,0,69,0,108,0,111,0,112,0,154,0,157,0,158,0,197,0,200,0,201,0,32,0,33,0,121,0,122,0,74,0,75,0,163,0,164,0,66,0,109,0,155,0,198,0,19,0,23,0,21,0,22,0,18,0,17,0,20,0,24,0,25,0,37,0,36,0,35,0,34,0,80,0,79,0,78,0,77,0,126,0,125,0,124,0,123,0,169,0,168,0,167,0,166,0,70,0,67,0,71,0,113,0,110,0,114,0,159,0,156,0,160,0,202,0,199,0,203,0,76,0,165,0,81,0,82,0,92,0,91,0,93,0,83,0,95,0,85,0,84,0,94,0,101,0,102,0,96,0,104,0,86,0,103,0,87,0,97,0,127,0,128,0,138,0,137,0,139,0,129,0,141,0,131,0,130,0,140,0,147,0,148,0,142,0,150,0,132,0,149,0,133,0,143,0,170,0,171,0,181,0,180,0,182,0,172,0,184,0,174,0,173,0,183,0,190,0,191,0,185,0,193,0,175,0,192,0,176,0,186,0,38,0,39,0,49,0,48,0,50,0,40,0,52,0,42,0,41,0,51,0,58,0,59,0,53,0,61,0,43,0,60,0,44,0,54,0,194,0,179,0,189,0,196,0,177,0,195,0,178,0,187,0,188,0,151,0,136,0,146,0,153,0,134,0,152,0,135,0,144,0,145,0,105,0,90,0,100,0,107,0,88,0,106,0,89,0,98,0,99,0,62,0,47,0,57,0,64,0,45,0,63,0,46,0,55,0,56,0,0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,12,0,13,0,14,0,23,0,15,0,16,0,17,0,18,0,19,0,20,0,21,0,22,0,24,0,25,0,26,0,27,0,28,0,38,0,141,0,39,0,142,0,40,0,143,0,41,0,144,0,42,0,145,0,43,0,146,0,44,0,147,0,45,0,148,0,46,0,149,0,47,0,97,0,150,0,200,0,48,0,98,0,151,0,201,0,49,0,99,0,152,0,202,0,86,0,136,0,189,0,239,0,87,0,137,0,190,0,240,0,88,0,138,0,191,0,241,0,91,0,194,0,92,0,195,0,93,0,196,0,94,0,197,0,95,0,198,0,29,0,30,0,31,0,32,0,33,0,34,0,35,0,50,0,100,0,153,0,203,0,89,0,139,0,192,0,242,0,51,0,101,0,154,0,204,0,55,0,105,0,158,0,208,0,90,0,140,0,193,0,243,0,59,0,109,0,162,0,212,0,63,0,113,0,166,0,216,0,67,0,117,0,170,0,220,0,36,0,37,0,54,0,53,0,52,0,58,0,57,0,56,0,62,0,61,0,60,0,66,0,65,0,64,0,70,0,69,0,68,0,104,0,103,0,102,0,108,0,107,0,106,0,112,0,111,0,110,0,116,0,115,0,114,0,120,0,119,0,118,0,157,0,156,0,155,0,161,0,160,0,159,0,165,0,164,0,163,0,169,0,168,0,167,0,173,0,172,0,171,0,207,0,206,0,205,0,211,0,210,0,209,0,215,0,214,0,213,0,219,0,218,0,217,0,223,0,222,0,221,0,73,0,72,0,71,0,76,0,75,0,74,0,79,0,78,0,77,0,82,0,81,0,80,0,85,0,84,0,83,0,123,0,122,0,121,0,126,0,125,0,124,0,129,0,128,0,127,0,132,0,131,0,130,0,135,0,134,0,133,0,176,0,175,0,174,0,179,0,178,0,177,0,182,0,181,0,180,0,185,0,184,0,183,0,188,0,187,0,186,0,226,0,225,0,224,0,229,0,228,0,227,0,232,0,231,0,230,0,235,0,234,0,233,0,238,0,237,0,236,0,96,0,199,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,3,0,1,0,3,0,2,0,4,0,1,0,4,0,1,0,4,0,0,0,205,12,156,25,0,32,102,38,205,44,0,48,51,51,102,54,154,57,205,60,0,64,51,67,102,70,154,73,205,76,159,0,64,241,53,167,206,0,190,242,52,176,12,1,67,244,88,185,93,1,201,245,133,194,163,1,215,246,223,200,226,1,166,247,189,205,42,2,116,248,147,210,125,2,66,249,109,215,221,2,18,250,77,220,74,3,222,250,30,225,201,3,174,251,0,230,90,4,124,252,216,234,1,5,74,253,179,239,193,5,25,254,141,244,158,6,231,254,104,249,156,7,181,255,67,254,193,8,133,0,33,3,17,10,83,1,252,7,147,11,33,2,213,12,80,13,240,2,178,17,79,15,190,3,140,22,155,17,141,4,104,27,63,20,91,5,67,32,72,23,41,6,29,37,199,26,248,6,249,41,203,30,199,7,212,46,105,35,149,8,175,51,185,40,100,9,138,56,222,48,113,10,224,62,135,63,244,11,253,71,150,82,120,13,27,81,93,107,252,14,57,90,93,107,252,14,57,90,0,0,1,0,3,0,2,0,6,0,4,0,5,0,7,0,0,0,1,0,3,0,2,0,5,0,6,0,4,0,7,0,248,127,211,127,76,127,108,126,51,125,163,123,188,121,127,119,239,116,12,114,217,110,89,107,141,103,121,99,31,95,130,90,166,85,141,80,60,75,182,69,0,64,28,58,15,52,223,45,141,39,32,33,156,26,6,20,97,13,178,6,0,0,78,249,159,242,250,235,100,229,224,222,115,216,33,210,241,203,228,197,0,192,74,186,196,180,115,175,90,170,126,165,225,160,135,156,115,152,167,148,39,145,244,141,17,139,129,136,68,134,93,132,205,130,148,129,180,128,45,128,8,128,255,127,46,124,174,120,118,117,125,114,186,111,41,109,194,106,131,104,102,102,105,100,137,98,194,96,19,95,122,93,245,91,130,90,33,89,207,87,139,86,85,85,44,84,15,83,252,81,244,80,246,79,1,79,20,78,48,77,83,76,126,75,175,74,231,73,37,73,104,72,178,71,0,71,84,70,173,69,10,69,107,68,209,67,59,67,168,66,25,66,142,65,6,65,130,64,0,64,0,0,175,5,50,11,140,16,192,21,207,26,188,31,136,36,53,41,196,45,55,50,143,54,206,58,245,62,4,67,252,70,223,74,174,78,105,82,17,86,167,89,44,93,159,96,3,100,87,103,155,106,209,109,250,112,20,116,33,119,34,122,23,125,255,127,255,127,217,127,98,127,157,126,138,125,42,124,125,122,133,120,66,118,182,115,227,112,202,109,110,106,208,102,242,98,215,94,130,90,246,85,52,81,64,76,29,71,206,65,87,60,186,54,252,48,31,43,40,37,26,31,249,24,200,18,140,12,72,6,0,0,184,249,116,243,56,237,7,231,230,224,216,218,225,212,4,207,70,201,169,195,50,190,227,184,192,179,204,174,10,170,126,165,41,161,14,157,48,153,146,149,54,146,29,143,74,140,190,137,123,135,131,133,214,131,118,130,99,129,158,128,39,128,0,128,249,150,148,221,53,235,27,241,93,244,116,246,223,247,237,248,184,249,86,250,214,250,61,251,148,251,221,251,26,252,78,252,123,252,163,252,197,252,227,252,252,252,18,253,38,253,55,253,69,253,81,253,91,253,100,253,106,253,111,253,114,253,116,253,116,253,114,253,111,253,106,253,100,253,91,253,81,253,69,253,55,253,38,253,18,253,252,252,227,252,197,252,163,252,123,252,78,252,26,252,221,251,148,251,61,251,214,250,86,250,184,249,237,248,223,247,116,246,93,244,27,241,53,235,148,221,249,150,48,117,144,101,8,82,152,58,64,31,0,0,192,224,104,197,248,173,112,154,153,104,33,3,201,9,85,253,154,250,70,2,92,2,6,251,183,13,250,232,182,17,13,254,108,248,195,11,62,236,238,21,58,248,219,251,77,250,90,17,68,253,41,235,1,18,196,1,179,253,232,242,137,11,243,4,68,251,226,245,195,6,86,14,133,238,49,252,39,17,23,246,181,3,173,250,45,252,102,22,66,118,247,14,60,240,156,11,232,251,22,252,173,9,29,244,255,10,73,247,217,6,181,249,178,6,17,249,7,6,16,252,173,1,87,255,216,1,16,251,128,8,110,245,219,9,171,249,88,1,58,3,7,250,188,6,135,249,165,6,241,247,84,10,12,244,81,11,70,248,45,2,12,3,167,250,74,3,143,2,98,57,254,44,244,4,55,245,217,233,90,29,221,255,9,245,32,244,215,18,136,11,24,223,201,14,175,5,131,8,67,222,115,31,201,247,82,250,9,3,84,4,175,246,206,8,149,254,94,253,201,247,158,23,207,233,48,4,51,12,62,236,192,20,231,246,112,241,12,27,207,240,163,2,17,249,29,0,161,39,66,118,247,14,60,240,156,11,232,251,22,252,173,9,29,244,255,10,73,247,217,6,181,249,178,6,17,249,7,6,16,252,173,1,87,255,216,1,16,251,128,8,110,245,219,9,171,249,88,1,58,3,7,250,188,6,135,249,165,6,241,247,84,10,12,244,81,11,70,248,45,2,12,3,167,250,74,3,143,2,0,64,103,65,213,66,76,68,203,69,82,71,226,72,122,74,28,76,199,77,123,79,56,81,255,82,209,84,172,86,146,88,130,90,126,92,132,94,150,96,180,98,221,100,18,103,84,105,162,107,254,109,102,112,221,114,96,117,242,119,147,122,66,125,255,127,3,115,186,110,119,98,225,79,109,57,245,33,71,12,184,250,206,238,23,233,38,233,191,237,33,245,96,253,187,4,232,9,58,12,175,11,211,8,146,4,0,0,23,252,140,249,180,248,126,249,133,251,48,254,218,0,244,2,36,4,75,4,136,3,38,2,135,0,11,255,254,253,134,253,166,253,61,254,25,255,0,0,191,0,52,1,84,1,40,1,198,0,78,0,220,255,136,255,93,255,91,255,124,255,177,255,237,255,34,0,73,0,91,0,89,0,70,0,38,0,0,0,254,254,194,254,73,254,134,253,112,253,251,252,57,253,10,254,244,254,63,255,254,255,125,0,122,0,217,255,247,255,105,0,129,0,27,1,116,1,63,2,235,254,188,254,59,255,25,254,67,254,150,254,220,254,229,255,177,0,31,2,86,1,5,2,4,2,130,0,27,0,152,255,136,255,116,255,182,255,200,255,204,253,81,252,16,250,59,252,210,252,242,253,190,254,254,255,159,0,145,2,200,254,228,254,126,254,171,253,19,254,242,253,94,254,27,255,105,0,193,1,211,253,154,252,205,251,105,252,74,252,16,253,59,253,196,254,62,0,230,1,198,254,65,255,53,255,182,254,96,255,153,255,205,255,131,0,82,1,3,2,10,6,224,8,194,14,112,21,60,27,190,32,63,39,221,43,222,49,146,53,84,37,17,42,27,49,236,51,45,56,131,45,92,41,39,38,145,33,84,25,6,0,82,0,125,255,154,0,200,255,33,253,183,0,191,255,247,254,9,0,46,255,151,254,113,0,206,2,25,7,242,3,190,4,37,6,89,3,53,5,228,8,59,3,32,6,141,7,205,2,197,7,158,8,70,3,148,4,31,7,209,2,232,3,106,8,30,1,220,1,229,5,9,255,237,253,230,0,147,0,174,255,57,2,26,0,79,255,80,252,229,255,239,254,180,2,92,255,248,254,73,255,224,0,22,3,15,4,131,3,178,3,89,2,229,1,3,3,126,4,12,2,165,2,135,3,116,255,119,1,10,3,154,1,164,2,173,1,45,1,18,2,241,3,207,2,134,2,38,0,226,0,111,1,40,0,145,0,211,255,7,254,34,1,121,0,135,255,46,1,127,0,166,0,132,255,129,254,68,252,154,254,57,254,47,252,203,2,110,3,126,3,210,3,155,3,211,0,221,1,16,1,64,0,188,0,178,255,17,0,113,255,191,255,38,0,131,2,74,2,109,2,122,255,86,254,117,253,91,1,33,2,4,11,164,4,166,10,138,9,142,0,176,255,199,6,27,1,130,0,205,1,250,254,113,254,135,251,101,254,155,0,174,1,73,1,119,1,11,3,53,0,30,255,117,255,127,255,20,255,146,6,29,1,232,2,47,5,226,2,185,2,128,6,56,1,153,1,10,1,69,1,208,2,135,0,1,0,221,0,197,1,8,0,203,0,145,0,43,1,128,2,248,2,29,0,212,1,126,2,103,0,173,1,123,1,164,1,186,3,164,3,46,5,186,4,234,4,192,2,244,3,128,4,90,255,68,254,246,254,196,254,126,255,136,254,191,0,127,4,112,7,16,255,225,253,20,251,144,255,12,1,183,4,70,0,38,4,47,6,22,1,80,5,38,6,254,254,240,254,0,253,19,0,51,2,192,8,253,255,247,254,135,0,217,254,177,253,124,254,140,0,98,1,50,255,252,254,8,254,229,252,79,254,50,253,217,250,109,0,75,1,194,3,83,254,169,255,140,2,216,254,170,1,251,3,17,255,7,3,83,3,233,1,54,5,49,4,178,254,180,254,25,0,31,2,182,4,15,7,70,1,61,0,215,2,66,2,81,3,125,5,48,255,235,254,73,1,104,255,64,0,157,2,78,254,90,253,41,253,58,254,185,255,251,0,93,2,224,1,254,0,30,254,11,0,228,3,223,254,139,1,230,1,210,2,25,4,160,5,226,255,196,254,238,252,150,255,141,255,149,253,93,3,194,5,132,5,31,4,86,5,160,4,44,3,213,4,157,3,42,0,5,255,192,253,86,1,141,0,58,254,88,255,176,255,79,5,170,254,112,253,29,249,100,0,53,3,213,2,222,3,235,2,32,3,76,1,184,1,56,2,151,2,123,1,84,3,112,0,165,0,143,254,85,2,142,3,26,1,248,255,66,3,1,5,160,254,60,2,183,2,206,1,198,8,14,7,89,1,190,0,94,5,160,1,147,3,118,8,168,0,174,255,24,1,252,253,66,254,72,3,47,0,21,2,44,0,150,254,57,253,137,251,22,0,193,0,192,5,171,255,233,0,21,7,194,255,67,2,224,5,38,2,176,3,213,6,211,2,138,2,124,4,204,3,116,3,115,5,87,254,131,2,0,0,232,3,184,3,74,4,249,0,166,5,160,2,178,254,169,255,124,8,214,253,90,7,112,10,140,0,34,7,61,7,152,3,213,6,30,10,52,4,141,7,246,7,119,255,69,254,237,249,245,4,150,4,212,1,19,254,134,255,241,5,61,254,9,4,190,4,226,1,159,6,94,4,47,3,137,2,128,1,66,254,76,253,107,0,193,254,163,253,138,255,49,255,7,254,13,2,44,254,244,255,176,10,75,0,142,7,25,5,112,3,54,9,219,8,5,5,39,6,212,7,208,255,208,254,94,251,77,254,51,254,5,255,146,254,108,254,221,253,223,254,163,253,171,253,230,253,214,252,91,255,136,255,3,0,100,1,127,2,217,4,222,5,96,0,177,0,238,2,77,254,183,253,106,251,156,254,109,0,177,255,27,254,32,1,213,7,9,0,92,4,219,2,112,3,86,8,178,3,247,254,49,6,41,4,133,4,186,4,75,3,14,254,100,253,175,1,118,1,65,1,27,255,160,5,53,8,101,5,193,1,205,1,131,4,151,255,39,0,128,254,249,254,111,1,182,0,141,254,108,253,5,3,68,255,127,4,203,3,53,5,96,6,155,5,6,3,243,4,197,4,30,254,192,252,47,250,19,255,46,255,92,3,122,3,79,6,40,4,216,1,38,4,168,4,185,0,53,4,221,3,200,253,32,252,88,249,63,254,122,252,5,248,114,255,135,254,54,254,46,255,214,253,251,251,245,255,109,4,217,8,183,254,93,253,131,252,6,255,145,2,163,4,7,2,230,5,243,6,8,2,27,2,123,5,15,2,141,5,22,5,205,253,153,252,32,251,109,255,49,254,111,3,180,255,30,9,24,11,51,2,13,10,81,9,120,2,134,7,104,11,207,2,231,7,48,7,223,253,45,253,84,4,129,0,131,255,116,3,137,5,96,6,157,3,162,255,30,6,215,6,171,254,253,5,15,6,79,2,139,1,238,254,180,255,213,3,15,11,153,0,169,11,52,7,8,4,5,10,189,10,228,5,16,11,87,7,23,3,175,4,26,2,66,255,59,254,209,5,234,254,220,253,134,4,11,255,149,7,252,7,0,4,24,6,114,6,0,2,253,0,210,1,194,255,189,254,127,4,39,254,136,254,251,1,79,254,100,5,114,8,131,3,151,7,165,5,134,0,192,2,184,1,204,1,13,2,228,255,62,254,23,1,58,5,0,0,203,3,252,0,67,254,141,253,33,252,164,254,166,253,112,250,142,1,200,2,120,6,149,255,58,1,78,255,93,0,178,8,190,8,6,2,81,3,144,2,50,254,57,253,65,254,174,0,222,255,167,4,137,255,42,0,237,3,140,254,18,1,246,2,12,4,48,9,46,7,163,2,188,6,218,5,174,1,6,5,85,8,127,255,73,254,0,0,139,254,32,3,96,8,6,0,51,6,174,9,222,1,84,2,80,8,84,254,32,253,225,5,129,1,178,0,212,3,139,0,193,1,201,4,242,253,182,252,42,252,145,0,18,6,218,4,111,2,168,5,144,2,93,1,248,3,202,5,31,0,232,254,159,1,196,254,212,2,105,6,104,1,34,4,44,2,76,254,154,254,177,4,157,254,99,4,147,7,145,1,48,6,200,8,241,253,12,252,99,1,233,0,238,0,185,8,218,253,127,252,129,253,147,254,11,254,165,7,133,1,68,7,85,6,162,0,108,4,240,4,19,255,150,4,110,5,128,253,101,254,116,0,28,255,158,6,250,8,103,6,138,8,219,8,50,2,249,4,98,10,67,1,82,1,238,6,66,2,83,4,84,3,22,0,82,2,166,3,113,255,206,2,190,1,50,0,71,0,247,255,174,254,70,253,129,250,102,0,118,255,204,252,202,254,43,254,133,251,158,1,67,0,245,254,36,4,46,3,161,5,12,6,80,5,248,4,218,6,103,7,125,6,227,7,85,8,28,7,16,7,14,9,53,7,132,2,163,255,198,1,90,3,73,1,120,255,233,1,254,254,128,255,58,255,23,253,215,255,204,255,247,254,39,252,90,1,137,0,223,1,51,249,20,253,84,253,117,251,67,249,145,254,129,252,135,251,240,252,24,254,78,252,56,252,171,255,122,254,43,253,215,0,172,254,85,255,252,3,148,3,177,7,52,2,179,0,234,2,150,2,209,3,198,6,119,3,110,2,146,3,171,3,88,3,141,4,53,1,176,2,35,3,149,3,161,0,58,2,118,0,236,255,229,254,208,252,214,255,204,0,52,251,187,254,50,254,61,252,54,255,113,255,36,252,28,254,151,254,66,253,46,252,35,254,210,254,234,252,92,251,156,255,238,252,192,251,226,251,77,252,108,249,54,255,181,252,242,252,241,251,158,250,123,252,144,253,146,255,171,255,100,1,213,0,246,255,19,254,108,1,6,3,169,1,54,3,223,1,173,255,45,2,8,2,32,252,232,249,196,253,165,253,27,253,230,255,10,254,130,253,121,252,209,0,50,1,147,0,196,254,175,253,172,253,171,255,45,255,31,255,106,252,239,253,117,0,233,0,73,254,30,253,77,4,239,2,121,2,177,5,180,6,231,5,229,6,177,5,142,3,98,4,132,4,81,3,74,5,100,3,214,1,153,252,130,251,252,248,153,252,163,252,32,252,138,255,155,0,212,0,229,251,175,252,162,253,163,251,199,248,66,245,5,252,109,250,179,248,114,1,72,255,98,254,191,3,237,1,104,0,190,3,15,4,31,2,154,0,141,2,201,0,225,4,251,1,150,0,151,2,247,1,230,0,111,2,9,3,163,2,147,2,88,0,146,255,75,3,244,0,224,0,126,1,29,2,46,1,212,2,177,1,154,2,142,4,222,2,85,1,118,255,20,0,115,254,97,251,88,254,210,255,191,254,160,254,132,255,53,5,253,3,56,4,6,1,110,1,211,2,154,3,27,1,217,253,31,0,132,253,157,253,79,253,71,253,97,254,72,252,245,252,55,255,207,250,170,253,153,254,71,252,251,250,166,0,237,1,49,1,221,0,78,3,191,2],"i8",_t,Ne.GLOBAL_BASE),Lt([98,2,72,3,168,3,6,3,45,253,212,250,19,251,155,254,255,251,148,250,184,251,160,250,147,254,120,250,167,248,160,253,250,248,65,249,94,253,223,253,107,251,65,253,166,2,18,3,148,0,133,255,184,2,8,5,132,2,94,1,246,255,158,1,102,2,15,0,137,0,88,1,45,255,210,252,24,250,205,252,121,254,94,252,180,253,47,0,177,253,126,252,115,252,183,251,93,255,8,251,113,251,99,255,72,250,11,250,123,254,6,251,92,251,144,253,159,2,213,0,198,1,124,0,238,254,243,253,39,253,16,254,104,255,192,250,122,0,135,0,167,244,179,253,118,254,64,249,185,1,206,255,196,5,136,3,19,3,60,1,236,0,72,254,165,254,217,0,157,1,113,252,107,252,121,0,57,254,92,252,202,0,164,255,47,254,137,254,232,1,134,1,218,1,108,3,217,2,60,1,233,248,224,250,99,253,87,0,194,3,176,1,51,2,7,255,222,251,250,0,29,1,81,4,117,4,171,1,184,2,242,251,128,249,210,249,76,252,90,1,160,0,203,254,240,254,166,252,158,2,112,2,226,4,80,252,104,254,102,253,162,253,192,254,128,254,20,254,230,0,65,0,78,1,206,255,240,255,240,255,78,253,139,250,255,6,180,6,119,5,174,9,15,8,124,5,221,4,191,5,146,5,130,254,243,251,254,255,173,0,114,254,121,4,211,5,232,7,9,7,4,3,250,4,226,5,149,5,199,6,209,7,55,4,194,4,249,4,126,251,197,248,207,250,216,252,147,251,184,251,61,254,247,251,70,249,65,0,66,2,172,255,60,250,126,246,14,249,3,253,170,250,18,254,38,255,174,253,93,252,81,1,20,255,50,2,53,9,102,10,146,7,209,5,252,4,106,3,189,0,102,1,118,1,17,250,23,247,214,246,57,252,9,251,209,247,140,253,92,251,250,249,125,6,19,4,34,2,53,2,37,4,220,2,192,255,188,252,78,254,76,254,160,255,203,0,54,4,192,4,100,6,139,3,254,5,218,3,70,1,197,3,77,3,142,0,172,255,197,0,214,1,75,9,34,6,109,4,214,1,190,4,139,1,96,5,176,4,101,4,18,4,92,1,225,253,46,251,136,254,41,255,75,255,225,1,101,248,171,249,46,255,18,253,95,251,134,1,29,0,113,254,27,0,52,3,212,4,243,2,183,2,211,3,153,1,82,255,173,4,11,4,144,3,76,5,54,7,32,252,99,250,228,1,51,250,92,249,208,0,100,254,180,4,152,5,241,254,128,3,120,4,96,254,241,6,154,5,96,249,172,245,52,255,3,249,241,249,9,4,136,249,233,249,23,5,27,251,203,249,57,4,99,253,185,251,190,255,86,253,64,1,167,254,147,2,49,1,45,4,244,250,220,252,237,255,157,249,245,250,29,0,109,249,15,254,71,0,225,254,249,255,156,255,18,254,62,252,19,255,84,3,89,7,204,6,63,251,149,250,227,0,108,253,46,1,117,1,96,0,63,4,233,4,206,251,123,249,160,0,229,1,28,8,6,7,90,252,36,255,40,2,172,253,156,253,237,0,80,1,184,6,111,3,131,2,117,2,178,1,243,4,10,2,97,6,15,0,244,0,71,254,195,5,205,2,184,0,27,7,54,6,173,6,220,3,5,1,169,3,45,8,41,9,240,5,91,8,66,7,70,6,191,253,189,253,77,251,68,252,135,0,24,254,48,254,51,0,174,254,139,253,164,254,45,253,122,4,25,8,162,5,144,8,186,5,143,3,92,250,220,249,26,247,120,5,198,2,17,5,55,5,121,2,160,3,154,5,146,8,34,10,118,9,156,8,89,7,214,3,194,8,62,7,124,1,24,3,121,4,193,255,229,253,158,1,4,255,60,252,198,254,19,251,85,253,244,252,193,252,242,253,19,252,126,249,145,251,88,254,181,249,60,254,213,254,244,4,24,4,130,2,123,4,85,3,88,3,93,253,176,254,139,0,220,8,63,5,138,5,29,0,0,3,29,3,56,251,167,1,52,2,218,250,198,251,245,0,234,250,212,252,61,2,238,250,175,249,134,2,56,252,66,3,211,2,225,3,116,6,235,7,65,255,207,252,176,1,150,2,60,0,198,0,114,2,229,3,50,5,112,6,171,7,9,5,195,249,163,255,211,255,192,251,37,0,172,255,117,6,47,10,33,9,41,4,248,7,73,9,115,4,22,9,70,8,91,3,101,1,230,5,152,2,203,4,75,4,223,1,80,5,144,3,105,7,218,6,227,7,144,4,117,7,248,6,143,1,34,0,0,1,175,253,208,254,227,251,35,2,158,6,127,5,135,2,157,255,171,254,212,5,111,6,166,4,38,0,124,253,44,255,139,1,78,3,222,0,64,253,3,253,52,253,44,253,84,248,12,245,106,255,35,1,174,255,209,4,179,5,239,3,116,255,101,255,153,0,183,1,41,1,32,6,7,250,102,254,132,253,0,6,199,1,19,255,208,250,117,255,252,254,19,2,42,2,100,3,13,1,240,4,94,2,23,255,115,3,207,1,230,2,88,2,136,255,183,255,165,1,212,0,73,254,198,255,36,3,250,250,39,251,216,2,38,1,22,254,50,0,177,253,119,252,26,251,42,0,81,253,147,0,231,255,17,1,84,2,201,254,189,4,89,2,14,253,81,3,72,2,173,1,95,2,75,2,166,253,90,255,205,1,228,252,201,252,9,3,100,5,142,3,219,6,119,0,137,5,204,3,37,255,144,252,196,249,231,251,14,252,182,1,55,253,157,250,78,0,0,0,65,254,101,251,144,251,217,250,219,249,200,8,231,6,29,5,178,3,47,6,152,5,126,4,226,1,180,1,43,254,172,251,106,2,65,254,58,252,64,4,28,251,21,250,142,255,176,251,40,248,189,253,210,0,101,2,241,1,73,248,99,250,130,2,11,251,168,252,243,3,146,249,95,251,39,4,237,249,96,253,180,4,100,249,166,251,111,2,45,252,210,250,3,251,27,2,109,255,126,3,182,250,127,252,78,254,120,3,219,1,172,1,153,0,128,254,82,1,44,250,1,254,103,1,50,252,165,251,42,254,105,0,218,253,165,2,87,252,135,251,109,3,124,1,252,254,210,0,149,6,156,3,232,4,239,6,166,4,71,4,139,5,119,2,21,2,115,2,43,1,165,254,101,254,234,253,135,2,118,253,29,0,173,253,134,254,169,250,27,6,122,5,97,4,185,5,65,4,130,5,136,2,208,247,190,251,250,255,55,1,62,255,155,252,129,253,193,252,160,1,118,251,56,251,69,5,33,251,83,252,21,7,111,247,61,248,197,1,149,253,169,250,68,252,186,249,76,248,29,250,105,251,223,251,176,251,135,254,89,2,201,0,84,7,57,3,118,1,82,254,213,250,29,0,139,250,31,251,205,250,17,252,32,250,192,3,135,250,39,248,197,0,157,250,99,248,20,255,203,251,123,0,166,1,103,2,245,4,34,2,206,254,246,5,136,3,170,4,252,6,153,4,142,253,140,252,10,250,199,0,254,2,224,5,215,251,94,3,197,0,246,251,19,249,137,252,224,252,145,0,87,2,146,251,249,253,114,2,75,251,122,248,244,1,114,252,239,251,141,250,60,250,225,249,55,252,245,253,74,3,34,0,2,7,134,2,94,3,73,251,160,248,22,252,178,255,247,255,96,253,20,4,247,2,80,0,168,253,115,4,251,3,57,0,208,7,142,5,191,252,134,5,97,4,78,251,94,6,236,4,51,254,140,5,220,4,1,6,207,3,253,0,229,254,68,1,153,254,87,2,61,255,106,0,76,2,62,0,181,253,11,253,133,2,205,0,51,0,177,4,246,2,71,251,161,2,122,254,144,253,45,6,173,3,105,255,255,3,223,2,4,11,21,5,178,2,210,254,12,2,157,255,124,252,204,249,91,251,60,4,251,0,238,0,222,7,0,7,242,3,221,4,97,6,205,6,53,251,252,249,72,251,147,253,200,1,147,255,40,0,191,255,20,3,219,252,69,253,186,250,185,253,136,3,64,3,223,252,20,2,82,2,180,7,128,5,71,5,103,251,168,248,190,247,251,252,56,2,180,3,9,252,55,4,236,4,169,251,226,1,126,255,242,6,20,4,12,3,45,250,245,0,144,3,196,254,139,251,107,252,232,253,94,250,214,246,239,252,246,249,60,248,45,248,1,1,141,3,199,248,135,253,71,251,254,249,130,248,226,251,70,6,191,8,40,6,201,253,36,250,248,249,1,251,195,0,89,5,207,252,37,1,195,4,243,253,118,2,173,4,94,249,135,246,208,248,209,254,219,2,235,2,111,251,5,255,13,1,74,252,181,255,148,6,98,251,59,254,237,3,193,249,73,2,122,1,229,247,197,253,85,254,239,253,121,251,109,251,229,254,51,255,204,253,228,252,222,4,205,2,229,8,159,3,27,2,58,254,47,2,184,1,51,253,180,5,79,6,250,251,28,4,74,6,111,251,118,255,79,3,226,0,39,0,156,253,29,251,150,255,39,253,117,253,200,3,22,5,54,253,132,253,191,6,97,1,45,4,154,1,226,252,100,255,75,4,194,253,150,3,190,1,226,250,244,3,210,1,128,5,55,6,253,2,149,5,100,5,221,6,157,7,164,7,74,9,42,6,255,7,100,8,148,3,98,0,249,255,101,7,138,5,93,8,92,1,125,5,43,6,152,0,110,4,9,7,245,254,154,0,115,5,114,251,213,1,30,4,138,251,107,254,207,251,195,250,40,247,211,249,148,254,101,3,170,6,118,251,37,2,14,6,55,251,116,248,126,249,51,250,71,248,249,247,65,249,118,252,158,255,151,248,233,0,212,5,124,3,108,0,181,254,64,249,110,251,92,249,220,251,188,7,254,6,210,251,51,249,139,248,245,255,3,6,37,5,192,249,94,0,241,1,165,1,187,1,59,255,214,249,163,254,30,252,169,253,229,253,116,4,59,252,117,250,127,255,195,250,175,0,65,254,137,254,31,5,7,8,141,254,118,253,205,254,207,251,93,2,109,1,247,247,143,255,174,1,140,2,146,3,199,3,12,252,206,249,237,246,225,5,224,4,47,2,6,1,26,254,111,254,65,249,62,5,10,6,50,0,56,0,176,1,182,254,119,0,164,253,19,250,200,251,214,252,178,3,103,4,31,4,136,250,89,249,80,249,10,251,64,253,219,250,39,3,29,7,119,4,200,10,70,6,123,8,96,4,153,1,106,255,109,255,148,1,191,3,135,9,119,7,141,8,118,252,115,255,158,252,120,252,114,255,54,254,211,253,60,253,113,249,194,252,105,250,209,249,206,248,190,250,194,251,188,249,240,254,147,3,84,251,4,3,32,4,130,253,46,251,151,248,12,254,175,255,202,252,247,250,179,249,33,253,139,255,17,3,168,0,190,251,109,4,154,3,184,251,22,253,104,5,31,1,221,253,217,251,160,250,103,247,76,251,128,247,222,249,35,249,25,250,63,247,253,252,55,249,75,4,62,3,204,249,212,2,219,4,250,249,181,2,37,3,102,249,16,255,129,6,92,249,252,255,100,253,101,8,48,3,18,4,206,252,207,248,22,0,4,253,5,254,193,1,129,251,151,253,33,1,181,252,196,249,16,255,242,1,22,255,111,253,16,253,224,1,142,6,193,254,31,254,193,0,213,252,171,0,137,255,176,247,54,255,176,252,181,6,116,4,164,6,67,0,239,255,66,0,244,255,102,249,187,253,152,255,240,254,204,251,94,251,203,248,136,254,140,251,98,252,92,254,198,255,253,254,112,253,146,251,215,253,252,6,203,4,199,1,129,0,206,1,185,1,16,255,240,253,72,3,2,2,130,0,181,255,90,4,111,2,153,0,216,0,44,4,52,2,250,255,236,254,95,4,215,2,190,0,188,255,192,2,50,1,119,0,248,254,73,1,61,0,156,255,156,0,108,1,123,0,183,0,48,255,85,255,133,255,220,0,191,255,206,254,194,255,146,1,17,0,108,253,86,252,246,254,0,0,129,1,235,0,20,1,29,1,64,1,12,1,176,254,56,255,44,253,17,0,172,255,125,1,224,253,173,1,238,1,7,2,139,255,32,1,48,1,73,1,131,2,157,0,189,2,252,1,176,4,113,2,28,3,96,2,230,3,165,1,236,1,120,2,180,4,12,3,190,1,132,0,233,4,76,3,35,2,193,1,61,3,146,2,29,2,214,1,108,4,234,4,150,3,127,2,35,2,51,0,167,1,23,1,9,0,136,1,83,0,94,0,30,2,31,2,229,0,109,255,58,255,129,0,194,0,71,255,161,252,215,250,210,254,30,0,171,253,139,253,237,255,114,0,124,252,199,251,210,1,97,1,53,250,219,249,15,0,113,255,84,249,245,247,17,253,196,0,172,248,237,247,126,253,254,254,225,246,66,250,62,254,204,253,184,253,70,255,152,252,98,254,243,248,36,252,155,251,226,250,42,253,151,251,28,0,169,0,241,251,160,252,50,253,10,255,228,1,36,0,23,255,207,255,9,1,67,0,33,1,211,1,178,0,31,2,42,3,28,2,84,0,26,1,160,2,191,2,49,252,247,252,129,0,31,1,86,252,29,255,187,3,83,2,175,249,223,254,68,3,137,2,201,248,41,255,82,4,206,2,14,248,195,251,138,2,184,1,203,247,239,253,139,3,63,2,37,248,176,254,158,2,204,0,171,246,76,253,104,1,137,0,148,247,100,247,247,255,24,1,246,254,119,0,39,0,193,0,78,0,197,255,136,255,226,0,49,252,166,252,243,252,185,251,149,253,99,254,61,254,182,252,64,251,215,250,211,252,141,252,160,250,177,249,118,254,84,254,31,253,167,251,219,253,234,252,144,252,49,252,57,252,126,253,39,252,138,252,7,251,175,250,39,254,220,252,135,250,129,250,160,0,247,254,105,252,237,254,8,255,6,255,50,253,132,254,97,0,153,255,137,254,27,255,97,254,63,255,121,255,213,253,116,2,105,1,119,0,216,0,67,2,108,1,135,1,209,0,122,2,10,2,102,255,108,255,14,2,133,1,170,0,33,0,105,0,11,1,64,0,124,1,33,250,24,252,226,255,143,254,210,251,58,0,135,2,223,0,16,250,221,254,109,2,51,1,5,250,156,0,250,2,148,1,19,248,141,0,222,2,243,1,199,248,118,253,50,1,0,2,69,255,152,255,197,255,182,1,134,0,26,255,156,0,70,255,195,255,252,254,240,255,10,0,199,253,253,255,91,254,215,254,67,249,247,253,166,254,178,0,174,250,197,255,212,255,157,0,158,247,51,254,42,254,163,254,134,247,255,255,143,254,135,255,213,249,139,254,124,252,9,252,163,251,177,253,155,253,240,252,207,253,122,0,181,255,63,254,252,255,85,255,133,255,140,254,192,0,168,0,180,255,124,255,252,0,149,255,84,1,210,0,136,1,253,1,16,1,181,0,147,255,145,0,218,0,119,0,96,254,249,254,229,1,9,1,75,255,248,255,226,254,226,0,12,255,38,255,69,0,222,254,98,255,191,0,255,255,192,255,176,253,166,255,213,0,160,255,255,0,179,1,178,0,176,255,143,254,238,255,223,255,176,255,214,255,159,1,140,0,34,255,119,4,139,2,137,2,73,1,255,2,44,2,249,0,235,0,180,3,157,1,186,1,23,1,141,0,83,1,100,1,45,2,42,254,86,255,99,0,237,0,199,253,224,252,96,1,53,2,26,1,217,1,214,1,76,1,57,255,78,253,252,250,107,252,63,255,86,254,224,252,158,251,230,255,141,254,22,254,63,255,125,2,83,2,7,2,74,1,152,1,141,255,79,0,12,0,221,1,87,0,153,255,136,254,102,253,165,254,235,254,221,254,2,254,31,254,169,0,41,1,195,252,30,253,51,255,85,255,192,254,228,253,72,1,27,1,165,252,66,252,186,1,254,255,44,2,174,2,130,0,56,0,103,5,244,3,243,2,171,1,100,2,229,2,116,2,41,2,173,254,228,252,134,0,21,1,135,253,195,251,254,255,10,255,144,252,245,251,185,249,216,251,30,252,38,254,142,251,24,254,98,254,229,252,73,0,50,255,248,255,117,255,183,1,204,0,80,255,190,253,23,0,131,0,243,254,11,253,65,255,245,0,147,255,174,254,112,0,60,1,120,0,106,254,138,255,99,2,76,255,70,255,123,253,115,0,83,255,34,0,250,253,23,254,105,255,61,0,185,253,180,252,220,0,118,255,87,253,4,252,135,1,239,255,170,253,191,254,157,0,217,254,129,0,155,0,98,252,149,252,37,252,29,1,241,0,173,255,131,255,131,255,108,2,85,2,176,1,92,0,137,1,78,0,153,1,61,0,119,254,29,253,99,254,20,253,83,0,54,0,105,1,27,0,196,251,130,0,175,254,74,253,227,249,41,1,62,1,237,255,175,248,36,0,51,0,195,254,237,246,10,255,231,0,172,255,254,246,241,252,40,0,77,255,71,247,94,252,38,254,50,254,14,253,170,255,224,254,142,253,149,246,57,254,193,255,171,0,181,251,186,251,230,255,113,255,87,251,57,254,106,254,131,254,163,253,46,255,160,255,205,255,188,253,36,254,236,254,241,255,85,251,134,253,77,251,143,252,134,254,35,255,99,253,72,252,82,2,178,0,109,254,92,253,251,2,71,1,89,2,34,1,172,0,44,1,203,0,157,0,200,255,176,254,100,1,24,0,28,255,216,254,253,254,227,255,70,255,7,1,160,1,14,0,159,254,117,1,244,255,40,255,1,1,96,0,174,0,57,0,10,250,152,253,70,252,13,254,15,254,104,255,179,254,125,0,105,0,200,0,179,0,159,255,181,254,32,255,253,2,185,2,248,2,0,1,45,1,59,0,199,1,171,255,204,0,32,1,254,253,240,0,251,0,147,255,0,1,161,1,222,255,99,254,101,0,174,1,128,1,156,0,225,255,246,255,206,0,170,1,77,2,145,0,143,0,71,0,40,3,138,3,77,1,93,1,218,3,170,3,77,2,75,1,20,5,56,3,187,0,253,1,38,4,141,2,123,1,210,1,182,5,169,3,145,1,18,1,19,3,93,3,9,1,2,0,97,2,41,2,28,0,49,1,158,3,84,1,106,0,130,1,241,0,245,254,109,255,225,0,78,255,234,253,91,1,246,1,125,253,131,254,141,1,30,0,117,253,35,253,77,254,142,1,105,254,42,253,28,254,8,255,235,252,110,252,74,254,36,254,14,254,122,254,75,0,217,254,60,252,178,253,162,253,150,0,135,255,207,255,101,255,178,255,167,3,38,2,133,1,38,0,191,254,127,0,168,1,59,1,227,254,143,255,27,1,3,1,146,2,203,0,66,1,230,1,135,3,249,1,236,2,161,1,99,2,167,1,43,2,0,2,239,0,173,255,190,253,237,255,173,254,37,253,93,1,13,0,90,252,137,250,142,255,152,254,107,0,180,2,182,0,90,0,37,251,254,249,241,249,43,253,200,253,121,252,173,250,243,253,251,253,171,252,163,252,20,252,88,255,78,253,189,252,63,0,119,255,212,253,221,253,144,0,226,254,207,252,229,1,63,1,109,255,104,254,14,2,246,0,165,254,78,254,41,1,228,255,222,254,41,254,170,251,251,250,52,254,153,254,36,252,230,252,67,5,19,5,178,2,11,2,192,4,44,4,70,4,245,2,57,3,116,4,240,2,238,1,228,4,85,5,171,4,130,3,9,2,29,4,20,2,176,1,178,254,40,255,199,254,249,254,96,255,52,0,40,254,101,255,127,0,136,0,132,254,44,0,83,3,154,1,94,255,23,254,123,0,1,255,228,252,101,253,66,4,149,3,21,3,237,1,117,5,173,4,46,2,202,0,205,255,138,255,170,254,67,253,83,0,108,0,214,255,71,254,61,0,95,0,31,1,0,1,229,255,89,0,12,2,19,2,95,1,227,0,80,2,33,2,185,2,155,0,92,255,51,1,126,2,18,1,23,254,206,255,242,2,240,0,90,255,132,255,140,255,189,253,68,251,193,255,190,0,217,254,240,251,240,250,147,0,136,254,79,255,143,255,73,3,217,4,27,4,156,2,2,0,37,1,39,2,48,1,184,251,71,252,8,255,120,1,18,253,59,252,87,0,4,2,237,254,252,253,177,2,135,1,133,254,125,253,108,3,82,2,122,254,11,252,123,253,61,2,149,255,200,253,79,253,198,252,255,251,229,255,184,254,53,255,93,3,237,2,36,2,233,0,132,249,237,251,195,1,108,0,108,253,148,253,174,1,236,0,21,0,116,254,122,251,137,253,92,5,18,5,199,3,65,2,101,4,101,4,77,2,198,1,189,254,159,252,45,254,153,0,44,254,69,253,220,252,3,254,120,254,50,253,52,255,221,255,165,253,187,251,201,253,94,255,7,254,20,252,154,255,94,1,219,0,224,0,167,1,252,0,139,1,79,2,96,2,107,1,22,253,160,255,117,1,172,0,171,0,39,1,202,2,83,1,233,0,77,0,107,0,21,1,157,0,153,0,13,254,156,254,11,6,49,4,64,2,238,1,220,254,173,254,8,254,176,253,121,252,184,255,149,253,31,254,198,249,163,251,201,253,2,255,231,252,5,254,204,253,221,254,20,254,236,253,246,1,48,2,130,254,171,1,88,2,230,0,29,255,221,1,251,0,75,0,29,1,74,3,45,3,220,1,226,250,203,250,186,0,121,1,181,253,107,252,131,2,125,1,94,251,215,253,155,1,82,0,153,251,204,252,82,255,228,253,164,253,119,0,31,2,205,0,132,254,145,2,141,3,55,2,112,0,214,254,138,254,114,0,167,252,5,255,56,0,159,0,145,1,89,1,222,255,116,255,145,255,161,253,41,0,102,2,99,1,142,255,179,255,218,1,66,2,56,0,170,5,156,3,74,4,140,5,229,2,144,1,246,0,22,0,76,2,57,1,135,255,71,1,63,3,216,1,142,251,160,253,88,3,40,2,39,251,208,251,126,2,88,2,154,254,254,0,179,254,209,254,122,253,227,2,102,1,74,0,202,4,135,6,197,4,81,3,193,8,88,6,215,3,124,2,49,7,197,5,237,2,128,1,94,1,7,1,87,0,128,0,146,248,83,252,112,255,192,255,58,249,1,255,32,1,225,255,172,245,42,251,110,1,235,0,149,249,188,251,192,250,208,254,227,253,205,251,164,251,123,0,102,251,4,255,208,252,76,255,8,252,21,2,53,2,233,0,25,254,82,254,68,255,78,1,99,3,212,4,22,2,171,0,202,249,185,249,123,2,118,2,108,247,54,1,156,3,156,1,202,246,184,254,188,3,17,2,177,245,135,254,118,2,22,1,214,245,61,1,31,3,43,1,154,246,133,0,84,1,31,0,148,247,68,250,131,0,125,0,96,251,22,254,117,255,46,0,24,253,191,1,123,3,52,2,67,0,61,254,134,2,92,2,215,253,83,254,148,252,140,1,162,0,190,255,25,5,147,3,223,1,67,2,64,4,26,3,194,1,22,1,54,2,68,1,223,251,102,255,148,0,79,255,15,246,168,0,46,4,80,2,209,246,214,255,51,3,89,1,216,246,61,253,209,2,250,0,129,247,39,250,203,254,122,0,178,255,183,255,120,0,173,0,252,255,6,1,249,254,251,254,81,254,192,255,107,254,36,253,207,245,116,0,173,255,63,255,11,250,80,252,35,254,43,253,4,254,51,1,170,0,172,0,64,3,161,1,64,3,174,2,31,255,177,0,126,3,50,3,30,254,123,254,255,4,15,4,129,254,201,0,162,254,40,0,218,2,123,2,226,0,14,2,247,1,206,1,82,1,142,1,23,2,202,2,40,0,230,254,202,5,191,5,61,4,219,2,25,6,48,4,141,3,181,2,139,5,2,5,121,3,111,3,129,4,216,2,162,4,72,3,30,255,106,4,181,3,177,2,18,254,38,252,236,249,128,255,200,253,47,253,55,253,230,255,61,1,12,2,70,0,135,0,107,254,159,252,26,249,116,253,82,255,223,252,117,3,5,3,103,255,165,255,75,4,239,2,6,254,131,251,85,3,134,2,241,0,14,3,7,2,27,2,61,7,164,6,77,4,172,2,31,251,50,250,48,254,188,0,131,252,127,250,224,250,171,254,121,255,182,1,81,255,18,0,87,4,208,3,63,1,208,0,106,250,24,249,83,0,202,1,238,253,24,252,51,1,129,0,184,252,241,255,227,255,156,254,113,252,100,252,133,251,14,255,137,255,240,253,127,0,123,255,7,253,3,253,190,0,173,255,197,254,127,3,10,2,231,0,34,255,102,0,193,255,84,254,60,1,187,2,123,1,70,0,25,0,204,2,58,1,148,255,251,1,106,3,54,2,238,0,108,0,173,3,7,2,195,0,169,1,196,255,85,254,1,1,139,0,153,255,138,253,190,1,78,1,114,1,156,1,48,0,84,255,78,253,229,254,45,2,187,0,226,254,158,0,227,1,140,0,14,1,168,254,137,253,156,3,67,2,140,255,132,0,142,0,210,1,188,255,192,255,230,0,111,255,210,254,226,253,221,252,112,252,250,3,225,2,251,252,247,3,118,2,41,1,220,245,95,0,189,1,80,1,182,247,235,1,254,1,191,0,27,251,161,0,254,255,188,254,86,250,135,253,56,253,151,255,182,252,2,255,101,254,100,0,128,253,222,254,242,3,251,2,118,253,57,1,145,4,218,2,140,0,249,1,6,4,254,2,4,3,31,1,43,4,55,3,239,1,237,2,49,1,67,1,92,255,206,1,78,0,143,1,170,254,150,252,69,0,85,2,240,255,108,2,109,2,81,1,118,255,68,254,247,254,218,0,84,0,62,254,185,3,154,2,34,255,221,252,29,2,92,2,103,252,160,250,244,0,116,0,183,252,45,253,118,2,76,2,140,0,151,2,38,1,112,1,167,3,22,4,113,3,247,2,210,6,184,5,148,3,116,2,180,1,195,3,25,1,1,0,137,255,74,0,30,2,213,0,1,0,201,253,45,1,241,0,4,1,179,1,222,0,140,1,168,3,189,3,84,4,191,2,254,1,250,1,40,3,222,1,89,2,182,2,192,3,108,2,204,3,229,2,212,3,88,2,66,3,205,2,255,2,172,2,131,2,204,3,167,3,126,2,245,1,149,2,208,2,83,3,151,255,136,253,209,254,139,255,83,254,130,0,21,3,186,1,246,253,68,255,192,2,117,1,9,253,42,0,46,3,11,2,237,253,143,251,117,1,66,2,86,253,77,251,57,254,29,1,117,251,215,249,182,251,44,0,81,0,174,255,200,2,107,1,221,1,246,0,186,3,110,2,68,6,86,6,253,4,123,3,129,5,91,3,156,3,124,3,6,3,17,4,179,3,118,4,40,0,222,253,181,255,32,1,152,253,150,255,71,253,230,255,87,255,96,255,133,252,29,253,233,254,128,254,251,251,162,254,245,6,28,5,22,4,48,3,44,6,253,5,192,5,154,4,225,5,52,4,192,4,131,3,122,3,136,3,52,2,142,2,152,3,180,2,253,3,88,3,19,254,132,0,177,0,249,1,71,0,195,0,228,255,97,0,200,1,95,1,92,255,88,0,183,1,22,1,216,255,94,1,115,5,181,3,234,0,161,255,219,252,40,254,38,0,93,255,111,1,158,255,233,1,11,2,1,4,154,4,188,4,138,3,63,1,34,5,46,3,205,1,133,255,225,253,220,252,191,1,20,253,188,254,127,252,153,251,31,253,11,254,235,252,55,253,203,2,9,3,215,4,154,3,157,7,147,7,88,5,97,3,218,2,112,3,246,2,132,1,153,252,198,1,17,0,5,255,131,254,214,252,209,249,239,0,247,253,58,252,232,252,3,1,134,252,178,250,254,252,183,255,166,0,93,1,44,255,67,1,184,252,211,254,217,1,179,1,89,253,48,254,216,2,95,1,100,255,57,255,155,2,176,1,29,0,4,255,159,1,224,1,37,253,133,254,145,0,47,2,240,253,137,253,122,251,97,255,189,1,17,1,123,0,127,2,117,1,130,255,32,3,56,2,84,0,94,255,208,2,200,2,194,252,232,253,71,255,222,0,152,1,196,1,245,1,3,3,127,252,181,250,189,255,186,1,232,252,130,250,54,2,90,2,167,0,186,254,253,1,74,1,161,255,142,253,38,253,168,254,132,6,193,4,11,3,199,1,36,5,60,3,72,2,207,2,148,1,225,255,245,3,21,3,89,0,107,0,123,3,37,2,103,3,45,6,149,3,159,2,98,3,199,5,9,5,86,3,135,1,44,4,98,4,44,3,78,0,206,253,89,1,51,2,173,1,153,255,161,1,19,3,134,255,75,254,155,1,20,3,111,252,95,254,90,2,242,2,30,255,240,255,151,0,248,2,68,253,118,0,152,255,242,255,152,251,48,0,28,1,137,1,122,254,93,254,129,253,140,255,114,252,50,1,60,1,243,255,183,4,216,3,53,3,157,2,85,251,75,253,140,0,43,255,140,252,96,254,57,255,210,253,152,253,245,0,108,254,104,253,6,1,56,0,151,253,44,253,171,255,21,254,192,254,112,253,198,253,193,252,127,255,240,253,30,250,193,255,145,254,127,254,154,254,191,254,4,0,51,0,146,254,42,255,63,1,255,1,146,0,159,2,239,255,221,254,146,255,208,1,117,255,16,254,54,255,220,0,200,254,137,253,108,253,183,255,113,253,204,252,106,253,115,253,248,250,167,252,82,254,71,252,65,252,248,254,207,255,44,254,184,255,131,254,162,254,205,253,63,255,105,254,55,0,104,254,221,252,11,0,203,254,137,2,188,0,58,255,0,254,205,1,177,255,54,254,218,250,249,254,122,255,245,253,135,249,77,254,17,254,3,253,57,0,165,254,98,254,178,1,139,251,14,255,104,253,167,252,34,0,188,255,61,253,174,254,163,1,163,0,226,255,250,254,57,254,235,252,106,250,47,253,238,3,152,2,13,1,25,0,107,2,4,1,183,0,96,0,56,252,178,250,124,254,135,0,75,253,67,3,200,1,154,0,81,4,191,2,57,2,107,1,89,6,46,5,217,3,236,2,36,255,219,0,76,0,48,255,81,250,130,249,49,0,149,0,60,252,84,255,16,253,176,254,113,2,209,0,6,255,190,255,7,252,186,252,254,255,61,1,136,247,51,250,118,255,123,0,172,248,205,247,247,253,85,0,57,252,146,254,73,253,143,252,103,252,13,252,5,253,75,252,132,255,0,255,160,254,108,253,178,0,207,1,98,1,48,1,48,249,177,253,230,254,79,0,55,247,175,0,99,3,243,1,118,255,76,255,75,255,235,255,13,247,39,251,52,254,248,253,253,252,195,1,246,255,204,254,15,1,191,255,4,0,214,0,233,254,77,254,213,255,164,254,98,253,35,0,191,255,45,255,38,3,23,2,85,0,41,1,57,0,239,0,210,2,237,1,225,0,149,2,72,3,35,2,228,253,136,254,14,0,93,1,213,1,209,2,75,1,162,0,224,253,16,253,194,255,246,255,142,1,168,255,212,2,189,2,237,255,235,253,162,255,89,2,136,0,185,255,87,253,21,253,90,255,168,254,5,1,206,255,161,0,204,255,229,1,81,1,117,249,50,0,190,0,163,255,22,247,25,255,62,255,174,255,161,255,173,253,102,255,128,0,126,3,245,1,76,2,201,1,167,254,206,0,122,0,110,0,137,253,29,255,199,253,3,0,152,1,239,0,141,1,226,0,59,255,254,255,128,0,235,1,1,5,136,3,36,1,215,0,26,2,50,1,3,1,253,1,91,253,233,251,13,0,65,1,89,253,180,253,154,254,44,255,210,253,243,0,134,2,223,1,230,1,86,1,122,2,20,2,107,0,34,3,75,1,136,0,144,255,114,254,249,251,226,254,186,254,63,253,32,1,16,1,19,5,120,4,154,4,92,3,89,254,121,0,127,254,108,255,217,254,210,254,190,252,205,252,16,0,232,255,55,255,36,254,43,2,91,0,11,255,38,1,218,255,133,254,62,252,59,251,89,251,18,250,239,254,117,254,122,254,11,252,123,253,61,2,205,248,250,251,249,1,212,1,232,2,179,3,97,2,237,1,79,253,108,251,140,253,121,255,254,251,195,0,155,1,196,0,46,6,123,4,63,2,81,1,41,251,247,252,120,253,114,255,83,2,57,3,199,3,223,2,74,251,54,252,175,255,170,254,23,253,13,0,184,255,119,1,198,1,19,0,127,5,153,3,145,249,84,255,93,3,50,2,160,3,1,6,39,4,228,2,88,246,72,252,8,1,82,0,10,254,59,252,202,250,123,0,99,3,212,4,22,2,171,0,240,246,52,254,12,3,107,1,90,251,151,253,252,0,195,255,82,255,34,0,243,3,20,3,227,246,247,0,167,1,153,0,240,255,157,254,6,1,193,1,216,249,207,251,224,253,141,254,153,253,207,254,27,4,37,3,175,2,16,2,6,0,74,255,167,3,107,3,234,3,41,3,199,0,1,1,126,0,76,0,184,253,142,251,87,2,44,2,175,251,145,250,201,249,249,253,47,252,211,250,108,0,91,1,46,253,49,252,109,1,101,0,111,255,169,2,249,0,103,255,0,0,178,254,198,253,159,0,156,1,29,1,176,254,151,253,71,252,58,252,119,3,177,2,29,251,84,0,71,255,114,254,176,253,177,1,20,4,141,2,85,0,73,1,216,255,105,1,79,254,63,253,210,1,62,2,102,255,142,2,80,2,34,1,89,255,72,0,93,1,175,0,162,2,41,1,209,3,208,2,211,4,180,4,245,2,232,1,112,254,243,254,26,2,116,1,186,250,149,250,86,251,165,255,238,4,108,3,7,3,188,2,169,253,218,255,82,254,46,253,184,7,94,6,223,3,96,2,111,0,20,1,30,255,160,255,77,252,124,254,245,255,249,255,209,254,237,253,185,252,82,1,198,6,174,6,125,5,245,3,252,253,169,252,123,253,210,0,80,253,96,254,1,2,230,0,202,252,131,253,134,251,192,254,72,252,110,253,74,253,183,0,142,255,145,253,50,3,162,2,65,255,52,255,219,2,123,2,51,0,197,4,115,3,64,2,70,252,81,254,58,3,86,2,170,254,13,253,124,252,105,254,154,251,158,254,50,255,0,254,221,253,214,252,155,254,148,253,66,0,3,2,183,255,102,254,152,252,79,252,92,250,53,251,191,0,239,255,224,253,25,255,252,249,224,253,123,252,138,252,134,252,242,249,19,246,205,252,54,252,175,0,198,252,46,251,6,253,169,253,234,255,122,2,213,252,37,252,122,252,189,254,203,0,26,0,129,254,21,255,243,252,113,254,238,4,138,3,92,252,137,250,156,250,144,253,93,0,87,0,98,254,229,253,77,253,37,0,121,2,254,1,125,254,36,254,206,250,143,1,66,0,7,1,105,254,207,255,177,254,95,254,17,4,73,7,245,252,191,251,96,250,22,253,166,252,64,3,187,253,9,253,141,254,95,253,6,254,40,8,208,253,134,253,101,251,15,1,241,0,14,0,74,254,12,255,115,254,207,1,178,4,23,4,162,253,227,252,98,250,205,255,189,254,225,1,32,255,184,253,241,253,238,1,113,3,170,2,79,254,206,254,22,252,42,2,147,2,222,0,171,0,96,255,159,254,169,2,6,7,29,6,172,252,99,251,97,249,176,254,102,253,114,0,187,253,12,253,24,253,61,255,119,1,241,1,47,254,220,252,182,251,154,0,26,1,125,255,206,255,65,255,49,253,67,1,220,2,6,6,46,253,205,252,132,250,105,0,6,255,185,0,78,255,10,254,26,253,65,1,254,1,87,4,189,254,201,253,58,252,127,0,228,1,82,1,96,255,52,0,174,254,220,2,87,5,18,6,142,253,222,252,96,249,226,254,182,253,164,2,73,253,169,254,142,254,22,254,39,1,101,7,138,253,194,253,10,252,176,255,133,2,187,255,250,255,194,254,148,254,14,3,170,5,14,4,199,254,35,253,141,250,120,0,60,0,221,1,248,254,183,253,133,255,199,2,221,4,121,2,165,255,157,254,8,252,3,3,246,2,5,1,253,0,81,0,38,254,162,3,167,8,184,6,216,252,181,251,123,248,208,253,242,252,169,0,220,252,206,251,68,255,142,253,201,255,125,5,74,253,52,253,86,251,108,253,98,1,73,1,254,253,201,255,225,253,110,1,9,4,158,4,110,253,65,252,179,250,201,255,72,255,93,0,163,253,226,254,106,253,148,1,193,1,59,3,226,254,162,254,17,251,116,2,50,1,227,0,240,255,147,0,145,253,186,0,155,3,98,8,94,253,134,252,186,249,69,254,28,255,83,1,143,254,234,252,103,254,231,0,86,0,189,5,64,254,187,253,219,251,82,2,194,1,79,255,132,255,86,255,65,254,159,2,135,4,124,5,36,254,101,253,25,250,179,255,118,255,204,2,79,255,140,254,131,254,195,1,166,3,147,3,6,255,80,254,202,252,16,1,60,3,190,1,26,0,19,0,225,255,186,2,156,6,120,8,122,253,47,252,124,248,77,255,39,254,12,1,133,254,23,253,77,253,11,0,127,0,9,4,24,254,107,252,199,252,61,0,67,1,135,0,147,0,111,255,82,253,173,2,18,3,146,6,6,254,176,252,239,250,35,0,90,0,222,0,233,255,166,254,98,253,199,1,79,2,7,5,53,255,175,253,194,251,140,2,96,1,181,1,39,0,63,0,55,254,73,3,241,4,57,8,248,253,142,252,208,249,184,254,57,253,141,5,172,253,170,254,186,255,209,0,173,0,136,7,89,254,170,253,103,252,165,1,93,2,218,255,254,255,11,255,129,255,128,3,177,7,111,4,133,254,250,253,213,249,173,0,118,0,241,2,201,255,131,254,204,255,217,3,253,3,241,2,254,255,221,254,133,252,241,2,224,3,167,1,8,1,131,0,60,255,127,3,226,8,239,9,133,253,192,251,61,246,239,253,42,252,14,2,4,253,194,252,220,253,76,254,60,1,87,2,93,253,84,252,22,253,199,255,236,0,245,255,55,255,175,255,226,252,16,0,77,3,22,6,31,253,39,252,68,251,44,254,17,0,34,1,233,254,184,253,68,253,183,0,54,3,193,2,247,254,20,254,93,251,165,1,152,0,212,1,122,254,166,0,244,254,39,0,14,6,76,7,133,253,58,252,221,249,59,254,20,254,142,3,228,254,253,251,181,255,75,255,123,255,60,7,67,254,144,253,106,251,164,1,111,1,207,255,123,254,44,255,87,255,195,2,49,4,184,4,229,253,58,253,87,250,83,0,93,255,228,1,20,255,225,253,157,254,82,1,151,4,46,3,10,255,203,254,66,252,94,2,248,2,60,0,166,0,248,255,93,255,206,254,57,7,3,10,21,253,255,251,9,249,93,254,66,254,209,0,50,253,202,253,234,253,6,254,181,2,89,3,49,254,71,253,198,251,69,1,175,1,50,255,241,255,248,255,5,253,33,2,151,3,238,5,157,253,241,252,223,250,0,1,201,255,208,0,91,255,164,254,106,253,65,1,168,2,162,3,186,254,83,254,73,252,228,1,190,1,58,2,59,255,72,0,183,255,141,3,175,5,205,6,205,253,31,253,74,248,132,255,96,254,206,2,34,254,108,254,198,254,240,255,190,1,100,6,217,253,231,253,18,253,198,255,126,2,214,0,55,0,71,255,241,254,124,4,21,5,188,4,29,254,97,253,16,251,117,0,29,1,31,2,52,255,121,254,145,255,1,2,2,6,86,3,142,255,66,255,46,252,109,3,83,2,208,1,4,1,4,1,201,254,236,2,235,8,168,8,251,253,79,252,133,247,186,254,60,253,122,1,212,252,77,253,24,255,208,253,175,2,129,5,36,253,78,253,188,252,153,254,133,2,130,1,247,254,62,0,90,253,145,0,108,6,184,4,213,253,36,252,47,251,178,255,14,0,114,0,185,254,154,254,23,254,136,1,165,2,185,2,55,255,20,255,140,251,181,2,193,1,178,0,13,255,0,1,79,254,99,2,105,5,152,9,156,253,123,252,72,250,205,254,239,255,243,1,197,254,101,253,2,255,0,1,172,1,183,5,26,254,90,254,224,251,143,2,114,1,18,0,154,255,71,255,236,254,243,2,42,6,55,5,24,254,165,253,118,250,182,0,163,255,102,3,183,255,54,254,164,254,67,3,94,3,189,3,230,254,179,254,22,253,35,2,71,3,172,1,17,1,167,255,13,0,172,3,172,6,16,10,94,254,196,251,34,249,212,255,154,254,3,1,15,254,125,253,208,253,99,0,45,2,193,3,91,254,2,253,107,252,39,1,70,1,184,0,175,0,15,0,142,253,20,2,110,3,189,7,69,254,0,253,5,251,221,0,156,0,12,1,39,0,149,254,7,254,183,2,4,3,116,4,94,255,53,254,112,252,197,2,188,1,146,2,25,0,47,1,200,254,244,4,130,5,179,6,215,254,2,253,212,248,249,254,148,255,46,4,106,254,243,255,127,255,57,0,182,1,174,10,138,254,25,254,189,252,48,1,184,2,164,0,104,0,21,255,5,0,75,6,108,7,119,5,27,255,186,253,211,250,149,1,192,0,49,3,169,255,74,254,111,0,4,4,175,4,225,3,68,0,81,255,90,252,9,4,93,4,195,1,222,1,200,0,8,255,79,8,136,10,250,7,189,252,213,250,173,247,225,252,76,253,210,1,212,252,248,251,43,254,146,253,32,1,152,3,67,253,183,252,210,251,101,254,0,2,8,0,122,254,165,255,24,253,226,255,19,4,137,4,202,252,132,251,124,251,218,254,210,255,110,0,101,254,138,254,90,253,214,0,19,2,156,2,106,254,92,254,86,251,231,1,232,0,47,1,194,254,91,0,40,254,123,0,208,4,141,9,46,253,72,252,41,250,30,253,93,253,52,5,225,253,162,253,45,255,161,255,158,255,228,5,219,253,254,253,87,251,217,1,211,0,73,0,224,254,144,255,123,254,25,2,52,5,234,4,201,253,13,253,247,249,71,0,229,254,120,2,86,255,31,254,19,254,169,2,234,3,49,3,156,254,181,254,147,252,163,1,194,2,90,1,241,0,222,255,186,254,121,1,158,7,91,7,41,253,205,251,167,249,23,255,225,253,116,0,244,253,218,252,183,253,183,255,222,1,217,2,224,254,99,252,137,251,173,0,191,1,204,255,68,0,27,255,162,253,193,1,17,2,5,7,177,253,149,252,173,250,183,0,112,255,68,1,153,255,60,254,102,253,111,2,232,1,152,4,18,255,1,254,20,252,70,1,40,2,202,1,136,0,108,0,193,254,114,2,63,5,91,7,22,254,122,253,62,249,70,255,63,254,216,3,30,253,180,255,86,255,218,253,243,2,0,10,16,254,2,254,77,252,210,0,182,2,204,255,84,0,190,254,57,255,66,4,89,6,200,4,136,254,165,253,140,250,87,1,74,0,120,2,81,255,10,254,224,255,204,3,52,5,222,2,52,0,217,254,167,251,41,4,150,3,160,0,137,1,107,0,115,254,190,4,89,10,205,6,136,253,79,251,157,248,49,253,235,254,97,1,117,253,144,252,134,255,45,255,209,0,58,5,206,253,54,253,221,251,48,255,132,1,159,0,192,254,195,255,217,253,37,1,68,4,163,5,120,253,159,252,27,251,207,255,113,255,49,1,111,254,29,255,183,253,49,2,20,2,159,3,139,255,69,254,92,251,251,1,180,1,36,1,177,255,233,0,54,254,159,2,1,4,92,9,135,253,182,252,11,250,204,254,226,254,128,2,139,254,147,253,105,254,162,1,253,0,25,5,197,254,187,253,143,251,60,2,173,2,231,254,61,0,188,255,141,254,223,3,77,4,218,5,19,254,85,253,174,250,209,255,164,0,192,2,0,255,198,254,244,254,119,2,181,3,28,4,138,255,164,254,191,252,68,0,156,4,56,2,152,0,117,0,34,0,89,4,110,7,191,8,167,253,65,252,86,249,113,255,23,254,224,1,180,254,113,253,194,253,54,0,97,1,168,4,50,254,116,253,228,252,150,0,37,2,112,0,195,0,145,255,253,253,167,2,84,4,111,6,210,253,19,253,63,251,247,255,16,1,85,1,203,255,247,254,233,253,233,1,75,3,18,5,136,255,30,254,248,251,120,2,31,2,152,1,179,0,50,1,242,253,100,4,184,5,196,8,95,254,238,252,230,249,32,255,128,254,84,5,135,254,53,254,231,255,129,1,233,1,126,8,180,254,117,253,195,252,32,2,41,2,61,0,22,0,143,255,167,255,104,4,189,6,244,5,40,255,139,254,139,249,161,0,60,1,140,3,91,255,34,255,189,255,82,5,151,4,21,3,73,0,4,255,1,253,226,2,164,3,104,2,106,1,246,0,130,255,19,3,94,10,211,11,77,253,174,251,114,247,203,253,180,253,12,2,178,253,45,252,22,254,249,254,141,1,214,3,191,253,187,252,79,252,234,255,179,1,207,255,66,255,138,255,139,253,168,255,216,4,233,5,132,253,229,251,5,252,221,254,189,0,3,1,255,254,42,254,139,253,145,0,177,3,126,3,186,254,148,254,186,251,31,2,4,1,118,2,54,255,189,0,47,255,101,1,99,5,43,8,199,253,205,251,87,250,54,253,17,255,151,3,92,254,63,253,172,255,147,255,142,255,103,9,99,254,239,253,103,251,226,1,112,1,131,0,70,255,184,255,125,255,93,3,231,4,196,4,157,253,110,253,195,250,227,0,135,255,119,2,80,255,23,254,38,255,233,2,151,4,189,3,191,254,108,255,88,252,159,2,198,3,216,0,84,1,253,255,113,255,213,1,56,7,133,9,39,253,63,252,109,249,43,255,2,255,65,1,1,254,74,254,247,253,130,255,213,2,135,3,172,254,83,253,248,251,60,1,224,1,20,0,23,0,167,255,217,253,97,1,27,4,253,6,224,253,11,253,172,250,42,1,231,255,180,1,156,255,120,254,249,253,211,1,242,2,54,4,46,255,114,254,202,251,108,2,146,2,118,2],"i8",_t,Ne.GLOBAL_BASE+10240),Lt([33,0,147,0,78,255,153,3,151,6,129,7,187,254,240,253,70,248,2,0,227,254,142,3,141,254,22,254,26,255,0,0,85,2,218,7,16,254,117,254,190,252,37,0,177,3,245,0,181,0,96,255,112,255,201,5,93,5,77,5,157,254,167,253,10,251,42,1,66,1,160,2,63,255,176,254,77,0,65,4,253,5,154,3,177,0,217,255,155,251,228,3,13,3,24,2,200,1,110,1,80,254,135,5,136,9,231,8,46,254,10,253,235,246,209,254,3,254,131,1,41,253,211,253,66,0,111,255,131,2,224,4,224,253,92,253,108,252,31,255,94,3,76,2,104,255,40,0,235,253,167,1,143,5,22,6,196,253,181,252,135,251,128,255,85,0,205,1,18,255,255,254,184,253,93,2,236,2,93,3,24,0,54,255,127,250,29,3,231,1,47,1,75,255,108,1,74,255,104,2,98,5,126,11,18,254,172,252,95,250,220,254,61,0,44,3,172,255,45,253,74,255,43,2,20,2,226,5,147,254,19,254,223,251,54,3,76,2,11,0,242,255,238,255,26,255,233,3,121,5,171,5,38,254,199,253,244,250,46,1,62,0,38,4,186,255,136,254,34,255,214,3,206,3,125,4,60,255,22,255,229,252,223,1,74,4,243,1,106,1,58,0,70,0,123,4,21,8,41,11,25,254,146,252,224,248,73,0,224,254,92,1,154,254,12,254,4,254,199,0,209,2,218,4,178,255,71,253,229,252,105,1,24,2,196,0,118,1,110,0,33,253,79,3,27,4,104,7,146,254,55,253,98,251,59,1,64,1,173,1,72,0,41,255,62,254,247,2,118,3,83,5,226,255,84,254,190,252,93,3,115,2,28,3,118,0,212,1,233,254,75,5,91,7,101,7,68,255,126,253,180,249,63,0,81,255,174,4,94,254,45,255,51,0,158,1,75,2,41,10,22,255,211,253,166,252,168,1,121,3,222,0,136,0,155,255,83,0,133,5,230,8,103,5,172,255,67,254,147,250,158,1,57,1,21,4,29,0,169,254,65,0,16,6,111,6,212,3,183,0,165,255,195,252,249,4,133,5,104,1,41,2,16,1,149,255,51,6,77,12,43,10,104,5,29,8,92,13,244,19,86,26,186,31,135,38,84,43,170,49,133,53,61,254,215,251,239,253,231,250,62,254,12,253,15,254,161,252,128,254,149,253,99,254,99,253,195,254,230,253,181,254,212,253,98,254,4,254,88,254,134,254,238,254,188,254,78,254,154,253,30,255,12,254,24,255,254,253,249,254,135,254,214,254,102,254,105,255,58,253,82,255,206,252,107,255,100,254,100,255,83,254,224,254,50,254,70,255,53,255,86,255,210,254,65,255,191,254,125,255,109,255,215,254,117,254,28,255,42,255,11,255,64,255,189,255,196,254,185,255,185,254,152,255,51,255,162,255,73,255,113,255,218,255,63,255,161,255,16,0,180,255,132,255,8,255,23,0,19,255,24,0,12,255,18,0,120,255,44,0,145,255,223,255,232,255,231,255,0,0,149,0,19,0,23,0,113,255,158,0,87,255,174,0,75,255,133,0,201,255,165,0,230,255,111,0,84,0,98,0,75,0,87,0,183,0,141,255,245,255,248,255,130,0,11,0,170,0,254,0,77,0,205,0,17,0,183,0,112,0,6,1,194,0,202,0,31,1,95,0,189,0,214,255,151,255,234,0,179,0,39,0,186,0,163,0,89,1,76,1,199,0,43,1,161,0,202,255,29,1,178,255,25,1,123,255,141,0,74,255,111,0,249,0,85,1,15,1,108,1,93,0,147,1,75,0,135,1,92,0,254,1,118,255,220,0,71,255,227,255,222,255,105,1,141,255,64,1,3,0,42,2,99,0,30,1,218,0,79,2,11,255,150,1,244,254,197,1,0,0,68,2,25,0,94,2,19,1,20,2,148,0,194,1,183,255,227,2,227,254,6,2,224,254,94,0,53,255,162,2,116,255,182,255,205,0,202,2,142,255,43,1,176,0,155,3,182,0,45,2,240,0,193,2,240,255,1,2,229,1,81,2,37,1,128,1,195,1,105,2,218,255,50,0,51,2,17,2,47,1,209,0,203,1,107,1,177,1,196,1,194,1,198,1,111,1,94,2,221,1,229,2,176,1,97,1,112,1,11,1,105,1,204,2,17,1,71,2,197,1,166,0,254,1,172,0,201,0,117,2,18,1,191,0,56,2,127,2,46,1,42,1,122,2,131,1,131,2,94,1,75,2,48,2,100,2,53,2,88,2,20,3,231,1,160,2,0,2,247,3,65,1,77,1,101,1,86,3,131,255,157,1,218,1,200,2,17,0,105,255,52,2,29,1,14,1,15,255,203,3,121,3,233,1,220,0,254,1,128,3,37,2,156,3,71,1,57,3,34,1,143,3,28,2,84,4,158,0,37,3,199,0,189,3,255,1,218,2,100,0,106,3,13,0,23,3,179,1,120,2,164,2,204,3,249,0,132,3,211,1,194,4,13,3,50,4,73,2,17,3,233,255,157,2,11,1,19,4,107,2,60,4,103,2,121,4,110,2,137,3,148,3,25,4,80,0,75,1,72,2,51,4,89,0,127,2,220,3,193,3,2,3,208,2,30,3,187,2,236,1,191,1,131,3,115,2,15,1,164,4,213,2,53,5,87,0,91,2,64,3,67,6,104,2,103,4,122,3,225,5,232,3,132,4,98,3,241,3,227,3,59,3,125,4,90,3,49,3,170,5,5,3,40,5,244,1,109,5,56,1,129,4,236,255,60,4,64,0,3,5,2,0,148,4,143,1,77,7,2,2,170,6,246,1,100,6,118,3,242,5,160,1,88,2,107,4,70,5,251,4,110,5,121,3,3,7,146,3,230,6,227,0,159,4,226,4,34,7,249,1,62,7,151,3,49,9,57,255,175,1,152,0,199,6,43,255,228,255,136,1,54,5,103,255,204,255,210,3,127,4,189,254,112,254,45,3,167,6,120,255,84,0,169,5,223,7,181,254,113,255,119,255,168,4,0,255,22,2,99,255,7,4,205,254,73,254,30,2,219,2,183,254,92,254,159,255,104,2,150,254,88,255,190,254,110,1,9,255,146,255,45,255,89,0,60,255,203,254,20,0,59,0,148,254,49,254,226,254,89,0,176,254,175,0,80,254,141,0,133,254,66,255,78,254,60,255,177,255,150,0,234,254,29,255,232,254,166,0,213,253,90,254,101,255,29,2,146,254,54,0,227,255,173,255,211,254,250,252,186,0,116,2,115,254,248,254,242,0,37,1,59,255,183,253,124,0,154,1,53,0,123,255,10,0,84,1,198,253,215,251,65,0,66,254,68,0,19,254,127,1,169,3,155,254,57,253,153,254,6,255,91,253,212,251,36,1,230,255,107,1,6,0,95,2,33,5,129,255,246,255,233,5,94,7,201,2,204,3,189,5,133,8,163,5,224,7,161,249,192,249,252,248,14,247,253,251,22,249,180,251,23,248,3,251,148,250,169,250,2,250,77,252,75,250,52,252,12,250,25,252,58,251,4,252,108,251,209,252,37,252,32,252,165,250,64,251,18,252,247,250,186,251,24,253,12,251,13,253,243,250,162,252,101,252,119,252,40,252,90,253,229,251,83,253,230,251,193,251,39,252,218,251,89,253,35,252,127,253,153,251,48,252,6,253,114,253,134,252,218,252,191,252,189,251,62,253,139,253,147,253,218,252,128,253,212,252,249,252,134,253,245,252,225,253,28,252,203,253,205,251,188,253,222,253,157,253,196,253,149,253,8,253,222,254,145,252,242,253,201,252,50,254,229,252,3,255,215,253,97,254,179,253,73,254,235,253,172,254,76,253,89,252,7,254,252,252,66,253,149,251,249,254,206,254,53,252,29,254,67,254,182,255,213,253,220,253,154,253,127,255,75,253,22,255,116,254,10,255,37,254,6,255,247,254,108,254,136,254,254,253,95,254,2,254,212,254,199,254,178,254,104,253,49,254,210,252,126,254,64,253,175,254,153,253,22,255,55,255,23,255,17,255,89,255,201,253,53,255,149,253,109,255,97,254,141,255,160,254,90,255,18,253,85,255,7,253,242,254,145,252,248,254,121,252,145,254,24,253,43,0,37,254,14,0,115,253,43,0,98,253,11,0,64,254,197,255,247,253,130,255,137,255,101,255,155,253,214,255,161,252,229,255,93,252,136,0,29,254,183,0,44,254,55,0,214,254,55,0,208,254,57,1,159,253,57,1,48,253,66,1,89,255,100,0,227,253,253,255,137,255,145,255,69,255,233,0,20,255,4,1,22,255,26,0,91,255,134,0,211,255,216,255,219,253,104,1,53,255,122,1,124,254,194,1,129,254,19,1,20,0,182,0,153,255,246,0,145,255,175,1,37,0,206,1,110,255,231,1,99,255,228,254,197,255,247,1,72,255,24,0,53,0,253,255,54,0,122,0,3,1,77,1,66,0,228,1,104,0,180,1,68,0,195,0,116,0,190,0,206,0,13,1,247,255,226,1,96,1,126,1,29,1,143,1,21,1,196,1,0,1,69,0,186,0,13,0,41,1,243,255,3,1,161,255,30,0,56,0,138,1,196,0,169,1,205,0,200,1,25,1,65,2,15,0,191,0,119,1,34,1,151,1,64,2,200,255,227,0,32,2,149,1,0,0,37,2,164,255,16,2,27,255,95,1,11,255,82,1,150,254,179,1,167,0,15,2,181,255,46,1,91,0,56,3,129,0,87,2,240,1,167,2,186,0,237,2,153,0,225,2,231,254,88,2,164,254,103,2,20,255,1,3,41,0,113,3,38,0,122,3,36,255,73,3,155,254,115,3,119,254,135,3,134,253,218,1,68,254,82,3,81,255,166,2,19,254,242,0,249,253,17,3,54,253,70,2,227,253,110,1,225,253,178,1,171,253,244,1,3,253,222,0,66,253,149,3,25,253,194,3,155,252,245,1,125,252,36,2,133,254,200,0,77,254,157,0,205,252,214,0,163,252,157,0,154,253,40,0,136,253,94,0,141,252,202,255,27,253,4,2,11,254,42,1,154,253,85,255,154,252,95,255,159,252,233,255,206,252,93,0,9,252,245,254,106,253,153,254,219,253,2,0,70,254,135,255,135,254,0,0,29,255,33,0,98,254,130,255,127,255,212,0,90,252,34,0,198,251,230,254,161,251,244,254,58,253,199,252,92,254,65,255,204,251,96,252,107,252,163,255,140,253,154,254,97,0,7,0,50,255,119,254,155,255,24,0,53,255,38,0,88,255,83,0,169,253,89,254,233,254,170,1,68,253,118,0,181,255,206,0,43,252,95,253,88,253,161,1,145,254,37,0,233,254,218,1,127,255,194,254,63,1,40,1,142,253,217,255,87,1,90,2,72,253,217,255,209,254,172,3,104,0,233,0,132,254,137,0,220,255,13,1,181,255,42,255,120,0,43,0,239,253,35,254,203,1,164,0,54,255,27,255,207,255,89,255,97,2,24,3,98,0,36,255,147,3,148,0,37,1,27,1,101,3,91,0,63,2,138,1,70,1,178,255,205,2,67,0,109,1,189,254,104,2,220,255,219,2,27,0,107,2,238,0,120,2,17,1,192,1,99,0,33,3,220,1,101,3,17,1,173,2,64,0,21,3,72,0,253,3,217,0,25,3,203,1,222,2,104,1,134,2,224,1,104,1,66,1,173,1,208,1,126,2,174,1,244,2,107,1,232,3,148,1,171,2,16,2,90,2,103,2,143,2,157,1,178,3,175,2,169,3,90,2,136,3,92,2,43,2,225,2,18,3,150,2,211,1,142,2,106,1,77,2,161,3,198,2,242,1,222,1,159,1,164,1,181,2,115,3,45,3,171,2,13,3,157,3,145,3,171,3,214,2,220,2,235,1,85,3,19,2,180,3,222,2,195,3,59,1,40,3,249,2,243,2,120,4,248,2,143,2,52,4,58,3,33,4,67,4,70,3,235,3,40,3,23,4,109,4,147,2,77,4,224,3,26,4,50,4,51,4,203,3,182,2,202,4,30,4,59,2,73,3,116,3,124,5,99,5,72,4,56,4,93,3,207,4,223,2,4,5,248,2,248,4,223,3,87,5,29,4,233,4,188,2,26,4,22,2,220,3,197,1,240,4,87,2,116,4,167,2,85,6,47,3,104,5,9,2,37,5,137,1,28,6,37,3,168,5,174,2,44,4,136,2,107,3,51,1,59,4,105,1,23,4,61,1,137,5,196,3,163,2,59,2,128,4,79,0,90,4,209,255,250,5,55,1,185,6,58,1,142,4,177,2,2,2,162,255,93,1,26,1,132,5,72,1,1,4,231,1,191,255,57,0,37,3,202,3,36,0,62,0,1,3,249,254,23,3,166,254,125,2,187,2,119,255,108,2,22,2,29,2,33,253,194,0,199,2,44,1,244,254,161,252,158,3,1,3,60,253,84,254,250,1,174,0,132,252,138,253,179,1,35,2,101,250,254,254,109,2,215,1,6,252,168,250,119,254,9,2,104,252,82,253,231,255,20,0,42,252,124,251,84,1,9,0,234,249,145,251,160,254,48,0,213,249,110,254,137,252,6,0,124,251,136,252,220,253,160,254,149,249,112,251,97,255,98,2,24,248,61,252,31,255,193,0,136,249,88,248,11,255,19,254,60,252,112,249,88,252,133,253,237,250,48,249,148,250,164,253,252,249,189,252,139,250,121,255,204,249,222,254,122,249,56,253,37,248,160,249,129,249,229,255,46,247,213,252,123,251,184,0,15,251,189,0,169,250,74,2,37,248,201,0,234,252,200,2,70,251,3,0,247,251,40,3,29,251,62,3,145,255,123,2,156,249,191,1,49,254,75,252,67,254,96,252,8,254,118,251,11,254,69,251,144,0,161,254,140,254,228,251,229,254,221,251,233,254,157,251,193,253,98,250,181,253,178,249,89,252,40,252,229,0,178,2,103,252,49,253,109,254,82,5,83,253,47,254,106,3,141,1,3,254,210,255,61,1,54,5,27,254,200,1,45,3,183,1,101,254,83,1,130,3,43,4,87,254,46,0,161,5,241,1,115,252,224,252,185,5,22,4,2,255,191,254,150,5,141,4,68,0,94,1,10,4,154,2,114,1,11,0,31,5,22,3,143,0,232,0,17,4,26,6,142,255,151,2,80,6,54,4,198,1,67,2,251,4,16,4,180,255,141,3,240,2,43,4,153,0,0,2,92,1,190,4,102,2,129,1,51,7,40,3,13,1,10,4,203,0,62,4,140,2,249,3,247,6,106,4,173,1,47,5,131,1,104,5,207,255,159,4,184,255,191,4,96,254,233,3,32,2,213,6,160,254,199,4,10,254,175,4,179,253,57,2,29,255,94,6,114,255,42,6,26,255,179,6,54,253,8,5,186,252,118,5,107,4,77,5,48,255,208,4,181,1,197,3,95,252,50,3,43,3,130,5,91,3,227,5,164,0,188,4,107,5,1,7,228,1,82,7,200,1,15,8,228,3,146,4,46,5,122,5,36,5,80,5,111,4,238,4,210,4,82,6,81,5,232,6,141,5,203,4,48,6,67,5,86,3,160,2,149,6,30,6,115,4,246,4,224,7,33,7,237,6,45,6,252,5,180,5,207,5,178,3,123,6,253,3,208,6,188,4,112,5,209,3,236,6,137,4,34,7,140,4,182,6,149,5,181,7,55,6,161,4,96,3,84,8,37,4,7,7,46,3,46,7,245,2,56,8,35,5,6,8,234,4,65,8,147,3,27,9,162,3,187,5,123,4,30,10,159,5,197,8,208,6,42,8,84,6,54,9,174,5,106,10,226,5,84,7,45,7,22,8,183,7,203,6,41,6,170,2,9,5,48,6,253,7,174,5,50,8,194,9,212,7,151,10,18,8,214,2,52,6,196,10,32,9,228,0,79,3,152,9,123,6,36,0,45,1,150,7,165,7,66,254,160,255,106,8,116,5,253,5,77,4,14,0,96,2,101,252,36,253,103,5,190,7,65,5,184,3,88,253,65,1,1,5,244,4,198,249,109,1,173,3,178,3,55,249,202,252,70,9,227,10,29,7,228,10,236,248,29,247,169,248,23,246,152,249,200,248,97,249,44,248,60,251,136,248,59,251,198,247,233,249,204,249,219,249,236,249,85,251,177,249,56,251,65,249,177,250,129,251,176,249,100,248,6,251,145,250,231,250,133,250,185,249,101,251,116,249,225,250,93,250,58,250,169,250,126,252,24,251,221,251,205,250,146,251,42,252,147,251,131,251,32,250,200,251,228,250,4,252,97,251,44,252,50,250,57,252,41,250,36,252,102,252,233,251,203,251,186,252,101,251,166,252,58,251,149,251,239,251,216,251,1,253,152,252,123,251,67,253,144,252,62,253,118,252,250,252,8,252,190,253,200,251,223,252,58,250,177,253,169,251,176,253,134,251,55,253,148,250,128,253,160,250,171,253,221,251,96,254,121,252,82,253,192,252,107,253,60,253,68,254,156,252,22,254,103,252,138,254,248,252,149,253,110,251,183,253,219,253,255,252,229,252,77,254,109,253,238,253,27,253,14,254,187,252,155,254,171,253,233,254,153,252,13,255,137,252,230,254,103,253,232,254,101,253,91,255,208,253,118,254,121,252,150,254,102,254,64,254,185,253,103,254,194,253,199,254,155,254,131,253,220,253,198,253,76,254,128,252,8,254,130,254,11,253,198,255,31,254,91,255,150,253,65,255,138,254,22,255,130,254,34,255,85,253,231,255,32,254,94,254,153,254,38,253,159,254,188,254,99,255,80,254,190,254,118,254,209,254,228,254,152,255,167,253,223,254,212,253,60,255,180,253,106,255,109,253,160,253,39,254,232,255,188,255,64,254,38,254,248,255,6,254,211,255,20,253,72,255,180,252,4,255,123,252,165,255,184,253,159,255,116,253,138,0,4,253,125,255,90,253,244,255,98,253,165,0,253,254,253,255,184,252,149,255,115,252,37,0,32,252,44,0,170,252,97,254,185,252,13,0,23,252,241,254,254,251,203,254,226,252,34,254,192,252,24,254,81,252,168,0,168,251,125,254,95,251,155,255,97,251,216,255,83,252,196,254,250,251,254,252,236,251,143,253,199,251,230,253,56,251,213,254,224,250,76,254,83,251,105,253,113,251,95,255,64,251,78,253,43,251,193,252,104,250,48,253,133,250,19,254,126,252,28,253,102,252,223,252,178,251,110,254,213,249,60,252,219,251,130,253,11,251,98,250,37,250,90,252,34,250,129,252,194,249,204,253,69,249,51,253,162,253,171,253,114,251,195,251,167,250,44,254,102,248,43,250,210,248,71,252,116,248,93,252,37,250,68,255,157,249,91,254,79,250,174,254,88,250,234,255,106,248,90,254,42,248,7,255,16,254,142,255,138,248,13,253,247,250,174,0,85,250,147,255,30,254,255,254,59,251,4,254,175,249,151,0,98,249,208,0,114,253,107,0,141,249,29,0,139,251,23,1,65,251,50,1,52,251,6,254,38,253,81,255,44,251,155,255,55,252,39,2,154,252,22,1,201,252,59,1,205,253,120,1,229,251,228,0,5,254,24,1,169,253,25,1,10,253,253,0,207,254,123,1,13,253,122,255,157,253,148,2,200,252,24,2,207,252,134,2,99,254,49,0,171,254,177,0,59,254,14,2,30,254,77,2,185,255,83,1,111,253,8,1,12,255,39,1,19,255,59,1,125,254,57,2,6,254,247,255,135,254,14,0,96,255,149,2,40,255,40,0,204,254,210,255,95,0,214,0,14,255,167,0,170,255,192,0,200,255,27,0,180,255,31,0,36,0,53,1,150,255,74,255,143,255,74,0,71,254,234,255,23,0,139,0,81,0,245,255,44,0,15,0,169,255,119,255,138,255,49,255,98,255,198,255,16,1,164,255,100,255,71,254,8,0,120,255,128,0,35,255,101,0,38,255,40,0,59,255,180,255,56,254,9,0,67,254,33,0,89,254,226,0,60,0,73,0,34,255,156,0,113,254,24,1,194,254,245,0,171,254,166,0,13,254,83,1,66,255,71,1,37,255,69,1,119,255,167,255,172,253,100,0,141,253,144,0,91,253,231,1,28,0,252,0,121,254,214,0,215,255,26,1,228,255,99,0,226,254,75,1,49,0,203,1,124,254,53,2,143,254,180,1,28,0,80,1,247,255,141,1,89,255,106,2,34,0,84,2,239,255,49,2,116,255,43,1,79,0,10,2,125,0,203,0,2,0,244,0,32,1,255,0,211,0,175,0,82,0,84,2,187,0,5,2,108,0,125,1,255,0,109,1,41,1,241,1,96,1,71,1,174,255,25,0,210,0,115,1,245,0,5,1,3,0,33,2,193,1,140,0,38,1,44,0,39,1,212,0,91,1,244,0,238,1,75,1,16,2,201,0,51,1,93,1,155,1,101,2,28,1,102,2,157,1,208,1,66,1,112,2,141,1,97,0,200,0,96,255,128,1,149,0,106,1,239,1,13,2,13,1,73,2,33,0,235,1,135,255,177,1,171,1,99,2,242,1,4,2,171,0,187,1,241,1,154,2,184,1,19,1,54,2,63,2,146,0,127,2,155,0,158,2,223,255,173,0,212,0,184,2,90,255,89,2,65,255,183,2,23,254,247,1,175,0,230,2,214,0,220,1,116,1,59,4,66,2,18,2,74,2,9,3,169,1,106,3,59,1,73,3,118,1,80,3,91,255,53,2,35,0,223,3,217,255,38,4,73,1,200,2,18,3,72,3,133,2,27,3,149,2,164,2,59,2,150,3,120,2,55,4,161,2,49,3,62,1,132,1,106,3,244,3,52,2,80,3,112,3,108,2,45,2,223,1,159,2,197,1,180,2,212,1,72,3,130,2,76,3,133,2,250,1,172,1,129,3,55,2,69,3,131,1,194,3,243,1,179,2,49,2,171,3,158,3,15,3,40,1,22,3,12,1,4,4,18,2,106,3,73,1,36,2,143,0,163,2,35,1,247,1,66,0,17,4,103,1,18,3,97,0,37,3,33,0,69,3,214,1,255,1,49,0,68,4,71,1,150,4,67,1,3,0,242,0,104,3,218,1,177,2,173,1,49,5,166,2,18,4,108,2,85,4,152,2,65,1,193,0,121,3,182,3,129,4,106,3,125,3,123,2,109,3,94,3,180,3,145,3,13,5,153,2,40,5,127,2,229,3,25,3,122,5,6,4,152,4,244,3,86,4,191,3,130,5,157,3,123,5,147,3,31,2,94,3,92,4,198,4,67,3,166,4,67,3,166,4,191,3,124,4,123,4,96,5,20,5,169,4,135,5,207,4,55,5,61,5,234,2,68,4,175,6,3,5,109,5,49,4,54,5,30,6,129,4,195,5,109,6,113,4,33,7,196,4,32,4,102,5,241,5,194,6,96,6,9,6,84,6,6,6,87,3,60,6,97,3,131,6,181,2,117,3,180,6,239,5,143,4,16,5,161,8,224,6,160,7,213,5,228,7,202,5,254,5,74,7,158,6,216,7,30,6,236,2,225,6,57,3,38,1,112,5,60,4,10,8,109,2,35,5,109,1,7,5,198,0,4,4,232,1,128,5,249,0,147,1,246,3,25,6,68,1,107,1,109,6,20,4,193,0,111,1,242,7,67,7,5,255,67,2,238,2,226,3,13,255,30,0,45,5,111,3,228,255,87,255,112,2,149,3,59,254,159,0,186,0,90,5,154,253,6,0,25,2,136,1,162,255,221,254,13,3,229,0,128,255,214,254,245,0,235,1,67,253,120,253,204,3,21,3,11,254,128,253,178,0,255,0,147,254,122,254,1,255,61,1,66,252,218,254,65,255,228,0,249,252,65,254,157,0,19,255,111,253,48,253,105,254,92,0,139,255,157,253,78,1,26,255,89,253,196,251,112,255,195,254,123,252,163,252,30,253,152,254,171,255,41,253,166,255,237,252,100,0,234,255,121,254,249,254,200,255,183,255,175,254,14,253,5,0,67,255,62,253,144,253,89,0,168,254,121,255,167,251,159,254,19,255,84,253,145,251,237,254,178,251,243,254,77,251,152,0,145,0,46,253,48,251,49,0,80,0,32,251,248,252,8,255,135,1,36,253,221,253,213,1,218,0,1,255,160,252,69,0,110,1,90,255,27,254,80,253,191,0,68,251,84,251,86,255,87,255,228,250,161,249,65,1,214,1,117,250,37,251,192,255,16,1,175,250,8,255,236,1,53,2,47,253,159,253,195,0,229,1,195,253,123,255,171,1,202,0,85,255,138,255,199,0,63,2,2,0,225,255,182,2,243,2,170,250,217,255,40,2,45,2,23,254,15,1,168,2,25,2,13,0,59,254,87,3,186,3,123,255,204,255,175,255,226,2,111,251,125,2,31,4,35,4,161,255,164,2,235,4,57,4,233,1,49,1,63,254,186,3,234,253,228,3,55,252,98,3,222,251,35,4,242,250,106,2,120,250,105,2,54,254,86,5,97,255,29,7,250,252,240,253,242,255,86,4,78,251,123,252,252,252,177,1,24,251,25,251,13,252,210,254,166,253,183,253,9,253,174,249,8,253,243,249,184,252,127,248,208,252,229,253,23,249,69,247,29,255,220,255,14,248,217,248,197,247,154,251,89,246,232,248,66,250,252,0,115,245,97,254,197,253,45,254,229,5,18,6,132,8,183,7,22,9,228,7,191,248,111,249,191,248,37,249,248,247,130,251,170,247,138,249,173,249,181,251,88,249,149,251,191,250,184,249,177,250,154,249,198,250,243,250,211,250,15,251,128,249,143,249,49,250,173,252,190,250,216,248,123,250,116,247,254,250,87,253,7,249,143,249,58,252,198,251,97,251,116,249,226,251,207,251,138,251,122,251,73,251,24,253,6,251,27,252,90,252,153,250,97,252,120,250,14,252,231,250,241,252,69,252,231,251,124,252,31,252,207,252,31,253,201,252,52,252,91,251,30,253,186,251,30,253,126,251,240,252,223,252,214,252,238,252,132,252,248,253,24,252,206,252,124,253,59,252,191,253,142,252,227,253,74,253,97,253,107,252,173,253,126,253,122,253,153,253,68,252,147,253,99,252,253,253,41,253,29,254,209,252,27,254,184,252,190,253,72,254,55,253,190,253,187,254,111,253,98,253,126,254,198,253,71,254,102,253,254,253,237,252,120,254,239,253,246,253,59,254,25,254,89,254,152,253,183,253,151,253,99,255,106,253,244,254,88,253,164,254,190,254,189,254,136,253,68,254,208,254,82,254,180,254,54,254,235,254,44,254,109,253,231,252,193,254,132,253,29,255,214,253,139,254,165,254,178,254,46,255,56,254,64,255,238,253,14,255,40,255,58,255,146,254,142,254,174,254,95,255,103,254,20,253,149,255,132,254,218,254,125,253,33,255,103,253,22,255,27,253,115,255,16,254,126,255,2,254,117,255,185,254,84,255,207,254,206,254,188,253,92,255,249,254,250,254,84,255,189,255,110,254,31,0,146,254,246,255,76,254,170,255,241,253,71,0,135,254,234,255,159,253,244,255,90,253,189,255,193,254,63,0,65,255,35,0,75,255,217,255,14,255,126,0,89,255,116,255,224,253,155,0,215,254,174,0,215,254,38,0,248,255,117,0,132,254,197,0,60,254,240,0,246,253,223,0,153,255,110,0,69,255,87,0,101,255,169,0,209,255,157,0,26,0,173,255,156,255,128,0,80,0,209,0,194,255,6,0,7,0,22,0,5,0,62,1,236,255,248,0,211,255,56,255,193,255,156,0,187,255,250,0,73,255,113,1,130,255,143,255,180,255,114,255,134,255,192,255,2,255,225,255,35,0,79,255,185,255,249,255,171,0,93,0,27,0,108,0,212,0,182,254,47,255,133,255,186,255,233,254,95,0,160,255,20,0,68,255,195,255,198,254,87,0,212,254,178,255,158,254,122,255,11,0,122,0,116,255,122,0,237,254,152,0,219,254,140,0,174,255,138,0,191,254,145,255,32,254,100,255,153,254,76,0,2,255,216,255,133,253,160,255,246,253,79,0,5,254,8,0,244,254,47,1,229,253,68,0,66,254,61,0,246,253,50,1,111,0,189,0,77,254,122,0,133,254,166,0,197,253,114,254,136,253,182,255,21,253,161,255,57,254,194,0,72,252,83,0,226,252,192,0,13,253,192,0,243,252,94,255,149,253,234,0,105,253,215,254,24,254,147,255,60,252,124,255,186,252,188,255,181,252,58,0,168,251,170,255,219,252,213,254,80,252,3,255,246,252,206,255,59,252,219,253,160,254,158,255,32,252,169,254,163,251,197,254,163,251,205,254,125,251,138,254,131,253,26,255,114,251,213,255,237,250,156,255,99,252,119,254,6,251,168,253,79,253,126,255,57,250,200,254,215,250,2,255,72,250,70,254,244,250,155,253,19,251,9,254,35,250,144,254,214,250,26,0,104,250,190,255,49,249,95,255,148,249,45,254,32,249,220,253,143,250,200,253,236,249,153,252,41,250,246,251,149,250,197,253,131,248,240,253,9,249,133,255,151,248,25,255,250,247,189,254,252,247,118,252,72,248,201,253,131,248,148,253,1,248,35,252,203,251,142,254,17,248,64,253,205,246,19,253,76,245,191,251,139,248,159,0,36,248,248,0,142,253,133,255,221,246,62,252,99,253,104,254,157,250,106,251,60,254,148,254,236,251,33,253,124,255,183,0,172,249,16,253,221,253,205,254,247,252,19,251,158,255,41,0,144,252,189,251,255,254,97,0,190,249,215,248,31,0,230,255,124,253,207,253,76,255,222,253,127,254,185,251,102,254,222,252,98,254,197,252,55,254,54,252,22,254,171,251,41,255,108,252,112,255,87,252,19,254,11,251,251,253,29,250,181,0,101,0,180,254,135,252,188,252,87,252,209,253,83,254,139,253,221,253,73,255,175,254,223,253,174,255,6,255,226,254,5,0,124,255,164,254,4,255,219,254,40,254,98,255,100,0,227,255,197,0,20,255,88,254,163,252,43,255,116,255,249,255,85,254,69,254,187,0,159,255,84,253,32,253,219,254,2,1,144,254,104,255,106,255,136,1,159,253,175,0,114,255,43,1,118,255,152,0,137,255,73,1,26,254,204,255,37,1,198,0,73,255,117,0,175,0,75,1,198,255,238,254,231,0,44,1,224,254,74,1,207,254,116,1,145,255,153,1,247,255,167,1,83,0,0,1,67,0,111,1,237,255,248,0,91,0,113,0,221,255,150,1,65,255,154,0,238,0,40,1,5,0,197,0,141,0,221,0,57,1,198,0,211,0,165,1,244,0,78,1,88,0,170,1,13,255,198,1,202,0,40,2,251,255,147,1,35,1,185,0,219,0,45,1,251,0,138,0,128,0,69,0,197,0,32,1,116,255,195,255,188,0,105,1,197,0,86,2,186,1,17,1,34,1,143,0,216,1,226,1,157,0,114,1,159,1,65,1,116,1,129,1,146,1,40,2,155,0,24,0,38,2,7,1,245,255,21,0,104,1,227,0,147,0,2,255,168,1,97,0,110,1,243,255,119,1,141,0,193,1,232,0,140,1,251,1,218,1,16,1,189,2,68,1,106,1,209,255,75,2,148,0,31,2,69,0,144,1,205,255,49,2,59,0,220,0,246,255,96,1,147,0,206,0,211,0,141,2,185,0,51,2,41,1,53,2,28,1,82,2,121,0,254,2,192,0,142,1,118,0,130,2,178,1,233,0,8,1,225,1,211,1,129,0,91,255,187,2,239,0,90,0,26,0,86,1,218,1,201,255,27,0,132,1,94,0,84,255,0,0,213,2,123,1,196,255,81,1,114,1,209,1,95,0,63,1,38,3,83,2,78,0,4,1,241,1,83,3,210,0,48,2,202,1,62,2,48,254,202,0,241,1,113,2,54,255,152,0,48,0,200,2,236,255,54,2,100,0,203,2,199,1,212,1,155,1,93,2,63,1,134,2,195,0,103,2,145,1,26,2,168,2,227,2,201,0,155,2,178,1,186,3,198,1,169,1,134,2,235,1,94,2,169,2,160,1,252,1,241,1,54,3,170,1,47,3,148,2,135,2,116,2,204,2,185,2,210,1,106,2,201,1,173,2,204,1,109,1,53,1,209,2,55,2,68,3,89,2,97,2,44,1,57,3,203,1,175,3,175,2,169,2,21,2,147,3,86,2,79,2,243,0,108,3,195,1,106,3,164,1,18,3,61,1,220,2,220,0,154,3,61,1,84,4,111,1,19,2,210,1,4,4,137,2,29,4,103,2,10,4,41,2,61,3,90,2,253,3,31,3,159,3,35,3,110,3,251,2,31,3,240,1,93,5,5,3,73,2,2,3,35,3,162,3,75,4,25,3,198,4,94,3,185,4,127,3,1,4,215,2,4,3,77,3,148,4,91,4,99,3,253,3,62,3,245,3,73,3,142,3,250,1,191,2,215,4,53,4,108,2,51,3,172,4,59,4,131,4,57,4,118,4,139,3,11,6,97,4,29,5,136,2,63,5,100,2,204,5,220,3,199,5,169,3,217,3,48,5,187,3,61,5,173,1,142,3,73,3,58,5,52,2,155,4,156,1,132,4,147,5,40,5,154,5,50,5,128,2,248,2,190,6,130,5,190,0,43,2,49,4,237,3,170,1,1,1,71,3,212,3,235,0,231,0,240,5,143,4,109,0,37,1,246,3,33,6,49,1,142,0,124,4,27,2,221,254,148,255,189,4,204,3,22,0,40,255,155,2,60,3,30,254,182,1,197,1,151,5,187,253,90,254,21,3,131,1,154,254,58,254,174,0,12,3,220,255,140,254,134,1,122,255,139,253,160,0,206,254,239,2,22,251,181,254,177,0,10,2,8,255,62,2,5,255,127,2,237,253,151,1,172,253,138,1,93,254,21,3,151,253,33,3,38,252,143,1,167,252,215,2,249,255,6,2,65,253,54,1,137,251,232,255,22,252,31,1,64,252,107,1,237,250,56,1,2,250,245,0,235,249,49,1,28,0,153,0,165,252,81,255,223,255,76,1,138,250,102,255,212,0,154,1,175,253,59,255,188,251,64,253,120,252,191,255,26,1,111,1,106,252,82,253,89,1,93,0,254,254,155,254,184,2,132,2,75,253,228,255,192,1,237,1,239,254,193,0,15,2,34,2,13,255,255,253,128,1,120,255,17,1,159,254,0,2,114,255,25,2,58,255,173,3,238,2,83,0,248,0,66,2,93,3,200,255,80,2,74,3,44,0,124,3,24,0,33,0,122,3,240,255,214,3,63,3,118,5,255,5,106,7,180,6,96,5,156,7,185,5,22,252,95,252,184,251,77,251,127,253,93,252,164,253,63,252,245,252,95,253,189,252,236,252,96,254,104,253,54,254,2,253,116,253,247,253,106,253,17,254,1,252,3,254,1,252,84,254,68,254,216,253,144,254,63,254,33,254,45,255,226,251,121,252,196,254,7,255,199,253,177,253,199,253,237,254,227,253,65,255,52,253,68,255,182,252,248,254,179,254,8,255,194,254,28,255,237,254,1,0,201,253,28,255,141,255,35,255,18,255,138,254,59,255,5,254,34,255,189,253,254,254,80,254,195,255,12,255,167,254,2,0,174,254,39,0,41,255,87,255,198,255,0,0,200,255,250,255,53,255,125,255,1,0,70,255,251,255,45,255,6,0,132,254,11,0,94,254,140,255,131,0,122,255,113,0,89,0,252,255,71,0,254,255,237,255,64,255,6,1,24,0,189,0,151,0,123,255,147,255,186,0,103,255,166,0,37,255,37,0,139,0,193,0,171,0,81,1,124,0,158,0,195,255,141,0,226,0,243,255,190,0,231,0,34,0,98,1,109,0,60,1,201,0,244,0,164,0,74,1,171,255,134,1,172,255,254,0,71,1,1,1,79,1,235,1,147,0,220,1,105,0,54,0,77,0,181,1,114,1,165,1,58,1,193,1,86,1,73,1,126,0,161,2,36,1,59,2,132,1,243,0,193,0,141,2,64,1,109,2,24,1,194,0,124,1,5,2,69,2,45,0,67,1,111,0,166,1,233,1,139,1,222,2,22,2,110,2,34,2,230,1,246,1,62,1,60,2,189,0,38,2,129,1,166,1,99,255,153,0,131,255,126,1,59,255,130,1,249,254,78,1,228,0,185,2,68,255,1,0,51,0,41,1,5,254,213,0,136,254,141,1,232,255,255,0,221,253,89,0,10,254,162,255,131,1,179,0,148,253,68,0,84,253,112,0,126,253,162,254,252,254,172,0,74,254,188,254,8,1,136,2,60,252,252,255,159,251,7,0,122,255,134,0,147,251,206,254,143,0,96,0,92,254,15,254,59,251,162,254,9,250,83,253,95,255,72,0,105,3,179,2,220,2,27,1,153,3,97,1,78,1,219,1,71,4,53,3,96,3,12,2,75,3,241,1,202,2,199,2,20,3,238,2,52,4,202,2,180,4,241,2,65,2,150,2,124,245,170,192,38,3,44,7,95,251,33,228,37,12,28,4,40,248,202,208,85,16,107,5,192,249,99,218,69,9,145,5,232,249,78,219,176,12,193,7,210,251,214,230,35,7,16,9,184,252,64,236,173,3,242,12,199,254,163,248,47,9,161,11,41,254,234,244,32,14,116,9,247,252,183,237,123,13,24,12,98,254,70,246,139,11,205,16,72,0,178,1,56,7,148,17,139,0,68,3,44,15,40,21,157,1,180,9,163,4,42,28,67,3,166,19,11,12,40,35,139,4,90,27,216,28,115,3,37,247,177,202,74,23,226,5,58,250,60,221,35,20,86,8,61,252,88,233,8,31,217,7,228,251,65,231,107,25,202,8,139,252,49,235,246,29,192,10,180,253,47,242,64,23,200,11,60,254,92,245,34,19,180,14,131,255,17,253,77,27,4,14,60,255,103,251,238,31,138,15,213,255,252,254,176,23,52,17,107,0,133,2,29,30,223,19,64,1,136,7,147,21,133,23,57,2,98,13,89,30,214,27,50,3,62,19,172,23,2,31,209,3,253,22,218,21,223,44,243,5,212,35,85,41,76,5,159,249,153,217,89,35,61,6,145,250,68,223,66,38,243,7,247,251,180,231,242,34,111,9,244,252,164,237,56,40,24,10,87,253,253,239,191,36,174,10,171,253,245,241,252,33,146,12,156,254,160,247,29,38,67,13,235,254,123,249,193,39,52,15,181,255,58,254,210,35,176,17,148,0,123,3,168,39,140,19,40,1,245,6,154,35,103,22,241,1,177,11,4,41,122,24,116,2,198,14,126,39,207,29,151,3,158,21,140,34,23,34,93,4,72,26,252,34,208,48,112,6,193,38,124,50,208,3,185,247,47,206,171,44,219,6,28,251,141,226,106,47,24,9,189,252,96,236,124,44,64,9,214,252,248,236,204,41,248,11,83,254,236,245,44,48,45,11,238,253,136,243,202,45,255,12,205,254,200,248,6,44,116,14,106,255,120,252,109,42,61,17,110,0,151,2,50,47,181,17,150,0,134,3,19,44,85,20,98,1,84,8,184,46,161,24,125,2,253,14,159,43,110,29,132,3,44,21,96,47,137,32,25,4,168,24,217,42,25,42,149,5,156,33,60,40,224,67,87,8,53,50,75,54,145,6,220,250,15,225,36,49,253,7,254,251,221,231,209,51,135,9,2,253,254,237,209,54,173,11,47,254,14,245,140,52,26,12,99,254,78,246,108,48,74,14,89,255,18,252,198,52,196,14,137,255,55,253,80,50,176,16,62,0,118,1,221,52,253,18,253,0,243,5,123,49,81,21,168,1,248,9,30,54,218,23,78,2,223,13,231,50,83,25,166,2,244,15,245,52,41,30,169,3,7,22,157,50,95,36,189,4,136,28,146,53,31,45,252,5,5,36,47,49,102,59,146,7,147,45,9,59,4,6,91,250,4,222,224,58,29,9,192,252,113,236,191,56,207,9,45,253,0,239,100,57,127,12,147,254,107,247,22,60,232,13,49,255,33,251,53,55,120,15,206,255,212,254,254,58,140,16,50,0,42,1,252,55,216,18,242,0,174,5,254,57,75,21,166,1,238,9,202,59,195,23,72,2,190,13,249,55,232,26,0,3,15,18,212,58,9,30,162,3,226,21,70,56,210,36,207,4,245,28,27,60,13,38,0,5,26,30,232,57,191,55,52,7,94,43,32,53,107,97,109,10,195,62,12,64,177,7,198,251,139,230,177,65,16,11,223,253,45,243,97,61,27,11,229,253,80,243,232,62,8,13,209,254,223,248,0,64,123,15,207,255,218,254,44,66,227,17,165,0,224,3,95,61,247,17,171,0,6,4,94,63,72,21,165,1,233,9,192,65,238,24,143,2,105,15,129,61,229,27,53,3,80,19,198,63,45,29,120,3,223,20,227,64,176,33,76,4,222,25,132,66,178,40,99,5,111,32,33,62,41,46,29,6,207,36,238,65,98,57,95,7,96,44,131,64,134,81,102,9,147,56,222,70,35,8,25,252,131,232,201,75,106,12,137,254,47,247,100,68,98,13,248,254,203,249,86,78,187,15,231,255,105,255,149,70,153,16,54,0,70,1,8,74,202,19,58,1,98,7,47,69,26,21,153,1,157,9,123,77,48,24,98,2,92,14,30,70,102,27,27,3,176,18,70,83,197,30,198,3,184,22,246,69,73,36,186,4,115,28,200,74,74,36,186,4,116,28,37,80,117,44,230,5,129,35,155,70,149,56,74,7,226,43,31,78,218,69,129,8,52,51,154,73,252,127,0,12,62,72,61,42,81,112,63,11,181,67,0,80,225,10,198,253,153,242,153,73,194,25,191,2,139,16,81,24,245,28,108,3,156,20,51,67,204,40,103,5,133,32,122,84,245,4,61,249,74,215,143,82,71,17,113,0,171,2,40,44,20,6,106,250,95,222,61,74,20,50,150,6,164,39,215,67,194,9,37,253,210,238,194,69,225,18,244,0,192,5,10,39,194,9,37,253,210,238,122,68,184,30,196,3,170,22,174,55,92,7,133,251,5,229,20,62,81,12,125,254,233,246,61,26,10,7,67,251,121,227,10,71,225,78,53,9,109,55,102,70,215,11,67,254,138,245,71,65,225,22,16,2,109,12,143,34,174,15,226,255,76,255,20,62,10,35,134,4,60,27,102,70,112,5,198,249,129,218,71,65,0,16,0,0,0,0,0,32,143,2,108,245,79,192,133,59,102,54,16,7,132,42,174,55,40,12,106,254,116,246,10,55,61,18,193,0,141,4,30,21,143,10,154,253,143,241,122,52,153,25,182,2,84,16,163,48,133,3,67,247,100,203,163,48,102,10,131,253,7,241,184,14,143,2,108,245,79,192,153,57,215,91,22,10,183,60,225,74,153,9,13,253,62,238,184,78,215,19,62,1,121,7,225,26,0,16,0,0,0,0,0,80,112,33,65,4,156,25,204,76,225,2,26,246,105,196,61,74,163,16,58,0,91,1,184,30,40,8,29,252,151,232,204,44,0,48,87,6,43,38,20,62,194,5,26,250,126,220,112,61,20,18,180,0,62,4,215,35,153,5,240,249,131,219,184,62,92,27,25,3,164,18,235,57,225,2,26,246,105,196,225,58,204,8,140,252,55,235,215,19,204,4,12,249,38,214,215,51,174,67,83,8,27,50,163,64,30,9,193,252,118,236,225,58,184,22,6,2,46,12,92,15,102,14,100,255,86,252,174,55,153,33,72,4,198,25,235,65,10,3,106,246,74,198,225,58,225,14,149,255,122,253,174,23,102,2,12,245,17,190,122,36,40,36,180,4,83,28,215,51,225,6,33,251,172,226,215,51,194,13,33,255,193,250,153,9,174,7,196,251,127,230,204,44,153,21,187,1,108,10,245,40,225,2,26,246,105,196,112,45,122,12,145,254,92,247,194,5,10,3,106,246,74,198,0,64,248,65,226,67,190,69,142,71,82,73,12,75,188,76,98,78,0,80,150,81,35,83,170,84,42,86,163,87,22,89,130,90,234,91,76,93,168,94,0,96,83,97,161,98,236,99,49,101,115,102,177,103,235,104,34,106,85,107,132,108,177,109,218,110,0,112,35,113,67,114,97,115,123,116,147,117,169,118,188,119,204,120,218,121,230,122,239,123,247,124,252,125,255,126,255,127,255,127,61,10,63,10,69,10,78,10,91,10,108,10,129,10,153,10,181,10,212,10,248,10,31,11,74,11,120,11,170,11,224,11,25,12,86,12,151,12,219,12,35,13,110,13,189,13,15,14,101,14,190,14,27,15,123,15,223,15,70,16,176,16,30,17,143,17,3,18,123,18,245,18,115,19,244,19,120,20,0,21,138,21,23,22,168,22,59,23,209,23,106,24,6,25,165,25,70,26,234,26,145,27,59,28,231,28,149,29,70,30,250,30,176,31,104,32,35,33,224,33,159,34,97,35,36,36,234,36,178,37,124,38,71,39,21,40,228,40,181,41,136,42,93,43,51,44,11,45,228,45,191,46,155,47,121,48,88,49,56,50,26,51,252,51,224,52,196,53,170,54,145,55,120,56,96,57,73,58,51,59,29,60,8,61,243,61,223,62,203,63,184,64,165,65,146,66,127,67,108,68,90,69,71,70,52,71,33,72,14,73,251,73,231,74,211,75,191,76,170,77,149,78,126,79,104,80,80,81,56,82,31,83,5,84,234,84,207,85,178,86,148,87,116,88,84,89,50,90,15,91,235,91,197,92,157,93,117,94,74,95,30,96,240,96,192,97,143,98,91,99,38,100,239,100,181,101,122,102,60,103,253,103,187,104,119,105,48,106,232,106,156,107,79,108,255,108,172,109,87,110,255,110,165,111,71,112,231,112,133,113,31,114,183,114,75,115,221,115,108,116,248,116,129,117,6,118,137,118,8,119,133,119,254,119,116,120,230,120,86,121,194,121,42,122,144,122,242,122,80,123,171,123,3,124,87,124,167,124,244,124,62,125,132,125,198,125,5,126,64,126,120,126,172,126,220,126,9,127,49,127,87,127,120,127,150,127,176,127,199,127,217,127,232,127,243,127,251,127,255,127,255,127,229,127,153,127,25,127,103,126,129,125],"i8",_t,Ne.GLOBAL_BASE+20480),Lt([106,124,33,123,167,121,252,119,34,118,24,116,223,113,122,111,231,108,41,106,65,103,47,100,245,96,149,93,15,90,101,86,153,82,171,78,158,74,116,70,45,66,204,61,82,57,193,52,27,48,98,43,151,38,189,33,213,28,226,23,230,18,226,13,216,8,203,3,61,10,64,10,73,10,88,10,108,10,135,10,167,10,205,10,249,10,43,11,99,11,160,11,227,11,44,12,122,12,207,12,40,13,136,13,237,13,87,14,199,14,60,15,183,15,55,16,189,16,71,17,215,17,108,18,6,19,165,19,73,20,242,20,159,21,82,22,9,23,196,23,133,24,73,25,18,26,224,26,177,27,135,28,97,29,62,30,32,31,5,32,238,32,219,33,203,34,191,35,182,36,176,37,174,38,174,39,177,40,184,41,193,42,204,43,218,44,235,45,254,46,19,48,42,49,67,50,94,51,123,52,154,53,186,54,219,55,254,56,34,58,71,59,109,60,148,61,188,62,228,63,13,65,54,66,96,67,138,68,180,69,221,70,7,72,48,73,89,74,130,75,169,76,208,77,246,78,27,80,63,81,98,82,132,83,164,84,194,85,223,86,250,87,19,89,43,90,64,91,83,92,99,93,113,94,125,95,134,96,140,97,143,98,144,99,141,100,135,101,126,102,114,103,98,104,79,105,56,106,30,107,255,107,221,108,183,109,140,110,94,111,43,112,244,112,185,113,121,114,53,115,236,115,158,116,76,117,245,117,153,118,55,119,209,119,102,120,246,120,129,121,6,122,134,122,1,123,118,123,230,123,81,124,182,124,21,125,111,125,195,125,17,126,90,126,157,126,219,126,18,127,68,127,112,127,150,127,183,127,209,127,230,127,244,127,253,127,255,127,255,127,244,127,208,127,149,127,66,127,215,126,85,126,188,125,12,125,69,124,104,123,117,122,108,121,78,120,28,119,213,117,122,116,13,115,140,113,250,111,87,110,162,108,222,106,11,105,40,103,57,101,60,99,51,97,30,95,255,92,215,90,165,88,108,86,44,84,229,81,154,79,74,77,247,74,161,72,74,70,243,67,156,65,71,63,244,60,164,58,88,56,18,54,209,51,152,49,103,47,62,45,31,43,11,41,2,39,5,37,21,35,51,33,95,31,155,29,231,27,67,26,177,24,49,23,195,21,105,20,34,19,239,17,209,16,201,15,214,14,249,13,50,13,130,12,232,11,102,11,252,10,169,10,109,10,73,10,61,10,61,10,63,10,67,10,74,10,84,10,96,10,111,10,129,10,150,10,174,10,200,10,229,10,5,11,39,11,77,11,117,11,159,11,205,11,253,11,48,12,101,12,157,12,216,12,22,13,86,13,153,13,222,13,38,14,113,14,190,14,13,15,96,15,181,15,12,16,102,16,194,16,33,17,130,17,230,17,76,18,180,18,31,19,140,19,252,19,110,20,226,20,88,21,209,21,76,22,201,22,72,23,202,23,77,24,211,24,91,25,229,25,113,26,254,26,142,27,32,28,180,28,74,29,225,29,123,30,22,31,179,31,82,32,242,32,149,33,57,34,222,34,133,35,46,36,216,36,132,37,50,38,224,38,145,39,66,40,245,40,169,41,95,42,22,43,206,43,135,44,66,45,253,45,186,46,120,47,54,48,246,48,183,49,120,50,59,51,254,51,194,52,135,53,77,54,19,55,218,55,161,56,106,57,50,58,252,58,197,59,144,60,90,61,37,62,240,62,188,63,136,64,84,65,32,66,236,66,185,67,133,68,82,69,30,70,235,70,183,71,132,72,80,73,28,74,231,74,179,75,126,76,73,77,19,78,221,78,166,79,111,80,56,81,0,82,199,82,142,83,84,84,25,85,221,85,161,86,100,87,38,88,231,88,167,89,103,90,37,91,226,91,158,92,89,93,19,94,204,94,131,95,57,96,238,96,162,97,84,98,5,99,181,99,99,100,15,101,186,101,100,102,12,103,178,103,87,104,250,104,155,105,59,106,217,106,117,107,16,108,168,108,63,109,211,109,102,110,247,110,134,111,19,112,158,112,39,113,174,113,50,114,181,114,53,115,179,115,47,116,169,116,33,117,150,117,9,118,122,118,232,118,84,119,190,119,37,120,138,120,236,120,76,121,170,121,5,122,94,122,180,122,7,123,88,123,167,123,242,123,60,124,130,124,198,124,8,125,71,125,131,125,188,125,243,125,39,126,89,126,136,126,180,126,221,126,4,127,40,127,73,127,103,127,131,127,156,127,178,127,197,127,214,127,228,127,239,127,247,127,253,127,255,127,255,127,97,125,160,117,15,105,48,88,181,67,116,44,98,19,68,101,99,111,100,101,114,0,101,110,99,111,100,101,114,0],"i8",_t,Ne.GLOBAL_BASE+30720);var Dn=Ne.alignMemory(Lt(12,"i8",Xe),8);vt(Dn%8==0);function Cn(N){var B=Cn;B.called||(ye=Ke(ye),B.called=!0,vt(Ne.dynamicAlloc),B.alloc=Ne.dynamicAlloc,Ne.dynamicAlloc=function(){jn("cannot dynamically allocate, sbrk now has control")});var J=ye;if(N!=0){var ne=B.alloc(N);if(!ne)return 4294967295}return J}function On(N){return S.___errno_location&&(ve[S.___errno_location()>>2]=N),N}var er={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function no(N){switch(N){case 30:return tr;case 85:return ie/tr;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return typeof navigator=="object"&&navigator.hardwareConcurrency||1}return On(er.EINVAL),-1}function Hn(N,B,J){return Y.set(Y.subarray(B,B+J),N),N}S._memcpy=vo,S._memmove=So,S._memset=No;function oo(){S.abort()}var io={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},Bn={ttys:[],init:function(){},shutdown:function(){},register:function(N,B){Bn.ttys[N]={input:[],output:[],ops:B},me.registerDevice(N,Bn.stream_ops)},stream_ops:{open:function(N){var B=Bn.ttys[N.node.rdev];if(!B)throw new me.ErrnoError(er.ENODEV);N.tty=B,N.seekable=!1},close:function(N){N.tty.ops.flush(N.tty)},flush:function(N){N.tty.ops.flush(N.tty)},read:function(N,B,J,ne,e){if(!N.tty||!N.tty.ops.get_char)throw new me.ErrnoError(er.ENXIO);for(var d=0,it=0;it<ne;it++){var ae;try{ae=N.tty.ops.get_char(N.tty)}catch{throw new me.ErrnoError(er.EIO)}if(ae===void 0&&d===0)throw new me.ErrnoError(er.EAGAIN);if(ae==null)break;d++,B[J+it]=ae}return d&&(N.node.timestamp=Date.now()),d},write:function(N,B,J,ne,e){if(!N.tty||!N.tty.ops.put_char)throw new me.ErrnoError(er.ENXIO);for(var d=0;d<ne;d++)try{N.tty.ops.put_char(N.tty,B[J+d])}catch{throw new me.ErrnoError(er.EIO)}return ne&&(N.node.timestamp=Date.now()),d}},default_tty_ops:{get_char:function(N){if(!N.input.length){var B=null;if(typeof window<"u"&&typeof window.prompt=="function"?(B=window.prompt("Input: "),B!==null&&(B+=`
`)):typeof readline=="function"&&(B=readline(),B!==null&&(B+=`
`)),!B)return null;N.input=$t(B,!0)}return N.input.shift()},put_char:function(N,B){B===null||B===10?(S.print(nt(N.output,0)),N.output=[]):B!=0&&N.output.push(B)},flush:function(N){N.output&&N.output.length>0&&(S.print(nt(N.output,0)),N.output=[])}},default_tty1_ops:{put_char:function(N,B){B===null||B===10?(S.printErr(nt(N.output,0)),N.output=[]):B!=0&&N.output.push(B)},flush:function(N){N.output&&N.output.length>0&&(S.printErr(nt(N.output,0)),N.output=[])}}},Vt={ops_table:null,mount:function(N){return Vt.createNode(null,"/",16895,0)},createNode:function(N,B,J,ne){if(me.isBlkdev(J)||me.isFIFO(J))throw new me.ErrnoError(er.EPERM);Vt.ops_table||(Vt.ops_table={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:me.chrdev_stream_ops}});var e=me.createNode(N,B,J,ne);return me.isDir(e.mode)?(e.node_ops=Vt.ops_table.dir.node,e.stream_ops=Vt.ops_table.dir.stream,e.contents={}):me.isFile(e.mode)?(e.node_ops=Vt.ops_table.file.node,e.stream_ops=Vt.ops_table.file.stream,e.usedBytes=0,e.contents=null):me.isLink(e.mode)?(e.node_ops=Vt.ops_table.link.node,e.stream_ops=Vt.ops_table.link.stream):me.isChrdev(e.mode)&&(e.node_ops=Vt.ops_table.chrdev.node,e.stream_ops=Vt.ops_table.chrdev.stream),e.timestamp=Date.now(),N&&(N.contents[B]=e),e},getFileDataAsRegularArray:function(N){if(N.contents&&N.contents.subarray){for(var B=[],J=0;J<N.usedBytes;++J)B.push(N.contents[J]);return B}return N.contents},getFileDataAsTypedArray:function(N){return N.contents?N.contents.subarray?N.contents.subarray(0,N.usedBytes):new Uint8Array(N.contents):new Uint8Array},expandFileStorage:function(N,B){if(N.contents&&N.contents.subarray&&B>N.contents.length&&(N.contents=Vt.getFileDataAsRegularArray(N),N.usedBytes=N.contents.length),!N.contents||N.contents.subarray){var J=N.contents?N.contents.buffer.byteLength:0;if(J>=B)return;var ne=1024*1024;B=Math.max(B,J*(J<ne?2:1.125)|0),J!=0&&(B=Math.max(B,256));var e=N.contents;N.contents=new Uint8Array(B),N.usedBytes>0&&N.contents.set(e.subarray(0,N.usedBytes),0);return}for(!N.contents&&B>0&&(N.contents=[]);N.contents.length<B;)N.contents.push(0)},resizeFileStorage:function(N,B){if(N.usedBytes!=B){if(B==0){N.contents=null,N.usedBytes=0;return}if(!N.contents||N.contents.subarray){var J=N.contents;N.contents=new Uint8Array(new ArrayBuffer(B)),J&&N.contents.set(J.subarray(0,Math.min(B,N.usedBytes))),N.usedBytes=B;return}if(N.contents||(N.contents=[]),N.contents.length>B)N.contents.length=B;else for(;N.contents.length<B;)N.contents.push(0);N.usedBytes=B}},node_ops:{getattr:function(N){var B={};return B.dev=me.isChrdev(N.mode)?N.id:1,B.ino=N.id,B.mode=N.mode,B.nlink=1,B.uid=0,B.gid=0,B.rdev=N.rdev,me.isDir(N.mode)?B.size=4096:me.isFile(N.mode)?B.size=N.usedBytes:me.isLink(N.mode)?B.size=N.link.length:B.size=0,B.atime=new Date(N.timestamp),B.mtime=new Date(N.timestamp),B.ctime=new Date(N.timestamp),B.blksize=4096,B.blocks=Math.ceil(B.size/B.blksize),B},setattr:function(N,B){B.mode!==void 0&&(N.mode=B.mode),B.timestamp!==void 0&&(N.timestamp=B.timestamp),B.size!==void 0&&Vt.resizeFileStorage(N,B.size)},lookup:function(N,B){throw me.genericErrors[er.ENOENT]},mknod:function(N,B,J,ne){return Vt.createNode(N,B,J,ne)},rename:function(N,B,J){if(me.isDir(N.mode)){var ne;try{ne=me.lookupNode(B,J)}catch{}if(ne)for(var e in ne.contents)throw new me.ErrnoError(er.ENOTEMPTY)}delete N.parent.contents[N.name],N.name=J,B.contents[J]=N,N.parent=B},unlink:function(N,B){delete N.contents[B]},rmdir:function(N,B){var J=me.lookupNode(N,B);for(var ne in J.contents)throw new me.ErrnoError(er.ENOTEMPTY);delete N.contents[B]},readdir:function(N){var B=[".",".."];for(var J in N.contents)N.contents.hasOwnProperty(J)&&B.push(J);return B},symlink:function(N,B,J){var ne=Vt.createNode(N,B,41471,0);return ne.link=J,ne},readlink:function(N){if(!me.isLink(N.mode))throw new me.ErrnoError(er.EINVAL);return N.link}},stream_ops:{read:function(N,B,J,ne,e){var d=N.node.contents;if(e>=N.node.usedBytes)return 0;var it=Math.min(N.node.usedBytes-e,ne);if(vt(it>=0),it>8&&d.subarray)B.set(d.subarray(e,e+it),J);else for(var ae=0;ae<it;ae++)B[J+ae]=d[e+ae];return it},write:function(N,B,J,ne,e,d){if(!ne)return 0;var it=N.node;if(it.timestamp=Date.now(),B.subarray&&(!it.contents||it.contents.subarray)){if(d)return it.contents=B.subarray(J,J+ne),it.usedBytes=ne,ne;if(it.usedBytes===0&&e===0)return it.contents=new Uint8Array(B.subarray(J,J+ne)),it.usedBytes=ne,ne;if(e+ne<=it.usedBytes)return it.contents.set(B.subarray(J,J+ne),e),ne}if(Vt.expandFileStorage(it,e+ne),it.contents.subarray&&B.subarray)it.contents.set(B.subarray(J,J+ne),e);else for(var ae=0;ae<ne;ae++)it.contents[e+ae]=B[J+ae];return it.usedBytes=Math.max(it.usedBytes,e+ne),ne},llseek:function(N,B,J){var ne=B;if(J===1?ne+=N.position:J===2&&me.isFile(N.node.mode)&&(ne+=N.node.usedBytes),ne<0)throw new me.ErrnoError(er.EINVAL);return ne},allocate:function(N,B,J){Vt.expandFileStorage(N.node,B+J),N.node.usedBytes=Math.max(N.node.usedBytes,B+J)},mmap:function(N,B,J,ne,e,d,it){if(!me.isFile(N.node.mode))throw new me.ErrnoError(er.ENODEV);var ae,Jt,Qt=N.node.contents;if(!(it&2)&&(Qt.buffer===B||Qt.buffer===B.buffer))Jt=!1,ae=Qt.byteOffset;else{if((e>0||e+ne<N.node.usedBytes)&&(Qt.subarray?Qt=Qt.subarray(e,e+ne):Qt=Array.prototype.slice.call(Qt,e,e+ne)),Jt=!0,ae=Ln(ne),!ae)throw new me.ErrnoError(er.ENOMEM);B.set(Qt,ae)}return{ptr:ae,allocated:Jt}},msync:function(N,B,J,ne,e){if(!me.isFile(N.node.mode))throw new me.ErrnoError(er.ENODEV);return e&2||Vt.stream_ops.write(N,B,0,ne,J,!1),0}}},Ir={dbs:{},indexedDB:function(){if(typeof indexedDB<"u")return indexedDB;var N=null;return typeof window=="object"&&(N=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),vt(N,"IDBFS used, but indexedDB not supported"),N},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(N){return Vt.mount.apply(null,arguments)},syncfs:function(N,B,J){Ir.getLocalSet(N,function(ne,e){if(ne)return J(ne);Ir.getRemoteSet(N,function(d,it){if(d)return J(d);var ae=B?it:e,Jt=B?e:it;Ir.reconcile(ae,Jt,J)})})},getDB:function(N,B){var J=Ir.dbs[N];if(J)return B(null,J);var ne;try{ne=Ir.indexedDB().open(N,Ir.DB_VERSION)}catch(e){return B(e)}ne.onupgradeneeded=function(e){var d=e.target.result,it=e.target.transaction,ae;d.objectStoreNames.contains(Ir.DB_STORE_NAME)?ae=it.objectStore(Ir.DB_STORE_NAME):ae=d.createObjectStore(Ir.DB_STORE_NAME),ae.indexNames.contains("timestamp")||ae.createIndex("timestamp","timestamp",{unique:!1})},ne.onsuccess=function(){J=ne.result,Ir.dbs[N]=J,B(null,J)},ne.onerror=function(e){B(this.error),e.preventDefault()}},getLocalSet:function(N,B){var J={};function ne(Jt){return Jt!=="."&&Jt!==".."}function e(Jt){return function(Qt){return Cr.join2(Jt,Qt)}}for(var d=me.readdir(N.mountpoint).filter(ne).map(e(N.mountpoint));d.length;){var it=d.pop(),ae;try{ae=me.stat(it)}catch(Jt){return B(Jt)}me.isDir(ae.mode)&&d.push.apply(d,me.readdir(it).filter(ne).map(e(it))),J[it]={timestamp:ae.mtime}}return B(null,{type:"local",entries:J})},getRemoteSet:function(N,B){var J={};Ir.getDB(N.mountpoint,function(ne,e){if(ne)return B(ne);var d=e.transaction([Ir.DB_STORE_NAME],"readonly");d.onerror=function(Jt){B(this.error),Jt.preventDefault()};var it=d.objectStore(Ir.DB_STORE_NAME),ae=it.index("timestamp");ae.openKeyCursor().onsuccess=function(Jt){var Qt=Jt.target.result;if(!Qt)return B(null,{type:"remote",db:e,entries:J});J[Qt.primaryKey]={timestamp:Qt.key},Qt.continue()}})},loadLocalEntry:function(N,B){var J,ne;try{var e=me.lookupPath(N);ne=e.node,J=me.stat(N)}catch(d){return B(d)}return me.isDir(J.mode)?B(null,{timestamp:J.mtime,mode:J.mode}):me.isFile(J.mode)?(ne.contents=Vt.getFileDataAsTypedArray(ne),B(null,{timestamp:J.mtime,mode:J.mode,contents:ne.contents})):B(new Error("node type not supported"))},storeLocalEntry:function(N,B,J){try{if(me.isDir(B.mode))me.mkdir(N,B.mode);else if(me.isFile(B.mode))me.writeFile(N,B.contents,{encoding:"binary",canOwn:!0});else return J(new Error("node type not supported"));me.chmod(N,B.mode),me.utime(N,B.timestamp,B.timestamp)}catch(ne){return J(ne)}J(null)},removeLocalEntry:function(N,B){try{var J=me.lookupPath(N),ne=me.stat(N);me.isDir(ne.mode)?me.rmdir(N):me.isFile(ne.mode)&&me.unlink(N)}catch(e){return B(e)}B(null)},loadRemoteEntry:function(N,B,J){var ne=N.get(B);ne.onsuccess=function(e){J(null,e.target.result)},ne.onerror=function(e){J(this.error),e.preventDefault()}},storeRemoteEntry:function(N,B,J,ne){var e=N.put(J,B);e.onsuccess=function(){ne(null)},e.onerror=function(d){ne(this.error),d.preventDefault()}},removeRemoteEntry:function(N,B,J){var ne=N.delete(B);ne.onsuccess=function(){J(null)},ne.onerror=function(e){J(this.error),e.preventDefault()}},reconcile:function(N,B,J){var ne=0,e=[];Object.keys(N.entries).forEach(function(he){var Kt=N.entries[he],ar=B.entries[he];(!ar||Kt.timestamp>ar.timestamp)&&(e.push(he),ne++)});var d=[];if(Object.keys(B.entries).forEach(function(he){B.entries[he];var Kt=N.entries[he];Kt||(d.push(he),ne++)}),!ne)return J(null);var it=0,ae=N.type==="remote"?N.db:B.db,Jt=ae.transaction([Ir.DB_STORE_NAME],"readwrite"),Qt=Jt.objectStore(Ir.DB_STORE_NAME);function or(he){if(he)return or.errored?void 0:(or.errored=!0,J(he));if(++it>=ne)return J(null)}Jt.onerror=function(he){or(this.error),he.preventDefault()},e.sort().forEach(function(he){B.type==="local"?Ir.loadRemoteEntry(Qt,he,function(Kt,ar){if(Kt)return or(Kt);Ir.storeLocalEntry(he,ar,or)}):Ir.loadLocalEntry(he,function(Kt,ar){if(Kt)return or(Kt);Ir.storeRemoteEntry(Qt,he,ar,or)})}),d.sort().reverse().forEach(function(he){B.type==="local"?Ir.removeLocalEntry(he,or):Ir.removeRemoteEntry(Qt,he,or)})}},Wt={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(N){vt(Q),Wt.reader||(Wt.reader=new FileReaderSync);var B=Wt.createNode(null,"/",Wt.DIR_MODE,0),J={};function ne(d){for(var it=d.split("/"),ae=B,Jt=0;Jt<it.length-1;Jt++){var Qt=it.slice(0,Jt+1).join("/");J[Qt]||(J[Qt]=Wt.createNode(ae,Qt,Wt.DIR_MODE,0)),ae=J[Qt]}return ae}function e(d){var it=d.split("/");return it[it.length-1]}return Array.prototype.forEach.call(N.opts.files||[],function(d){Wt.createNode(ne(d.name),e(d.name),Wt.FILE_MODE,0,d,d.lastModifiedDate)}),(N.opts.blobs||[]).forEach(function(d){Wt.createNode(ne(d.name),e(d.name),Wt.FILE_MODE,0,d.data)}),(N.opts.packages||[]).forEach(function(d){d.metadata.files.forEach(function(it){var ae=it.filename.substr(1);Wt.createNode(ne(ae),e(ae),Wt.FILE_MODE,0,d.blob.slice(it.start,it.end))})}),B},createNode:function(N,B,J,ne,e,d){var it=me.createNode(N,B,J);return it.mode=J,it.node_ops=Wt.node_ops,it.stream_ops=Wt.stream_ops,it.timestamp=(d||new Date).getTime(),vt(Wt.FILE_MODE!==Wt.DIR_MODE),J===Wt.FILE_MODE?(it.size=e.size,it.contents=e):(it.size=4096,it.contents={}),N&&(N.contents[B]=it),it},node_ops:{getattr:function(N){return{dev:1,ino:void 0,mode:N.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:N.size,atime:new Date(N.timestamp),mtime:new Date(N.timestamp),ctime:new Date(N.timestamp),blksize:4096,blocks:Math.ceil(N.size/4096)}},setattr:function(N,B){B.mode!==void 0&&(N.mode=B.mode),B.timestamp!==void 0&&(N.timestamp=B.timestamp)},lookup:function(N,B){throw new me.ErrnoError(er.ENOENT)},mknod:function(N,B,J,ne){throw new me.ErrnoError(er.EPERM)},rename:function(N,B,J){throw new me.ErrnoError(er.EPERM)},unlink:function(N,B){throw new me.ErrnoError(er.EPERM)},rmdir:function(N,B){throw new me.ErrnoError(er.EPERM)},readdir:function(N){throw new me.ErrnoError(er.EPERM)},symlink:function(N,B,J){throw new me.ErrnoError(er.EPERM)},readlink:function(N){throw new me.ErrnoError(er.EPERM)}},stream_ops:{read:function(N,B,J,ne,e){if(e>=N.node.size)return 0;var d=N.node.contents.slice(e,e+ne),it=Wt.reader.readAsArrayBuffer(d);return B.set(new Uint8Array(it),J),d.size},write:function(N,B,J,ne,e){throw new me.ErrnoError(er.EIO)},llseek:function(N,B,J){var ne=B;if(J===1?ne+=N.position:J===2&&me.isFile(N.node.mode)&&(ne+=N.node.size),ne<0)throw new me.ErrnoError(er.EINVAL);return ne}}};Lt(1,"i32*",Xe),Lt(1,"i32*",Xe),Lt(1,"i32*",Xe);var me={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(N){if(!(N instanceof me.ErrnoError))throw N+" : "+zt();return On(N.errno)},lookupPath:function(N,B){if(N=Cr.resolve(me.cwd(),N),B=B||{},!N)return{path:"",node:null};var J={follow_mount:!0,recurse_count:0};for(var ne in J)B[ne]===void 0&&(B[ne]=J[ne]);if(B.recurse_count>8)throw new me.ErrnoError(er.ELOOP);for(var e=Cr.normalizeArray(N.split("/").filter(function(Kt){return!!Kt}),!1),d=me.root,it="/",ae=0;ae<e.length;ae++){var Jt=ae===e.length-1;if(Jt&&B.parent)break;if(d=me.lookupNode(d,e[ae]),it=Cr.join2(it,e[ae]),me.isMountpoint(d)&&(!Jt||Jt&&B.follow_mount)&&(d=d.mounted.root),!Jt||B.follow)for(var Qt=0;me.isLink(d.mode);){var or=me.readlink(it);it=Cr.resolve(Cr.dirname(it),or);var he=me.lookupPath(it,{recurse_count:B.recurse_count});if(d=he.node,Qt++>40)throw new me.ErrnoError(er.ELOOP)}}return{path:it,node:d}},getPath:function(N){for(var B;;){if(me.isRoot(N)){var J=N.mount.mountpoint;return B?J[J.length-1]!=="/"?J+"/"+B:J+B:J}B=B?N.name+"/"+B:N.name,N=N.parent}},hashName:function(N,B){for(var J=0,ne=0;ne<B.length;ne++)J=(J<<5)-J+B.charCodeAt(ne)|0;return(N+J>>>0)%me.nameTable.length},hashAddNode:function(N){var B=me.hashName(N.parent.id,N.name);N.name_next=me.nameTable[B],me.nameTable[B]=N},hashRemoveNode:function(N){var B=me.hashName(N.parent.id,N.name);if(me.nameTable[B]===N)me.nameTable[B]=N.name_next;else for(var J=me.nameTable[B];J;){if(J.name_next===N){J.name_next=N.name_next;break}J=J.name_next}},lookupNode:function(N,B){var J=me.mayLookup(N);if(J)throw new me.ErrnoError(J,N);for(var ne=me.hashName(N.id,B),e=me.nameTable[ne];e;e=e.name_next){var d=e.name;if(e.parent.id===N.id&&d===B)return e}return me.lookup(N,B)},createNode:function(N,B,J,ne){if(!me.FSNode){me.FSNode=function(ae,Jt,Qt,or){ae||(ae=this),this.parent=ae,this.mount=ae.mount,this.mounted=null,this.id=me.nextInode++,this.name=Jt,this.mode=Qt,this.node_ops={},this.stream_ops={},this.rdev=or},me.FSNode.prototype={};var e=365,d=146;Object.defineProperties(me.FSNode.prototype,{read:{get:function(){return(this.mode&e)===e},set:function(ae){ae?this.mode|=e:this.mode&=~e}},write:{get:function(){return(this.mode&d)===d},set:function(ae){ae?this.mode|=d:this.mode&=~d}},isFolder:{get:function(){return me.isDir(this.mode)}},isDevice:{get:function(){return me.isChrdev(this.mode)}}})}var it=new me.FSNode(N,B,J,ne);return me.hashAddNode(it),it},destroyNode:function(N){me.hashRemoveNode(N)},isRoot:function(N){return N===N.parent},isMountpoint:function(N){return!!N.mounted},isFile:function(N){return(N&61440)===32768},isDir:function(N){return(N&61440)===16384},isLink:function(N){return(N&61440)===40960},isChrdev:function(N){return(N&61440)===8192},isBlkdev:function(N){return(N&61440)===24576},isFIFO:function(N){return(N&61440)===4096},isSocket:function(N){return(N&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(N){var B=me.flagModes[N];if(typeof B>"u")throw new Error("Unknown file open mode: "+N);return B},flagsToPermissionString:function(N){var B=["r","w","rw"][N&3];return N&512&&(B+="w"),B},nodePermissions:function(N,B){return me.ignorePermissions?0:B.indexOf("r")!==-1&&!(N.mode&292)||B.indexOf("w")!==-1&&!(N.mode&146)||B.indexOf("x")!==-1&&!(N.mode&73)?er.EACCES:0},mayLookup:function(N){var B=me.nodePermissions(N,"x");return B||(N.node_ops.lookup?0:er.EACCES)},mayCreate:function(N,B){try{var J=me.lookupNode(N,B);return er.EEXIST}catch{}return me.nodePermissions(N,"wx")},mayDelete:function(N,B,J){var ne;try{ne=me.lookupNode(N,B)}catch(d){return d.errno}var e=me.nodePermissions(N,"wx");if(e)return e;if(J){if(!me.isDir(ne.mode))return er.ENOTDIR;if(me.isRoot(ne)||me.getPath(ne)===me.cwd())return er.EBUSY}else if(me.isDir(ne.mode))return er.EISDIR;return 0},mayOpen:function(N,B){return N?me.isLink(N.mode)?er.ELOOP:me.isDir(N.mode)&&(B&2097155||B&512)?er.EISDIR:me.nodePermissions(N,me.flagsToPermissionString(B)):er.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(N,B){N=N||0,B=B||me.MAX_OPEN_FDS;for(var J=N;J<=B;J++)if(!me.streams[J])return J;throw new me.ErrnoError(er.EMFILE)},getStream:function(N){return me.streams[N]},createStream:function(N,B,J){me.FSStream||(me.FSStream=function(){},me.FSStream.prototype={},Object.defineProperties(me.FSStream.prototype,{object:{get:function(){return this.node},set:function(it){this.node=it}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}));var ne=new me.FSStream;for(var e in N)ne[e]=N[e];N=ne;var d=me.nextfd(B,J);return N.fd=d,me.streams[d]=N,N},closeStream:function(N){me.streams[N]=null},chrdev_stream_ops:{open:function(N){var B=me.getDevice(N.node.rdev);N.stream_ops=B.stream_ops,N.stream_ops.open&&N.stream_ops.open(N)},llseek:function(){throw new me.ErrnoError(er.ESPIPE)}},major:function(N){return N>>8},minor:function(N){return N&255},makedev:function(N,B){return N<<8|B},registerDevice:function(N,B){me.devices[N]={stream_ops:B}},getDevice:function(N){return me.devices[N]},getMounts:function(N){for(var B=[],J=[N];J.length;){var ne=J.pop();B.push(ne),J.push.apply(J,ne.mounts)}return B},syncfs:function(N,B){typeof N=="function"&&(B=N,N=!1);var J=me.getMounts(me.root.mount),ne=0;function e(d){if(d)return e.errored?void 0:(e.errored=!0,B(d));++ne>=J.length&&B(null)}J.forEach(function(d){if(!d.type.syncfs)return e(null);d.type.syncfs(d,N,e)})},mount:function(N,B,J){var ne=J==="/",e=!J,d;if(ne&&me.root)throw new me.ErrnoError(er.EBUSY);if(!ne&&!e){var it=me.lookupPath(J,{follow_mount:!1});if(J=it.path,d=it.node,me.isMountpoint(d))throw new me.ErrnoError(er.EBUSY);if(!me.isDir(d.mode))throw new me.ErrnoError(er.ENOTDIR)}var ae={type:N,opts:B,mountpoint:J,mounts:[]},Jt=N.mount(ae);return Jt.mount=ae,ae.root=Jt,ne?me.root=Jt:d&&(d.mounted=ae,d.mount&&d.mount.mounts.push(ae)),Jt},unmount:function(N){var B=me.lookupPath(N,{follow_mount:!1});if(!me.isMountpoint(B.node))throw new me.ErrnoError(er.EINVAL);var J=B.node,ne=J.mounted,e=me.getMounts(ne);Object.keys(me.nameTable).forEach(function(it){for(var ae=me.nameTable[it];ae;){var Jt=ae.name_next;e.indexOf(ae.mount)!==-1&&me.destroyNode(ae),ae=Jt}}),J.mounted=null;var d=J.mount.mounts.indexOf(ne);vt(d!==-1),J.mount.mounts.splice(d,1)},lookup:function(N,B){return N.node_ops.lookup(N,B)},mknod:function(N,B,J){var ne=me.lookupPath(N,{parent:!0}),e=ne.node,d=Cr.basename(N);if(!d||d==="."||d==="..")throw new me.ErrnoError(er.EINVAL);var it=me.mayCreate(e,d);if(it)throw new me.ErrnoError(it);if(!e.node_ops.mknod)throw new me.ErrnoError(er.EPERM);return e.node_ops.mknod(e,d,B,J)},create:function(N,B){return B=B!==void 0?B:438,B&=4095,B|=32768,me.mknod(N,B,0)},mkdir:function(N,B){return B=B!==void 0?B:511,B&=1023,B|=16384,me.mknod(N,B,0)},mkdev:function(N,B,J){return typeof J>"u"&&(J=B,B=438),B|=8192,me.mknod(N,B,J)},symlink:function(N,B){if(!Cr.resolve(N))throw new me.ErrnoError(er.ENOENT);var J=me.lookupPath(B,{parent:!0}),ne=J.node;if(!ne)throw new me.ErrnoError(er.ENOENT);var e=Cr.basename(B),d=me.mayCreate(ne,e);if(d)throw new me.ErrnoError(d);if(!ne.node_ops.symlink)throw new me.ErrnoError(er.EPERM);return ne.node_ops.symlink(ne,e,N)},rename:function(N,B){var J=Cr.dirname(N),ne=Cr.dirname(B),e=Cr.basename(N),d=Cr.basename(B),it,ae,Jt;try{it=me.lookupPath(N,{parent:!0}),ae=it.node,it=me.lookupPath(B,{parent:!0}),Jt=it.node}catch{throw new me.ErrnoError(er.EBUSY)}if(!ae||!Jt)throw new me.ErrnoError(er.ENOENT);if(ae.mount!==Jt.mount)throw new me.ErrnoError(er.EXDEV);var Qt=me.lookupNode(ae,e),or=Cr.relative(N,ne);if(or.charAt(0)!==".")throw new me.ErrnoError(er.EINVAL);if(or=Cr.relative(B,J),or.charAt(0)!==".")throw new me.ErrnoError(er.ENOTEMPTY);var he;try{he=me.lookupNode(Jt,d)}catch{}if(Qt!==he){var Kt=me.isDir(Qt.mode),ar=me.mayDelete(ae,e,Kt);if(ar)throw new me.ErrnoError(ar);if(ar=he?me.mayDelete(Jt,d,Kt):me.mayCreate(Jt,d),ar)throw new me.ErrnoError(ar);if(!ae.node_ops.rename)throw new me.ErrnoError(er.EPERM);if(me.isMountpoint(Qt)||he&&me.isMountpoint(he))throw new me.ErrnoError(er.EBUSY);if(Jt!==ae&&(ar=me.nodePermissions(ae,"w"),ar))throw new me.ErrnoError(ar);try{me.trackingDelegate.willMovePath&&me.trackingDelegate.willMovePath(N,B)}catch(fr){console.log("FS.trackingDelegate['willMovePath']('"+N+"', '"+B+"') threw an exception: "+fr.message)}me.hashRemoveNode(Qt);try{ae.node_ops.rename(Qt,Jt,d)}catch(fr){throw fr}finally{me.hashAddNode(Qt)}try{me.trackingDelegate.onMovePath&&me.trackingDelegate.onMovePath(N,B)}catch(fr){console.log("FS.trackingDelegate['onMovePath']('"+N+"', '"+B+"') threw an exception: "+fr.message)}}},rmdir:function(N){var B=me.lookupPath(N,{parent:!0}),J=B.node,ne=Cr.basename(N),e=me.lookupNode(J,ne),d=me.mayDelete(J,ne,!0);if(d)throw new me.ErrnoError(d);if(!J.node_ops.rmdir)throw new me.ErrnoError(er.EPERM);if(me.isMountpoint(e))throw new me.ErrnoError(er.EBUSY);try{me.trackingDelegate.willDeletePath&&me.trackingDelegate.willDeletePath(N)}catch(it){console.log("FS.trackingDelegate['willDeletePath']('"+N+"') threw an exception: "+it.message)}J.node_ops.rmdir(J,ne),me.destroyNode(e);try{me.trackingDelegate.onDeletePath&&me.trackingDelegate.onDeletePath(N)}catch(it){console.log("FS.trackingDelegate['onDeletePath']('"+N+"') threw an exception: "+it.message)}},readdir:function(N){var B=me.lookupPath(N,{follow:!0}),J=B.node;if(!J.node_ops.readdir)throw new me.ErrnoError(er.ENOTDIR);return J.node_ops.readdir(J)},unlink:function(N){var B=me.lookupPath(N,{parent:!0}),J=B.node,ne=Cr.basename(N),e=me.lookupNode(J,ne),d=me.mayDelete(J,ne,!1);if(d)throw d===er.EISDIR&&(d=er.EPERM),new me.ErrnoError(d);if(!J.node_ops.unlink)throw new me.ErrnoError(er.EPERM);if(me.isMountpoint(e))throw new me.ErrnoError(er.EBUSY);try{me.trackingDelegate.willDeletePath&&me.trackingDelegate.willDeletePath(N)}catch(it){console.log("FS.trackingDelegate['willDeletePath']('"+N+"') threw an exception: "+it.message)}J.node_ops.unlink(J,ne),me.destroyNode(e);try{me.trackingDelegate.onDeletePath&&me.trackingDelegate.onDeletePath(N)}catch(it){console.log("FS.trackingDelegate['onDeletePath']('"+N+"') threw an exception: "+it.message)}},readlink:function(N){var B=me.lookupPath(N),J=B.node;if(!J)throw new me.ErrnoError(er.ENOENT);if(!J.node_ops.readlink)throw new me.ErrnoError(er.EINVAL);return Cr.resolve(me.getPath(J.parent),J.node_ops.readlink(J))},stat:function(N,B){var J=me.lookupPath(N,{follow:!B}),ne=J.node;if(!ne)throw new me.ErrnoError(er.ENOENT);if(!ne.node_ops.getattr)throw new me.ErrnoError(er.EPERM);return ne.node_ops.getattr(ne)},lstat:function(N){return me.stat(N,!0)},chmod:function(N,B,J){var ne;if(typeof N=="string"){var e=me.lookupPath(N,{follow:!J});ne=e.node}else ne=N;if(!ne.node_ops.setattr)throw new me.ErrnoError(er.EPERM);ne.node_ops.setattr(ne,{mode:B&4095|ne.mode&-4096,timestamp:Date.now()})},lchmod:function(N,B){me.chmod(N,B,!0)},fchmod:function(N,B){var J=me.getStream(N);if(!J)throw new me.ErrnoError(er.EBADF);me.chmod(J.node,B)},chown:function(N,B,J,ne){var e;if(typeof N=="string"){var d=me.lookupPath(N,{follow:!ne});e=d.node}else e=N;if(!e.node_ops.setattr)throw new me.ErrnoError(er.EPERM);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(N,B,J){me.chown(N,B,J,!0)},fchown:function(N,B,J){var ne=me.getStream(N);if(!ne)throw new me.ErrnoError(er.EBADF);me.chown(ne.node,B,J)},truncate:function(N,B){if(B<0)throw new me.ErrnoError(er.EINVAL);var J;if(typeof N=="string"){var ne=me.lookupPath(N,{follow:!0});J=ne.node}else J=N;if(!J.node_ops.setattr)throw new me.ErrnoError(er.EPERM);if(me.isDir(J.mode))throw new me.ErrnoError(er.EISDIR);if(!me.isFile(J.mode))throw new me.ErrnoError(er.EINVAL);var e=me.nodePermissions(J,"w");if(e)throw new me.ErrnoError(e);J.node_ops.setattr(J,{size:B,timestamp:Date.now()})},ftruncate:function(N,B){var J=me.getStream(N);if(!J)throw new me.ErrnoError(er.EBADF);if(!(J.flags&2097155))throw new me.ErrnoError(er.EINVAL);me.truncate(J.node,B)},utime:function(N,B,J){var ne=me.lookupPath(N,{follow:!0}),e=ne.node;e.node_ops.setattr(e,{timestamp:Math.max(B,J)})},open:function(N,B,J,ne,e){if(N==="")throw new me.ErrnoError(er.ENOENT);B=typeof B=="string"?me.modeStringToFlags(B):B,J=typeof J>"u"?438:J,B&64?J=J&4095|32768:J=0;var d;if(typeof N=="object")d=N;else{N=Cr.normalize(N);try{var it=me.lookupPath(N,{follow:!(B&131072)});d=it.node}catch{}}var ae=!1;if(B&64)if(d){if(B&128)throw new me.ErrnoError(er.EEXIST)}else d=me.mknod(N,J,0),ae=!0;if(!d)throw new me.ErrnoError(er.ENOENT);if(me.isChrdev(d.mode)&&(B&=-513),B&65536&&!me.isDir(d.mode))throw new me.ErrnoError(er.ENOTDIR);if(!ae){var Jt=me.mayOpen(d,B);if(Jt)throw new me.ErrnoError(Jt)}B&512&&me.truncate(d,0),B&=-641;var Qt=me.createStream({node:d,path:me.getPath(d),flags:B,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1},ne,e);Qt.stream_ops.open&&Qt.stream_ops.open(Qt),S.logReadFiles&&!(B&1)&&(me.readFiles||(me.readFiles={}),N in me.readFiles||(me.readFiles[N]=1,S.printErr("read file: "+N)));try{if(me.trackingDelegate.onOpenFile){var or=0;(B&2097155)!==1&&(or|=me.tracking.openFlags.READ),B&2097155&&(or|=me.tracking.openFlags.WRITE),me.trackingDelegate.onOpenFile(N,or)}}catch(he){console.log("FS.trackingDelegate['onOpenFile']('"+N+"', flags) threw an exception: "+he.message)}return Qt},close:function(N){N.getdents&&(N.getdents=null);try{N.stream_ops.close&&N.stream_ops.close(N)}catch(B){throw B}finally{me.closeStream(N.fd)}},llseek:function(N,B,J){if(!N.seekable||!N.stream_ops.llseek)throw new me.ErrnoError(er.ESPIPE);return N.position=N.stream_ops.llseek(N,B,J),N.ungotten=[],N.position},read:function(N,B,J,ne,e){if(ne<0||e<0)throw new me.ErrnoError(er.EINVAL);if((N.flags&2097155)===1)throw new me.ErrnoError(er.EBADF);if(me.isDir(N.node.mode))throw new me.ErrnoError(er.EISDIR);if(!N.stream_ops.read)throw new me.ErrnoError(er.EINVAL);var d=!0;if(typeof e>"u")e=N.position,d=!1;else if(!N.seekable)throw new me.ErrnoError(er.ESPIPE);var it=N.stream_ops.read(N,B,J,ne,e);return d||(N.position+=it),it},write:function(N,B,J,ne,e,d){if(ne<0||e<0)throw new me.ErrnoError(er.EINVAL);if(!(N.flags&2097155))throw new me.ErrnoError(er.EBADF);if(me.isDir(N.node.mode))throw new me.ErrnoError(er.EISDIR);if(!N.stream_ops.write)throw new me.ErrnoError(er.EINVAL);N.flags&1024&&me.llseek(N,0,2);var it=!0;if(typeof e>"u")e=N.position,it=!1;else if(!N.seekable)throw new me.ErrnoError(er.ESPIPE);var ae=N.stream_ops.write(N,B,J,ne,e,d);it||(N.position+=ae);try{N.path&&me.trackingDelegate.onWriteToFile&&me.trackingDelegate.onWriteToFile(N.path)}catch(Jt){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+Jt.message)}return ae},allocate:function(N,B,J){if(B<0||J<=0)throw new me.ErrnoError(er.EINVAL);if(!(N.flags&2097155))throw new me.ErrnoError(er.EBADF);if(!me.isFile(N.node.mode)&&!me.isDir(node.mode))throw new me.ErrnoError(er.ENODEV);if(!N.stream_ops.allocate)throw new me.ErrnoError(er.EOPNOTSUPP);N.stream_ops.allocate(N,B,J)},mmap:function(N,B,J,ne,e,d,it){if((N.flags&2097155)===1)throw new me.ErrnoError(er.EACCES);if(!N.stream_ops.mmap)throw new me.ErrnoError(er.ENODEV);return N.stream_ops.mmap(N,B,J,ne,e,d,it)},msync:function(N,B,J,ne,e){return!N||!N.stream_ops.msync?0:N.stream_ops.msync(N,B,J,ne,e)},munmap:function(N){return 0},ioctl:function(N,B,J){if(!N.stream_ops.ioctl)throw new me.ErrnoError(er.ENOTTY);return N.stream_ops.ioctl(N,B,J)},readFile:function(N,B){if(B=B||{},B.flags=B.flags||"r",B.encoding=B.encoding||"binary",B.encoding!=="utf8"&&B.encoding!=="binary")throw new Error('Invalid encoding type "'+B.encoding+'"');var J,ne=me.open(N,B.flags),e=me.stat(N),d=e.size,it=new Uint8Array(d);return me.read(ne,it,0,d,0),B.encoding==="utf8"?J=nt(it,0):B.encoding==="binary"&&(J=it),me.close(ne),J},writeFile:function(N,B,J){if(J=J||{},J.flags=J.flags||"w",J.encoding=J.encoding||"utf8",J.encoding!=="utf8"&&J.encoding!=="binary")throw new Error('Invalid encoding type "'+J.encoding+'"');var ne=me.open(N,J.flags,J.mode);if(J.encoding==="utf8"){var e=new Uint8Array($e(B)+1),d=Fe(B,e,0,e.length);me.write(ne,e,0,d,0,J.canOwn)}else J.encoding==="binary"&&me.write(ne,B,0,B.length,0,J.canOwn);me.close(ne)},cwd:function(){return me.currentPath},chdir:function(N){var B=me.lookupPath(N,{follow:!0});if(!me.isDir(B.node.mode))throw new me.ErrnoError(er.ENOTDIR);var J=me.nodePermissions(B.node,"x");if(J)throw new me.ErrnoError(J);me.currentPath=B.path},createDefaultDirectories:function(){me.mkdir("/tmp"),me.mkdir("/home"),me.mkdir("/home/web_user")},createDefaultDevices:function(){me.mkdir("/dev"),me.registerDevice(me.makedev(1,3),{read:function(){return 0},write:function(J,ne,e,d,it){return d}}),me.mkdev("/dev/null",me.makedev(1,3)),Bn.register(me.makedev(5,0),Bn.default_tty_ops),Bn.register(me.makedev(6,0),Bn.default_tty1_ops),me.mkdev("/dev/tty",me.makedev(5,0)),me.mkdev("/dev/tty1",me.makedev(6,0));var N;if(typeof crypto<"u"){var B=new Uint8Array(1);N=function(){return crypto.getRandomValues(B),B[0]}}else N=function(){return Math.random()*256|0};me.createDevice("/dev","random",N),me.createDevice("/dev","urandom",N),me.mkdir("/dev/shm"),me.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){me.mkdir("/proc"),me.mkdir("/proc/self"),me.mkdir("/proc/self/fd"),me.mount({mount:function(){var N=me.createNode("/proc/self","fd",16895,73);return N.node_ops={lookup:function(B,J){var ne=+J,e=me.getStream(ne);if(!e)throw new me.ErrnoError(er.EBADF);var d={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return e.path}}};return d.parent=d,d}},N}},{},"/proc/self/fd")},createStandardStreams:function(){S.stdin?me.createDevice("/dev","stdin",S.stdin):me.symlink("/dev/tty","/dev/stdin"),S.stdout?me.createDevice("/dev","stdout",null,S.stdout):me.symlink("/dev/tty","/dev/stdout"),S.stderr?me.createDevice("/dev","stderr",null,S.stderr):me.symlink("/dev/tty1","/dev/stderr");var N=me.open("/dev/stdin","r");vt(N.fd===0,"invalid handle for stdin ("+N.fd+")");var B=me.open("/dev/stdout","w");vt(B.fd===1,"invalid handle for stdout ("+B.fd+")");var J=me.open("/dev/stderr","w");vt(J.fd===2,"invalid handle for stderr ("+J.fd+")")},ensureErrnoError:function(){me.ErrnoError||(me.ErrnoError=function(B,J){this.node=J,this.setErrno=function(ne){this.errno=ne;for(var e in er)if(er[e]===ne){this.code=e;break}},this.setErrno(B),this.message=io[B]},me.ErrnoError.prototype=new Error,me.ErrnoError.prototype.constructor=me.ErrnoError,[er.ENOENT].forEach(function(N){me.genericErrors[N]=new me.ErrnoError(N),me.genericErrors[N].stack="<generic error, no stack>"}))},staticInit:function(){me.ensureErrnoError(),me.nameTable=new Array(4096),me.mount(Vt,{},"/"),me.createDefaultDirectories(),me.createDefaultDevices(),me.createSpecialDirectories(),me.filesystems={MEMFS:Vt,IDBFS:Ir,NODEFS:{},WORKERFS:Wt}},init:function(N,B,J){vt(!me.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),me.init.initialized=!0,me.ensureErrnoError(),S.stdin=N||S.stdin,S.stdout=B||S.stdout,S.stderr=J||S.stderr,me.createStandardStreams()},quit:function(){me.init.initialized=!1;var N=S._fflush;N&&N(0);for(var B=0;B<me.streams.length;B++){var J=me.streams[B];J&&me.close(J)}},getMode:function(N,B){var J=0;return N&&(J|=365),B&&(J|=146),J},joinPath:function(N,B){var J=Cr.join.apply(null,N);return B&&J[0]=="/"&&(J=J.substr(1)),J},absolutePath:function(N,B){return Cr.resolve(B,N)},standardizePath:function(N){return Cr.normalize(N)},findObject:function(N,B){var J=me.analyzePath(N,B);return J.exists?J.object:(On(J.error),null)},analyzePath:function(N,B){try{var J=me.lookupPath(N,{follow:!B});N=J.path}catch{}var ne={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var J=me.lookupPath(N,{parent:!0});ne.parentExists=!0,ne.parentPath=J.path,ne.parentObject=J.node,ne.name=Cr.basename(N),J=me.lookupPath(N,{follow:!B}),ne.exists=!0,ne.path=J.path,ne.object=J.node,ne.name=J.node.name,ne.isRoot=J.path==="/"}catch(e){ne.error=e.errno}return ne},createFolder:function(N,B,J,ne){var e=Cr.join2(typeof N=="string"?N:me.getPath(N),B),d=me.getMode(J,ne);return me.mkdir(e,d)},createPath:function(N,B,J,ne){N=typeof N=="string"?N:me.getPath(N);for(var e=B.split("/").reverse();e.length;){var d=e.pop();if(d){var it=Cr.join2(N,d);try{me.mkdir(it)}catch{}N=it}}return it},createFile:function(N,B,J,ne,e){var d=Cr.join2(typeof N=="string"?N:me.getPath(N),B),it=me.getMode(ne,e);return me.create(d,it)},createDataFile:function(N,B,J,ne,e,d){var it=B?Cr.join2(typeof N=="string"?N:me.getPath(N),B):N,ae=me.getMode(ne,e),Jt=me.create(it,ae);if(J){if(typeof J=="string"){for(var Qt=new Array(J.length),or=0,he=J.length;or<he;++or)Qt[or]=J.charCodeAt(or);J=Qt}me.chmod(Jt,ae|146);var Kt=me.open(Jt,"w");me.write(Kt,J,0,J.length,0,d),me.close(Kt),me.chmod(Jt,ae)}return Jt},createDevice:function(N,B,J,ne){var e=Cr.join2(typeof N=="string"?N:me.getPath(N),B),d=me.getMode(!!J,!!ne);me.createDevice.major||(me.createDevice.major=64);var it=me.makedev(me.createDevice.major++,0);return me.registerDevice(it,{open:function(ae){ae.seekable=!1},close:function(ae){ne&&ne.buffer&&ne.buffer.length&&ne(10)},read:function(ae,Jt,Qt,or,he){for(var Kt=0,ar=0;ar<or;ar++){var fr;try{fr=J()}catch{throw new me.ErrnoError(er.EIO)}if(fr===void 0&&Kt===0)throw new me.ErrnoError(er.EAGAIN);if(fr==null)break;Kt++,Jt[Qt+ar]=fr}return Kt&&(ae.node.timestamp=Date.now()),Kt},write:function(ae,Jt,Qt,or,he){for(var Kt=0;Kt<or;Kt++)try{ne(Jt[Qt+Kt])}catch{throw new me.ErrnoError(er.EIO)}return or&&(ae.node.timestamp=Date.now()),Kt}}),me.mkdev(e,d,it)},createLink:function(N,B,J,ne,e){var d=Cr.join2(typeof N=="string"?N:me.getPath(N),B);return me.symlink(J,d)},forceLoadFile:function(N){if(N.isDevice||N.isFolder||N.link||N.contents)return!0;var B=!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(S.read)try{N.contents=$t(S.read(N.url),!0),N.usedBytes=N.contents.length}catch{B=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return B||On(er.EIO),B},createLazyFile:function(N,B,J,ne,e){function d(){this.lengthKnown=!1,this.chunks=[]}if(d.prototype.get=function(Kt){if(!(Kt>this.length-1||Kt<0)){var ar=Kt%this.chunkSize,fr=Kt/this.chunkSize|0;return this.getter(fr)[ar]}},d.prototype.setDataGetter=function(Kt){this.getter=Kt},d.prototype.cacheLength=function(){var Kt=new XMLHttpRequest;if(Kt.open("HEAD",J,!1),Kt.send(null),!(Kt.status>=200&&Kt.status<300||Kt.status===304))throw new Error("Couldn't load "+J+". Status: "+Kt.status);var ar=Number(Kt.getResponseHeader("Content-length")),fr,Tr=(fr=Kt.getResponseHeader("Accept-Ranges"))&&fr==="bytes",Nr=1024*1024;Tr||(Nr=ar);var Or=function(Sr,nn){if(Sr>nn)throw new Error("invalid range ("+Sr+", "+nn+") or no bytes requested!");if(nn>ar-1)throw new Error("only "+ar+" bytes available! programmer error!");var Dr=new XMLHttpRequest;if(Dr.open("GET",J,!1),ar!==Nr&&Dr.setRequestHeader("Range","bytes="+Sr+"-"+nn),typeof Uint8Array<"u"&&(Dr.responseType="arraybuffer"),Dr.overrideMimeType&&Dr.overrideMimeType("text/plain; charset=x-user-defined"),Dr.send(null),!(Dr.status>=200&&Dr.status<300||Dr.status===304))throw new Error("Couldn't load "+J+". Status: "+Dr.status);return Dr.response!==void 0?new Uint8Array(Dr.response||[]):$t(Dr.responseText||"",!0)},kr=this;kr.setDataGetter(function(Sr){var nn=Sr*Nr,Dr=(Sr+1)*Nr-1;if(Dr=Math.min(Dr,ar-1),typeof kr.chunks[Sr]>"u"&&(kr.chunks[Sr]=Or(nn,Dr)),typeof kr.chunks[Sr]>"u")throw new Error("doXHR failed!");return kr.chunks[Sr]}),this._length=ar,this._chunkSize=Nr,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var it=new d;Object.defineProperty(it,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(it,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var ae={isDevice:!1,contents:it}}else var ae={isDevice:!1,url:J};var Jt=me.createFile(N,B,ae,ne,e);ae.contents?Jt.contents=ae.contents:ae.url&&(Jt.contents=null,Jt.url=ae.url),Object.defineProperty(Jt,"usedBytes",{get:function(){return this.contents.length}});var Qt={},or=Object.keys(Jt.stream_ops);return or.forEach(function(he){var Kt=Jt.stream_ops[he];Qt[he]=function(){if(!me.forceLoadFile(Jt))throw new me.ErrnoError(er.EIO);return Kt.apply(null,arguments)}}),Qt.read=function(Kt,ar,fr,Tr,Nr){if(!me.forceLoadFile(Jt))throw new me.ErrnoError(er.EIO);var Or=Kt.node.contents;if(Nr>=Or.length)return 0;var kr=Math.min(Or.length-Nr,Tr);if(vt(kr>=0),Or.slice)for(var Sr=0;Sr<kr;Sr++)ar[fr+Sr]=Or[Nr+Sr];else for(var Sr=0;Sr<kr;Sr++)ar[fr+Sr]=Or.get(Nr+Sr);return kr},Jt.stream_ops=Qt,Jt},createPreloadedFile:function(N,B,J,ne,e,d,it,ae,Jt,Qt){Ft.init();var or=B?Cr.resolve(Cr.join2(N,B)):N;function he(Kt){function ar(Tr){Qt&&Qt(),ae||me.createDataFile(N,B,Tr,ne,e,Jt),d&&d(),Fn()}var fr=!1;S.preloadPlugins.forEach(function(Tr){fr||Tr.canHandle(or)&&(Tr.handle(Kt,or,ar,function(){it&&it(),Fn()}),fr=!0)}),fr||ar(Kt)}Un(),typeof J=="string"?Ft.asyncLoad(J,function(Kt){he(Kt)},it):he(J)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(N,B,J){B=B||function(){},J=J||function(){};var ne=me.indexedDB();try{var e=ne.open(me.DB_NAME(),me.DB_VERSION)}catch(d){return J(d)}e.onupgradeneeded=function(){console.log("creating db");var it=e.result;it.createObjectStore(me.DB_STORE_NAME)},e.onsuccess=function(){var it=e.result,ae=it.transaction([me.DB_STORE_NAME],"readwrite"),Jt=ae.objectStore(me.DB_STORE_NAME),Qt=0,or=0,he=N.length;function Kt(){or==0?B():J()}N.forEach(function(ar){var fr=Jt.put(me.analyzePath(ar).object.contents,ar);fr.onsuccess=function(){Qt++,Qt+or==he&&Kt()},fr.onerror=function(){or++,Qt+or==he&&Kt()}}),ae.onerror=J},e.onerror=J},loadFilesFromDB:function(N,B,J){B=B||function(){},J=J||function(){};var ne=me.indexedDB();try{var e=ne.open(me.DB_NAME(),me.DB_VERSION)}catch(d){return J(d)}e.onupgradeneeded=J,e.onsuccess=function(){var it=e.result;try{var ae=it.transaction([me.DB_STORE_NAME],"readonly")}catch(ar){J(ar);return}var Jt=ae.objectStore(me.DB_STORE_NAME),Qt=0,or=0,he=N.length;function Kt(){or==0?B():J()}N.forEach(function(ar){var fr=Jt.get(ar);fr.onsuccess=function(){me.analyzePath(ar).exists&&me.unlink(ar),me.createDataFile(Cr.dirname(ar),Cr.basename(ar),fr.result,!0,!0,!0),Qt++,Qt+or==he&&Kt()},fr.onerror=function(){or++,Qt+or==he&&Kt()}}),ae.onerror=J},e.onerror=J}},Cr={splitPath:function(N){var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return B.exec(N).slice(1)},normalizeArray:function(N,B){for(var J=0,ne=N.length-1;ne>=0;ne--){var e=N[ne];e==="."?N.splice(ne,1):e===".."?(N.splice(ne,1),J++):J&&(N.splice(ne,1),J--)}if(B)for(;J--;J)N.unshift("..");return N},normalize:function(N){var B=N.charAt(0)==="/",J=N.substr(-1)==="/";return N=Cr.normalizeArray(N.split("/").filter(function(ne){return!!ne}),!B).join("/"),!N&&!B&&(N="."),N&&J&&(N+="/"),(B?"/":"")+N},dirname:function(N){var B=Cr.splitPath(N),J=B[0],ne=B[1];return!J&&!ne?".":(ne&&(ne=ne.substr(0,ne.length-1)),J+ne)},basename:function(N){if(N==="/")return"/";var B=N.lastIndexOf("/");return B===-1?N:N.substr(B+1)},extname:function(N){return Cr.splitPath(N)[3]},join:function(){var N=Array.prototype.slice.call(arguments,0);return Cr.normalize(N.join("/"))},join2:function(N,B){return Cr.normalize(N+"/"+B)},resolve:function(){for(var N="",B=!1,J=arguments.length-1;J>=-1&&!B;J--){var ne=J>=0?arguments[J]:me.cwd();if(typeof ne!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!ne)return"";N=ne+"/"+N,B=ne.charAt(0)==="/"}return N=Cr.normalizeArray(N.split("/").filter(function(e){return!!e}),!B).join("/"),(B?"/":"")+N||"."},relative:function(N,B){N=Cr.resolve(N).substr(1),B=Cr.resolve(B).substr(1);function J(Qt){for(var or=0;or<Qt.length&&Qt[or]==="";or++);for(var he=Qt.length-1;he>=0&&Qt[he]==="";he--);return or>he?[]:Qt.slice(or,he-or+1)}for(var ne=J(N.split("/")),e=J(B.split("/")),d=Math.min(ne.length,e.length),it=d,ae=0;ae<d;ae++)if(ne[ae]!==e[ae]){it=ae;break}for(var Jt=[],ae=it;ae<ne.length;ae++)Jt.push("..");return Jt=Jt.concat(e.slice(it)),Jt.join("/")}};function Jn(N,B){if(Ft.mainLoop.timingMode=N,Ft.mainLoop.timingValue=B,!Ft.mainLoop.func)return 1;if(N==0)Ft.mainLoop.scheduler=function(){setTimeout(Ft.mainLoop.runner,B)},Ft.mainLoop.method="timeout";else if(N==1)Ft.mainLoop.scheduler=function(){Ft.requestAnimationFrame(Ft.mainLoop.runner)},Ft.mainLoop.method="rAF";else if(N==2){if(!window.setImmediate){let e=function(d){d.source===window&&d.data===ne&&(d.stopPropagation(),J.shift()())};var J=[],ne="__emcc";window.addEventListener("message",e,!0),window.setImmediate=function(it){J.push(it),window.postMessage(ne,"*")}}Ft.mainLoop.scheduler=function(){window.setImmediate(Ft.mainLoop.runner)},Ft.mainLoop.method="immediate"}return 0}function Co(N,B,J,ne,e){S.noExitRuntime=!0,vt(!Ft.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Ft.mainLoop.func=N,Ft.mainLoop.arg=ne;var d=Ft.mainLoop.currentlyRunningMainloop;if(Ft.mainLoop.runner=function(){if(!qe){if(Ft.mainLoop.queue.length>0){var ae=Date.now(),Jt=Ft.mainLoop.queue.shift();if(Jt.func(Jt.arg),Ft.mainLoop.remainingBlockers){var Qt=Ft.mainLoop.remainingBlockers,or=Qt%1==0?Qt-1:Math.floor(Qt);Jt.counted?Ft.mainLoop.remainingBlockers=or:(or=or+.5,Ft.mainLoop.remainingBlockers=(8*Qt+or)/9)}console.log('main loop blocker "'+Jt.name+'" took '+(Date.now()-ae)+" ms"),Ft.mainLoop.updateStatus(),setTimeout(Ft.mainLoop.runner,0);return}if(!(d<Ft.mainLoop.currentlyRunningMainloop)){if(Ft.mainLoop.currentFrameNumber=Ft.mainLoop.currentFrameNumber+1|0,Ft.mainLoop.timingMode==1&&Ft.mainLoop.timingValue>1&&Ft.mainLoop.currentFrameNumber%Ft.mainLoop.timingValue!=0){Ft.mainLoop.scheduler();return}Ft.mainLoop.method==="timeout"&&S.ctx&&(S.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Ft.mainLoop.method=""),Ft.mainLoop.runIter(function(){typeof ne<"u"?Ne.dynCall("vi",N,[ne]):Ne.dynCall("v",N)}),!(d<Ft.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Ft.mainLoop.scheduler())}}},e||(B&&B>0?Jn(0,1e3/B):Jn(1,1),Ft.mainLoop.scheduler()),J)throw"SimulateInfiniteLoop"}var Ft={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Ft.mainLoop.scheduler=null,Ft.mainLoop.currentlyRunningMainloop++},resume:function(){Ft.mainLoop.currentlyRunningMainloop++;var N=Ft.mainLoop.timingMode,B=Ft.mainLoop.timingValue,J=Ft.mainLoop.func;Ft.mainLoop.func=null,Co(J,0,!1,Ft.mainLoop.arg,!0),Jn(N,B),Ft.mainLoop.scheduler()},updateStatus:function(){if(S.setStatus){var N=S.statusMessage||"Please wait...",B=Ft.mainLoop.remainingBlockers,J=Ft.mainLoop.expectedBlockers;B?B<J?S.setStatus(N+" ("+(J-B)+"/"+J+")"):S.setStatus(N):S.setStatus("")}},runIter:function(N){if(!qe){if(S.preMainLoop){var B=S.preMainLoop();if(B===!1)return}try{N()}catch(J){if(J instanceof Zn)return;throw J&&typeof J=="object"&&J.stack&&S.printErr("exception thrown: "+[J,J.stack]),J}S.postMainLoop&&S.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(S.preloadPlugins||(S.preloadPlugins=[]),Ft.initted)return;Ft.initted=!0;try{new Blob,Ft.hasBlobConstructor=!0}catch{Ft.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Ft.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Ft.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Ft.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!S.noImageDecoding&&typeof Ft.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),S.noImageDecoding=!0);var N={};N.canHandle=function(d){return!S.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(d)},N.handle=function(d,it,ae,Jt){var Qt=null;if(Ft.hasBlobConstructor)try{Qt=new Blob([d],{type:Ft.getMimetype(it)}),Qt.size!==d.length&&(Qt=new Blob([new Uint8Array(d).buffer],{type:Ft.getMimetype(it)}))}catch(ar){Ne.warnOnce("Blob constructor present but fails: "+ar+"; falling back to blob builder")}if(!Qt){var or=new Ft.BlobBuilder;or.append(new Uint8Array(d).buffer),Qt=or.getBlob()}var he=Ft.URLObject.createObjectURL(Qt),Kt=new Image;Kt.onload=function(){vt(Kt.complete,"Image "+it+" could not be decoded");var fr=document.createElement("canvas");fr.width=Kt.width,fr.height=Kt.height;var Tr=fr.getContext("2d");Tr.drawImage(Kt,0,0),S.preloadedImages[it]=fr,Ft.URLObject.revokeObjectURL(he),ae&&ae(d)},Kt.onerror=function(fr){console.log("Image "+he+" could not be decoded"),Jt&&Jt()},Kt.src=he},S.preloadPlugins.push(N);var B={};B.canHandle=function(d){return!S.noAudioDecoding&&d.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},B.handle=function(d,it,ae,Jt){var Qt=!1;function or(Tr){Qt||(Qt=!0,S.preloadedAudios[it]=Tr,ae&&ae(d))}function he(){Qt||(Qt=!0,S.preloadedAudios[it]=new Audio,Jt&&Jt())}if(Ft.hasBlobConstructor){try{var Kt=new Blob([d],{type:Ft.getMimetype(it)})}catch{return he()}var ar=Ft.URLObject.createObjectURL(Kt),fr=new Audio;fr.addEventListener("canplaythrough",function(){or(fr)},!1),fr.onerror=function(Nr){if(Qt)return;console.log("warning: browser could not fully decode audio "+it+", trying slower base64 approach");function Or(kr){for(var Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn="=",Dr="",Sn=0,Fr=0,en=0;en<kr.length;en++)for(Sn=Sn<<8|kr[en],Fr+=8;Fr>=6;){var Wn=Sn>>Fr-6&63;Fr-=6,Dr+=Sr[Wn]}return Fr==2?(Dr+=Sr[(Sn&3)<<4],Dr+=nn+nn):Fr==4&&(Dr+=Sr[(Sn&15)<<2],Dr+=nn),Dr}fr.src="data:audio/x-"+it.substr(-3)+";base64,"+Or(d),or(fr)},fr.src=ar,Ft.safeSetTimeout(function(){or(fr)},1e4)}else return he()},S.preloadPlugins.push(B);var J=S.canvas;function ne(){Ft.pointerLock=document.pointerLockElement===J||document.mozPointerLockElement===J||document.webkitPointerLockElement===J||document.msPointerLockElement===J}J&&(J.requestPointerLock=J.requestPointerLock||J.mozRequestPointerLock||J.webkitRequestPointerLock||J.msRequestPointerLock||function(){},J.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},J.exitPointerLock=J.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",ne,!1),document.addEventListener("mozpointerlockchange",ne,!1),document.addEventListener("webkitpointerlockchange",ne,!1),document.addEventListener("mspointerlockchange",ne,!1),S.elementPointerLock&&J.addEventListener("click",function(e){!Ft.pointerLock&&J.requestPointerLock&&(J.requestPointerLock(),e.preventDefault())},!1))},createContext:function(N,B,J,ne){if(B&&S.ctx&&N==S.canvas)return S.ctx;var e,d;if(B){var it={antialias:!1,alpha:!1};if(ne)for(var ae in ne)it[ae]=ne[ae];d=GL.createContext(N,it),d&&(e=GL.getContext(d).GLctx),N.style.backgroundColor="black"}else e=N.getContext("2d");return e?(J&&(B||vt(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),S.ctx=e,B&&GL.makeContextCurrent(d),S.useWebGL=B,Ft.moduleContextCreatedCallbacks.forEach(function(Jt){Jt()}),Ft.init()),e):null},destroyContext:function(N,B,J){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(N,B,J){Ft.lockPointer=N,Ft.resizeCanvas=B,Ft.vrDevice=J,typeof Ft.lockPointer>"u"&&(Ft.lockPointer=!0),typeof Ft.resizeCanvas>"u"&&(Ft.resizeCanvas=!1),typeof Ft.vrDevice>"u"&&(Ft.vrDevice=null);var ne=S.canvas;function e(){Ft.isFullScreen=!1;var it=ne.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===it?(ne.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},ne.cancelFullScreen=ne.cancelFullScreen.bind(document),Ft.lockPointer&&ne.requestPointerLock(),Ft.isFullScreen=!0,Ft.resizeCanvas&&Ft.setFullScreenCanvasSize()):(it.parentNode.insertBefore(ne,it),it.parentNode.removeChild(it),Ft.resizeCanvas&&Ft.setWindowedCanvasSize()),S.onFullScreen&&S.onFullScreen(Ft.isFullScreen),Ft.updateCanvasDimensions(ne)}Ft.fullScreenHandlersInstalled||(Ft.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),document.addEventListener("webkitfullscreenchange",e,!1),document.addEventListener("MSFullscreenChange",e,!1));var d=document.createElement("div");ne.parentNode.insertBefore(d,ne),d.appendChild(ne),d.requestFullScreen=d.requestFullScreen||d.mozRequestFullScreen||d.msRequestFullscreen||(d.webkitRequestFullScreen?function(){d.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),J?d.requestFullScreen({vrDisplay:J}):d.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(N){var B=Date.now();if(Ft.nextRAF===0)Ft.nextRAF=B+1e3/60;else for(;B+2>=Ft.nextRAF;)Ft.nextRAF+=1e3/60;var J=Math.max(Ft.nextRAF-B,0);setTimeout(N,J)},requestAnimationFrame:function(B){typeof window>"u"?Ft.fakeRequestAnimationFrame(B):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Ft.fakeRequestAnimationFrame),window.requestAnimationFrame(B))},safeCallback:function(N){return function(){if(!qe)return N.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Ft.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Ft.allowAsyncCallbacks=!0,Ft.queuedAsyncCallbacks.length>0){var N=Ft.queuedAsyncCallbacks;Ft.queuedAsyncCallbacks=[],N.forEach(function(B){B()})}},safeRequestAnimationFrame:function(N){return Ft.requestAnimationFrame(function(){qe||(Ft.allowAsyncCallbacks?N():Ft.queuedAsyncCallbacks.push(N))})},safeSetTimeout:function(N,B){return S.noExitRuntime=!0,setTimeout(function(){qe||(Ft.allowAsyncCallbacks?N():Ft.queuedAsyncCallbacks.push(N))},B)},safeSetInterval:function(N,B){return S.noExitRuntime=!0,setInterval(function(){qe||Ft.allowAsyncCallbacks&&N()},B)},getMimetype:function(N){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[N.substr(N.lastIndexOf(".")+1)]},getUserMedia:function(N){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(N)},getMovementX:function(N){return N.movementX||N.mozMovementX||N.webkitMovementX||0},getMovementY:function(N){return N.movementY||N.mozMovementY||N.webkitMovementY||0},getMouseWheelDelta:function(N){var B=0;switch(N.type){case"DOMMouseScroll":B=N.detail;break;case"mousewheel":B=N.wheelDelta;break;case"wheel":B=N.deltaY;break;default:throw"unrecognized mouse wheel event: "+N.type}return B},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(N){if(Ft.pointerLock)N.type!="mousemove"&&"mozMovementX"in N?Ft.mouseMovementX=Ft.mouseMovementY=0:(Ft.mouseMovementX=Ft.getMovementX(N),Ft.mouseMovementY=Ft.getMovementY(N)),typeof SDL<"u"?(Ft.mouseX=SDL.mouseX+Ft.mouseMovementX,Ft.mouseY=SDL.mouseY+Ft.mouseMovementY):(Ft.mouseX+=Ft.mouseMovementX,Ft.mouseY+=Ft.mouseMovementY);else{var B=S.canvas.getBoundingClientRect(),J=S.canvas.width,ne=S.canvas.height,e=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,d=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(N.type==="touchstart"||N.type==="touchend"||N.type==="touchmove"){var it=N.touch;if(it===void 0)return;var ae=it.pageX-(e+B.left),Jt=it.pageY-(d+B.top);ae=ae*(J/B.width),Jt=Jt*(ne/B.height);var Qt={x:ae,y:Jt};if(N.type==="touchstart")Ft.lastTouches[it.identifier]=Qt,Ft.touches[it.identifier]=Qt;else if(N.type==="touchend"||N.type==="touchmove"){var or=Ft.touches[it.identifier];or||(or=Qt),Ft.lastTouches[it.identifier]=or,Ft.touches[it.identifier]=Qt}return}var he=N.pageX-(e+B.left),Kt=N.pageY-(d+B.top);he=he*(J/B.width),Kt=Kt*(ne/B.height),Ft.mouseMovementX=he-Ft.mouseX,Ft.mouseMovementY=Kt-Ft.mouseY,Ft.mouseX=he,Ft.mouseY=Kt}},xhrLoad:function(N,B,J){var ne=new XMLHttpRequest;ne.open("GET",N,!0),ne.responseType="arraybuffer",ne.onload=function(){ne.status==200||ne.status==0&&ne.response?B(ne.response):J()},ne.onerror=J,ne.send(null)},asyncLoad:function(N,B,J,ne){Ft.xhrLoad(N,function(e){vt(e,'Loading data file "'+N+'" failed (no arrayBuffer).'),B(new Uint8Array(e)),ne||Fn()},function(e){if(J)J();else throw'Loading data file "'+N+'" failed.'}),ne||Un()},resizeListeners:[],updateResizeListeners:function(){var N=S.canvas;Ft.resizeListeners.forEach(function(B){B(N.width,N.height)})},setCanvasSize:function(N,B,J){var ne=S.canvas;Ft.updateCanvasDimensions(ne,N,B),J||Ft.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if(typeof SDL<"u"){var N=ze[SDL.screen+Ne.QUANTUM_SIZE*0>>2];N=N|8388608,ve[SDL.screen+Ne.QUANTUM_SIZE*0>>2]=N}Ft.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var N=ze[SDL.screen+Ne.QUANTUM_SIZE*0>>2];N=N&-8388609,ve[SDL.screen+Ne.QUANTUM_SIZE*0>>2]=N}Ft.updateResizeListeners()},updateCanvasDimensions:function(N,B,J){B&&J?(N.widthNative=B,N.heightNative=J):(B=N.widthNative,J=N.heightNative);var ne=B,e=J;if(S.forcedAspectRatio&&S.forcedAspectRatio>0&&(ne/e<S.forcedAspectRatio?ne=Math.round(e*S.forcedAspectRatio):e=Math.round(ne/S.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===N.parentNode&&typeof screen<"u"){var d=Math.min(screen.width/ne,screen.height/e);ne=Math.round(ne*d),e=Math.round(e*d)}Ft.resizeCanvas?(N.width!=ne&&(N.width=ne),N.height!=e&&(N.height=e),typeof N.style<"u"&&(N.style.removeProperty("width"),N.style.removeProperty("height"))):(N.width!=B&&(N.width=B),N.height!=J&&(N.height=J),typeof N.style<"u"&&(ne!=B||e!=J?(N.style.setProperty("width",ne+"px","important"),N.style.setProperty("height",e+"px","important")):(N.style.removeProperty("width"),N.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var N=Ft.nextWgetRequestHandle;return Ft.nextWgetRequestHandle++,N}};function Xn(N){var B=Date.now()/1e3|0;return N&&(ve[N>>2]=B),B}function Oo(){return 0}S.requestFullScreen=function(B,J,ne){Ft.requestFullScreen(B,J,ne)},S.requestAnimationFrame=function(B){Ft.requestAnimationFrame(B)},S.setCanvasSize=function(B,J,ne){Ft.setCanvasSize(B,J,ne)},S.pauseMainLoop=function(){Ft.mainLoop.pause()},S.resumeMainLoop=function(){Ft.mainLoop.resume()},S.getUserMedia=function(){Ft.getUserMedia()},S.createContext=function(B,J,ne,e){return Ft.createContext(B,J,ne,e)},me.staticInit(),Le.unshift(function(){!S.noFSInit&&!me.init.initialized&&me.init()}),Ce.push(function(){me.ignorePermissions=!1}),rt.push(function(){me.quit()}),S.FS_createFolder=me.createFolder,S.FS_createPath=me.createPath,S.FS_createDataFile=me.createDataFile,S.FS_createPreloadedFile=me.createPreloadedFile,S.FS_createLazyFile=me.createLazyFile,S.FS_createLink=me.createLink,S.FS_createDevice=me.createDevice,S.FS_unlink=me.unlink,Le.unshift(function(){}),rt.push(function(){}),Zt=fe=Ne.alignMemory(xt),Bt=!0,z=Zt+be,te=ye=Ne.alignMemory(z),vt(te<Pe,"TOTAL_MEMORY not big enough for stack"),S.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},S.asmLibraryArg={abort:jn,assert:vt,_sysconf:no,_pthread_self:Oo,_abort:oo,___setErrNo:On,_sbrk:Cn,_time:Xn,_emscripten_set_main_loop_timing:Jn,_emscripten_memcpy_big:Hn,_emscripten_set_main_loop:Co,STACKTOP:fe,STACK_MAX:z,tempDoublePtr:Dn,ABORT:qe};var $r=function(N,B,J){var ne=new N.Int8Array(J),e=new N.Int16Array(J),d=new N.Int32Array(J),it=new N.Uint8Array(J),ae=new N.Uint16Array(J),Jt=new N.Uint32Array(J),Qt=new N.Float32Array(J),or=new N.Float64Array(J),he=B.STACKTOP|0,Kt=B.STACK_MAX|0,ar=B.tempDoublePtr|0,fr=B.ABORT|0,Tr=0,Nr=0,Or=0,kr=0,Sr=N.NaN,nn=N.Infinity,Dr=0,Sn=0,Fr=0,en=0,Wn=0,Fo=0,Q0=0,$0=0,ea=0,bi=0,ta=0,ra=0,na=0,oa=0,ia=0,sa=0,aa=0,ca=0,la=0,ua=N.Math.floor,fa=N.Math.abs,da=N.Math.sqrt,pa=N.Math.pow,ha=N.Math.cos,ma=N.Math.sin,ga=N.Math.tan,va=N.Math.acos,Ea=N.Math.asin,ya=N.Math.atan,Ta=N.Math.atan2,Aa=N.Math.exp,Ia=N.Math.log,wa=N.Math.ceil,Z=N.Math.imul,Ra=N.Math.min,ba=N.Math.clz32,Ca=B.abort,Oa=B.assert,A1=B._sysconf,Sa=B._pthread_self,Ar=B._abort,Na=B.___setErrNo,uo=B._sbrk,I1=B._time,Ma=B._emscripten_set_main_loop_timing,w1=B._emscripten_memcpy_big,ka=B._emscripten_set_main_loop,La=0;function R1(r){r=r|0;var i=0;return i=he,he=he+r|0,he=he+15&-16,i|0}function b1(){return he|0}function C1(r){r=r|0,he=r}function O1(r,i){r=r|0,i=i|0,he=r,Kt=i}function S1(r,i){r=r|0,i=i|0,Tr||(Tr=r,Nr=i)}function Pa(r){r=r|0,ne[ar>>0]=ne[r>>0],ne[ar+1>>0]=ne[r+1>>0],ne[ar+2>>0]=ne[r+2>>0],ne[ar+3>>0]=ne[r+3>>0]}function xa(r){r=r|0,ne[ar>>0]=ne[r>>0],ne[ar+1>>0]=ne[r+1>>0],ne[ar+2>>0]=ne[r+2>>0],ne[ar+3>>0]=ne[r+3>>0],ne[ar+4>>0]=ne[r+4>>0],ne[ar+5>>0]=ne[r+5>>0],ne[ar+6>>0]=ne[r+6>>0],ne[ar+7>>0]=ne[r+7>>0]}function N1(r){r=r|0,bi=r}function M1(){return bi|0}function k1(){var r=0,i=0;return i=he,he=he+16|0,r=i,d[r>>2]=0,vs(r,31756)|0,he=i,d[r>>2]|0}function L1(r){r=r|0;var i=0,o=0;i=he,he=he+16|0,o=i,d[o>>2]=r,Es(o),he=i}function P1(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0,F1(r,s|0?15:(it[i>>0]|0)>>>3&15,i+1|0,o,2)|0}function x1(r){r=r|0;var i=0;return i=cn(8)|0,Ts(i,i+4|0,r)|0,i|0}function U1(r){r=r|0,As(r,r+4|0),Zr(r)}function D1(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0;return u=he,he=he+16|0,f=u,d[f>>2]=i,o=(Is(d[r>>2]|0,d[r+4>>2]|0,i,o,s,f,3)|0)<<16>>16,ne[s>>0]=it[s>>0]|0|4,he=u,o|0}function B1(r){return r=r|0,r?(e[r>>1]=4096,r=0):r=-1,r|0}function Ci(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0;if(R=d[f>>2]|0,k=u<<16>>16>0,k){p=0,h=0;do A=e[o+(p<<1)>>1]|0,A=Z(A,A)|0,(A|0)!=1073741824?(E=(A<<1)+h|0,(A^h|0)>0&(E^h|0)<0?(d[f>>2]=1,h=(h>>>31)+2147483647|0):h=E):(d[f>>2]=1,h=2147483647),p=p+1|0;while((p&65535)<<16>>16!=u<<16>>16);if((h|0)==2147483647){d[f>>2]=R,A=0,E=0;do h=e[o+(A<<1)>>1]>>2,h=Z(h,h)|0,(h|0)!=1073741824?(p=(h<<1)+E|0,(h^E|0)>0&(p^E|0)<0?(d[f>>2]=1,E=(E>>>31)+2147483647|0):E=p):(d[f>>2]=1,E=2147483647),A=A+1|0;while((A&65535)<<16>>16!=u<<16>>16)}else b=8}else h=0,b=8;if((b|0)==8&&(E=h>>4),!E){e[r>>1]=0;return}if(C=((jr(E)|0)&65535)+65535|0,h=C<<16>>16,(C&65535)<<16>>16>0?(p=E<<h,(p>>h|0)==(E|0)?E=p:E=E>>31^2147483647):(h=0-h<<16,(h|0)<2031616?E=E>>(h>>16):E=0),O=Mr(E,f)|0,p=d[f>>2]|0,k){h=0,E=0;do R=e[i+(h<<1)>>1]|0,R=Z(R,R)|0,(R|0)!=1073741824?(A=(R<<1)+E|0,(R^E|0)>0&(A^E|0)<0?(d[f>>2]=1,E=(E>>>31)+2147483647|0):E=A):(d[f>>2]=1,E=2147483647),h=h+1|0;while((h&65535)<<16>>16!=u<<16>>16);if((E|0)==2147483647){d[f>>2]=p,R=0,E=0;do A=e[i+(R<<1)>>1]>>2,A=Z(A,A)|0,(A|0)!=1073741824?(h=(A<<1)+E|0,(A^E|0)>0&(h^E|0)<0?(d[f>>2]=1,E=(E>>>31)+2147483647|0):E=h):(d[f>>2]=1,E=2147483647),R=R+1|0;while((R&65535)<<16>>16!=u<<16>>16)}else b=29}else E=0,b=29;if((b|0)==29&&(E=E>>4),E?(h=(jr(E)|0)<<16>>16,p=C-h|0,A=p&65535,E=(an(O,Mr(E<<h,f)|0)|0)<<16>>16,h=E<<7,p=p<<16>>16,A<<16>>16>0?p=A<<16>>16<31?h>>p:0:(b=0-p<<16>>16,p=h<<b,p=(p>>b|0)==(h|0)?p:E>>24^2147483647),A=(Z(((eo(p,f)|0)<<9)+32768>>16,32767-(s&65535)<<16>>16)|0)>>>15<<16>>16):A=0,p=e[r>>1]|0,k)for(E=s<<16>>16,h=0;s=((Z(p<<16>>16,E)|0)>>>15&65535)+A|0,p=s&65535,e[o>>1]=(Z(e[o>>1]|0,s<<16>>16)|0)>>>12,h=h+1<<16>>16,!(h<<16>>16>=u<<16>>16);)o=o+2|0;e[r>>1]=p}function G1(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0;if(p=d[s>>2]|0,u=o<<16>>16>0,u){h=0,f=0;do A=e[i+(h<<1)>>1]|0,A=Z(A,A)|0,(A|0)!=1073741824?(E=(A<<1)+f|0,(A^f|0)>0&(E^f|0)<0?(d[s>>2]=1,f=(f>>>31)+2147483647|0):f=E):(d[s>>2]=1,f=2147483647),h=h+1|0;while((h&65535)<<16>>16!=o<<16>>16);if((f|0)==2147483647){d[s>>2]=p,A=0,p=0;do E=e[i+(A<<1)>>1]>>2,E=Z(E,E)|0,(E|0)!=1073741824?(h=(E<<1)+p|0,(E^p|0)>0&(h^p|0)<0?(d[s>>2]=1,p=(p>>>31)+2147483647|0):p=h):(d[s>>2]=1,p=2147483647),A=A+1|0;while((A&65535)<<16>>16!=o<<16>>16)}else C=8}else f=0,C=8;if((C|0)==8&&(p=f>>4),!!p){if(O=((jr(p)|0)&65535)+65535|0,E=O<<16>>16,(O&65535)<<16>>16>0?(h=p<<E,(h>>E|0)==(p|0)?p=h:p=p>>31^2147483647):(E=0-E<<16,(E|0)<2031616?p=p>>(E>>16):p=0),R=Mr(p,s)|0,p=d[s>>2]|0,u){h=0,f=0;do A=e[r+(h<<1)>>1]|0,A=Z(A,A)|0,(A|0)!=1073741824?(E=(A<<1)+f|0,(A^f|0)>0&(E^f|0)<0?(d[s>>2]=1,f=(f>>>31)+2147483647|0):f=E):(d[s>>2]=1,f=2147483647),h=h+1|0;while((h&65535)<<16>>16!=o<<16>>16);if((f|0)==2147483647){d[s>>2]=p,p=0,h=0;do A=e[r+(p<<1)>>1]>>2,A=Z(A,A)|0,(A|0)!=1073741824?(E=(A<<1)+h|0,(A^h|0)>0&(E^h|0)<0?(d[s>>2]=1,h=(h>>>31)+2147483647|0):h=E):(d[s>>2]=1,h=2147483647),p=p+1|0;while((p&65535)<<16>>16!=o<<16>>16)}else C=28}else f=0,C=28;if((C|0)==28&&(h=f>>4),h?(A=jr(h)|0,E=A<<16>>16,A<<16>>16>0?(p=h<<E,(p>>E|0)==(h|0)?h=p:h=h>>31^2147483647):(E=0-E<<16,(E|0)<2031616?h=h>>(E>>16):h=0),p=O-(A&65535)|0,E=p&65535,f=(an(R,Mr(h,s)|0)|0)<<16>>16,u=f<<7,p=p<<16>>16,E<<16>>16>0?u=E<<16>>16<31?u>>p:0:(O=0-p<<16>>16,r=u<<O,u=(r>>O|0)==(u|0)?r:f>>24^2147483647),u=eo(u,s)|0,(u|0)>4194303?u=2147483647:u=(u|0)<-4194304?-2147483648:u<<9,u=Mr(u,s)|0):u=0,f=(o&65535)+65535&65535,!(f<<16>>16<=-1))for(A=u<<16>>16,E=o+-1<<16>>16<<16>>16;;){p=i+(E<<1)|0,u=Z(e[p>>1]|0,A)|0;do if((u|0)!=1073741824)if(h=u<<1,(h|0)<=268435455)if((h|0)<-268435456){e[p>>1]=-32768;break}else{e[p>>1]=u>>>12;break}else C=52;else d[s>>2]=1,C=52;while(0);if((C|0)==52&&(C=0,e[p>>1]=32767),f=f+-1<<16>>16,f<<16>>16<=-1)break;E=E+-1|0}}}function F1(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0;E=he,he=he+496|0,h=E,p=(u|0)==2;do if(p&1|(u|0)==4){f=r+1168|0,p?(_s(i,o,h,f),f=604):(cs(i,o,h,f),f=3436),u=e[f+(i<<1)>>1]|0;do if(i>>>0>=8){if((i|0)==8){i=e[h+76>>1]<<2|(e[h+74>>1]<<1|e[h+72>>1]),f=e[h+70>>1]|0?5:4;break}if(i>>>0<15)return r=-1,he=E,r|0;i=d[r+1760>>2]|0,f=7;break}else f=0;while(0);if(u<<16>>16==-1)return r=-1,he=E,r|0}else{if(u)return r=-1,he=E,r|0;for(p=e[o>>1]|0,i=o+490|0,u=o+2|0,f=0;e[h+(f<<1)>>1]=e[u>>1]|0,f=f+1|0,(f|0)!=244;)u=u+2|0;if(f=p<<16>>16,p<<16>>16==7){u=492,i=d[r+1760>>2]|0;break}else{u=492,i=e[i>>1]|0;break}}while(0);return ys(r,i,h,f,s),d[r+1760>>2]=i,r=u,he=E,r|0}function H1(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0;D=he,he=he+48|0,b=D+20|0,k=D,u=b,s=u+20|0;do e[u>>1]=e[r>>1]|0,u=u+2|0,r=r+2|0;while((u|0)<(s|0));r=e[b+18>>1]|0,C=(r&65535)-((r&65535)>>>15&65535)|0;e:do if(((C<<16>>31^C)&65535)<<16>>16<=4095){for(s=9,C=9;;){r=r<<16>>16,r=(r<<19>>19|0)==(r|0)?r<<3:r>>>15^32767,O=i+(s<<1)|0,e[O>>1]=r,r=r<<16>>16,r=Z(r,r)|0,(r|0)==1073741824?(d[o>>2]=1,u=2147483647):u=r<<1,r=2147483647-u|0,(r&u|0)<0&&(d[o>>2]=1,r=2147483647),A=jr(r)|0,R=15-(A&65535)&65535,f=A<<16>>16,A<<16>>16>0?(u=r<<f,(u>>f|0)!=(r|0)&&(u=r>>31^2147483647)):(u=0-f<<16,(u|0)<2031616?u=r>>(u>>16):u=0),u=an(16384,Mr(u,o)|0)|0;do if(C<<16>>16>0){for(A=s+-1|0,p=u<<16>>16,h=C<<16>>16,E=0;;){if(s=ae[b+(E<<1)>>1]|0,r=s<<16,f=Z(e[b+(A-E<<1)>>1]|0,e[O>>1]|0)|0,(f|0)==1073741824?(d[o>>2]=1,u=2147483647):u=f<<1,f=r-u|0,((f^r)&(u^r)|0)<0&&(d[o>>2]=1,f=(s>>>15)+2147483647|0),f=Z((Mr(f,o)|0)<<16>>16,p)|0,(f|0)==1073741824?(d[o>>2]=1,f=2147483647):f=f<<1,f=mi(f,R,o)|0,u=f-(f>>>31)|0,(u>>31^u|0)>32767){f=24;break}if(e[k+(E<<1)>>1]=f,E=E+1|0,(h|0)<=(E|0)){f=26;break}}if((f|0)==24){f=0,u=i,s=u+20|0;do e[u>>1]=0,u=u+2|0;while((u|0)<(s|0));r=10}else if((f|0)==26)if(f=0,C<<16>>16>0)r=C;else{f=28;break}u=r+-1<<16>>16,Tn(b|0,k|0,((u&65535)<<1)+2|0)|0,s=u<<16>>16}else f=28;while(0);if((f|0)==28)if(r=C+-1<<16>>16,r<<16>>16>-1)s=r<<16>>16,u=32767;else break;if(r=e[b+(s<<1)>>1]|0,C=(r&65535)-((r&65535)>>>15&65535)|0,((C<<16>>31^C)&65535)<<16>>16>4095)break e;C=u}he=D;return}while(0);u=i,s=u+20|0;do e[u>>1]=0,u=u+2|0;while((u|0)<(s|0));he=D}function j1(r,i){r=r|0,i=i|0;var o=0,s=0,u=0,f=0,p=0;if(i<<16>>16<=0)return r=0,r|0;s=d[r>>2]|0,u=0,o=0;do p=s&1,o=p|o<<1&131070,f=s>>1,s=(p|0)==(s>>>28&1|0)?f:f|1073741824,u=u+1<<16>>16;while(u<<16>>16<i<<16>>16);return d[r>>2]=s,p=o&65535,p|0}function Ho(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0;u=i,s=u+80|0;do e[u>>1]=0,u=u+2|0;while((u|0)<(s|0));s=0,u=d[r>>2]|0;do E=u&1,h=u>>1,h=(E|0)==(u>>>28&1|0)?h:h|1073741824,f=h&1,p=h>>1,d[r>>2]=(f|0)==(h>>>28&1|0)?p:p|1073741824,f=lr((Z(E<<1|f,1310720)|0)>>>17&65535,s,o)|0,E=d[r>>2]|0,p=E&1,h=E>>1,u=(p|0)==(E>>>28&1|0)?h:h|1073741824,d[r>>2]=u,e[i+(f<<16>>16<<1)>>1]=((p&65535)<<13&65535)+-4096<<16>>16,s=s+1<<16>>16;while(s<<16>>16<10)}function W1(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0;if(p=e[r>>1]|0,(p*31821|0)==1073741824?(d[f>>2]=1,h=1073741823):h=p*63642>>1,p=h+13849|0,(h|0)>-1&(p^h|0)<0&&(d[f>>2]=1,p=(h>>>31)+2147483647|0),e[r>>1]=p,!(i<<16>>16<=0))for(h=0,p=u+((p&127)<<1)|0;e[s+(h<<1)>>1]=(-65536<<e[o+(h<<1)>>1]>>>16^65535)&ae[p>>1],h=h+1|0,(h&65535)<<16>>16!=i<<16>>16;)p=p+2|0}function Oi(r){r=r|0;var i=0;if(!r)return i=-1,i|0;i=r+122|0;do e[r>>1]=0,r=r+2|0;while((r|0)<(i|0));return i=0,i|0}function z1(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0;for(h=159,p=0;;)if(A=e[o+(h<<1)>>1]|0,A=Z(A,A)|0,A=(A|0)==1073741824?2147483647:A<<1,f=A+p|0,(A^p|0)>-1&(f^p|0)<0?(d[u>>2]=1,p=(p>>>31)+2147483647|0):p=f,(h|0)>0)h=h+-1|0;else{h=p;break}for(u=h>>>14&65535,p=32767,f=59;A=e[r+(f<<1)>>1]|0,p=A<<16>>16<p<<16>>16?A:p,(f|0)>0;)f=f+-1|0;for(A=(h|0)>536870911?32767:u,u=p<<16>>16,f=u<<20>>16,h=p<<16>>16>0?32767:-32768,o=55,p=e[r>>1]|0;E=e[r+(o<<1)>>1]|0,p=p<<16>>16<E<<16>>16?E:p,(o|0)>1;)o=o+-1|0;o=e[r+80>>1]|0,E=e[r+82>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+84>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+86>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+88>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+90>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+92>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+94>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+96>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+98>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+100>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+102>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+104>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+106>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+108>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+110>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+112>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+114>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=e[r+116>>1]|0,o=o<<16>>16<E<<16>>16?E:o,E=r+118|0,O=e[E>>1]|0;do if((A+-21&65535)<17557&p<<16>>16>20&&((A<<16>>16|0)<(((u<<4|0)==(f|0)?f:h)|0)||(o<<16>>16<O<<16>>16?O:o)<<16>>16<1953))if(p=r+120|0,f=e[p>>1]|0,f<<16>>16>29){e[p>>1]=30,o=p,h=1;break}else{h=(f&65535)+1&65535,e[p>>1]=h,o=p,h=h<<16>>16>1&1;break}else R=14;while(0);(R|0)==14&&(o=r+120|0,e[o>>1]=0,h=0),p=0;do O=p,p=p+1|0,e[r+(O<<1)>>1]=e[r+(p<<1)>>1]|0;while((p|0)!=59);return e[E>>1]=A,p=e[o>>1]|0,p=p<<16>>16>15?16383:p<<16>>16>8?15565:13926,f=po(i+8|0,5)|0,(e[o>>1]|0)>20?((po(i,9)|0)<<16>>16|0)>(p|0)&&(R=20):(f<<16>>16|0)>(p|0)&&(R=20),(R|0)==20?(e[s>>1]=0,h|0):(f=(ae[s>>1]|0)+1&65535,f<<16>>16>10?(e[s>>1]=10,h|0):(e[s>>1]=f,h|0))}function Zo(r){r=r|0;var i=0;if(!r)return i=-1,i|0;i=r+18|0;do e[r>>1]=0,r=r+2|0;while((r|0)<(i|0));return i=0,i|0}function V1(r,i,o,s,u,f,p,h,E,A,R,O){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0;var C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0;de=r+2|0,e[r>>1]=e[de>>1]|0,je=r+4|0,e[de>>1]=e[je>>1]|0,We=r+6|0,e[je>>1]=e[We>>1]|0,Ze=r+8|0,e[We>>1]=e[Ze>>1]|0,pe=r+10|0,e[Ze>>1]=e[pe>>1]|0,Ge=r+12|0,e[pe>>1]=e[Ge>>1]|0,e[Ge>>1]=o,K=0,Ee=0;do{C=u+(Ee<<1)|0,k=Rr(e[C>>1]|0,e[s+(Ee<<1)>>1]|0,O)|0,k=(k&65535)-((k&65535)>>>15&65535)|0,k=k<<16>>31^k,Te=((Ao(k&65535)|0)&65535)+65535|0,b=Te<<16>>16,(Te&65535)<<16>>16<0?(D=0-b<<16,(D|0)<983040?ce=k<<16>>16>>(D>>16)&65535:ce=0):(D=k<<16>>16,k=D<<b,(k<<16>>16>>b|0)==(D|0)?ce=k&65535:ce=(D>>>15^32767)&65535),le=Ao(e[C>>1]|0)|0,k=e[C>>1]|0,b=le<<16>>16,le<<16>>16<0?(D=0-b<<16,(D|0)<983040?D=k<<16>>16>>(D>>16)&65535:D=0):(D=k<<16>>16,k=D<<b,(k<<16>>16>>b|0)==(D|0)?D=k&65535:D=(D>>>15^32767)&65535),b=an(ce,D)|0,D=(Te&65535)+2-(le&65535)|0,k=D&65535;do if(D&32768){if(k<<16>>16!=-32768){if(Te=0-D|0,D=Te<<16>>16,(Te&65535)<<16>>16<0){if(D=0-D<<16,(D|0)>=983040){D=0;break}D=b<<16>>16>>(D>>16)&65535;break}}else D=32767;k=b<<16>>16,b=k<<D,(b<<16>>16>>D|0)==(k|0)?D=b&65535:D=(k>>>15^32767)&65535}else D=Xr(b,k,O)|0;while(0);K=lr(K,D,O)|0,Ee=Ee+1|0}while((Ee|0)!=10);switch(D=K&65535,k=K<<16>>16>5325,K=r+14|0,k?(u=(ae[K>>1]|0)+1&65535,e[K>>1]=u,u<<16>>16>10&&(e[r+16>>1]=0)):e[K>>1]=0,i|0){case 0:case 1:case 2:case 3:case 6:break;default:return Ge=r+16|0,O=o,o=e[Ge>>1]|0,o=o&65535,o=o+1|0,o=o&65535,e[Ge>>1]=o,O|0}return ce=(p|f)<<16>>16==0,le=A<<16>>16==0,Te=i>>>0<3,K=D+(Te&((le|(ce&(h<<16>>16==0|E<<16>>16==0)|R<<16>>16<2))^1)?61030:62259)&65535,K=K<<16>>16>0?K:0,K<<16>>16<=2048?(K=K<<16>>16,(K<<18>>18|0)==(K|0)?E=K<<2:E=K>>>15^32767):E=8192,h=r+16|0,R=k|(e[h>>1]|0)<40,K=e[je>>1]|0,(K*6554|0)==1073741824?(d[O>>2]=1,k=2147483647):k=K*13108|0,K=e[We>>1]|0,D=K*6554|0,(D|0)!=1073741824?(K=(K*13108|0)+k|0,(D^k|0)>0&(K^k|0)<0&&(d[O>>2]=1,K=(k>>>31)+2147483647|0)):(d[O>>2]=1,K=2147483647),D=e[Ze>>1]|0,k=D*6554|0,(k|0)!=1073741824?(D=(D*13108|0)+K|0,(k^K|0)>0&(D^K|0)<0&&(d[O>>2]=1,D=(K>>>31)+2147483647|0)):(d[O>>2]=1,D=2147483647),K=e[pe>>1]|0,k=K*6554|0,(k|0)!=1073741824?(K=(K*13108|0)+D|0,(k^D|0)>0&(K^D|0)<0?(d[O>>2]=1,k=(D>>>31)+2147483647|0):k=K):(d[O>>2]=1,k=2147483647),K=e[Ge>>1]|0,D=K*6554|0,(D|0)!=1073741824?(K=(K*13108|0)+k|0,(D^k|0)>0&(K^k|0)<0&&(d[O>>2]=1,K=(k>>>31)+2147483647|0)):(d[O>>2]=1,K=2147483647),k=Mr(K,O)|0,Te&((ce|le)^1)&&(K=e[r>>1]|0,(K*4681|0)==1073741824?(d[O>>2]=1,k=2147483647):k=K*9362|0,K=e[de>>1]|0,D=K*4681|0,(D|0)!=1073741824?(K=(K*9362|0)+k|0,(D^k|0)>0&(K^k|0)<0?(d[O>>2]=1,k=(k>>>31)+2147483647|0):k=K):(d[O>>2]=1,k=2147483647),K=e[je>>1]|0,D=K*4681|0,(D|0)!=1073741824?(K=(K*9362|0)+k|0,(D^k|0)>0&(K^k|0)<0?(d[O>>2]=1,k=(k>>>31)+2147483647|0):k=K):(d[O>>2]=1,k=2147483647),K=e[We>>1]|0,D=K*4681|0,(D|0)!=1073741824?(K=(K*9362|0)+k|0,(D^k|0)>0&(K^k|0)<0&&(d[O>>2]=1,K=(k>>>31)+2147483647|0)):(d[O>>2]=1,K=2147483647),D=e[Ze>>1]|0,k=D*4681|0,(k|0)!=1073741824?(D=(D*9362|0)+K|0,(k^K|0)>0&(D^K|0)<0?(d[O>>2]=1,K=(K>>>31)+2147483647|0):K=D):(d[O>>2]=1,K=2147483647),D=e[pe>>1]|0,k=D*4681|0,(k|0)!=1073741824?(D=(D*9362|0)+K|0,(k^K|0)>0&(D^K|0)<0&&(d[O>>2]=1,D=(K>>>31)+2147483647|0)):(d[O>>2]=1,D=2147483647),k=e[Ge>>1]|0,C=k*4681|0,(C|0)!=1073741824?(b=(k*9362|0)+D|0,(C^D|0)>0&(b^D|0)<0&&(d[O>>2]=1,b=(D>>>31)+2147483647|0)):(d[O>>2]=1,b=2147483647),k=Mr(b,O)|0),K=R?8192:E<<16>>16,C=Z(K,o<<16>>16)|0,(C|0)==1073741824?(d[O>>2]=1,D=2147483647):D=C<<1,k=k<<16>>16,b=k<<13,(b|0)!=1073741824?(C=D+(k<<14)|0,(D^b|0)>0&(C^D|0)<0?(d[O>>2]=1,D=(D>>>31)+2147483647|0):D=C):(d[O>>2]=1,D=2147483647),C=Z(k,K)|0,(C|0)==1073741824?(d[O>>2]=1,b=2147483647):b=C<<1,C=D-b|0,((C^D)&(b^D)|0)<0&&(d[O>>2]=1,C=(D>>>31)+2147483647|0),Ge=C<<2,o=h,O=Mr((Ge>>2|0)==(C|0)?Ge:C>>31^2147483647,O)|0,Ge=e[o>>1]|0,Ge=Ge&65535,Ge=Ge+1|0,Ge=Ge&65535,e[o>>1]=Ge,O|0}function q1(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0;s=i,u=s+80|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(u|0));s=0;do p=e[r+(s<<1)>>1]|0,u=((p&8)<<10&65535^8192)+-4096<<16>>16,f=s<<16,p=((e[o+((p&7)<<1)>>1]|0)*327680|0)+f>>16,e[i+(p<<1)>>1]=u,f=((e[o+((ae[r+(s+5<<1)>>1]&7)<<1)>>1]|0)*327680|0)+f>>16,(f|0)<(p|0)&&(u=0-(u&65535)&65535),p=i+(f<<1)|0,e[p>>1]=(ae[p>>1]|0)+(u&65535),s=s+1|0;while((s|0)!=5)}function K1(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;u=i<<16>>16,s=(u<<1&2|1)+((u>>>1&7)*5|0)|0,i=u>>>4&3,i=((u>>>6&7)*5|0)+((i|0)==3?4:i)|0,u=o,f=u+80|0;do e[u>>1]=0,u=u+2|0;while((u|0)<(f|0));r=r<<16>>16,e[o+(s<<1)>>1]=(0-(r&1)&16383)+57344,e[o+(i<<1)>>1]=(0-(r>>>1&1)&16383)+57344}function J1(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0;f=o<<16>>16,h=f>>>3,r=r<<16>>16,r=((r<<17>>17|0)==(r|0)?r<<1:r>>>15^32767)+(h&8)<<16,h=(ae[s+(r+65536>>16<<1)>>1]|0)+((h&7)*5|0)|0,o=i<<16>>16,p=(0-(o&1)&16383)+57344&65535,r=u+((ae[s+(r>>16<<1)>>1]|0)+((f&7)*5|0)<<16>>16<<1)|0,i=u,f=i+80|0;do e[i>>1]=0,i=i+2|0;while((i|0)<(f|0));e[r>>1]=p,e[u+(h<<16>>16<<1)>>1]=(0-(o>>>1&1)&16383)+57344}function X1(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0;i=i<<16>>16,s=(i&7)*5|0,u=(i>>>2&2|1)+((i>>>4&7)*5|0)|0,i=(i>>>6&2)+2+((i>>>8&7)*5|0)|0,f=o,p=f+80|0;do e[f>>1]=0,f=f+2|0;while((f|0)<(p|0));r=r<<16>>16,e[o+(s<<1)>>1]=(0-(r&1)&16383)+57344,e[o+(u<<1)>>1]=(0-(r>>>1&1)&16383)+57344,e[o+(i<<1)>>1]=(0-(r>>>2&1)&16383)+57344}function Y1(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0;i=i<<16>>16,p=e[o+((i&7)<<1)>>1]|0,h=e[o+((i>>>3&7)<<1)>>1]|0,f=e[o+((i>>>6&7)<<1)>>1]|0,o=(i>>>9&1)+3+((e[o+((i>>>10&7)<<1)>>1]|0)*5|0)|0,i=s,u=i+80|0;do e[i>>1]=0,i=i+2|0;while((i|0)<(u|0));r=r<<16>>16,e[s+(p*327680>>16<<1)>>1]=(0-(r&1)&16383)+57344,e[s+((h*327680|0)+65536>>16<<1)>>1]=(0-(r>>>1&1)&16383)+57344,e[s+((f*327680|0)+131072>>16<<1)>>1]=(0-(r>>>2&1)&16383)+57344,e[s+(o<<16>>16<<1)>>1]=(0-(r>>>3&1)&16383)+57344}function Z1(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0;C=he,he=he+32|0,O=C+16|0,R=C,f=i,u=f+80|0;do e[f>>1]=0,f=f+2|0;while((f|0)<(u|0));u=e[r>>1]|0,e[O>>1]=u,e[O+2>>1]=e[r+2>>1]|0,e[O+4>>1]=e[r+4>>1]|0,e[O+6>>1]=e[r+6>>1]|0,E=e[r+8>>1]|0,Si(E>>>3&65535,E&7,0,4,1,R,o),E=e[r+10>>1]|0,Si(E>>>3&65535,E&7,2,6,5,R,o),E=e[r+12>>1]|0,s=E>>2;do if((s*25|0)!=1073741824){if(f=(Z(s,1638400)|0)+786432>>21,s=f*6554>>15,(s|0)>32767){d[o>>2]=1,p=1,h=1,r=163835,A=6;break}r=(s<<16>>16)*5|0,p=s&1,(r|0)==1073741824?(d[o>>2]=1,h=0,r=65535):(h=0,A=6)}else d[o>>2]=1,p=0,s=0,h=0,f=0,r=0,A=6;while(0);for((A|0)==6&&(r=r&65535),A=f-r|0,p=p<<16>>16?4-A|0:A,A=p<<16>>16,e[R+6>>1]=lr(((p<<17>>17|0)==(A|0)?p<<1:A>>>15^32767)&65535,E&1,o)|0,h&&(d[o>>2]=1,s=32767),A=s<<16>>16,e[R+14>>1]=((s<<17>>17|0)==(A|0)?s<<1:A>>>15^32767)+(E>>>1&1),s=0;u=u<<16>>16?-8191:8191,A=(e[R+(s<<1)>>1]<<2)+s<<16,f=A>>16,(A|0)<2621440&&(e[i+(f<<1)>>1]=u),p=(e[R+(s+4<<1)>>1]<<2)+s<<16,r=p>>16,(r|0)<(f|0)&&(u=0-(u&65535)&65535),(p|0)<2621440&&(A=i+(r<<1)|0,e[A>>1]=(ae[A>>1]|0)+(u&65535)),s=s+1|0,(s|0)!=4;)u=e[O+(s<<1)>>1]|0;he=C}function Si(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0;E=r<<16>>16>124?124:r,r=(E<<16>>16)*1311>>15,b=(r|0)>32767,b?(d[p>>2]=1,h=32767,C=4):(h=r<<16>>16,(h*25|0)==1073741824?(d[p>>2]=1,h=1073741823):C=4),(C|0)==4&&(h=(h*50|0)>>>1),R=(E&65535)-h|0,h=(R<<16>>16)*6554>>15,O=(h|0)>32767,O?(d[p>>2]=1,E=32767,C=9):(E=h<<16>>16,(E*5|0)==1073741824?(d[p>>2]=1,A=1073741823):C=9),(C|0)==9&&(A=(E*10|0)>>>1),R=R-A|0,C=R<<16>>16,E=i<<16>>16,A=E>>2,E=E-(A<<2)|0,e[f+(o<<16>>16<<1)>>1]=((R<<17>>17|0)==(C|0)?R<<1:C>>>15^32767)+(E&1),O&&(d[p>>2]=1,h=32767),o=h<<16>>16,e[f+(s<<16>>16<<1)>>1]=((h<<17>>17|0)==(o|0)?h<<1:o>>>15^32767)+(E<<16>>17),b&&(d[p>>2]=1,r=32767),s=r<<16>>16,e[f+(u<<16>>16<<1)>>1]=lr(A&65535,((r<<17>>17|0)==(s|0)?r<<1:s>>>15^32767)&65535,p)|0}function Q1(r){r=r|0;var i=0,o=0,s=0,u=0;if(!r)return u=-1,u|0;f1(r+1168|0),e[r+460>>1]=40,d[r+1164>>2]=0,i=r+646|0,o=r+1216|0,s=r+462|0,u=s+22|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(u|0));return $o(i,d[o>>2]|0)|0,ti(r+686|0)|0,ei(r+700|0)|0,Zo(r+608|0)|0,xi(r+626|0,d[o>>2]|0)|0,Oi(r+484|0)|0,Di(r+730|0)|0,Pi(r+748|0)|0,ao(r+714|0)|0,Qo(r,0)|0,u=0,u|0}function Qo(r,i){r=r|0,i=i|0;var o=0,s=0;if(!r)return r=-1,r|0;if(d[r+388>>2]=r+308,ro(r|0,0,308)|0,i=(i|0)!=8,i){o=r+412|0,s=o+20|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));e[r+392>>1]=3e4,e[r+394>>1]=26e3,e[r+396>>1]=21e3,e[r+398>>1]=15e3,e[r+400>>1]=8e3,e[r+402>>1]=0,e[r+404>>1]=-8e3,e[r+406>>1]=-15e3,e[r+408>>1]=-21e3,e[r+410>>1]=-26e3}if(e[r+432>>1]=0,e[r+434>>1]=40,d[r+1164>>2]=0,e[r+436>>1]=0,e[r+438>>1]=0,e[r+440>>1]=0,e[r+460>>1]=40,e[r+462>>1]=0,e[r+464>>1]=0,i){o=r+442|0,s=o+18|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));o=r+466|0,s=o+18|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));Zo(r+608|0)|0,s=r+1216|0,xi(r+626|0,d[s>>2]|0)|0,$o(r+646|0,d[s>>2]|0)|0,ti(r+686|0)|0,ei(r+700|0)|0,ao(r+714|0)|0}else{o=r+466|0,s=o+18|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));Zo(r+608|0)|0,$o(r+646|0,d[r+1216>>2]|0)|0,ti(r+686|0)|0,ei(r+700|0)|0}return Oi(r+484|0)|0,e[r+606>>1]=21845,Di(r+730|0)|0,i?(Pi(r+748|0)|0,r=0,r|0):(r=0,r|0)}function $1(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0,wr=0,Hr=0,Lr=0,qr=0,Wr=0,Br=0,Qr=0,zr=0,ln=0,Vr=0,tn=0,un=0,on=0,Kr=0,hn=0,Gn=0,qn=0,En=0,pn=0,fn=0,Ur=0,mn=0,ho=0,mo=0,Mn=0,lo=0,y1=0,_1=0,wo=0,T1=0,yi=0,Bo=0,_i=0,Ro=0,Rn=0,gn=0,_r=0,Yo=0,Go=0,Ti=0,Ai=0,xn=0,go=0,An=0,Kn=0,bo=0,yn=0,Yr=0,Ii=0,wi=0,kn=0,In=0;if(In=he,he=he+336|0,C=In+236|0,O=In+216|0,wi=In+112|0,Ii=In+12|0,An=In+256|0,bo=In+136|0,Kn=In+32|0,xn=In+8|0,go=In+6|0,Yr=In+4|0,yn=In+2|0,kn=In,_r=r+1164|0,Yo=r+748|0,Go=ss(Yo,s,_r)|0,Go){Qo(r,8)|0,os(Yo,r+412|0,r+646|0,r+714|0,r+608|0,Go,i,o,r+1168|0,u,f,_r),kn=r+666|0,vn(kn,r+392|0,10,_r),Ui(r+626|0,kn,_r),kn=r+1156|0,d[kn>>2]=Go,he=In;return}switch(s|0){case 1:{p=1,le=6;break}case 2:case 7:{W1(r+606|0,e[(d[r+1256>>2]|0)+(i<<1)>>1]|0,d[(d[r+1260>>2]|0)+(i<<2)>>2]|0,o,d[r+1276>>2]|0,_r),le=9;break}case 3:{le=9;break}default:p=0,le=6}do if((le|0)==6)if(s=r+440|0,(e[s>>1]|0)==6){e[s>>1]=5,Rn=0,gn=0;break}else{e[s>>1]=0,Rn=0,gn=0;break}else(le|0)==9&&(s=r+440|0,Rn=(ae[s>>1]|0)+1&65535,e[s>>1]=Rn<<16>>16>6?6:Rn,Rn=1,gn=1,p=0);while(0);switch(yi=r+1156|0,d[yi>>2]|0){case 1:{e[s>>1]=5,e[r+436>>1]=0;break}case 2:{e[s>>1]=5,e[r+436>>1]=1;break}default:}E=r+646|0,Bo=r+666|0,h=wi,A=Bo,R=h+20|0;do ne[h>>0]=ne[A>>0]|0,h=h+1|0,A=A+1|0;while((h|0)<(R|0));_i=(i|0)!=7,Ro=r+1168|0,_i?(Li(E,i,gn,o,Ro,C,_r),h=r+392|0,p1(h,C,f,_r),o=o+6|0):(ns(E,gn,o,Ro,O,C,_r),h=r+392|0,d1(h,O,C,f,_r),o=o+10|0),A=C,R=h+20|0;do e[h>>1]=e[A>>1]|0,h=h+2|0,A=A+2|0;while((h|0)<(R|0));for(T1=i>>>0>1,je=i>>>0<4&1,wo=(i|0)==5,_1=wo?10:5,wo=wo?19:9,pe=r+434|0,Ge=143-wo&65535,gt=r+460|0,Rt=r+462|0,qt=r+464|0,We=i>>>0>2,rr=r+388|0,Pt=(i|0)==0,ft=i>>>0<2,Nt=r+1244|0,ir=r+432|0,Dt=i>>>0<6,cr=r+1168|0,ur=(i|0)==6,hr=gn<<16>>16==0,gr=r+714|0,mr=r+686|0,sr=r+436|0,dr=r+700|0,Er=(i|0)==7,yr=r+482|0,nr=i>>>0<3,Ut=r+608|0,wr=r+626|0,Hr=r+438|0,Lr=i>>>0<7,qr=r+730|0,Ze=Rn^1,Wr=p<<16>>16!=0,y1=Wr?gn^1:0,Br=r+442|0,Qr=r+458|0,zr=r+412|0,ln=r+80|0,Vr=r+1236|0,tn=r+1240|0,un=r+468|0,on=r+466|0,Kr=r+470|0,hn=r+472|0,Gn=r+474|0,qn=r+476|0,En=r+478|0,pn=r+480|0,fn=r+444|0,Ur=r+446|0,mn=r+448|0,ho=r+450|0,mo=r+452|0,Mn=r+454|0,lo=r+456|0,Te=0,Ee=0,b=0,k=0,de=-1;;){de=(de<<16>>16)+1|0,R=de&65535,Ee=1-(Ee<<16>>16)|0,K=Ee&65535,O=T1&b<<16>>16==80?0:b,D=o+2|0,C=e[o>>1]|0;e:do if(_i){if(ce=e[pe>>1]|0,h=(ce&65535)-_1&65535,h=h<<16>>16<20?20:h,A=(h&65535)+wo&65535,E=A<<16>>16>143,es(C,E?Ge:h,E?143:A,O,ce,xn,go,je,_r),O=e[xn>>1]|0,e[gt>>1]=O,Rn?(C=e[pe>>1]|0,C<<16>>16<143&&(C=(C&65535)+1&65535,e[pe>>1]=C),e[xn>>1]=C,e[go>>1]=0,e[Rt>>1]|0&&!(We|(e[qt>>1]|0)<5)&&(e[xn>>1]=O,C=O),O=0):(C=O,O=e[go>>1]|0),Uo(d[rr>>2]|0,C,O,40,1,_r),ft){if(O=o+6|0,J1(R,e[o+4>>1]|0,e[D>>1]|0,d[Nt>>2]|0,An,_r),o=e[ir>>1]|0,ce=o<<16>>16,C=ce<<1,(C|0)==(ce<<17>>16|0)){A=Pt;break}A=Pt,C=o<<16>>16>0?32767:-32768;break}switch(i|0){case 2:{if(O=o+6|0,K1(e[o+4>>1]|0,e[D>>1]|0,An),o=e[ir>>1]|0,ce=o<<16>>16,C=ce<<1,(C|0)==(ce<<17>>16|0)){A=Pt;break e}A=Pt,C=o<<16>>16>0?32767:-32768;break e}case 3:{if(O=o+6|0,X1(e[o+4>>1]|0,e[D>>1]|0,An),o=e[ir>>1]|0,ce=o<<16>>16,C=ce<<1,(C|0)==(ce<<17>>16|0)){A=Pt;break e}A=Pt,C=o<<16>>16>0?32767:-32768;break e}default:{if(Dt){if(O=o+6|0,Y1(e[o+4>>1]|0,e[D>>1]|0,d[cr>>2]|0,An),o=e[ir>>1]|0,ce=o<<16>>16,C=ce<<1,(C|0)==(ce<<17>>16|0)){A=Pt;break e}A=Pt,C=o<<16>>16>0?32767:-32768;break e}if(!ur){A=Pt,le=44;break e}if(Z1(D,An,_r),C=o+16|0,o=e[ir>>1]|0,ce=o<<16>>16,R=ce<<1,(R|0)==(ce<<17>>16|0)){O=C,A=Pt,C=R;break e}O=C,A=Pt,C=o<<16>>16>0?32767:-32768;break e}}}else ts(C,18,143,O,xn,go,_r),hr&&O<<16>>16==0|C<<16>>16<61?(C=e[xn>>1]|0,O=e[go>>1]|0):(e[gt>>1]=e[xn>>1]|0,C=e[pe>>1]|0,e[xn>>1]=C,e[go>>1]=0,O=0),Uo(d[rr>>2]|0,C,O,40,0,_r),A=0,le=44;while(0);(le|0)==44&&(le=0,Rn?zo(mr,e[s>>1]|0,Yr,_r):e[Yr>>1]=ki(i,e[D>>1]|0,d[tn>>2]|0)|0,Vo(mr,gn,e[sr>>1]|0,Yr,_r),q1(o+4|0,An,d[cr>>2]|0),C=o+24|0,o=e[Yr>>1]|0,ce=o<<16>>16,R=ce<<1,(R|0)==(ce<<17>>16|0)?(O=C,C=R):(O=C,C=o<<16>>16>0?32767:-32768)),o=e[xn>>1]|0;e:do if(o<<16>>16<40)for(h=C<<16>>16,E=o,C=o<<16>>16;;){if(R=An+(C<<1)|0,o=(Z(e[An+(C-(E<<16>>16)<<1)>>1]|0,h)|0)>>15,(o|0)>32767&&(d[_r>>2]=1,o=32767),ce=o&65535,e[kn>>1]=ce,e[R>>1]=lr(e[R>>1]|0,ce,_r)|0,C=C+1|0,(C&65535)<<16>>16==40)break e;E=e[xn>>1]|0}while(0);e:do if(A)A=(Ee&65535|0)==0,A?(o=O,R=k):(o=O+2|0,R=e[O>>1]|0),hr?Ni(gr,i,R,An,K,Yr,yn,Ro,_r):(zo(mr,e[s>>1]|0,Yr,_r),jo(dr,gr,e[s>>1]|0,yn,_r)),Vo(mr,gn,e[sr>>1]|0,Yr,_r),Wo(dr,gn,e[sr>>1]|0,yn,_r),O=e[Yr>>1]|0,C=O<<16>>16>13017?13017:O,A?le=80:ce=R;else switch(o=O+2|0,C=e[O>>1]|0,i|0){case 1:case 2:case 3:case 4:case 6:{if(hr?Ni(gr,i,C,An,K,Yr,yn,Ro,_r):(zo(mr,e[s>>1]|0,Yr,_r),jo(dr,gr,e[s>>1]|0,yn,_r)),Vo(mr,gn,e[sr>>1]|0,Yr,_r),Wo(dr,gn,e[sr>>1]|0,yn,_r),O=e[Yr>>1]|0,C=O<<16>>16>13017?13017:O,!ur){R=k,le=80;break e}if((e[pe>>1]|0)<=45){R=k,le=80;break e}R=k,C=C<<16>>16>>>2&65535,le=80;break e}case 5:{Rn?zo(mr,e[s>>1]|0,Yr,_r):e[Yr>>1]=ki(5,C,d[tn>>2]|0)|0,Vo(mr,gn,e[sr>>1]|0,Yr,_r),hr?Mi(gr,5,e[o>>1]|0,An,d[Vr>>2]|0,yn,_r):jo(dr,gr,e[s>>1]|0,yn,_r),Wo(dr,gn,e[sr>>1]|0,yn,_r),C=e[Yr>>1]|0,o=O+4|0,O=C,R=k,C=C<<16>>16>13017?13017:C,le=80;break e}default:{hr?Mi(gr,i,C,An,d[Vr>>2]|0,yn,_r):jo(dr,gr,e[s>>1]|0,yn,_r),Wo(dr,gn,e[sr>>1]|0,yn,_r),C=e[Yr>>1]|0,O=C,R=k,le=80;break e}}while(0);(le|0)==80&&(le=0,e[ir>>1]=O<<16>>16>13017?13017:O,ce=R),C=C<<16>>16,C=(C<<17>>17|0)==(C|0)?C<<1:C>>>15^32767,K=(C&65535)<<16>>16>16384;e:do if(K){if(D=C<<16>>16,Er)O=0;else for(O=0;;)if(C=(Z(e[(d[rr>>2]|0)+(O<<1)>>1]|0,D)|0)>>15,(C|0)>32767&&(d[_r>>2]=1,C=32767),e[kn>>1]=C,C=Z(e[Yr>>1]|0,C<<16>>16)|0,(C|0)==1073741824?(d[_r>>2]=1,C=2147483647):C=C<<1,e[bo+(O<<1)>>1]=Mr(C,_r)|0,O=O+1|0,(O|0)==40)break e;do C=(Z(e[(d[rr>>2]|0)+(O<<1)>>1]|0,D)|0)>>15,(C|0)>32767&&(d[_r>>2]=1,C=32767),e[kn>>1]=C,C=Z(e[Yr>>1]|0,C<<16>>16)|0,(C|0)!=1073741824?(C=C<<1,(C|0)<0?C=~((C^-2)>>1):le=88):(d[_r>>2]=1,C=2147483647,le=88),(le|0)==88&&(le=0,C=C>>1),e[bo+(O<<1)>>1]=Mr(C,_r)|0,O=O+1|0;while((O|0)!=40)}while(0);switch(hr&&(e[on>>1]=e[un>>1]|0,e[un>>1]=e[Kr>>1]|0,e[Kr>>1]=e[hn>>1]|0,e[hn>>1]=e[Gn>>1]|0,e[Gn>>1]=e[qn>>1]|0,e[qn>>1]=e[En>>1]|0,e[En>>1]=e[pn>>1]|0,e[pn>>1]=e[yr>>1]|0,e[yr>>1]=e[Yr>>1]|0),Rn|(e[sr>>1]|0)!=0&&nr&(e[Rt>>1]|0)!=0&&(Ti=e[Yr>>1]|0,Ti<<16>>16>12288)&&(le=(((Ti<<16>>16)+118784|0)>>>1)+12288&65535,e[Yr>>1]=le<<16>>16>14745?14745:le),ls(wi,Bo,b,Ii,_r),C=V1(Ut,i,e[yn>>1]|0,Ii,wr,gn,e[sr>>1]|0,p,e[Hr>>1]|0,e[Rt>>1]|0,e[qt>>1]|0,_r)|0,i|0){case 0:case 1:case 2:case 3:case 6:{R=e[Yr>>1]|0,D=1;break}default:C=e[yn>>1]|0,R=e[Yr>>1]|0,Lr?D=1:(O=R<<16>>16,R<<16>>16<0?O=~((O^-2)>>1):O=O>>>1,R=O&65535,D=2)}h=R<<16>>16,b=D&65535,O=d[rr>>2]|0,k=0;do O=O+(k<<1)|0,e[Kn+(k<<1)>>1]=e[O>>1]|0,O=Z(e[O>>1]|0,h)|0,(O|0)==1073741824?(d[_r>>2]=1,E=2147483647):E=O<<1,A=Z(e[yn>>1]|0,e[An+(k<<1)>>1]|0)|0,(A|0)!=1073741824?(O=(A<<1)+E|0,(A^E|0)>0&(O^E|0)<0&&(d[_r>>2]=1,O=(E>>>31)+2147483647|0)):(d[_r>>2]=1,O=2147483647),le=O<<b,le=Mr((le>>b|0)==(O|0)?le:O>>31^2147483647,_r)|0,O=d[rr>>2]|0,e[O+(k<<1)>>1]=le,k=k+1|0;while((k|0)!=40);fs(qr),nr&&(e[qt>>1]|0)>3&&!((e[Rt>>1]|0)==0|Ze)&&us(qr),ds(qr,i,Kn,C,e[Yr>>1]|0,An,R,D,Ro,_r),C=0,A=0;do O=e[Kn+(A<<1)>>1]|0,O=Z(O,O)|0,(O|0)!=1073741824?(R=(O<<1)+C|0,(O^C|0)>0&(R^C|0)<0?(d[_r>>2]=1,C=(C>>>31)+2147483647|0):C=R):(d[_r>>2]=1,C=2147483647),A=A+1|0;while((A|0)!=40);(C|0)<0?C=~((C^-2)>>1):C=C>>1,C=Ei(C,kn,_r)|0,R=((e[kn>>1]|0)>>>1)+15|0,O=R&65535,R=R<<16>>16,O<<16>>16>0?O<<16>>16<31?(C=C>>R,le=135):(C=0,le=137):(D=0-R<<16>>16,le=C<<D,C=(le>>D|0)==(C|0)?le:C>>31^2147483647,le=135),(le|0)==135&&(le=0,(C|0)<0?C=~((C^-4)>>2):le=137),(le|0)==137&&(le=0,C=C>>>2),C=C&65535;do if(nr&&(Ai=e[qt>>1]|0,Ai<<16>>16>5))if(e[Rt>>1]|0)if((e[s>>1]|0)<4){if(Wr?Rn|(e[Hr>>1]|0)!=0||(le=145):Rn||(le=145),(le|0)==145&&!(e[sr>>1]|0)){le=147;break}as(Kn,C,Br,Ai,e[sr>>1]|0,y1,_r)|0,le=147}else le=147;else le=151;else le=147;while(0);do if((le|0)==147)if(le=0,e[Rt>>1]|0){if(!Rn&&!(e[sr>>1]|0)){le=151;break}(e[s>>1]|0)>=4&&(le=151)}else le=151;while(0);if((le|0)==151&&(le=0,e[Br>>1]=e[fn>>1]|0,e[fn>>1]=e[Ur>>1]|0,e[Ur>>1]=e[mn>>1]|0,e[mn>>1]=e[ho>>1]|0,e[ho>>1]=e[mo>>1]|0,e[mo>>1]=e[Mn>>1]|0,e[Mn>>1]=e[lo>>1]|0,e[lo>>1]=e[Qr>>1]|0,e[Qr>>1]=C),K){C=0;do K=bo+(C<<1)|0,e[K>>1]=lr(e[K>>1]|0,e[Kn+(C<<1)>>1]|0,_r)|0,C=C+1|0;while((C|0)!=40);G1(Kn,bo,40,_r),d[_r>>2]=0,dn(f,bo,u+(Te<<1)|0,40,zr,0)}else d[_r>>2]=0,dn(f,Kn,u+(Te<<1)|0,40,zr,0);if(!(d[_r>>2]|0))to(zr|0,u+(Te+30<<1)|0,20)|0;else{for(R=193;;)if(O=r+(R<<1)|0,K=e[O>>1]|0,C=K<<16>>16,K<<16>>16<0?C=~((C^-4)>>2):C=C>>>2,e[O>>1]=C,(R|0)>0)R=R+-1|0;else{R=39;break}for(;O=Kn+(R<<1)|0,K=e[O>>1]|0,C=K<<16>>16,K<<16>>16<0?C=~((C^-4)>>2):C=C>>>2,e[O>>1]=C,(R|0)>0;)R=R+-1|0;dn(f,Kn,u+(Te<<1)|0,40,zr,1)}if(to(r|0,ln|0,308)|0,e[pe>>1]=e[xn>>1]|0,C=Te+40|0,b=C&65535,b<<16>>16>=160)break;Te=C<<16>>16,f=f+22|0,k=ce}e[Rt>>1]=z1(r+484|0,r+466|0,u,qt,_r)|0,is(Yo,Bo,u,_r),e[sr>>1]=gn,e[Hr>>1]=p,Ui(r+626|0,Bo,_r),kn=yi,d[kn>>2]=Go,he=In}function Ni(r,i,o,s,u,f,p,h,E){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0;var A=0,R=0,O=0,C=0,b=0;switch(b=he,he=he+16|0,O=b+2|0,C=b,o=o<<16>>16,o=(o<<18>>18|0)==(o|0)?o<<2:o>>>15^32767,i|0){case 3:case 4:case 6:{R=o<<16>>16,o=d[h+84>>2]|0,e[f>>1]=e[o+(R<<1)>>1]|0,h=e[o+(R+1<<1)>>1]|0,A=e[o+(R+3<<1)>>1]|0,f=e[o+(R+2<<1)>>1]|0;break}case 0:{h=(o&65535)+(u<<16>>16<<1^2)|0,h=(h&65535)<<16>>16>1022?1022:h<<16>>16,e[f>>1]=e[782+(h<<1)>>1]|0,f=e[782+(h+1<<1)>>1]|0,co(f<<16>>16,C,O,E),e[C>>1]=(ae[C>>1]|0)+65524,h=Do(e[O>>1]|0,5,E)|0,R=e[C>>1]|0,R=lr(h,((R<<26>>26|0)==(R|0)?R<<10:R>>>15^32767)&65535,E)|0,h=e[O>>1]|0,o=e[C>>1]|0,(o*24660|0)==1073741824?(d[E>>2]=1,u=2147483647):u=o*49320|0,A=(h<<16>>16)*24660>>15,o=u+(A<<1)|0,(u^A|0)>0&(o^u|0)<0&&(d[E>>2]=1,o=(u>>>31)+2147483647|0),A=o<<13,h=f,A=Mr((A>>13|0)==(o|0)?A:o>>31^2147483647,E)|0,f=R;break}default:R=o<<16>>16,o=d[h+80>>2]|0,e[f>>1]=e[o+(R<<1)>>1]|0,h=e[o+(R+1<<1)>>1]|0,A=e[o+(R+3<<1)>>1]|0,f=e[o+(R+2<<1)>>1]|0}if(To(r,i,s,C,O,0,0,E),u=Z((Pn(14,e[O>>1]|0,E)|0)<<16>>16,h<<16>>16)|0,(u|0)==1073741824?(d[E>>2]=1,o=2147483647):o=u<<1,h=10-(ae[C>>1]|0)|0,u=h&65535,h=h<<16>>16,u<<16>>16>0){C=u<<16>>16<31?o>>h:0,C=C>>>16,C=C&65535,e[p>>1]=C,zn(r,f,A),he=b;return}else{E=0-h<<16>>16,C=o<<E,C=(C>>E|0)==(o|0)?C:o>>31^2147483647,C=C>>>16,C=C&65535,e[p>>1]=C,zn(r,f,A),he=b;return}}function es(r,i,o,s,u,f,p,h,E){if(r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,!(s<<16>>16)){if(h=r<<16>>16,r<<16>>16>=197){e[f>>1]=h+65424,e[p>>1]=0;return}u=((h<<16)+131072>>16)*10923>>15,(u|0)>32767&&(d[E>>2]=1,u=32767),r=(u&65535)+19|0,e[f>>1]=r,e[p>>1]=h+58-((r*196608|0)>>>16);return}if(!(h<<16>>16)){E=r<<16>>16<<16,r=((E+131072>>16)*21846|0)+-65536>>16,e[f>>1]=r+(i&65535),e[p>>1]=((E+-131072|0)>>>16)-((r*196608|0)>>>16);return}if((Rr(u,i,E)|0)<<16>>16>5&&(u=(i&65535)+5&65535),h=o<<16>>16,h=(h-(u&65535)&65535)<<16>>16>4?h+65532&65535:u,u=r<<16>>16,r<<16>>16<4){e[f>>1]=((((h&65535)<<16)+-327680|0)>>>16)+u,e[p>>1]=0;return}if(u=u<<16,r<<16>>16<12){E=(((u+-327680>>16)*10923|0)>>>15<<16)+-65536|0,r=E>>16,e[f>>1]=(h&65535)+r,e[p>>1]=((u+-589824|0)>>>16)-(E>>>15)-r;return}else{e[f>>1]=((u+-786432+((h&65535)<<16)|0)>>>16)+1,e[p>>1]=0;return}}function ts(r,i,o,s,u,f,p){if(r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,s<<16>>16){p=(ae[u>>1]|0)+65531|0,p=(p<<16>>16|0)<(i<<16>>16|0)?i:p&65535,o=o<<16>>16,i=r<<16>>16<<16,r=((i+327680>>16)*10924|0)+-65536>>16,e[u>>1]=(((((p&65535)<<16)+589824>>16|0)>(o|0)?o+65527&65535:p)&65535)+r,e[f>>1]=((i+-196608|0)>>>16)-((r*393216|0)>>>16);return}if(s=r<<16>>16,r<<16>>16<463){r=((((s<<16)+327680>>16)*10924|0)>>>16)+17|0,e[u>>1]=r,e[f>>1]=s+105-((r*393216|0)>>>16);return}else{e[u>>1]=s+65168,e[f>>1]=0;return}}function Mi(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0;R=he,he=he+16|0,E=R+6|0,h=R+4|0,To(r,i,s,E,h,R+2|0,R,p),A=(o&31)*3|0,s=u+(A<<1)|0,(Rr(i&65535,7,p)|0)<<16>>16?(o=Pn(14,e[h>>1]|0,p)|0,o=Z(o<<16>>16,e[s>>1]|0)|0,(o|0)==1073741824?(d[p>>2]=1,s=2147483647):s=o<<1,o=Rr(9,e[E>>1]|0,p)|0,h=o<<16>>16,o<<16>>16>0?h=o<<16>>16<31?s>>h:0:(p=0-h<<16>>16,h=s<<p,h=(h>>p|0)==(s|0)?h:s>>31^2147483647),h=h>>>16):(E=Pn(e[E>>1]|0,e[h>>1]|0,p)|0,h=E<<16>>16,h=(Z(((E<<20>>20|0)==(h|0)?E<<4:h>>>15^32767)<<16>>16,e[s>>1]|0)|0)>>15,(h|0)>32767&&(d[p>>2]=1,h=32767),s=h<<16,o=s>>16,(h<<17>>17|0)==(o|0)?h=s>>15:h=o>>>15^32767),e[f>>1]=h,zn(r,e[u+(A+1<<1)>>1]|0,e[u+(A+2<<1)>>1]|0),he=R}function ki(r,i,o){return r=r|0,i=i|0,o=o|0,i=e[o+(i<<16>>16<<1)>>1]|0,(r|0)!=7?(r=i,r|0):(r=i&65532,r|0)}function Li(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0;if(ce=he,he=he+48|0,b=ce+20|0,K=ce,D=d[u+44>>2]|0,k=d[u+64>>2]|0,h=d[u+4>>2]|0,C=d[u+12>>2]|0,A=d[u+20>>2]|0,E=d[u+56>>2]|0,o<<16>>16){h=0;do o=(e[r+20+(h<<1)>>1]|0)*29491>>15,(o|0)>32767&&(d[p>>2]=1,o=32767),E=(e[D+(h<<1)>>1]|0)*3277>>15,(E|0)>32767&&(d[p>>2]=1,E=32767),e[K+(h<<1)>>1]=lr(E&65535,o&65535,p)|0,h=h+1|0;while((h|0)!=10);if((i|0)==8){h=0;do k=r+(h<<1)|0,b=lr(e[D+(h<<1)>>1]|0,e[k>>1]|0,p)|0,e[k>>1]=Rr(e[K+(h<<1)>>1]|0,b,p)|0,h=h+1|0;while((h|0)!=10);wn(K,205,10,p),h=r+20|0,E=K,o=h+20|0;do ne[h>>0]=ne[E>>0]|0,h=h+1|0,E=E+1|0;while((h|0)<(o|0));vn(K,f,10,p),he=ce;return}else h=0;do E=r+(h<<1)|0,o=(Z(e[k+(h<<1)>>1]|0,e[E>>1]|0)|0)>>15,(o|0)>32767&&(d[p>>2]=1,o=32767),b=lr(e[D+(h<<1)>>1]|0,o&65535,p)|0,e[E>>1]=Rr(e[K+(h<<1)>>1]|0,b,p)|0,h=h+1|0;while((h|0)!=10);wn(K,205,10,p),h=r+20|0,E=K,o=h+20|0;do ne[h>>0]=ne[E>>0]|0,h=h+1|0,E=E+1|0;while((h|0)<(o|0));vn(K,f,10,p),he=ce;return}else{if(R=i>>>0<2,R?(o=765,O=508,A=d[u+52>>2]|0):(u=(i|0)==5,o=u?1533:765,O=2044,h=u?E:h),E=e[s>>1]|0,o=((E*196608>>16|0)>(o&65535|0)?o:E*3&65535)<<16>>16,E=e[h+(o<<1)>>1]|0,e[b>>1]=E,e[b+2>>1]=e[h+(o+1<<1)>>1]|0,e[b+4>>1]=e[h+(o+2<<1)>>1]|0,o=e[s+2>>1]|0,R&&(o=o<<16>>16<<1&65535),R=(o<<16>>16)*196608|0,R=(R|0)>100466688?1533:R>>16,e[b+6>>1]=e[C+(R<<1)>>1]|0,e[b+8>>1]=e[C+(R+1<<1)>>1]|0,e[b+10>>1]=e[C+(R+2<<1)>>1]|0,s=e[s+4>>1]|0,s=((s<<18>>16|0)>(O&65535|0)?O:s<<2&65535)<<16>>16,e[b+12>>1]=e[A+(s<<1)>>1]|0,e[b+14>>1]=e[A+((s|1)<<1)>>1]|0,e[b+16>>1]=e[A+((s|2)<<1)>>1]|0,e[b+18>>1]=e[A+((s|3)<<1)>>1]|0,(i|0)==8){for(o=0;k=r+(o<<1)|0,e[K+(o<<1)>>1]=lr(E,lr(e[D+(o<<1)>>1]|0,e[k>>1]|0,p)|0,p)|0,e[k>>1]=E,o=o+1|0,(o|0)!=10;)E=e[b+(o<<1)>>1]|0;wn(K,205,10,p),h=r+20|0,E=K,o=h+20|0;do ne[h>>0]=ne[E>>0]|0,h=h+1|0,E=E+1|0;while((h|0)<(o|0));vn(K,f,10,p),he=ce;return}else h=0;do E=r+(h<<1)|0,o=(Z(e[k+(h<<1)>>1]|0,e[E>>1]|0)|0)>>15,(o|0)>32767&&(d[p>>2]=1,o=32767),s=lr(e[D+(h<<1)>>1]|0,o&65535,p)|0,i=e[b+(h<<1)>>1]|0,e[K+(h<<1)>>1]=lr(i,s,p)|0,e[E>>1]=i,h=h+1|0;while((h|0)!=10);wn(K,205,10,p),h=r+20|0,E=K,o=h+20|0;do ne[h>>0]=ne[E>>0]|0,h=h+1|0,E=E+1|0;while((h|0)<(o|0));vn(K,f,10,p),he=ce;return}}function rs(r,i,o){r=r|0,i=i|0,o=o|0,to(r|0,o+((i<<16>>16)*10<<1)|0,20)|0}function ns(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0;if(ce=he,he=he+80|0,C=ce+60|0,b=ce+40|0,D=ce+20|0,K=ce,k=d[s+48>>2]|0,A=d[s+24>>2]|0,R=d[s+28>>2]|0,O=d[s+32>>2]|0,i<<16>>16){h=0;do C=k+(h<<1)|0,o=lr(((e[C>>1]|0)*1639|0)>>>15&65535,((e[r+20+(h<<1)>>1]|0)*31128|0)>>>15&65535,p)|0,e[D+(h<<1)>>1]=o,e[K+(h<<1)>>1]=o,b=r+(h<<1)|0,e[b>>1]=Rr(o,lr(e[C>>1]|0,((e[b>>1]|0)*21299|0)>>>15&65535,p)|0,p)|0,h=h+1|0;while((h|0)!=10);wn(D,205,10,p),wn(K,205,10,p),h=r+20|0,s=K,i=h+20|0;do ne[h>>0]=ne[s>>0]|0,h=h+1|0,s=s+1|0;while((h|0)<(i|0));vn(D,u,10,p),vn(K,f,10,p),he=ce;return}i=d[s+16>>2]|0,s=d[s+8>>2]|0,E=e[o>>1]|0,E=((E<<18>>18|0)==(E|0)?E<<2:E>>>15^32767)<<16>>16,e[C>>1]=e[s+(E<<1)>>1]|0,e[C+2>>1]=e[s+(E+1<<1)>>1]|0,e[b>>1]=e[s+(E+2<<1)>>1]|0,e[b+2>>1]=e[s+(E+3<<1)>>1]|0,E=e[o+2>>1]|0,E=((E<<18>>18|0)==(E|0)?E<<2:E>>>15^32767)<<16>>16,e[C+4>>1]=e[i+(E<<1)>>1]|0,e[C+6>>1]=e[i+(E+1<<1)>>1]|0,e[b+4>>1]=e[i+(E+2<<1)>>1]|0,e[b+6>>1]=e[i+(E+3<<1)>>1]|0,E=e[o+4>>1]|0,s=E<<16>>16,E<<16>>16<0?i=~((s^-2)>>1):i=s>>>1,E=i<<16>>16,E=((i<<18>>18|0)==(E|0)?i<<2:E>>>15^32767)<<16>>16,h=A+(E+1<<1)|0,i=e[A+(E<<1)>>1]|0,s&1?(i<<16>>16==-32768?i=32767:i=0-(i&65535)&65535,e[C+8>>1]=i,i=e[h>>1]|0,i<<16>>16==-32768?i=32767:i=0-(i&65535)&65535,e[C+10>>1]=i,i=e[A+(E+2<<1)>>1]|0,i<<16>>16==-32768?i=32767:i=0-(i&65535)&65535,e[b+8>>1]=i,i=e[A+(E+3<<1)>>1]|0,i<<16>>16==-32768?i=32767:i=0-(i&65535)&65535,e[b+10>>1]=i):(e[C+8>>1]=i,e[C+10>>1]=e[h>>1]|0,e[b+8>>1]=e[A+(E+2<<1)>>1]|0,e[b+10>>1]=e[A+(E+3<<1)>>1]|0),h=e[o+6>>1]|0,h=((h<<18>>18|0)==(h|0)?h<<2:h>>>15^32767)<<16>>16,e[C+12>>1]=e[R+(h<<1)>>1]|0,e[C+14>>1]=e[R+(h+1<<1)>>1]|0,e[b+12>>1]=e[R+(h+2<<1)>>1]|0,e[b+14>>1]=e[R+(h+3<<1)>>1]|0,h=e[o+8>>1]|0,h=((h<<18>>18|0)==(h|0)?h<<2:h>>>15^32767)<<16>>16,e[C+16>>1]=e[O+(h<<1)>>1]|0,e[C+18>>1]=e[O+(h+1<<1)>>1]|0,e[b+16>>1]=e[O+(h+2<<1)>>1]|0,e[b+18>>1]=e[O+(h+3<<1)>>1]|0,h=0;do s=r+(h<<1)|0,i=(e[s>>1]|0)*21299>>15,(i|0)>32767&&(d[p>>2]=1,i=32767),O=lr(e[k+(h<<1)>>1]|0,i&65535,p)|0,e[D+(h<<1)>>1]=lr(e[C+(h<<1)>>1]|0,O,p)|0,o=e[b+(h<<1)>>1]|0,e[K+(h<<1)>>1]=lr(o,O,p)|0,e[s>>1]=o,h=h+1|0;while((h|0)!=10);wn(D,205,10,p),wn(K,205,10,p),h=r+20|0,s=K,i=h+20|0;do ne[h>>0]=ne[s>>0]|0,h=h+1|0,s=s+1|0;while((h|0)<(i|0));vn(D,u,10,p),vn(K,f,10,p),he=ce}function $o(r,i){r=r|0,i=i|0;var o=0,s=0;if(!r)return s=-1,s|0;o=r,s=o+20|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));return to(r+20|0,i|0,20)|0,s=0,s|0}function Pi(r){r=r|0;var i=0,o=0,s=0,u=0,f=0;if(!r)return f=-1,f|0;e[r>>1]=0,e[r+2>>1]=8192,i=r+4|0,e[i>>1]=3500,e[r+6>>1]=3500,d[r+8>>2]=1887529304,e[r+12>>1]=3e4,e[r+14>>1]=26e3,e[r+16>>1]=21e3,e[r+18>>1]=15e3,e[r+20>>1]=8e3,e[r+22>>1]=0,e[r+24>>1]=-8e3,e[r+26>>1]=-15e3,e[r+28>>1]=-21e3,e[r+30>>1]=-26e3,e[r+32>>1]=3e4,e[r+34>>1]=26e3,e[r+36>>1]=21e3,e[r+38>>1]=15e3,e[r+40>>1]=8e3,e[r+42>>1]=0,e[r+44>>1]=-8e3,e[r+46>>1]=-15e3,e[r+48>>1]=-21e3,e[r+50>>1]=-26e3,e[r+212>>1]=0,e[r+374>>1]=0,e[r+392>>1]=0,o=r+52|0,e[o>>1]=1384,e[r+54>>1]=2077,e[r+56>>1]=3420,e[r+58>>1]=5108,e[r+60>>1]=6742,e[r+62>>1]=8122,e[r+64>>1]=9863,e[r+66>>1]=11092,e[r+68>>1]=12714,e[r+70>>1]=13701,s=r+72|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));s=r+92|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));s=r+112|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));s=r+132|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));s=r+152|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));s=r+172|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));s=r+192|0,u=o,f=s+20|0;do ne[s>>0]=ne[u>>0]|0,s=s+1|0,u=u+1|0;while((s|0)<(f|0));return ro(r+214|0,0,160)|0,e[r+376>>1]=3500,e[r+378>>1]=3500,f=e[i>>1]|0,e[r+380>>1]=f,e[r+382>>1]=f,e[r+384>>1]=f,e[r+386>>1]=f,e[r+388>>1]=f,e[r+390>>1]=f,e[r+394>>1]=0,e[r+396>>1]=7,e[r+398>>1]=32767,e[r+400>>1]=0,e[r+402>>1]=0,e[r+404>>1]=0,d[r+408>>2]=1,e[r+412>>1]=0,f=0,f|0}function os(r,i,o,s,u,f,p,h,E,A,R,O){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0;var C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0;if(Ut=he,he=he+304|0,ur=Ut+192|0,ir=Ut+168|0,gr=Ut+148|0,Er=Ut+216|0,mr=Ut+146|0,sr=Ut+144|0,Dt=Ut+124|0,cr=Ut+104|0,hr=Ut+84|0,dr=Ut+60|0,ft=Ut+40|0,Pt=Ut,nr=r+404|0,yr=r+400|0,e[nr>>1]|0&&e[yr>>1]|0){rr=r+394|0,e[rr>>1]=e[636+(p<<1)>>1]|0,Ee=e[r+212>>1]|0,Te=Ee+10|0,to(r+52+(((Te&65535|0)==80?0:Te<<16>>16)<<1)|0,r+52+(Ee<<1)|0,20)|0,Ee=e[r+392>>1]|0,Te=Ee+1|0,e[r+376+(((Te&65535|0)==8?0:Te<<16>>16)<<1)>>1]=e[r+376+(Ee<<1)>>1]|0,Te=r+4|0,e[Te>>1]=0,Ee=Pt+36|0,de=Pt+32|0,je=Pt+28|0,We=Pt+24|0,Ze=Pt+20|0,pe=Pt+16|0,Ge=Pt+12|0,gt=Pt+8|0,Rt=Pt+4|0,qt=r+52|0,k=Pt,Nt=k+40|0;do d[k>>2]=0,k=k+4|0;while((k|0)<(Nt|0));for(b=0,C=7;;){for(Nt=e[r+376+(C<<1)>>1]|0,le=Nt<<16>>16,Nt<<16>>16<0?le=~((le^-8)>>3):le=le>>>3,b=lr(b,le&65535,O)|0,e[Te>>1]=b,K=C*10|0,k=9;D=Pt+(k<<2)|0,ce=d[D>>2]|0,Nt=e[r+52+(k+K<<1)>>1]|0,le=Nt+ce|0,(Nt^ce|0)>-1&(le^ce|0)<0&&(d[O>>2]=1,le=(ce>>>31)+2147483647|0),d[D>>2]=le,(k|0)>0;)k=k+-1|0;if((C|0)<=0)break;C=C+-1|0}for(e[ft+18>>1]=(d[Ee>>2]|0)>>>3,e[ft+16>>1]=(d[de>>2]|0)>>>3,e[ft+14>>1]=(d[je>>2]|0)>>>3,e[ft+12>>1]=(d[We>>2]|0)>>>3,e[ft+10>>1]=(d[Ze>>2]|0)>>>3,e[ft+8>>1]=(d[pe>>2]|0)>>>3,e[ft+6>>1]=(d[Ge>>2]|0)>>>3,e[ft+4>>1]=(d[gt>>2]|0)>>>3,e[ft+2>>1]=(d[Rt>>2]|0)>>>3,e[ft>>1]=(d[Pt>>2]|0)>>>3,vn(ft,r+12|0,10,O),e[Te>>1]=Rr(e[Te>>1]|0,e[rr>>1]|0,O)|0,Tn(r+214|0,qt|0,160)|0,ft=9;;){for(Nt=e[r+214+(ft+70<<1)>>1]|0,D=Nt<<16>>16,Pt=e[r+214+(ft+60<<1)>>1]|0,k=(Pt<<16>>16)+D|0,(Pt^Nt)<<16>>16>-1&(k^D|0)<0&&(d[O>>2]=1,k=(D>>>31)+2147483647|0),Nt=e[r+214+(ft+50<<1)>>1]|0,D=Nt+k|0,(Nt^k|0)>-1&(D^k|0)<0&&(d[O>>2]=1,D=(k>>>31)+2147483647|0),Nt=e[r+214+(ft+40<<1)>>1]|0,k=Nt+D|0,(Nt^D|0)>-1&(k^D|0)<0&&(d[O>>2]=1,k=(D>>>31)+2147483647|0),Nt=e[r+214+(ft+30<<1)>>1]|0,D=Nt+k|0,(Nt^k|0)>-1&(D^k|0)<0&&(d[O>>2]=1,D=(k>>>31)+2147483647|0),Nt=e[r+214+(ft+20<<1)>>1]|0,k=Nt+D|0,(Nt^D|0)>-1&(k^D|0)<0&&(d[O>>2]=1,k=(D>>>31)+2147483647|0),Nt=e[r+214+(ft+10<<1)>>1]|0,D=Nt+k|0,(Nt^k|0)>-1&(D^k|0)<0?(d[O>>2]=1,k=(k>>>31)+2147483647|0):k=D,Nt=e[r+214+(ft<<1)>>1]|0,D=Nt+k|0,(Nt^k|0)>-1&(D^k|0)<0&&(d[O>>2]=1,D=(k>>>31)+2147483647|0),(D|0)<0?D=~((D^-8)>>3):D=D>>>3,le=D&65535,K=e[654+(ft<<1)>>1]|0,ce=7;C=r+214+((ce*10|0)+ft<<1)|0,D=Rr(e[C>>1]|0,le,O)|0,e[C>>1]=D,D=(Z(K,D<<16>>16)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[C>>1]=D,b=(D&65535)-(D>>>15&1)|0,b=b<<16>>31^b,k=b&65535,k<<16>>16>655&&(k=(((b<<16>>16)+261489|0)>>>2)+655&65535),k=k<<16>>16>1310?1310:k,D&32768?D=0-(k&65535)&65535:D=k,e[C>>1]=D,(ce|0)>0;)ce=ce+-1|0;if((ft|0)>0)ft=ft+-1|0;else break}}if(e[yr>>1]|0){le=r+32|0,ce=r+12|0,k=le,K=ce,Nt=k+20|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));K=r+4|0,b=e[K>>1]|0,C=r+6|0,e[C>>1]=b;do if(e[r+402>>1]|0){k=e[r>>1]|0,e[r>>1]=0,k=k<<16>>16<32?k:32,Nt=k<<16>>16,D=Nt<<10,(D|0)!=(Nt<<26>>16|0)&&(d[O>>2]=1,D=k<<16>>16>0?32767:-32768),k<<16>>16>1?D=an(1024,D&65535)|0:D=16384,e[r+2>>1]=D,rs(o,e[h>>1]|0,d[E+60>>2]|0),Li(o,8,0,h+2|0,E,ce,O),k=o,Nt=k+20|0;do ne[k>>0]=0,k=k+1|0;while((k|0)<(Nt|0));if(b=e[h+8>>1]|0,b=b<<16>>16?((b+64&65535)>127?b<<16>>16>0?32767:32768:b<<16>>16<<9)+60416&65535:-32768,e[K>>1]=b,e[r+412>>1]|0&&d[r+408>>2]|0)break;k=le,K=ce,Nt=k+20|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));e[C>>1]=b}while(0);k=b<<16>>16,b<<16>>16<0?k=~((k^-2)>>1):k=k>>>1,k=k+56536|0,D=k<<16,(D|0)>0?k=0:k=(D|0)<-946077696?-14436:k&65535,e[s>>1]=k,e[s+2>>1]=k,e[s+4>>1]=k,e[s+6>>1]=k,h=((k<<16>>16)*5443|0)>>>15&65535,e[s+8>>1]=h,e[s+10>>1]=h,e[s+12>>1]=h,e[s+14>>1]=h}for(k=((e[636+(p<<1)>>1]|0)*104864|0)>>>15<<16,(k|0)<0?k=~((k>>16^-32)>>5):k=k>>21,p=r+394|0,e[p>>1]=lr(((e[p>>1]|0)*29491|0)>>>15&65535,k&65535,O)|0,s=(ae[r>>1]<<16)+65536|0,k=s>>16,E=r+2|0,k=(Z(((s<<10>>26|0)==(k|0)?s>>>6:k>>>15^32767)<<16>>16,e[E>>1]|0)|0)>>15,(k|0)>32767&&(d[O>>2]=1,k=32767),b=k&65535,b<<16>>16<=1024?b<<16>>16<-2048?ce=-32768:ce=k<<4&65535:ce=16384,h=r+4|0,le=ce<<16>>16,D=Z(e[h>>1]|0,le)|0,(D|0)==1073741824?(d[O>>2]=1,ft=2147483647):ft=D<<1,D=(Z(e[r+30>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),Te=D&65535,e[ur+18>>1]=Te,D=(Z(e[r+28>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+16>>1]=D,D=(Z(e[r+26>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+14>>1]=D,D=(Z(e[r+24>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+12>>1]=D,D=(Z(e[r+22>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+10>>1]=D,D=(Z(e[r+20>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+8>>1]=D,D=(Z(e[r+18>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+6>>1]=D,D=(Z(e[r+16>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+4>>1]=D,D=(Z(e[r+14>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur+2>>1]=D,D=(Z(e[r+12>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[ur>>1]=D,s=r+6|0,le=16384-(ce&65535)<<16>>16,D=Z(e[s>>1]|0,le)|0,(D|0)!=1073741824?(k=(D<<1)+ft|0,(D^ft|0)>0&(k^ft|0)<0?(d[O>>2]=1,Pt=(ft>>>31)+2147483647|0):Pt=k):(d[O>>2]=1,Pt=2147483647),k=Te,K=9;b=ur+(K<<1)|0,D=(Z(e[r+32+(K<<1)>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),k=lr(k,D&65535,O)|0,e[b>>1]=k,Nt=k<<16>>16,D=Nt<<1,(D|0)!=(Nt<<17>>16|0)&&(d[O>>2]=1,D=k<<16>>16>0?32767:-32768),e[b>>1]=D,D=K+-1|0,!((K|0)<=0);)k=e[ur+(D<<1)>>1]|0,K=D;ft=r+374|0,D=((ae[ft>>1]<<16)+-161021952>>16)*9830>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),D=4096-(D&65535)|0,k=D<<16,(k|0)>268369920?le=32767:le=(k|0)<0?0:D<<19>>16,rr=r+8|0,D=j1(rr,3)|0,xo(ur,Dt,10,O),k=cr,K=Dt,Nt=k+20|0;do e[k>>1]=e[K>>1]|0,k=k+2|0,K=K+2|0;while((k|0)<(Nt|0));for(k=(D<<16>>16)*10|0,K=9;b=cr+(K<<1)|0,C=e[b>>1]|0,D=(Z(e[r+214+(K+k<<1)>>1]|0,le)|0)>>15,(D|0)>32767&&(d[O>>2]=1,D=32767),e[b>>1]=lr(C,D&65535,O)|0,(K|0)>0;)K=K+-1|0;wn(Dt,205,10,O),wn(cr,205,10,O),k=o+20|0,K=Dt,Nt=k+20|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));vn(Dt,ur,10,O),vn(cr,hr,10,O),_n(ur,ir,O),_n(hr,dr,O),k=R,K=ir,Nt=k+22|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));k=R+22|0,K=ir,Nt=k+22|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));k=R+44|0,K=ir,Nt=k+22|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));k=R+66|0,K=ir,Nt=k+22|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));H1(ir+2|0,gr,O),D=0,k=32767;do b=e[gr+(D<<1)>>1]|0,b=Z(b,b)|0,b>>>0<1073741824?b=32767-(b>>>15)|0:(d[O>>2]=1,b=0),k=(Z(b<<16>>16,k<<16>>16)|0)>>15,(k|0)>32767&&(d[O>>2]=1,k=32767),D=D+1|0;while((D|0)!=10);for(co(k<<16>>16,mr,sr,O),k=(ae[mr>>1]<<16)+-983040|0,b=k>>16,b=Xr(Rr(0,lr(((k<<12>>28|0)==(b|0)?k>>>4:b>>>15^32767)&65535,Xr(e[sr>>1]|0,3,O)|0,O)|0,O)|0,1,O)|0,k=(e[ft>>1]|0)*29491>>15,(k|0)>32767&&(d[O>>2]=1,k=32767),D=b<<16>>16,b=D*3277>>15,(b|0)>32767&&(d[O>>2]=1,b=32767),e[ft>>1]=lr(k&65535,b&65535,O)|0,b=Pt>>10,C=b+262144|0,(b|0)>-1&(C^b|0)<0&&(d[O>>2]=1,C=(b>>>31)+2147483647|0),sr=D<<4,b=C-sr|0,((b^C)&(C^sr)|0)<0?(d[O>>2]=1,C=(C>>>31)+2147483647|0):C=b,sr=e[p>>1]<<5,b=sr+C|0,(sr^C|0)>-1&(b^C|0)<0&&(d[O>>2]=1,b=(C>>>31)+2147483647|0),D=(Pn(b>>>16&65535,b>>>1&32767,O)|0)<<16>>16,Ho(rr,Er,O),C=39;k=Er+(C<<1)|0,b=(Z(e[k>>1]|0,D)|0)>>15,(b|0)>32767&&(d[O>>2]=1,b=32767),e[k>>1]=b,(C|0)>0;)C=C+-1|0;for(dn(dr,Er,A,40,i,1),Ho(rr,Er,O),C=39;k=Er+(C<<1)|0,b=(Z(e[k>>1]|0,D)|0)>>15,(b|0)>32767&&(d[O>>2]=1,b=32767),e[k>>1]=b,(C|0)>0;)C=C+-1|0;for(dn(dr,Er,A+80|0,40,i,1),Ho(rr,Er,O),C=39;k=Er+(C<<1)|0,b=(Z(e[k>>1]|0,D)|0)>>15,(b|0)>32767&&(d[O>>2]=1,b=32767),e[k>>1]=b,(C|0)>0;)C=C+-1|0;for(dn(dr,Er,A+160|0,40,i,1),Ho(rr,Er,O),k=39;C=Er+(k<<1)|0,b=(Z(e[C>>1]|0,D)|0)>>15,(b|0)>32767&&(d[O>>2]=1,b=32767),e[C>>1]=b,(k|0)>0;)k=k+-1|0;if(dn(dr,Er,A+240|0,40,i,1),e[u+14>>1]=20,e[u+16>>1]=0,(f|0)==2){b=e[r>>1]|0,b=b<<16>>16>32?32:b<<16>>16<1?8:b,A=b<<16>>16,C=A<<10,(C|0)!=(A<<26>>16|0)&&(d[O>>2]=1,C=b<<16>>16>0?32767:-32768),e[E>>1]=an(1024,C&65535)|0,e[r>>1]=0,k=r+32|0,K=r+12|0,Nt=k+20|0;do ne[k>>0]=ne[K>>0]|0,k=k+1|0,K=K+1|0;while((k|0)<(Nt|0));O=e[h>>1]|0,e[s>>1]=O,e[h>>1]=(O&65535)+65280}if(!(e[yr>>1]|0)){he=Ut;return}do if(!(e[r+402>>1]|0)){if(e[nr>>1]|0)break;he=Ut;return}while(0);e[r>>1]=0,e[r+412>>1]=1,he=Ut}function is(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0;for(E=he,he=he+16|0,p=E+2|0,h=E,e[h>>1]=0,f=r+212|0,u=(ae[f>>1]|0)+10|0,u=(u&65535|0)==80?0:u&65535,e[f>>1]=u,to(r+52+(u<<16>>16<<1)|0,i|0,20)|0,u=0,f=159;A=e[o+(f<<1)>>1]|0,A=Z(A,A)|0,A=(A|0)==1073741824?2147483647:A<<1,i=A+u|0,(A^u|0)>-1&(i^u|0)<0?(d[s>>2]=1,u=(u>>>31)+2147483647|0):u=i,(f|0)>0;)f=f+-1|0;co(u,p,h,s),u=e[p>>1]|0,A=u<<16>>16,i=A<<10,(i|0)!=(A<<26>>16|0)&&(d[s>>2]=1,i=u<<16>>16>0?32767:-32768),e[p>>1]=i,A=e[h>>1]|0,u=A<<16>>16,A<<16>>16<0?u=~((u^-32)>>5):u=u>>>5,h=r+392|0,A=(ae[h>>1]|0)+1|0,A=(A&65535|0)==8?0:A&65535,e[h>>1]=A,e[r+376+(A<<16>>16<<1)>>1]=u+57015+i,he=E}function ss(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0;E=(i|0)==4,A=(i|0)==5,R=(i|0)==6,s=d[r+408>>2]|0;e:do if((i+-4|0)>>>0<3)h=4;else{if((s+-1|0)>>>0<2)switch(i|0){case 2:case 3:case 7:{h=4;break e}default:}e[r>>1]=0,p=0}while(0);if((h|0)==4){e:do if((s|0)==2){switch(i|0){case 2:case 4:case 6:case 7:break;default:{u=1;break e}}u=2}else u=1;while(0);p=(ae[r>>1]|0)+1&65535,e[r>>1]=p,p=(i|0)!=5&p<<16>>16>50?2:u}f=r+398|0,A&(e[r+412>>1]|0)==0?(e[f>>1]=0,u=0):u=e[f>>1]|0,u=lr(u,1,o)|0,e[f>>1]=u,o=r+404|0,e[o>>1]=0;e:do switch(i|0){case 2:case 4:case 5:case 6:case 7:{if((i|0)==7&(p|0)==0)h=14;else{if(u<<16>>16>30){e[o>>1]=1,e[f>>1]=0,e[r+396>>1]=0;break e}if(u=r+396|0,s=e[u>>1]|0,s<<16>>16){e[u>>1]=(s&65535)+65535;break e}else{e[f>>1]=0;break e}}break}default:h=14}while(0);return(h|0)==14&&(e[r+396>>1]=7),p?(u=r+400|0,e[u>>1]=0,s=r+402|0,e[s>>1]=0,E?(e[u>>1]=1,p|0):A?(e[u>>1]=1,e[s>>1]=1,p|0):(R&&(e[u>>1]=1,e[o>>1]=0),p|0)):p|0}function ei(r){return r=r|0,r?(e[r>>1]=1,e[r+2>>1]=1,e[r+4>>1]=1,e[r+6>>1]=1,e[r+8>>1]=1,e[r+10>>1]=0,e[r+12>>1]=1,r=0,r|0):(r=-1,r|0)}function jo(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0;E=he,he=he+16|0,h=E+2|0,p=E,f=po(r,5)|0,r=r+10|0,(Rr(f,e[r>>1]|0,u)|0)<<16>>16>0&&(f=e[r>>1]|0),f=(Z(e[674+(o<<16>>16<<1)>>1]|0,f<<16>>16)|0)>>15,(f|0)>32767&&(d[u>>2]=1,f=32767),e[s>>1]=f,G0(i,h,p,u),zn(i,e[h>>1]|0,e[p>>1]|0),he=E}function Wo(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,i<<16>>16||(o<<16>>16?(i=r+12|0,(Rr(e[s>>1]|0,e[i>>1]|0,u)|0)<<16>>16>0&&(e[s>>1]=e[i>>1]|0)):i=r+12|0,e[i>>1]=e[s>>1]|0),e[r+10>>1]=e[s>>1]|0,u=r+2|0,e[r>>1]=e[u>>1]|0,o=r+4|0,e[u>>1]=e[o>>1]|0,u=r+6|0,e[o>>1]=e[u>>1]|0,r=r+8|0,e[u>>1]=e[r>>1]|0,e[r>>1]=e[s>>1]|0}function zo(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0;if(u=po(r,5)|0,r=r+10|0,(Rr(u,e[r>>1]|0,s)|0)<<16>>16>0&&(u=e[r>>1]|0),u=(Z(e[688+(i<<16>>16<<1)>>1]|0,u<<16>>16)|0)>>15,(u|0)<=32767){s=u,s=s&65535,e[o>>1]=s;return}d[s>>2]=1,s=32767,s=s&65535,e[o>>1]=s}function ti(r){return r=r|0,r?(e[r>>1]=1640,e[r+2>>1]=1640,e[r+4>>1]=1640,e[r+6>>1]=1640,e[r+8>>1]=1640,e[r+10>>1]=0,e[r+12>>1]=16384,r=0,r|0):(r=-1,r|0)}function Vo(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,i<<16>>16||(o<<16>>16?(i=r+12|0,(Rr(e[s>>1]|0,e[i>>1]|0,u)|0)<<16>>16>0&&(e[s>>1]=e[i>>1]|0)):i=r+12|0,e[i>>1]=e[s>>1]|0),s=e[s>>1]|0,i=r+10|0,e[i>>1]=s,(Rr(s,16384,u)|0)<<16>>16>0?(e[i>>1]=16384,i=16384):i=e[i>>1]|0,u=r+2|0,e[r>>1]=e[u>>1]|0,s=r+4|0,e[u>>1]=e[s>>1]|0,u=r+6|0,e[s>>1]=e[u>>1]|0,r=r+8|0,e[u>>1]=e[r>>1]|0,e[r>>1]=i}function as(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0;if(E=po(o,9)|0,A=e[o+16>>1]|0,h=A<<16>>16,o=(h+(e[o+14>>1]|0)|0)>>>1,o=(h|0)<(o<<16>>16|0)?A:o&65535,!(i<<16>>16>5&&E<<16>>16>i<<16>>16))return 0;h=o<<16>>16,h=((h<<18>>18|0)==(h|0)?h<<2:h>>>15^32767)&65535,s<<16>>16>6&u<<16>>16==0||(h=Rr(h,o,p)|0),E=E<<16>>16>h<<16>>16?h:E,A=Ao(i)|0,h=A<<16>>16,A<<16>>16<0?(o=0-h<<16,(o|0)<983040?h=i<<16>>16>>(o>>16)&65535:h=0):(o=i<<16>>16,u=o<<h,(u<<16>>16>>h|0)==(o|0)?h=u&65535:h=(o>>>15^32767)&65535),s=Z((an(16383,h)|0)<<16>>16,E<<16>>16)|0,(s|0)==1073741824?(d[p>>2]=1,u=2147483647):u=s<<1,s=Rr(20,A,p)|0,h=s<<16>>16,s<<16>>16>0?s=s<<16>>16<31?u>>h:0:(i=0-h<<16>>16,s=u<<i,s=(s>>i|0)==(u|0)?s:u>>31^2147483647),s=(s|0)>32767?32767:s&65535,s=f<<16>>16!=0&s<<16>>16>3072?3072:s<<16>>16,o=0;do u=r+(o<<1)|0,h=Z(e[u>>1]|0,s)|0,(h|0)==1073741824?(d[p>>2]=1,h=2147483647):h=h<<1,e[u>>1]=h>>>11,o=o+1|0;while((o|0)!=40);return 0}function cs(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0;if(u=d[s+104>>2]|0,f=d[s+96>>2]|0,r>>>0>=8){if(e[o>>1]=(it[i>>0]|0)>>>4&1,e[o+2>>1]=(it[i>>0]|0)>>>5&1,e[o+4>>1]=(it[i>>0]|0)>>>6&1,e[o+6>>1]=(it[i>>0]|0)>>>7&255,u=u+(r<<1)|0,(e[u>>1]|0)>1)r=1,s=1,f=4;else return;for(;p=i+r|0,r=f|1,e[o+(f<<16>>16<<1)>>1]=it[p>>0]&1,e[o+(r<<16>>16<<1)>>1]=(it[p>>0]|0)>>>1&1,h=f|3,e[o+(r+1<<16>>16<<16>>16<<1)>>1]=(it[p>>0]|0)>>>2&1,e[o+(h<<16>>16<<1)>>1]=(it[p>>0]|0)>>>3&1,e[o+(h+1<<16>>16<<16>>16<<1)>>1]=(it[p>>0]|0)>>>4&1,e[o+(h+2<<16>>16<<16>>16<<1)>>1]=(it[p>>0]|0)>>>5&1,e[o+(h+3<<16>>16<<16>>16<<1)>>1]=(it[p>>0]|0)>>>6&1,e[o+(h+4<<16>>16<<16>>16<<1)>>1]=(it[p>>0]|0)>>>7&255,s=s+1<<16>>16,s<<16>>16<(e[u>>1]|0);)r=s<<16>>16,f=f+8<<16>>16;return}if(h=d[(d[s+100>>2]|0)+(r<<2)>>2]|0,e[o+(e[h>>1]<<1)>>1]=(it[i>>0]|0)>>>4&1,e[o+(e[h+2>>1]<<1)>>1]=(it[i>>0]|0)>>>5&1,e[o+(e[h+4>>1]<<1)>>1]=(it[i>>0]|0)>>>6&1,e[o+(e[h+6>>1]<<1)>>1]=(it[i>>0]|0)>>>7&255,p=u+(r<<1)|0,!((e[p>>1]|0)<=1))for(s=f+(r<<1)|0,u=1,r=1,f=4;u=i+u|0,f=f<<16>>16,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=it[u>>0]&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>1&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>2&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>3&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>4&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>5&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>6&1,f=f+1|0,(f|0)<(e[s>>1]|0)&&(e[o+(e[h+(f<<1)>>1]<<1)>>1]=(it[u>>0]|0)>>>7&1,f=f+1|0)))))))),r=r+1<<16>>16,r<<16>>16<(e[p>>1]|0);)u=r<<16>>16}function ls(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0;switch(o<<16>>16){case 0:{for(E=9;h=e[r+(E<<1)>>1]|0,o=h<<16>>16,h<<16>>16<0?o=~((o^-4)>>2):o=o>>>2,p=e[i+(E<<1)>>1]|0,f=p<<16>>16,p<<16>>16<0?p=~((f^-4)>>2):p=f>>>2,e[s+(E<<1)>>1]=lr((h&65535)-o&65535,p&65535,u)|0,(E|0)>0;)E=E+-1|0;return}case 40:{for(p=9;u=e[r+(p<<1)>>1]|0,o=u<<16>>16,u<<16>>16<0?f=~((o^-2)>>1):f=o>>>1,u=e[i+(p<<1)>>1]|0,o=u<<16>>16,u<<16>>16<0?o=~((o^-2)>>1):o=o>>>1,e[s+(p<<1)>>1]=o+f,(p|0)>0;)p=p+-1|0;return}case 80:{for(E=9;h=e[r+(E<<1)>>1]|0,o=h<<16>>16,h<<16>>16<0?h=~((o^-4)>>2):h=o>>>2,o=e[i+(E<<1)>>1]|0,f=o<<16>>16,o<<16>>16<0?p=~((f^-4)>>2):p=f>>>2,e[s+(E<<1)>>1]=lr(h&65535,(o&65535)-p&65535,u)|0,(E|0)>0;)E=E+-1|0;return}case 120:{e[s+18>>1]=e[i+18>>1]|0,e[s+16>>1]=e[i+16>>1]|0,e[s+14>>1]=e[i+14>>1]|0,e[s+12>>1]=e[i+12>>1]|0,e[s+10>>1]=e[i+10>>1]|0,e[s+8>>1]=e[i+8>>1]|0,e[s+6>>1]=e[i+6>>1]|0,e[s+4>>1]=e[i+4>>1]|0,e[s+2>>1]=e[i+2>>1]|0,e[s>>1]=e[i>>1]|0;return}default:return}}function xi(r,i){return r=r|0,i=i|0,r?(to(r|0,i|0,20)|0,r=0,r|0):(r=-1,r|0)}function Ui(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0;A=0;do E=r+(A<<1)|0,s=e[E>>1]|0,p=s&65535,h=p<<16,s=s<<16>>16,(s*5243|0)==1073741824?(d[o>>2]=1,f=2147483647):f=s*10486|0,u=h-f|0,((u^h)&(f^h)|0)<0?(d[o>>2]=1,f=(p>>>15)+2147483647|0):f=u,s=e[i+(A<<1)>>1]|0,u=s*5243|0,(u|0)!=1073741824?(s=(s*10486|0)+f|0,(u^f|0)>0&(s^f|0)<0&&(d[o>>2]=1,s=(f>>>31)+2147483647|0)):(d[o>>2]=1,s=2147483647),e[E>>1]=Mr(s,o)|0,A=A+1|0;while((A|0)!=10)}function Di(r){r=r|0;var i=0;if(!r)return i=-1,i|0;i=r+18|0;do e[r>>1]=0,r=r+2|0;while((r|0)<(i|0));return i=0,i|0}function us(r){r=r|0,e[r+14>>1]=1}function fs(r){r=r|0,e[r+14>>1]=0}function ds(r,i,o,s,u,f,p,h,E,A){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0;var R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0;pe=he,he=he+160|0,je=pe+80|0,We=pe,le=d[E+120>>2]|0,Te=d[E+124>>2]|0,Ee=d[E+128>>2]|0,ce=d[E+132>>2]|0,O=r+6|0,K=r+8|0,e[K>>1]=e[O>>1]|0,k=r+4|0,e[O>>1]=e[k>>1]|0,D=r+2|0,e[k>>1]=e[D>>1]|0,e[D>>1]=e[r>>1]|0,e[r>>1]=u,E=u<<16>>16<14746?u<<16>>16>9830&1:2,R=r+12|0,u=e[R>>1]|0,C=u<<15;do if((C|0)<=536870911)if((C|0)<-536870912){d[A>>2]=1,u=-2147483648;break}else{u=u<<17;break}else d[A>>2]=1,u=2147483647;while(0);switch(de=s<<16>>16,b=r+16|0,(Mr(u,A)|0)<<16>>16>=s<<16>>16?(C=e[b>>1]|0,C<<16>>16>0&&(C=(C&65535)+65535&65535,e[b>>1]=C),C<<16>>16||(u=(e[r>>1]|0)<9830,u=(e[D>>1]|0)<9830?u?2:1:u&1,(e[k>>1]|0)<9830&&(u=(u&65535)+1&65535),(e[O>>1]|0)<9830&&(u=(u&65535)+1&65535),(e[K>>1]|0)<9830&&(u=(u&65535)+1&65535),C=0,E=u<<16>>16>2?0:E)):(e[b>>1]=2,C=2),D=E<<16>>16,K=r+10|0,D=!(C<<16>>16)&&(D|0)>((e[K>>1]|0)+1|0)?D+65535&65535:E,r=(e[r+14>>1]|0)==1?0:s<<16>>16<10?2:D<<16>>16<2&C<<16>>16>0?(D&65535)+1&65535:D,e[K>>1]=r,e[R>>1]=s,i|0){case 4:case 6:case 7:break;default:if(r<<16>>16<2){for(C=0,E=0,O=f,R=je;;)if(e[O>>1]|0?(E=E<<16>>16,e[We+(E<<1)>>1]=C,u=e[O>>1]|0,E=E+1&65535):u=0,e[R>>1]=u,e[O>>1]=0,C=C+1<<16>>16,C<<16>>16>=40){K=E;break}else O=O+2|0,R=R+2|0;if(D=r<<16>>16==0,D=(i|0)==5?D?le:Te:D?Ee:ce,K<<16>>16>0){k=0;do{if(b=e[We+(k<<1)>>1]|0,E=b<<16>>16,r=e[je+(E<<1)>>1]|0,b<<16>>16<40){for(C=r<<16>>16,O=39-b&65535,R=b,E=f+(E<<1)|0,u=D;i=(Z(e[u>>1]|0,C)|0)>>>15&65535,e[E>>1]=lr(e[E>>1]|0,i,A)|0,R=R+1<<16>>16,!(R<<16>>16>=40);)E=E+2|0,u=u+2|0;b<<16>>16>0&&(E=D+(O+1<<1)|0,Ze=36)}else E=D,Ze=36;if((Ze|0)==36)for(Ze=0,u=r<<16>>16,C=0,O=f;i=(Z(e[E>>1]|0,u)|0)>>>15&65535,e[O>>1]=lr(e[O>>1]|0,i,A)|0,C=C+1<<16>>16,!(C<<16>>16>=b<<16>>16);)O=O+2|0,E=E+2|0;k=k+1|0}while((k&65535)<<16>>16!=K<<16>>16)}}}if(k=p<<16>>16,D=de<<1,u=h<<16>>16,R=0-u<<16,E=R>>16,h<<16>>16>0){for(C=0,O=o;r=Z(e[o+(C<<1)>>1]|0,k)|0,(r|0)==1073741824?(d[A>>2]=1,R=2147483647):R=r<<1,h=Z(D,e[f>>1]|0)|0,r=h+R|0,(h^R|0)>-1&(r^R|0)<0&&(d[A>>2]=1,r=(R>>>31)+2147483647|0),h=r<<u,e[O>>1]=Mr((h>>u|0)==(r|0)?h:r>>31^2147483647,A)|0,C=C+1|0,(C|0)!=40;)f=f+2|0,O=O+2|0;he=pe;return}if((R|0)<2031616){for(C=0,O=o;r=Z(e[o+(C<<1)>>1]|0,k)|0,(r|0)==1073741824?(d[A>>2]=1,R=2147483647):R=r<<1,h=Z(D,e[f>>1]|0)|0,r=h+R|0,(h^R|0)>-1&(r^R|0)<0&&(d[A>>2]=1,r=(R>>>31)+2147483647|0),e[O>>1]=Mr(r>>E,A)|0,C=C+1|0,(C|0)!=40;)f=f+2|0,O=O+2|0;he=pe;return}else{for(O=0,R=o;r=Z(e[o+(O<<1)>>1]|0,k)|0,(r|0)==1073741824?(d[A>>2]=1,r=2147483647):r=r<<1,h=Z(D,e[f>>1]|0)|0,(h^r|0)>-1&(h+r^r|0)<0&&(d[A>>2]=1),e[R>>1]=Mr(0,A)|0,O=O+1|0,(O|0)!=40;)f=f+2|0,R=R+2|0;he=pe;return}}function Bi(r){return r=r|0,r?(e[r>>1]=0,e[r+2>>1]=0,e[r+4>>1]=0,e[r+6>>1]=0,e[r+8>>1]=0,e[r+10>>1]=0,r=0,r|0):(r=-1,r|0)}function ps(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0;if(!(o<<16>>16<=0))for(u=r+10|0,E=r+8|0,R=r+4|0,O=r+6|0,C=r+2|0,f=e[R>>1]|0,p=e[O>>1]|0,h=e[r>>1]|0,A=e[C>>1]|0,b=0;k=e[u>>1]|0,D=e[E>>1]|0,e[u>>1]=D,K=e[i>>1]|0,e[E>>1]=K,k=((K<<16>>16)*7699|0)+((Z(h<<16>>16,-7667)|0)+(((f<<16>>16)*15836|0)+((p<<16>>16)*15836>>15))+((Z(A<<16>>16,-7667)|0)>>15))+(Z(D<<16>>16,-15398)|0)+((k<<16>>16)*7699|0)|0,D=k<<3,k=(D>>3|0)==(k|0)?D:k>>31^2147483647,D=k<<1,e[i>>1]=Mr((D>>1|0)==(k|0)?D:k>>31^2147483647,s)|0,h=e[R>>1]|0,e[r>>1]=h,A=e[O>>1]|0,e[C>>1]=A,f=k>>>16&65535,e[R>>1]=f,p=(k>>>1)-(k>>16<<15)&65535,e[O>>1]=p,b=b+1<<16>>16,!(b<<16>>16>=o<<16>>16);)i=i+2|0}function hs(r){return r=r|0,r?(e[r>>1]=0,r=0):r=-1,r|0}function Gi(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0;if(h=s<<16>>16,f=i+(h+-1<<1)|0,h=h+-2|0,E=e[f>>1]|0,s<<16>>16<2)s=o<<16>>16;else for(s=o<<16>>16,p=0,i=i+(h<<1)|0;o=(Z(e[i>>1]|0,s)|0)>>15,(o|0)>32767&&(d[u>>2]=1,o=32767),e[f>>1]=Rr(e[f>>1]|0,o&65535,u)|0,f=f+-2|0,p=p+1<<16>>16,!((p<<16>>16|0)>(h|0));)i=i+-2|0;if(s=(Z(e[r>>1]|0,s)|0)>>15,(s|0)<=32767){h=s,h=h&65535,p=e[f>>1]|0,u=Rr(p,h,u)|0,e[f>>1]=u,e[r>>1]=E;return}d[u>>2]=1,h=32767,h=h&65535,p=e[f>>1]|0,u=Rr(p,h,u)|0,e[f>>1]=u,e[r>>1]=E}function ms(r){r=r|0;var i=0,o=0,s=0;if(!r)return s=-1,s|0;ro(r+104|0,0,340)|0,i=r+102|0,o=r,s=o+100|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));return B1(i)|0,hs(r+100|0)|0,s=0,s|0}function gs(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0;if(le=he,he=he+96|0,k=le+22|0,D=le,K=le+44|0,to(r+124|0,o|0,320)|0,R=K+22|0,O=r+100|0,C=r+80|0,b=r+102|0,(i&-2|0)==6){for(A=0;;){Vn(s,702,k),Vn(s,722,D),E=r+104+(A+10<<1)|0,Io(k,E,r,40),p=K,f=k,i=p+22|0;do e[p>>1]=e[f>>1]|0,p=p+2|0,f=f+2|0;while((p|0)<(i|0));p=R,i=p+22|0;do e[p>>1]=0,p=p+2|0;while((p|0)<(i|0));dn(D,K,K,22,R,0),i=0,p=21;do{if(f=e[K+(p<<16>>16<<1)>>1]|0,f=Z(f,f)|0,(f|0)==1073741824){ce=7;break}h=f<<1,f=h+i|0,(h^i|0)>-1&(f^i|0)<0?(d[u>>2]=1,i=(i>>>31)+2147483647|0):i=f,p=p+-1<<16>>16}while(p<<16>>16>-1);for((ce|0)==7&&(ce=0,d[u>>2]=1),h=i>>>16&65535,f=20,i=0,p=20;;){if(f=Z(e[K+(f+1<<1)>>1]|0,e[K+(f<<1)>>1]|0)|0,(f|0)==1073741824){ce=13;break}if(Te=f<<1,f=Te+i|0,(Te^i|0)>-1&(f^i|0)<0?(d[u>>2]=1,i=(i>>>31)+2147483647|0):i=f,f=(p&65535)+-1<<16>>16,f<<16>>16>-1)f=f<<16>>16,p=p+-1|0;else break}if((ce|0)==13&&(ce=0,d[u>>2]=1),i=i>>16,(i|0)<1?i=0:i=an((i*26214|0)>>>15&65535,h)|0,Gi(O,r,i,40,u),i=o+(A<<1)|0,dn(D,r,i,40,C,1),Ci(b,E,i,29491,40,u),i=(A<<16)+2621440|0,(i|0)<10485760)A=i>>16,s=s+22|0;else break}p=r+104|0,f=r+424|0,i=p+20|0;do ne[p>>0]=ne[f>>0]|0,p=p+1|0,f=f+1|0;while((p|0)<(i|0));he=le;return}else{for(A=0;;){Vn(s,742,k),Vn(s,762,D),E=r+104+(A+10<<1)|0,Io(k,E,r,40),p=K,f=k,i=p+22|0;do e[p>>1]=e[f>>1]|0,p=p+2|0,f=f+2|0;while((p|0)<(i|0));p=R,i=p+22|0;do e[p>>1]=0,p=p+2|0;while((p|0)<(i|0));dn(D,K,K,22,R,0),i=0,p=21;do{if(f=e[K+(p<<16>>16<<1)>>1]|0,f=Z(f,f)|0,(f|0)==1073741824){ce=22;break}Te=f<<1,f=Te+i|0,(Te^i|0)>-1&(f^i|0)<0?(d[u>>2]=1,i=(i>>>31)+2147483647|0):i=f,p=p+-1<<16>>16}while(p<<16>>16>-1);for((ce|0)==22&&(ce=0,d[u>>2]=1),h=i>>>16&65535,f=20,i=0,p=20;;){if(f=Z(e[K+(f+1<<1)>>1]|0,e[K+(f<<1)>>1]|0)|0,(f|0)==1073741824){ce=28;break}if(Te=f<<1,f=Te+i|0,(Te^i|0)>-1&(f^i|0)<0?(d[u>>2]=1,i=(i>>>31)+2147483647|0):i=f,f=(p&65535)+-1<<16>>16,f<<16>>16>-1)f=f<<16>>16,p=p+-1|0;else break}if((ce|0)==28&&(ce=0,d[u>>2]=1),i=i>>16,(i|0)<1?i=0:i=an((i*26214|0)>>>15&65535,h)|0,Gi(O,r,i,40,u),i=o+(A<<1)|0,dn(D,r,i,40,C,1),Ci(b,E,i,29491,40,u),i=(A<<16)+2621440|0,(i|0)<10485760)A=i>>16,s=s+22|0;else break}p=r+104|0,f=r+424|0,i=p+20|0;do ne[p>>0]=ne[f>>0]|0,p=p+1|0,f=f+1|0;while((p|0)<(i|0));he=le;return}}function vs(r,i){r=r|0,i=i|0;var o=0,s=0;return!r||(d[r>>2]=0,o=cn(1764)|0,!o)?(r=-1,r|0):!((Q1(o)|0)<<16>>16)&&(s=o+1748|0,(Bi(s)|0)<<16>>16==0)?(Qo(o,0)|0,ms(o+1304|0)|0,Bi(s)|0,d[o+1760>>2]=0,d[r>>2]=o,r=0,r|0):(i=d[o>>2]|0,i?(Zr(i),d[o>>2]=0,r=-1,r|0):(r=-1,r|0))}function Es(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function ys(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0;if(ce=he,he=he+208|0,K=ce+88|0,D=ce,k=r+1164|0,f=d[r+1256>>2]|0,(s+-5|0)>>>0<2){if(b=f+16|0,(e[b>>1]|0)>0)for(C=d[(d[r+1260>>2]|0)+32>>2]|0,O=0,f=0;;){if(R=C+(O<<1)|0,E=e[R>>1]|0,E<<16>>16>0){for(h=o,A=0,p=0;p=ae[h>>1]|p<<1&131070,A=A+1<<16>>16,!(A<<16>>16>=E<<16>>16);)h=h+2|0;p=p&65535}else p=0;if(e[K+(O<<1)>>1]=p,f=f+1<<16>>16,f<<16>>16<(e[b>>1]|0))o=o+(e[R>>1]<<1)|0,O=f<<16>>16;else break}}else if(C=f+(i<<1)|0,(e[C>>1]|0)>0)for(b=d[(d[r+1260>>2]|0)+(i<<2)>>2]|0,R=0,f=0;;){if(O=b+(R<<1)|0,E=e[O>>1]|0,E<<16>>16>0){for(h=o,A=0,p=0;p=ae[h>>1]|p<<1&131070,A=A+1<<16>>16,!(A<<16>>16>=E<<16>>16);)h=h+2|0;p=p&65535}else p=0;if(e[K+(R<<1)>>1]=p,f=f+1<<16>>16,f<<16>>16<(e[C>>1]|0))o=o+(e[O>>1]<<1)|0,R=f<<16>>16;else break}$1(r,i,K,s,u,D),gs(r+1304|0,i,u,D,k),ps(r+1748|0,u,160,k),f=0;do r=u+(f<<1)|0,e[r>>1]=ae[r>>1]&65528,f=f+1|0;while((f|0)!=160);he=ce}function _s(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;if(f=d[s+100>>2]|0,p=(ae[(d[s+96>>2]|0)+(r<<1)>>1]|0)+65535|0,s=p&65535,u=s<<16>>16>-1,r>>>0<8){if(!u)return;for(f=d[f+(r<<2)>>2]|0,u=p<<16>>16;e[o+(e[f+(u<<1)>>1]<<1)>>1]=(it[i+(u>>3)>>0]|0)>>>(u&7^7)&1,s=s+-1<<16>>16,s<<16>>16>-1;)u=s<<16>>16;return}else{if(!u)return;for(u=p<<16>>16;e[o+(u<<1)>>1]=(it[i+(u>>3)>>0]|0)>>>(u&7^7)&1,s=s+-1<<16>>16,s<<16>>16>-1;)u=s<<16>>16;return}}function Ts(r,i,o){return r=r|0,i=i|0,o=o|0,r=b0(r,o,31764)|0,((w0(i)|0|r)<<16>>16!=0)<<31>>31|0}function As(r,i){r=r|0,i=i|0,C0(r),R0(i)}function Is(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0;if(O=he,he=he+512|0,h=O+8|0,E=O+4|0,A=O,d[A>>2]=0,R=p<<16>>16==3,!((p&65535)<2|R&1)){if(p<<16>>16!=2)return u=-1,he=O,u|0;a1(r,o,s,h+2|0,A),r=d[A>>2]|0,d[f>>2]=r,s1(i,r,E),i=d[E>>2]|0,e[h>>1]=i,e[h+490>>1]=(i|0)==3?-1:o&65535,ne[u>>0]=i,i=1;do h=h+1|0,ne[u+i>>0]=ne[h>>0]|0,i=i+1|0;while((i|0)!=492);return h=492,he=O,h|0}if(a1(r,o,s,h,A),s1(i,d[A>>2]|0,E),s=d[E>>2]|0,(s|0)!=3){if(i=d[A>>2]|0,d[f>>2]=i,(i|0)==8){switch(s|0){case 1:{e[h+70>>1]=0;break}case 2:{A=h+70|0,e[A>>1]=ae[A>>1]|0|1;break}default:}e[h+72>>1]=o&1,e[h+74>>1]=o>>>1&1,e[h+76>>1]=o>>>2&1,i=8}}else d[f>>2]=15,i=15;if(R)return Js(i,h,u,(d[r+4>>2]|0)+2392|0),u=e[3404+(d[f>>2]<<16>>16<<1)>>1]|0,he=O,u|0;switch(p<<16>>16){case 0:return Ks(i,h,u,(d[r+4>>2]|0)+2392|0),u=e[3404+(d[f>>2]<<16>>16<<1)>>1]|0,he=O,u|0;case 1:return qs(i,h,u,(d[r+4>>2]|0)+2392|0),u=e[3436+(d[f>>2]<<16>>16<<1)>>1]|0,he=O,u|0;default:return u=-1,he=O,u|0}return 0}function ri(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0;for(je=he,he=he+480|0,de=je,f=240,A=u,E=r,h=de,p=0;;){if(Ee=((Z(e[A>>1]|0,e[E>>1]|0)|0)+16384|0)>>>15,e[h>>1]=Ee,Ee=Ee<<16,p=(Z(Ee>>15,Ee>>16)|0)+p|0,(p|0)<0){R=4;break}if(f=f+-1|0,(f&65535)<<16>>16)A=A+2|0,E=E+2|0,h=h+2|0;else{f=0;break}}if((R|0)==4){if(p=f&65535,h=240-f|0,!(p<<16>>16))f=0;else for(A=p,E=u+(h<<1)|0,f=r+(h<<1)|0,p=de+(h<<1)|0;;)if(e[p>>1]=((Z(e[E>>1]|0,e[f>>1]|0)|0)+16384|0)>>>15,A=A+-1<<16>>16,A<<16>>16)E=E+2|0,f=f+2|0,p=p+2|0;else{f=0;break}do{for(E=f&65535,f=120,h=de,p=0;Ee=(e[h>>1]|0)>>>2,le=h+2|0,e[h>>1]=Ee,Ee=Ee<<16>>16,Ee=Z(Ee,Ee)|0,Te=(e[le>>1]|0)>>>2,e[le>>1]=Te,Te=Te<<16>>16,p=((Z(Te,Te)|0)+Ee<<1)+p|0,f=f+-1<<16>>16,f<<16>>16;)h=h+4|0;f=E+4|0}while((p|0)<1)}if(Ee=p+1|0,Te=(jr(Ee)|0)<<16>>16,Ee=Ee<<Te,e[o>>1]=Ee>>>16,e[s>>1]=(Ee>>>1)-(Ee>>16<<15),Ee=de+478|0,A=i<<16>>16,i<<16>>16<=0)return de=Te-f|0,de=de&65535,he=je,de|0;for(D=de+476|0,K=Te+1|0,ce=239-A|0,le=de+(236-A<<1)|0,i=A,o=o+(A<<1)|0,s=s+(A<<1)|0;;){if(R=Z((ce>>>1)+65535&65535,-2)|0,E=de+(R+236<<1)|0,R=le+(R<<1)|0,u=240-i|0,k=u+-1|0,h=de+(k<<1)|0,r=k>>>1&65535,u=de+(u+-2<<1)|0,A=Z(e[Ee>>1]|0,e[h>>1]|0)|0,!(r<<16>>16))R=u,E=D;else for(b=D,C=Ee;p=h+-4|0,O=C+-4|0,A=(Z(e[b>>1]|0,e[u>>1]|0)|0)+A|0,r=r+-1<<16>>16,A=(Z(e[O>>1]|0,e[p>>1]|0)|0)+A|0,r<<16>>16;)u=h+-6|0,b=C+-6|0,h=p,C=O;if(k&1&&(A=(Z(e[E>>1]|0,e[R>>1]|0)|0)+A|0),k=A<<K,e[o>>1]=k>>>16,e[s>>1]=(k>>>1)-(k>>16<<15),(i&65535)+-1<<16>>16<<16>>16>0)ce=ce+1|0,le=le+2|0,i=i+-1|0,o=o+-2|0,s=s+-2|0;else break}return de=Te-f|0,de=de&65535,he=je,de|0}function Fi(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0;gt=he,he=he+3440|0,Ge=gt+3420|0,je=gt+3400|0,We=gt+3224|0,pe=gt,Ee=gt+3320|0,Ze=gt+3240|0,de=gt+24|0,Lo(o,r,Ee,2,h),i1(Ee,i,Ze,We,5,je,5,h),_o(o,Ze,de,h),o1(10,5,5,Ee,de,je,We,pe,h),i=s,h=i+80|0;do e[i>>1]=0,i=i+2|0;while((i|0)<(h|0));e[f>>1]=65535,e[f+2>>1]=65535,e[f+4>>1]=65535,e[f+6>>1]=65535,e[f+8>>1]=65535,C=0,b=pe,k=Ge;do{r=e[b>>1]|0,b=b+2|0,E=(r*6554|0)>>>15,A=E<<16>>16,i=s+(r<<1)|0,h=e[i>>1]|0,(e[Ze+(r<<1)>>1]|0)>0?(e[i>>1]=h+4096,e[k>>1]=8192,R=E):(e[i>>1]=h+61440,e[k>>1]=-8192,R=A+8|0),k=k+2|0,O=R&65535,i=r-(E<<2)-A<<16>>16,E=f+(i<<1)|0,h=e[E>>1]|0,r=h<<16>>16;do if(h<<16>>16>=0)if(A=R<<16>>16,(A^r)&8)if(i=f+(i+5<<1)|0,(r&7)>>>0>(A&7)>>>0){e[i>>1]=O;break}else{e[i>>1]=h,e[E>>1]=O;break}else if(i=f+(i+5<<1)|0,(r|0)>(A|0)){e[i>>1]=h,e[E>>1]=O;break}else{e[i>>1]=O;break}else e[E>>1]=O;while(0);C=C+1<<16>>16}while(C<<16>>16<10);for(k=Ge+2|0,C=Ge+4|0,R=Ge+6|0,A=Ge+8|0,E=Ge+10|0,i=Ge+12|0,h=Ge+14|0,r=Ge+16|0,D=Ge+18|0,K=40,ce=o+(0-(e[pe>>1]|0)<<1)|0,le=o+(0-(e[pe+2>>1]|0)<<1)|0,Te=o+(0-(e[pe+4>>1]|0)<<1)|0,Ee=o+(0-(e[pe+6>>1]|0)<<1)|0,de=o+(0-(e[pe+8>>1]|0)<<1)|0,je=o+(0-(e[pe+10>>1]|0)<<1)|0,We=o+(0-(e[pe+12>>1]|0)<<1)|0,Ze=o+(0-(e[pe+14>>1]|0)<<1)|0,s=o+(0-(e[pe+16>>1]|0)<<1)|0,b=o+(0-(e[pe+18>>1]|0)<<1)|0,O=u;Nt=(Z(e[Ge>>1]|0,e[ce>>1]|0)|0)>>7,ft=(Z(e[k>>1]|0,e[le>>1]|0)|0)>>7,Pt=(Z(e[C>>1]|0,e[Te>>1]|0)|0)>>7,rr=(Z(e[R>>1]|0,e[Ee>>1]|0)|0)>>7,qt=(Z(e[A>>1]|0,e[de>>1]|0)|0)>>7,Rt=(Z(e[E>>1]|0,e[je>>1]|0)|0)>>7,pe=(Z(e[i>>1]|0,e[We>>1]|0)|0)>>7,o=(Z(e[h>>1]|0,e[Ze>>1]|0)|0)>>>7,u=(Z(e[r>>1]|0,e[s>>1]|0)|0)>>>7,e[O>>1]=(Nt+128+ft+Pt+rr+qt+Rt+pe+o+u+((Z(e[D>>1]|0,e[b>>1]|0)|0)>>>7)|0)>>>8,K=K+-1<<16>>16,K<<16>>16;)ce=ce+2|0,le=le+2|0,Te=Te+2|0,Ee=Ee+2|0,de=de+2|0,je=je+2|0,We=We+2|0,Ze=Ze+2|0,s=s+2|0,b=b+2|0,O=O+2|0;i=0;do h=f+(i<<1)|0,r=e[h>>1]|0,(i|0)<5?r=(ae[p+((r&7)<<1)>>1]|r&8)&65535:r=e[p+((r&7)<<1)>>1]|0,e[h>>1]=r,i=i+1|0;while((i|0)!=10);he=gt}function ws(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0;if(cr=he,he=he+3456|0,Pt=cr+3448|0,qt=cr+3360|0,gt=cr+3368|0,C=cr+3280|0,rr=cr+3200|0,Rt=cr,Nt=(s&65535)<<17,Dt=o<<16>>16,ft=o<<16>>16<40,ft){s=Nt>>16,o=Dt;do A=(Z(e[i+(o-Dt<<1)>>1]|0,s)|0)>>15,(A|0)>32767&&(d[h>>2]=1,A=32767),Ge=i+(o<<1)|0,e[Ge>>1]=lr(e[Ge>>1]|0,A&65535,h)|0,o=o+1|0;while((o&65535)<<16>>16!=40)}Lo(i,r,gt,1,h),Ko(gt,rr,C,8),_o(i,rr,Rt,h),Ge=qt+2|0,e[qt>>1]=0,e[Ge>>1]=1,r=1,A=0,O=1,C=0,R=-1;do{Ze=e[2830+(C<<1)>>1]|0,pe=Ze<<16>>16,We=0;do{for(de=e[2834+(We<<1)>>1]|0,je=de<<16>>16,Ee=r,le=pe,ce=O,Te=Ze,K=R;;){for(E=e[gt+(le<<1)>>1]|0,k=e[Rt+(le*80|0)+(le<<1)>>1]|0,o=je,O=1,D=de,r=de,R=-1;s=lr(E,e[gt+(o<<1)>>1]|0,h)|0,s=s<<16>>16,s=(Z(s,s)|0)>>>15,b=(e[Rt+(le*80|0)+(o<<1)>>1]<<15)+32768+((e[Rt+(o*80|0)+(o<<1)>>1]|0)+k<<14)|0,((Z(s<<16>>16,O<<16>>16)|0)-(Z(b>>16,R<<16>>16)|0)<<1|0)>0&&(O=b>>>16&65535,r=D,R=s&65535),b=o+5|0,D=b&65535,!(D<<16>>16>=40);)o=b<<16>>16;if(((Z(R<<16>>16,ce<<16>>16)|0)-(Z(O<<16>>16,K<<16>>16)|0)<<1|0)>0?(e[qt>>1]=Te,e[Ge>>1]=r,A=Te):(r=Ee,O=ce,R=K),b=le+5|0,Te=b&65535,Te<<16>>16>=40)break;Ee=r,le=b<<16>>16,ce=O,K=R}We=We+1|0}while((We|0)!=4);C=C+1|0}while((C|0)!=2);k=r,D=A,s=u,o=s+80|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(o|0));for(O=D,o=0,b=0,s=0;;){switch(A=O<<16>>16,E=e[rr+(A<<1)>>1]|0,r=(A*6554|0)>>>15,O=r<<16,C=O>>15,R=A-(C+(r<<3)<<16>>17)|0,R<<16>>16|0){case 0:{C=O>>10,r=1;break}case 1:{(o&65535)<<16>>16?(C=r<<22>>16|16,r=1):r=0;break}case 2:{C=r<<22>>16|32,r=1;break}case 3:{C=r<<17>>16|1,r=0;break}case 4:{C=r<<22>>16|48,r=1;break}default:C=r,r=R&65535}if(C=C&65535,R=u+(A<<1)|0,E<<16>>16>0?(e[R>>1]=8191,e[Pt+(o<<1)>>1]=32767,A=r<<16>>16,r<<16>>16<0?(A=0-A<<16,(A|0)<983040?A=1>>>(A>>16)&65535:A=0):(Rt=1<<A,A=(Rt<<16>>16>>A|0)==1?Rt&65535:32767),s=lr(s,A,h)|0):(e[R>>1]=-8192,e[Pt+(o<<1)>>1]=-32768),A=lr(b,C,h)|0,o=o+1|0,(o|0)==2){b=A;break}O=e[qt+(o<<1)>>1]|0,b=A}e[p>>1]=s,C=Pt+2|0,O=e[Pt>>1]|0,r=0,R=i+(0-(D<<16>>16)<<1)|0,A=i+(0-(k<<16>>16)<<1)|0;do s=Z(e[R>>1]|0,O)|0,R=R+2|0,(s|0)!=1073741824&&(ir=s<<1,!((s|0)>0&(ir|0)<0))?E=ir:(d[h>>2]=1,E=2147483647),o=Z(e[C>>1]|0,e[A>>1]|0)|0,A=A+2|0,(o|0)!=1073741824?(s=(o<<1)+E|0,(o^E|0)>0&(s^E|0)<0&&(d[h>>2]=1,s=(E>>>31)+2147483647|0)):(d[h>>2]=1,s=2147483647),e[f+(r<<1)>>1]=Mr(s,h)|0,r=r+1|0;while((r|0)!=40);if(!ft)return he=cr,b|0;o=Nt>>16,s=Dt;do E=(Z(e[u+(s-Dt<<1)>>1]|0,o)|0)>>15,(E|0)>32767&&(d[h>>2]=1,E=32767),f=u+(s<<1)|0,e[f>>1]=lr(e[f>>1]|0,E&65535,h)|0,s=s+1|0;while((s&65535)<<16>>16!=40);return he=cr,b|0}function Rs(r,i,o,s,u,f,p,h,E,A){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0;var R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0;if(Ee=he,he=he+3456|0,k=Ee+3360|0,D=Ee+3368|0,K=Ee+3280|0,ce=Ee+3200|0,le=Ee,Te=u<<16>>16,C=Te<<1,(C|0)==(Te<<17>>16|0)?b=C:(d[A>>2]=1,b=u<<16>>16>0?32767:-32768),Te=s<<16>>16,R=s<<16>>16<40,R){u=b<<16>>16,O=Te;do s=o+(O<<1)|0,C=(Z(e[o+(O-Te<<1)>>1]|0,u)|0)>>15,(C|0)>32767&&(d[A>>2]=1,C=32767),e[s>>1]=lr(e[s>>1]|0,C&65535,A)|0,O=O+1|0;while((O&65535)<<16>>16!=40)}if(Lo(o,i,D,1,A),Ko(D,ce,K,8),_o(o,ce,le,A),bs(r,D,le,E,k),C=Cs(r,k,ce,f,o,p,h,A)|0,!R)return he=Ee,C|0;O=b<<16>>16,u=Te;do s=f+(u<<1)|0,R=(Z(e[f+(u-Te<<1)>>1]|0,O)|0)>>15,(R|0)>32767&&(d[A>>2]=1,R=32767),e[s>>1]=lr(e[s>>1]|0,R&65535,A)|0,u=u+1|0;while((u&65535)<<16>>16!=40);return he=Ee,C|0}function bs(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0;de=u+2|0,e[u>>1]=0,e[de>>1]=1,Te=r<<16>>16<<1,f=1,Ee=0,r=-1;do{le=(Ee<<3)+Te<<16>>16,E=e[s+(le<<1)>>1]|0,le=e[s+((le|1)<<1)>>1]|0,p=E<<16>>16;e:do if(E<<16>>16<40){if(ce=le<<16>>16,le<<16>>16<40)K=f;else for(;;)if((r<<16>>16|0)<(0-(f<<16>>16)|0)?(e[u>>1]=E,e[de>>1]=le,h=1,r=-1):h=f,f=p+5|0,E=f&65535,E<<16>>16>=40){f=h;break e}else p=f<<16>>16,f=h;for(;;){for(k=e[o+(p*80|0)+(p<<1)>>1]|0,b=ae[i+(p<<1)>>1]|0,C=ce,f=1,D=le,h=le,A=-1;O=(ae[i+(C<<1)>>1]|0)+b<<16>>16,O=(Z(O,O)|0)>>>15,R=(e[o+(p*80|0)+(C<<1)>>1]<<15)+32768+((e[o+(C*80|0)+(C<<1)>>1]|0)+k<<14)|0,((Z(O<<16>>16,f<<16>>16)|0)-(Z(R>>16,A<<16>>16)|0)<<1|0)>0&&(f=R>>>16&65535,h=D,A=O&65535),R=C+5|0,D=R&65535,!(D<<16>>16>=40);)C=R<<16>>16;if(((Z(A<<16>>16,K<<16>>16)|0)-(Z(f<<16>>16,r<<16>>16)|0)<<1|0)>0?(e[u>>1]=E,e[de>>1]=h,r=A):f=K,p=p+5|0,E=p&65535,E<<16>>16>=40)break;p=p<<16>>16,K=f}}while(0);Ee=Ee+1|0}while((Ee|0)!=2)}function Cs(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0;E=s,A=E+80|0;do e[E>>1]=0,E=E+2|0;while((E|0)<(A|0));E=e[i>>1]|0,C=(E*6554|0)>>>15,A=C<<16>>16,O=(748250>>>((E+(Z(A,-5)|0)<<16>>16)+((r<<16>>16)*5|0)|0)&1|0)==0,R=(e[o+(E<<1)>>1]|0)>0,b=R?32767:-32768,e[s+(E<<1)>>1]=R?8191:-8192,E=i+2|0,r=e[E>>1]|0,s=s+(r<<1)|0,(e[o+(r<<1)>>1]|0)>0?(e[s>>1]=8191,o=32767,s=(R&1|2)&65535):(e[s>>1]=-8192,o=-32768,s=R&1),C=((r*6554|0)>>>15<<3)+(O?C:A+64|0)&65535,e[p>>1]=s,O=0,R=u+(0-(e[i>>1]|0)<<1)|0,s=u+(0-(e[E>>1]|0)<<1)|0;do E=Z(b,e[R>>1]|0)|0,R=R+2|0,(E|0)==1073741824?(d[h>>2]=1,r=2147483647):r=E<<1,A=Z(o,e[s>>1]|0)|0,s=s+2|0,(A|0)!=1073741824?(E=(A<<1)+r|0,(A^r|0)>0&(E^r|0)<0&&(d[h>>2]=1,E=(r>>>31)+2147483647|0)):(d[h>>2]=1,E=2147483647),e[f+(O<<1)>>1]=Mr(E,h)|0,O=O+1|0;while((O|0)!=40);return C|0}function Os(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0;if(dr=he,he=he+3440|0,ir=dr+3360|0,Dt=dr+3280|0,ur=dr+3200|0,cr=dr,gr=(s&65535)<<17,sr=o<<16>>16,hr=o<<16>>16<40,hr){o=gr>>16,E=sr;do s=(Z(e[i+(E-sr<<1)>>1]|0,o)|0)>>15,(s|0)>32767&&(d[h>>2]=1,s=32767),Nt=i+(E<<1)|0,e[Nt>>1]=lr(e[Nt>>1]|0,s&65535,h)|0,E=E+1|0;while((E&65535)<<16>>16!=40)}for(Lo(i,r,ir,1,h),Ko(ir,ur,Dt,6),_o(i,ur,cr,h),Nt=1,A=2,R=1,s=0,E=1,r=-1,O=1;;){for(ft=2,k=2;;){for(qt=0,rr=0,Pt=O,Rt=k;;){if(rr<<16>>16<40)for(Ze=Pt<<16>>16,pe=Pt<<16>>16<40,Ge=Rt<<16>>16,gt=Rt<<16>>16<40,je=rr<<16>>16,We=rr;;){if((e[Dt+(je<<1)>>1]|0)>-1){if(Te=e[cr+(je*80|0)+(je<<1)>>1]|0,pe)for(Ee=ae[ir+(je<<1)>>1]|0,le=Ze,b=1,de=Pt,o=Pt,k=0,C=-1;K=(ae[ir+(le<<1)>>1]|0)+Ee|0,ce=K<<16>>16,ce=(Z(ce,ce)|0)>>>15,D=(e[cr+(je*80|0)+(le<<1)>>1]<<15)+32768+((e[cr+(le*80|0)+(le<<1)>>1]|0)+Te<<14)|0,((Z(ce<<16>>16,b<<16>>16)|0)-(Z(D>>16,C<<16>>16)|0)<<1|0)>0&&(b=D>>>16&65535,o=de,k=K&65535,C=ce&65535),D=le+5|0,de=D&65535,!(de<<16>>16>=40);)le=D<<16>>16;else b=1,o=Pt,k=0;if(gt)for(Ee=k&65535,de=o<<16>>16,le=(b<<16>>16<<14)+32768|0,ce=Ge,k=1,Te=Rt,C=Rt,b=-1;;)if(K=(ae[ir+(ce<<1)>>1]|0)+Ee<<16>>16,K=(Z(K,K)|0)>>>15,D=le+(e[cr+(ce*80|0)+(ce<<1)>>1]<<12)+((e[cr+(je*80|0)+(ce<<1)>>1]|0)+(e[cr+(de*80|0)+(ce<<1)>>1]|0)<<13)|0,((Z(K<<16>>16,k<<16>>16)|0)-(Z(D>>16,b<<16>>16)|0)<<1|0)>0&&(k=D>>>16&65535,C=Te,b=K&65535),D=ce+5|0,Te=D&65535,Te<<16>>16>=40){le=k,ce=b;break}else ce=D<<16>>16;else le=1,C=Rt,ce=-1;k=Z(ce<<16>>16,E<<16>>16)|0,(k|0)==1073741824?(d[h>>2]=1,D=2147483647):D=k<<1,k=Z(le<<16>>16,r<<16>>16)|0,(k|0)==1073741824?(d[h>>2]=1,b=2147483647):b=k<<1,k=D-b|0,((k^D)&(b^D)|0)<0&&(d[h>>2]=1,k=(D>>>31)+2147483647|0),de=(k|0)>0,A=de?C:A,R=de?o:R,s=de?We:s,E=de?le:E,r=de?ce:r}if(k=je+5|0,We=k&65535,We<<16>>16>=40)break;je=k<<16>>16}if(qt=qt+1<<16>>16,qt<<16>>16>=3)break;gt=Rt,Rt=Pt,Pt=rr,rr=gt}if(o=ft+2|0,k=o&65535,k<<16>>16>=5)break;ft=o&65535}if(o=Nt+2|0,O=o&65535,O<<16>>16<4)Nt=o&65535;else{k=A,A=R;break}}o=u,E=o+80|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(E|0));switch(ce=s<<16>>16,r=e[ur+(ce<<1)>>1]|0,s=(ce*6554|0)>>>15,o=s<<16,E=ce-(((o>>16)*327680|0)>>>16)|0,E<<16>>16|0){case 1:{s=o>>12;break}case 2:{s=o>>8,E=2;break}case 3:{s=s<<20>>16|8,E=1;break}case 4:{s=s<<24>>16|128,E=2;break}default:}switch(o=u+(ce<<1)|0,r<<16>>16>0?(e[o>>1]=8191,de=32767,R=65536<<(E<<16>>16)>>>16&65535):(e[o>>1]=-8192,de=-32768,R=0),D=A<<16>>16,A=e[ur+(D<<1)>>1]|0,o=(D*6554|0)>>>15,E=o<<16,r=D-(((E>>16)*327680|0)>>>16)|0,r<<16>>16|0){case 1:{o=E>>12;break}case 2:{o=E>>8,r=2;break}case 3:{o=o<<20>>16|8,r=1;break}case 4:{o=o<<24>>16|128,r=2;break}default:}switch(E=u+(D<<1)|0,A<<16>>16>0?(e[E>>1]=8191,K=32767,R=(65536<<(r<<16>>16)>>>16)+(R&65535)&65535):(e[E>>1]=-8192,K=-32768),O=o+s|0,b=k<<16>>16,A=e[ur+(b<<1)>>1]|0,s=(b*6554|0)>>>15,o=s<<16,E=b-(((o>>16)*327680|0)>>>16)|0,E<<16>>16|0){case 1:{o=o>>12;break}case 2:{o=o>>8,E=2;break}case 3:{o=s<<20>>16|8,E=1;break}case 4:{o=s<<24>>16|128,E=2;break}default:o=s}s=u+(b<<1)|0,A<<16>>16>0?(e[s>>1]=8191,k=32767,s=(65536<<(E<<16>>16)>>>16)+(R&65535)&65535):(e[s>>1]=-8192,k=-32768,s=R),C=O+o|0,e[p>>1]=s,R=0,O=i+(0-ce<<1)|0,r=i+(0-D<<1)|0,A=i+(0-b<<1)|0;do s=Z(e[O>>1]|0,de)|0,O=O+2|0,(s|0)!=1073741824&&(mr=s<<1,!((s|0)>0&(mr|0)<0))?E=mr:(d[h>>2]=1,E=2147483647),s=Z(e[r>>1]|0,K)|0,r=r+2|0,(s|0)!=1073741824?(o=(s<<1)+E|0,(s^E|0)>0&(o^E|0)<0&&(d[h>>2]=1,o=(E>>>31)+2147483647|0)):(d[h>>2]=1,o=2147483647),E=Z(e[A>>1]|0,k)|0,A=A+2|0,(E|0)!=1073741824?(s=(E<<1)+o|0,(E^o|0)>0&(s^o|0)<0&&(d[h>>2]=1,s=(o>>>31)+2147483647|0)):(d[h>>2]=1,s=2147483647),e[f+(R<<1)>>1]=Mr(s,h)|0,R=R+1|0;while((R|0)!=40);if(s=C&65535,!hr)return he=dr,s|0;E=gr>>16,o=sr;do r=(Z(e[u+(o-sr<<1)>>1]|0,E)|0)>>15,(r|0)>32767&&(d[h>>2]=1,r=32767),f=u+(o<<1)|0,e[f>>1]=lr(e[f>>1]|0,r&65535,h)|0,o=o+1|0;while((o&65535)<<16>>16!=40);return he=dr,s|0}function Ss(r,i,o,s,u,f,p,h,E){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0;var A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0,wr=0,Hr=0,Lr=0,qr=0,Wr=0,Br=0;if(Br=he,he=he+3456|0,wr=Br+3448|0,nr=Br+3360|0,dr=Br+3368|0,Er=Br+3280|0,Ut=Br+3200|0,yr=Br,Lr=(s&65535)<<17,Wr=o<<16>>16,Hr=o<<16>>16<40,Hr){o=Lr>>16,A=Wr;do s=(Z(e[i+(A-Wr<<1)>>1]|0,o)|0)>>15,(s|0)>32767&&(d[E>>2]=1,s=32767),sr=i+(A<<1)|0,e[sr>>1]=lr(e[sr>>1]|0,s&65535,E)|0,A=A+1|0;while((A&65535)<<16>>16!=40)}Lo(i,r,dr,1,E),Ko(dr,Ut,Er,4),_o(i,Ut,yr,E),gr=nr+2|0,e[nr>>1]=0,mr=nr+4|0,e[gr>>1]=1,sr=nr+6|0,e[mr>>1]=2,e[sr>>1]=3,b=3,O=2,R=1,s=0,o=1,A=-1,C=3;do{for(ir=0,Dt=0,cr=C,ur=1,hr=2;;){if(Dt<<16>>16<40)for(Rt=ur<<16>>16,qt=ur<<16>>16<40,rr=hr<<16>>16,Pt=hr<<16>>16<40,ft=cr<<16>>16,Nt=cr<<16>>16<40,gt=Dt<<16>>16,Ge=O,Ze=R,We=o,pe=Dt;;){if((e[Er+(gt<<1)>>1]|0)>-1){if(D=e[yr+(gt*80|0)+(gt<<1)>>1]|0,qt)for(k=ae[dr+(gt<<1)>>1]|0,K=Rt,de=1,O=ur,R=ur,Te=0,Ee=-1;le=(ae[dr+(K<<1)>>1]|0)+k|0,ce=le<<16>>16,ce=(Z(ce,ce)|0)>>>15,je=(e[yr+(gt*80|0)+(K<<1)>>1]<<15)+32768+((e[yr+(K*80|0)+(K<<1)>>1]|0)+D<<14)|0,((Z(ce<<16>>16,de<<16>>16)|0)-(Z(je>>16,Ee<<16>>16)|0)<<1|0)>0&&(de=je>>>16&65535,R=O,Te=le&65535,Ee=ce&65535),je=K+5|0,O=je&65535,!(O<<16>>16>=40);)K=je<<16>>16;else de=1,R=ur,Te=0;if(Pt)for(o=Te&65535,r=R<<16>>16,D=(de<<16>>16<<14)+32768|0,K=rr,je=1,k=hr,O=hr,Ee=0,Te=-1;le=(ae[dr+(K<<1)>>1]|0)+o|0,ce=le<<16>>16,ce=(Z(ce,ce)|0)>>>15,de=D+(e[yr+(K*80|0)+(K<<1)>>1]<<12)+((e[yr+(gt*80|0)+(K<<1)>>1]|0)+(e[yr+(r*80|0)+(K<<1)>>1]|0)<<13)|0,((Z(ce<<16>>16,je<<16>>16)|0)-(Z(de>>16,Te<<16>>16)|0)<<1|0)>0&&(je=de>>>16&65535,O=k,Ee=le&65535,Te=ce&65535),de=K+5|0,k=de&65535,!(k<<16>>16>=40);)K=de<<16>>16;else je=1,O=hr,Ee=0;if(Nt)for(D=Ee&65535,k=O<<16>>16,r=R<<16>>16,ce=(je&65535)<<16|32768,le=ft,o=1,K=cr,de=cr,je=-1;Te=(ae[dr+(le<<1)>>1]|0)+D<<16>>16,Te=(Z(Te,Te)|0)>>>15,Ee=(e[yr+(le*80|0)+(le<<1)>>1]<<12)+ce+((e[yr+(r*80|0)+(le<<1)>>1]|0)+(e[yr+(k*80|0)+(le<<1)>>1]|0)+(e[yr+(gt*80|0)+(le<<1)>>1]|0)<<13)|0,((Z(Te<<16>>16,o<<16>>16)|0)-(Z(Ee>>16,je<<16>>16)|0)<<1|0)>0&&(o=Ee>>>16&65535,de=K,je=Te&65535),Ee=le+5|0,K=Ee&65535,!(K<<16>>16>=40);)le=Ee<<16>>16;else o=1,de=cr,je=-1;((Z(je<<16>>16,We<<16>>16)|0)-(Z(o<<16>>16,A<<16>>16)|0)<<1|0)>0?(e[nr>>1]=pe,e[gr>>1]=R,e[mr>>1]=O,e[sr>>1]=de,b=de,s=pe,A=je):(O=Ge,R=Ze,o=We)}else O=Ge,R=Ze,o=We;if(le=gt+5|0,pe=le&65535,pe<<16>>16>=40)break;gt=le<<16>>16,Ge=O,Ze=R,We=o}if(ir=ir+1<<16>>16,ir<<16>>16>=4)break;ft=hr,Nt=cr,hr=ur,ur=Dt,cr=ft,Dt=Nt}C=C+1<<16>>16}while(C<<16>>16<5);je=b,de=O,Ee=R,Te=s,s=u,o=s+80|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(o|0));for(r=Te,o=0,A=0,s=0;;){switch(O=r<<16>>16,C=e[Ut+(O<<1)>>1]|0,r=O*13108>>16,R=O-((r*327680|0)>>>16)|0,r=e[h+(r<<1)>>1]|0,R<<16>>16|0){case 1:{b=r<<16>>16<<3&65535;break}case 2:{b=r<<16>>16<<6&65535;break}case 3:{b=r<<16>>16<<10&65535;break}case 4:{b=((r&65535)<<10|512)&65535,R=3;break}default:b=r}if(r=u+(O<<1)|0,C<<16>>16>0?(e[r>>1]=8191,r=32767,s=(65536<<(R<<16>>16)>>>16)+(s&65535)&65535):(e[r>>1]=-8192,r=-32768),e[wr+(o<<1)>>1]=r,A=(b&65535)+(A&65535)|0,o=o+1|0,(o|0)==4){le=A;break}r=e[nr+(o<<1)>>1]|0}e[p>>1]=s,D=wr+2|0,K=wr+4|0,ce=wr+6|0,r=e[wr>>1]|0,k=0,R=i+(0-(Te<<16>>16)<<1)|0,O=i+(0-(Ee<<16>>16)<<1)|0,C=i+(0-(de<<16>>16)<<1)|0,b=i+(0-(je<<16>>16)<<1)|0;do s=Z(e[R>>1]|0,r)|0,R=R+2|0,(s|0)!=1073741824&&(qr=s<<1,!((s|0)>0&(qr|0)<0))?A=qr:(d[E>>2]=1,A=2147483647),s=Z(e[D>>1]|0,e[O>>1]|0)|0,O=O+2|0,(s|0)!=1073741824?(o=(s<<1)+A|0,(s^A|0)>0&(o^A|0)<0&&(d[E>>2]=1,o=(A>>>31)+2147483647|0)):(d[E>>2]=1,o=2147483647),s=Z(e[K>>1]|0,e[C>>1]|0)|0,C=C+2|0,(s|0)!=1073741824?(A=(s<<1)+o|0,(s^o|0)>0&(A^o|0)<0&&(d[E>>2]=1,A=(o>>>31)+2147483647|0)):(d[E>>2]=1,A=2147483647),o=Z(e[ce>>1]|0,e[b>>1]|0)|0,b=b+2|0,(o|0)!=1073741824?(s=(o<<1)+A|0,(o^A|0)>0&(s^A|0)<0&&(d[E>>2]=1,s=(A>>>31)+2147483647|0)):(d[E>>2]=1,s=2147483647),e[f+(k<<1)>>1]=Mr(s,E)|0,k=k+1|0;while((k|0)!=40);if(s=le&65535,((Wr<<16)+-2621440|0)>-1|Hr^1)return he=Br,s|0;A=Lr>>16,o=Wr;do r=(Z(e[u+(o-Wr<<1)>>1]|0,A)|0)>>15,(r|0)>32767&&(d[E>>2]=1,r=32767),f=u+(o<<1)|0,e[f>>1]=lr(e[f>>1]|0,r&65535,E)|0,o=o+1|0;while((o&65535)<<16>>16!=40);return he=Br,s|0}function Hi(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0;Nt=he,he=he+3440|0,D=Nt+3424|0,Rt=Nt+3408|0,qt=Nt+3240|0,K=Nt+3224|0,Ge=Nt+3328|0,k=Nt+3248|0,gt=Nt+24|0,ft=Nt+16|0,Pt=Nt,Ds(o,r,Ge,2,4,4,p),i1(Ge,i,k,qt,4,Rt,4,p),_o(o,k,gt,p),o1(8,4,4,Ge,gt,Rt,qt,K,p),i=s,r=i+80|0;do e[i>>1]=0,i=i+2|0;while((i|0)<(r|0));e[Pt>>1]=-1,e[ft>>1]=-1,Ze=Pt+2|0,e[Ze>>1]=-1,pe=ft+2|0,e[pe>>1]=-1,Ge=Pt+4|0,e[Ge>>1]=-1,gt=ft+4|0,e[gt>>1]=-1,qt=Pt+6|0,e[qt>>1]=-1,Rt=ft+6|0,e[Rt>>1]=-1,C=0;do{R=e[K+(C<<1)>>1]|0,i=R>>>2,E=i&65535,r=R&3,A=(e[k+(R<<1)>>1]|0)>0,R=s+(R<<1)|0,b=A&1^1,e[R>>1]=(ae[R>>1]|0)+(A?8191:57345),e[D+(C<<1)>>1]=A?32767:-32768,A=Pt+(r<<1)|0,R=e[A>>1]|0;do if(R<<16>>16>=0)if(O=ft+(r<<1)|0,h=(R<<16>>16|0)<=(i<<16>>16|0),i=Pt+((r|4)<<1)|0,(b&65535|0)==(ae[O>>1]&1|0))if(h){e[i>>1]=E;break}else{e[i>>1]=R,e[A>>1]=E,e[O>>1]=b;break}else if(h){e[i>>1]=R,e[A>>1]=E,e[O>>1]=b;break}else{e[i>>1]=E;break}else e[A>>1]=E,e[ft+(r<<1)>>1]=b;while(0);C=C+1|0}while((C|0)!=8);ce=D+2|0,le=D+4|0,Te=D+6|0,Ee=D+8|0,de=D+10|0,je=D+12|0,We=D+14|0,D=e[D>>1]|0,C=0,O=o+(0-(e[K>>1]|0)<<1)|0,R=o+(0-(e[K+2>>1]|0)<<1)|0,A=o+(0-(e[K+4>>1]|0)<<1)|0,E=o+(0-(e[K+6>>1]|0)<<1)|0,i=o+(0-(e[K+8>>1]|0)<<1)|0,r=o+(0-(e[K+10>>1]|0)<<1)|0,h=o+(0-(e[K+12>>1]|0)<<1)|0,o=o+(0-(e[K+14>>1]|0)<<1)|0;do b=Z(e[O>>1]|0,D)|0,O=O+2|0,(b|0)!=1073741824&&(rr=b<<1,!((b|0)>0&(rr|0)<0))?b=rr:(d[p>>2]=1,b=2147483647),k=Z(e[ce>>1]|0,e[R>>1]|0)|0,R=R+2|0,(k|0)!=1073741824?(s=(k<<1)+b|0,(k^b|0)>0&(s^b|0)<0?(d[p>>2]=1,b=(b>>>31)+2147483647|0):b=s):(d[p>>2]=1,b=2147483647),k=Z(e[le>>1]|0,e[A>>1]|0)|0,A=A+2|0,(k|0)!=1073741824?(s=(k<<1)+b|0,(k^b|0)>0&(s^b|0)<0&&(d[p>>2]=1,s=(b>>>31)+2147483647|0)):(d[p>>2]=1,s=2147483647),k=Z(e[Te>>1]|0,e[E>>1]|0)|0,E=E+2|0,(k|0)!=1073741824?(b=(k<<1)+s|0,(k^s|0)>0&(b^s|0)<0&&(d[p>>2]=1,b=(s>>>31)+2147483647|0)):(d[p>>2]=1,b=2147483647),k=Z(e[Ee>>1]|0,e[i>>1]|0)|0,i=i+2|0,(k|0)!=1073741824?(s=(k<<1)+b|0,(k^b|0)>0&(s^b|0)<0&&(d[p>>2]=1,s=(b>>>31)+2147483647|0)):(d[p>>2]=1,s=2147483647),k=Z(e[de>>1]|0,e[r>>1]|0)|0,r=r+2|0,(k|0)!=1073741824?(b=(k<<1)+s|0,(k^s|0)>0&(b^s|0)<0&&(d[p>>2]=1,b=(s>>>31)+2147483647|0)):(d[p>>2]=1,b=2147483647),k=Z(e[je>>1]|0,e[h>>1]|0)|0,h=h+2|0,(k|0)!=1073741824?(s=(k<<1)+b|0,(k^b|0)>0&(s^b|0)<0&&(d[p>>2]=1,s=(b>>>31)+2147483647|0)):(d[p>>2]=1,s=2147483647),k=Z(e[We>>1]|0,e[o>>1]|0)|0,o=o+2|0,(k|0)!=1073741824?(b=(k<<1)+s|0,(k^s|0)>0&(b^s|0)<0&&(d[p>>2]=1,b=(s>>>31)+2147483647|0)):(d[p>>2]=1,b=2147483647),e[u+(C<<1)>>1]=Mr(b,p)|0,C=C+1|0;while((C|0)!=40);if(e[f>>1]=e[ft>>1]|0,e[f+2>>1]=e[pe>>1]|0,e[f+4>>1]=e[gt>>1]|0,e[f+6>>1]=e[Rt>>1]|0,r=e[Pt>>1]|0,i=e[Pt+8>>1]|0,h=e[Ze>>1]|0,e[f+8>>1]=i<<1&2|r&1|h<<2&4|(((i>>1)*327680|0)+(r>>>1<<16)+(Z(h>>1,1638400)|0)|0)>>>13&65528,h=e[Ge>>1]|0,r=e[Pt+12>>1]|0,i=e[Pt+10>>1]|0,e[f+10>>1]=r<<1&2|h&1|i<<2&4|(((r>>1)*327680|0)+(h>>>1<<16)+(Z(i>>1,1638400)|0)|0)>>>13&65528,i=e[Pt+14>>1]|0,h=e[qt>>1]|0,r=h<<16>>16>>>1,!(i&2)){u=r,p=i<<16>>16,ft=p>>1,ft=ft*327680|0,u=u<<16,ft=u+ft|0,ft=ft<<5,ft=ft>>16,ft=ft|12,ft=ft*2622|0,ft=ft>>>16,u=h&65535,u=u&1,p=p<<17,p=p&131072,ft=ft<<18,p=ft|p,p=p>>>16,u=p|u,u=u&65535,f=f+12|0,e[f>>1]=u,he=Nt;return}u=4-(r<<16>>16)|0,p=i<<16>>16,ft=p>>1,ft=ft*327680|0,u=u<<16,ft=u+ft|0,ft=ft<<5,ft=ft>>16,ft=ft|12,ft=ft*2622|0,ft=ft>>>16,u=h&65535,u=u&1,p=p<<17,p=p&131072,ft=ft<<18,p=ft|p,p=p>>>16,u=p|u,u=u&65535,f=f+12|0,e[f>>1]=u,he=Nt}function ji(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0;if(D=o<<16>>16,f=0-D|0,o=u+(f<<2)|0,u=((D-(s<<16>>16)|0)>>>2)+1&65535,!(u<<16>>16<=0)){if(D=i<<16>>16>>>1&65535,!(D<<16>>16)){for(;d[o>>2]=0,d[o+4>>2]=0,d[o+8>>2]=0,d[o+12>>2]=0,u<<16>>16>1;)o=o+16|0,u=u+-1<<16>>16;return}for(k=r+(f<<1)|0;;){for(A=k+4|0,O=e[A>>1]|0,h=e[k>>1]|0,R=O,E=D,C=r,b=k,k=k+8|0,p=0,f=0,s=0,i=0;ce=e[C>>1]|0,K=(Z(h<<16>>16,ce)|0)+p|0,p=e[b+2>>1]|0,f=(Z(p,ce)|0)+f|0,h=(Z(R<<16>>16,ce)|0)+s|0,s=e[b+6>>1]|0,R=(Z(s,ce)|0)+i|0,i=e[C+2>>1]|0,p=K+(Z(i,p)|0)|0,f=f+(Z(O<<16>>16,i)|0)|0,A=A+4|0,s=h+(Z(i,s)|0)|0,h=e[A>>1]|0,i=R+(Z(h<<16>>16,i)|0)|0,E=E+-1<<16>>16,!!(E<<16>>16);)ce=O,R=h,O=e[b+8>>1]|0,C=C+4|0,b=b+4|0,h=ce;if(d[o>>2]=p<<1,d[o+4>>2]=f<<1,d[o+8>>2]=s<<1,d[o+12>>2]=i<<1,u<<16>>16<=1)break;o=o+16|0,u=u+-1<<16>>16}}}function Ns(r,i,o,s,u,f,p,h,E){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0;var A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0;Ee=he,he=he+16|0,le=Ee+2|0,Te=Ee;do if(u<<16>>16>0){for(k=s<<16>>16,K=0,O=0,s=0,R=0,D=0;;)if(A=e[r+(K<<1)>>1]|0,C=A<<16>>16,O=(Z(C,C)|0)+O|0,C=e[i+(K<<1)>>1]|0,s=(Z(C,C)|0)+s|0,R=(Z(e[o+(K<<1)>>1]|0,C)|0)+R|0,C=Z(C,k)|0,(C|0)==1073741824?(d[E>>2]=1,b=2147483647):b=C<<1,C=b<<1,C=(Rr(A,Mr((C>>1|0)==(b|0)?C:b>>31^2147483647,E)|0,E)|0)<<16>>16,C=Z(C,C)|0,(C|0)!=1073741824?(A=(C<<1)+D|0,(C^D|0)>0&(A^D|0)<0&&(d[E>>2]=1,A=(D>>>31)+2147483647|0)):(d[E>>2]=1,A=2147483647),K=K+1|0,(K&65535)<<16>>16==u<<16>>16){D=A;break}else D=A;if(O=O<<1,s=s<<1,R=R<<1,(O|0)>=0){if((O|0)<400){A=D,ce=14;break}}else d[E>>2]=1,O=2147483647;b=jr(O)|0,C=b<<16>>16,b<<16>>16>0?(A=O<<C,(A>>C|0)!=(O|0)&&(A=O>>31^2147483647)):(A=0-C<<16,(A|0)<2031616?A=O>>(A>>16):A=0),e[f>>1]=A>>>16,O=s,k=R,A=D,s=15-(b&65535)&65535}else s=0,R=0,A=0,ce=14;while(0);if((ce|0)==14&&(e[f>>1]=0,O=s,k=R,s=-15),e[p>>1]=s,(O|0)<0&&(d[E>>2]=1,O=2147483647),C=jr(O)|0,R=C<<16>>16,C<<16>>16>0?(s=O<<R,(s>>R|0)!=(O|0)&&(s=O>>31^2147483647)):(s=0-R<<16,(s|0)<2031616?s=O>>(s>>16):s=0),e[f+2>>1]=s>>>16,e[p+2>>1]=15-(C&65535),O=jr(k)|0,R=O<<16>>16,O<<16>>16>0?(s=k<<R,(s>>R|0)!=(k|0)&&(s=k>>31^2147483647)):(s=0-R<<16,(s|0)<2031616?s=k>>(s>>16):s=0),e[f+4>>1]=s>>>16,e[p+4>>1]=2-(O&65535),O=jr(A)|0,s=O<<16>>16,O<<16>>16>0?(R=A<<s,(R>>s|0)!=(A|0)&&(R=A>>31^2147483647)):(s=0-s<<16,(s|0)<2031616?R=A>>(s>>16):R=0),s=R>>>16&65535,A=15-(O&65535)&65535,e[f+6>>1]=s,e[p+6>>1]=A,(R>>16|0)<=0){E=0,e[h>>1]=E,he=Ee;return}if(R=e[f>>1]|0,!(R<<16>>16)){E=0,e[h>>1]=E,he=Ee;return}s=an(Xr(R,1,E)|0,s)|0,s=(s&65535)<<16,R=((Rr(A,e[p>>1]|0,E)|0)&65535)+3|0,A=R&65535,R=R<<16>>16,A<<16>>16>0?A=A<<16>>16<31?s>>R:0:(p=0-R<<16>>16,A=s<<p,A=(A>>p|0)==(s|0)?A:s>>31^2147483647),co(A,le,Te,E),Te=n0((ae[le>>1]|0)+65509&65535,e[Te>>1]|0,E)|0,le=Te<<13,E=Mr((le>>13|0)==(Te|0)?le:Te>>31^2147483647,E)|0,e[h>>1]=E,he=Ee}function ni(r,i,o,s,u,f,p,h,E,A,R){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0;var O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0;switch(Ee=he,he=he+80|0,ce=Ee,e[p>>1]=e[f>>1]|0,e[h>>1]=e[f+2>>1]|0,b=e[f+4>>1]|0,b<<16>>16==-32768?b=32767:b=0-(b&65535)&65535,e[p+2>>1]=b,e[h+2>>1]=(ae[f+6>>1]|0)+1,r|0){case 0:case 5:{K=0,C=0,O=0,D=0;break}default:K=0,C=1,O=1,D=1}for(;;)if(k=(e[u+(K<<1)>>1]|0)>>>3,e[ce+(K<<1)>>1]=k,k=k<<16>>16,b=Z(k,k)|0,(b|0)!=1073741824?(f=(b<<1)+C|0,(b^C|0)>0&(f^C|0)<0?(d[R>>2]=1,C=(C>>>31)+2147483647|0):C=f):(d[R>>2]=1,C=2147483647),b=Z(e[i+(K<<1)>>1]|0,k)|0,(b|0)!=1073741824?(f=(b<<1)+O|0,(b^O|0)>0&(f^O|0)<0?(d[R>>2]=1,O=(O>>>31)+2147483647|0):O=f):(d[R>>2]=1,O=2147483647),b=Z(e[s+(K<<1)>>1]|0,k)|0,(b|0)!=1073741824?(f=(b<<1)+D|0,(b^D|0)>0&(f^D|0)<0&&(d[R>>2]=1,f=(D>>>31)+2147483647|0)):(d[R>>2]=1,f=2147483647),K=K+1|0,(K|0)==40){s=f,k=O;break}else D=f;switch(O=jr(C)|0,f=O<<16>>16,O<<16>>16>0?(b=C<<f,(b>>f|0)!=(C|0)&&(b=C>>31^2147483647)):(b=0-f<<16,(b|0)<2031616?b=C>>(b>>16):b=0),u=p+4|0,e[u>>1]=b>>>16,i=h+4|0,e[i>>1]=-3-(O&65535),C=jr(k)|0,f=C<<16>>16,C<<16>>16>0?(b=k<<f,(b>>f|0)!=(k|0)&&(b=k>>31^2147483647)):(b=0-f<<16,(b|0)<2031616?b=k>>(b>>16):b=0),f=b>>>16,e[p+6>>1]=(f|0)==32768?32767:0-f&65535,e[h+6>>1]=7-(C&65535),C=jr(s)|0,f=C<<16>>16,C<<16>>16>0?(b=s<<f,(b>>f|0)!=(s|0)&&(b=s>>31^2147483647)):(b=0-f<<16,(b|0)<2031616?b=s>>(b>>16):b=0),e[p+8>>1]=b>>>16,e[h+8>>1]=7-(C&65535),r|0){case 0:case 5:{b=0,O=0;break}default:{he=Ee;return}}do O=(Z(e[ce+(b<<1)>>1]|0,e[o+(b<<1)>>1]|0)|0)+O|0,b=b+1|0;while((b|0)!=40);if(f=O<<1,b=jr(f)|0,C=b<<16>>16,b<<16>>16>0?(O=f<<C,(O>>C|0)==(f|0)?(le=O,Te=40):(le=f>>31^2147483647,Te=40)):(O=0-C<<16,(O|0)<2031616&&(le=f>>(O>>16),Te=40)),(Te|0)==40&&(le>>16|0)>=1){R=Xr(le>>>16&65535,1,R)|0,e[E>>1]=an(R,e[u>>1]|0)|0,e[A>>1]=65528-(b&65535)-(ae[i>>1]|0),he=Ee;return}e[E>>1]=0,e[A>>1]=0,he=Ee}function Wi(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;f=0,u=0;do p=e[r+(f<<1)>>1]|0,u=(Z(p,p)|0)+u|0,f=f+1|0;while((f|0)!=40);(u|0)<0&&(d[s>>2]=1,u=2147483647),s=jr(u)|0,r=s<<16>>16,s<<16>>16>0?(f=u<<r,(f>>r|0)==(u|0)?u=f:u=u>>31^2147483647):(r=0-r<<16,(r|0)<2031616?u=u>>(r>>16):u=0),e[o>>1]=u>>>16,e[i>>1]=16-(s&65535)}function Ms(r,i,o,s,u,f,p,h,E,A,R,O,C){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0;var b=0,k=0,D=0,K=0;if(k=he,he=he+16|0,b=k,A>>>0<2){p=Rs(R,r,i,o,s,p,h,b,d[O+76>>2]|0,C)|0,C=d[E>>2]|0,e[C>>1]=p,p=e[b>>1]|0,d[E>>2]=C+4,e[C+2>>1]=p,he=k;return}switch(A|0){case 2:{p=ws(r,i,o,s,p,h,b,C)|0,C=d[E>>2]|0,e[C>>1]=p,p=e[b>>1]|0,d[E>>2]=C+4,e[C+2>>1]=p,he=k;return}case 3:{p=Os(r,i,o,s,p,h,b,C)|0,C=d[E>>2]|0,e[C>>1]=p,p=e[b>>1]|0,d[E>>2]=C+4,e[C+2>>1]=p,he=k;return}default:{if((A&-2|0)==4){p=Ss(r,i,o,s,p,h,b,d[O+36>>2]|0,C)|0,C=d[E>>2]|0,e[C>>1]=p,p=e[b>>1]|0,d[E>>2]=C+4,e[C+2>>1]=p,he=k;return}if((A|0)!=6){if(R=u<<16>>16,R=(R<<17>>17|0)==(R|0)?R<<1:R>>>15^32767,u=o<<16>>16<40,!u){Fi(r,f,i,p,h,d[E>>2]|0,d[O+36>>2]|0,C),d[E>>2]=(d[E>>2]|0)+20,he=k;return}b=o<<16>>16,A=R<<16>>16,s=b;do K=(Z(e[i+(s-b<<1)>>1]|0,A)|0)>>>15&65535,D=i+(s<<1)|0,e[D>>1]=lr(e[D>>1]|0,K,C)|0,s=s+1|0;while((s&65535)<<16>>16!=40);if(Fi(r,f,i,p,h,d[E>>2]|0,d[O+36>>2]|0,C),d[E>>2]=(d[E>>2]|0)+20,!u){he=k;return}u=o<<16>>16,A=R<<16>>16,b=u;do s=(Z(e[p+(b-u<<1)>>1]|0,A)|0)>>15,(s|0)>32767&&(d[C>>2]=1,s=32767),K=p+(b<<1)|0,e[K>>1]=lr(e[K>>1]|0,s&65535,C)|0,b=b+1|0;while((b&65535)<<16>>16!=40);he=k;return}if(O=s<<16>>16,O=(O<<17>>17|0)==(O|0)?O<<1:O>>>15^32767,R=o<<16>>16<40,!R){Hi(r,f,i,p,h,d[E>>2]|0,C),d[E>>2]=(d[E>>2]|0)+14,he=k;return}b=o<<16>>16,A=O<<16>>16,s=b;do u=(Z(e[i+(s-b<<1)>>1]|0,A)|0)>>15,(u|0)>32767&&(d[C>>2]=1,u=32767),K=i+(s<<1)|0,e[K>>1]=lr(e[K>>1]|0,u&65535,C)|0,s=s+1|0;while((s&65535)<<16>>16!=40);if(Hi(r,f,i,p,h,d[E>>2]|0,C),d[E>>2]=(d[E>>2]|0)+14,!R){he=k;return}u=o<<16>>16,A=O<<16>>16,b=u;do s=(Z(e[p+(b-u<<1)>>1]|0,A)|0)>>15,(s|0)>32767&&(d[C>>2]=1,s=32767),K=p+(b<<1)|0,e[K>>1]=lr(e[K>>1]|0,s&65535,C)|0,b=b+1|0;while((b&65535)<<16>>16!=40);he=k;return}}}function ks(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(4)|0,!i)?(r=-1,r|0):(l0(i)|0)<<16>>16?(e1(i),Zr(i),r=-1,r|0):($i(d[i>>2]|0)|0,d[r>>2]=i,r=0,r|0)}function Ls(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(e1(i),Zr(d[r>>2]|0),d[r>>2]=0))}function zi(r){return r=r|0,r?($i(d[r>>2]|0)|0,r=0,r|0):(r=-1,r|0)}function Ps(r,i,o,s,u,f,p,h,E,A,R,O,C,b,k,D,K,ce,le,Te){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0,b=b|0,k=k|0,D=D|0,K=K|0,ce=ce|0,le=le|0,Te=Te|0;var Ee=0,de=0,je=0,We=0;for(de=he,he=he+16|0,We=de+2|0,je=de,e[C>>1]=u0(d[r>>2]|0,o,u,p,E,f,40,s,b,je,We,Te)|0,r=e[We>>1]|0,s=d[K>>2]|0,d[K>>2]=s+2,e[s>>1]=r,Uo(p,e[C>>1]|0,e[b>>1]|0,40,e[je>>1]|0,Te),qo(p,f,O,40),e[k>>1]=r0(o,E,O,D,40,Te)|0,e[ce>>1]=32767,A<<16>>16&&(Ee=e[k>>1]|0,Ee<<16>>16>15565)?Ee=k0(i,Ee,Te)|0:Ee=0,o>>>0<2?(We=e[k>>1]|0,e[k>>1]=We<<16>>16>13926?13926:We,Ee<<16>>16&&(e[ce>>1]=15565)):(Ee<<16>>16&&(e[ce>>1]=15565,e[k>>1]=15565),(o|0)==7&&(je=n1(7,e[ce>>1]|0,k,0,0,le,Te)|0,We=d[K>>2]|0,d[K>>2]=We+2,e[We>>1]=je)),C=e[k>>1]|0,Ee=0;je=Z(e[O>>1]|0,C)|0,e[R>>1]=(ae[E>>1]|0)-(je>>>14),je=(Z(e[p>>1]|0,C)|0)>>>14,We=h+(Ee<<1)|0,e[We>>1]=(ae[We>>1]|0)-je,Ee=Ee+1|0,(Ee|0)!=40;)p=p+2|0,E=E+2|0,R=R+2|0,O=O+2|0;he=de}function xs(r,i){r=r|0,i=i|0;var o=0,s=0,u=0,f=0;return f=he,he=he+16|0,u=f,!r||(d[r>>2]=0,o=cn(2532)|0,d[u>>2]=o,!o)?(r=-1,he=f,r|0):(f1(o+2392|0),d[o+2188>>2]=0,d[(d[u>>2]|0)+2192>>2]=0,d[(d[u>>2]|0)+2196>>2]=0,d[(d[u>>2]|0)+2200>>2]=0,d[(d[u>>2]|0)+2204>>2]=0,d[(d[u>>2]|0)+2208>>2]=0,d[(d[u>>2]|0)+2212>>2]=0,d[(d[u>>2]|0)+2220>>2]=0,s=d[u>>2]|0,d[s+2216>>2]=i,d[s+2528>>2]=0,o=s,!((ks(s+2196|0)|0)<<16>>16)&&!((j0(s+2192|0)|0)<<16>>16)&&!((Zs(s+2200|0)|0)<<16>>16)&&!((f0(s+2204|0)|0)<<16>>16)&&!((O0(s+2208|0)|0)<<16>>16)&&!((P0(s+2212|0)|0)<<16>>16)&&!((Bs(s+2220|0,d[s+2432>>2]|0)|0)<<16>>16)&&!((i0(s+2188|0)|0)<<16>>16)?(Vi(s)|0,d[r>>2]=o,r=0,he=f,r|0):(oi(u),r=-1,he=f,r|0))}function oi(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(s0(i+2188|0),W0((d[r>>2]|0)+2192|0),Qs((d[r>>2]|0)+2200|0),Ls((d[r>>2]|0)+2196|0),p0((d[r>>2]|0)+2204|0),N0((d[r>>2]|0)+2208|0),U0((d[r>>2]|0)+2212|0),Fs((d[r>>2]|0)+2220|0),Zr(d[r>>2]|0),d[r>>2]=0))}function Vi(r){r=r|0;var i=0,o=0,s=0,u=0;if(!r)return u=-1,u|0;d[r+652>>2]=r+320,d[r+640>>2]=r+240,d[r+644>>2]=r+160,d[r+648>>2]=r+80,d[r+1264>>2]=r+942,d[r+1912>>2]=r+1590,s=r+1938|0,d[r+2020>>2]=s,d[r+2384>>2]=r+2304,i=r+2028|0,d[r+2024>>2]=r+2108,d[r+2528>>2]=0,ro(r|0,0,640)|0,ro(r+1282|0,0,308)|0,ro(r+656|0,0,286)|0,o=r+2224|0,u=s+80|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(u|0));s=i,u=s+80|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(u|0));i=r+1268|0,s=o,u=s+80|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(u|0));return e[i>>1]=40,e[r+1270>>1]=40,e[r+1272>>1]=40,e[r+1274>>1]=40,e[r+1276>>1]=40,a0(d[r+2188>>2]|0)|0,m1(d[r+2192>>2]|0)|0,zi(d[r+2196>>2]|0)|0,$s(d[r+2200>>2]|0)|0,d0(d[r+2204>>2]|0)|0,S0(d[r+2208>>2]|0)|0,x0(d[r+2212>>2]|0)|0,Gs(d[r+2220>>2]|0,d[r+2432>>2]|0)|0,e[r+2388>>1]=0,u=0,u|0}function Us(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0,wr=0,Hr=0,Lr=0,qr=0,Wr=0,Br=0,Qr=0,zr=0,ln=0,Vr=0,tn=0,un=0,on=0,Kr=0,hn=0,Gn=0,qn=0,En=0,pn=0,fn=0,Ur=0;if(Ur=he,he=he+1184|0,dr=Ur,R=Ur+1096|0,O=Ur+1008|0,E=Ur+904|0,hn=Ur+928|0,Gn=Ur+824|0,Ut=Ur+744|0,En=Ur+664|0,pn=Ur+584|0,Hr=Ur+328|0,un=Ur+504|0,on=Ur+424|0,qn=Ur+344|0,fn=Ur+248|0,wr=Ur+168|0,zr=Ur+88|0,Vr=Ur+68|0,tn=Ur+48|0,ln=Ur+28|0,Kr=Ur+24|0,Br=Ur+22|0,qr=Ur+20|0,nr=Ur+16|0,Er=Ur+12|0,yr=Ur+10|0,Wr=Ur+8|0,Lr=Ur+6|0,Qr=Ur+4|0,d[dr>>2]=s,sr=r+2528|0,p=r+652|0,Tn(d[p>>2]|0,o|0,320)|0,d[u>>2]=i,A=r+2216|0,d[A>>2]|0?(s=B0(d[r+2212>>2]|0,d[p>>2]|0,sr)|0,mr=r+2220|0,o=mr,s=Ws(d[mr>>2]|0,s,u,sr)|0):(o=r+2220|0,s=0),mr=r+2392|0,c0(d[r+2188>>2]|0,i,d[r+644>>2]|0,d[r+648>>2]|0,R,mr,sr),h=r+2192|0,z0(d[h>>2]|0,i,d[u>>2]|0,R,O,E,dr,sr),js(d[o>>2]|0,E,d[p>>2]|0,sr),(d[u>>2]|0)==8){Hs(d[o>>2]|0,s,d[(d[h>>2]|0)+40>>2]|0,(d[r+2200>>2]|0)+32|0,dr,sr),ro(r+1282|0,0,308)|0,p=r+2244|0,b=p+20|0;do e[p>>1]=0,p=p+2|0;while((p|0)<(b|0));p=r+2284|0,b=p+20|0;do e[p>>1]=0,p=p+2|0;while((p|0)<(b|0));p=d[r+2020>>2]|0,b=p+80|0;do e[p>>1]=0,p=p+2|0;while((p|0)<(b|0));p=r+2028|0,b=p+80|0;do e[p>>1]=0,p=p+2|0;while((p|0)<(b|0));m1(d[h>>2]|0)|0,p=d[h>>2]|0,o=E,b=p+20|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));p=(d[h>>2]|0)+20|0,o=E,b=p+20|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));zi(d[r+2196>>2]|0)|0,e[r+2388>>1]=0,gr=0}else gr=M0(d[r+2208>>2]|0,d[h>>2]|0,sr)|0;if(cr=r+640|0,h=r+2264|0,p=r+1264|0,o=r+2204|0,s=r+2212|0,ur=r+1268|0,hr=r+1278|0,ui(i,2842,2862,2882,R,0,d[cr>>2]|0,h,d[p>>2]|0,sr),i>>>0>1?(ai(d[o>>2]|0,d[s>>2]|0,i,d[p>>2]|0,nr,ur,hr,0,d[A>>2]|0,sr),ui(i,2842,2862,2882,R,80,d[cr>>2]|0,h,d[p>>2]|0,sr),ai(d[o>>2]|0,d[s>>2]|0,i,(d[p>>2]|0)+160|0,nr+2|0,ur,hr,1,d[A>>2]|0,sr)):(ui(i,2842,2862,2882,R,80,d[cr>>2]|0,h,d[p>>2]|0,sr),ai(d[o>>2]|0,d[s>>2]|0,i,d[p>>2]|0,nr,ur,hr,1,d[A>>2]|0,sr),e[nr+2>>1]=e[nr>>1]|0),d[A>>2]|0&&D0(d[s>>2]|0,nr,sr),(d[u>>2]|0)==8)return pn=r+656|0,fn=r+976|0,Tn(pn|0,fn|0,286)|0,fn=r+320|0,Tn(r|0,fn|0,320)|0,he=Ur,0;for(je=r+2224|0,We=r+2244|0,Ze=r+2284|0,pe=r+2388|0,Ge=r+2020|0,gt=r+1916|0,Rt=r+1912|0,qt=r+2024|0,rr=r+2384|0,Pt=r+2196|0,ft=r+2208|0,Nt=r+2464|0,ir=r+2200|0,Dt=r+2224|0,Te=r+2244|0,Ee=r+1270|0,de=r+1280|0,le=0,A=0,E=0,D=0,K=0,h=0,ce=-1;;){C=ce,ce=ce+1<<16>>16,D=1-(D<<16>>16)|0,s=D&65535,k=(D&65535|0)!=0,o=d[u>>2]|0,p=(o|0)==0;do if(k)if(p){p=Vr,o=je,b=p+20|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));p=tn,o=We,b=p+20|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));p=ln,o=Ze,b=p+20|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));e[Kr>>1]=e[pe>>1]|0,i=(d[cr>>2]|0)+(le<<1)|0,p=20;break}else{i=(d[cr>>2]|0)+(le<<1)|0,p=19;break}else i=(d[cr>>2]|0)+(le<<1)|0,p?p=20:p=19;while(0);if((p|0)==19)fi(o,2842,2862,2882,R,O,i,Ze,Te,d[Ge>>2]|0,gt,(d[Rt>>2]|0)+(le<<1)|0,d[qt>>2]|0,hn,un,d[rr>>2]|0);else if((p|0)==20&&(fi(0,2842,2862,2882,R,O,i,Ze,tn,d[Ge>>2]|0,gt,(d[Rt>>2]|0)+(le<<1)|0,d[qt>>2]|0,hn,un,d[rr>>2]|0),k)){p=zr,o=d[qt>>2]|0,b=p+80|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0))}p=on,o=un,b=p+80|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));switch(Ps(d[Pt>>2]|0,d[ft>>2]|0,d[u>>2]|0,K,nr,d[qt>>2]|0,(d[Rt>>2]|0)+(le<<1)|0,on,hn,gr,Gn,En,Er,yr,Wr,Hr,dr,Qr,d[Nt>>2]|0,sr),C<<16>>16){case-1:{(e[hr>>1]|0)>0&&(e[Ee>>1]=e[Er>>1]|0);break}case 2:{(e[de>>1]|0)>0&&(e[ur>>1]=e[Er>>1]|0);break}default:}Ms(Gn,d[qt>>2]|0,e[Er>>1]|0,e[pe>>1]|0,e[Wr>>1]|0,on,Ut,pn,dr,d[u>>2]|0,ce,mr,sr),e0(d[ir>>2]|0,d[u>>2]|0,un,(d[Rt>>2]|0)+(le<<1)|0,Ut,hn,Gn,En,pn,Hr,s,e[Qr>>1]|0,Br,qr,Wr,Lr,dr,mr,sr),L0(d[ft>>2]|0,e[Wr>>1]|0,sr),i=d[u>>2]|0;do if(i)Jo(d[cr>>2]|0,i,K,e[Wr>>1]|0,e[Lr>>1]|0,O,f,hn,Ut,En,pn,Dt,Ze,Te,d[Rt>>2]|0,pe,sr);else if(k){p=qn,o=hn,b=p+80|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));p=fn,o=pn,b=p+80|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));p=wr,o=Ut,b=p+80|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));E=e[Er>>1]|0,A=e[yr>>1]|0,Jo(d[cr>>2]|0,0,K,e[Wr>>1]|0,e[Lr>>1]|0,O,f,hn,Ut,En,pn,Vr,Ze,tn,d[Rt>>2]|0,pe,sr),e[pe>>1]=e[Kr>>1]|0,h=K;break}else{p=Ze,o=ln,b=p+20|0;do e[p>>1]=e[o>>1]|0,p=p+2|0,o=o+2|0;while((p|0)<(b|0));k=h<<16>>16,Uo((d[Rt>>2]|0)+(k<<1)|0,E,A,40,1,sr),qo((d[Rt>>2]|0)+(k<<1)|0,zr,En,40),Jo(d[cr>>2]|0,d[u>>2]|0,h,e[Br>>1]|0,e[qr>>1]|0,O+-22|0,f,qn,wr,En,fn,Dt,Ze,Te,d[Rt>>2]|0,Kr,sr),fi(d[u>>2]|0,2842,2862,2882,R,O,(d[cr>>2]|0)+(le<<1)|0,Ze,Te,d[Ge>>2]|0,gt,(d[Rt>>2]|0)+(le<<1)|0,d[qt>>2]|0,hn,un,d[rr>>2]|0),Uo((d[Rt>>2]|0)+(le<<1)|0,e[Er>>1]|0,e[yr>>1]|0,40,1,sr),qo((d[Rt>>2]|0)+(le<<1)|0,d[qt>>2]|0,En,40),Jo(d[cr>>2]|0,d[u>>2]|0,K,e[Wr>>1]|0,e[Lr>>1]|0,O,f,hn,Ut,En,pn,Dt,Ze,Te,d[Rt>>2]|0,pe,sr);break}while(0);if(i=le+40|0,K=i&65535,K<<16>>16>=160)break;le=i<<16>>16,R=R+22|0,O=O+22|0}return Tn(r+1282|0,r+1602|0,308)|0,pn=r+656|0,fn=r+976|0,Tn(pn|0,fn|0,286)|0,fn=r+320|0,Tn(r|0,fn|0,320)|0,he=Ur,0}function qo(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0;if(b=s<<16>>16,s<<16>>16>1)C=1;else return;for(;;){if(u=e[r>>1]|0,h=i+(C+-1<<1)|0,s=Z(e[i+(C<<1)>>1]|0,u)|0,A=e[h>>1]|0,u=Z(A<<16>>16,u)|0,p=(C+131071|0)>>>1,E=p&65535,f=e[r+2>>1]|0,!(E<<16>>16))i=h,p=A;else{R=(p<<1)+131070&131070,O=C-R|0,p=r;do D=(Z(A<<16>>16,f)|0)+s|0,k=p,p=p+4|0,s=e[h+-2>>1]|0,f=(Z(s,f)|0)+u|0,u=e[p>>1]|0,h=h+-4|0,s=D+(Z(u,s)|0)|0,A=e[h>>1]|0,u=f+(Z(A<<16>>16,u)|0)|0,E=E+-1<<16>>16,f=e[k+6>>1]|0;while(E<<16>>16);p=i+(O+-3<<1)|0,r=r+(R+2<<1)|0,i=p,p=e[p>>1]|0}if(s=(Z(p<<16>>16,f)|0)+s|0,e[o>>1]=u>>>12,e[o+2>>1]=s>>>12,s=(C<<16)+131072>>16,(s|0)<(b|0))o=o+4|0,r=r+(1-C<<1)|0,C=s;else break}}function _o(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0;for(We=he,he=he+80|0,je=We,p=20,f=r,u=1;de=e[f>>1]|0,de=(Z(de,de)|0)+u|0,u=e[f+2>>1]|0,u=de+(Z(u,u)|0)|0,p=p+-1<<16>>16,p<<16>>16;)f=f+4|0;if(u=u<<1,(u|0)<0)for(f=20,u=r,s=je;;)if(e[s>>1]=(e[u>>1]|0)>>>1,e[s+2>>1]=(e[u+2>>1]|0)>>>1,f=f+-1<<16>>16,f<<16>>16)u=u+4|0,s=s+4|0;else{de=je;break}else for(u=eo(u>>1,s)|0,(u|0)<16777215?u=((u>>9)*32440|0)>>>15<<16>>16:u=32440,p=20,f=r,s=je;;)if(e[s>>1]=((Z(e[f>>1]|0,u)|0)+32|0)>>>6,e[s+2>>1]=((Z(e[f+2>>1]|0,u)|0)+32|0)>>>6,p=p+-1<<16>>16,p<<16>>16)f=f+4|0,s=s+4|0;else{de=je;break}for(p=20,f=de,s=o+3198|0,u=0;Ee=e[f>>1]|0,Ee=(Z(Ee,Ee)|0)+u|0,e[s>>1]=(Ee+16384|0)>>>15,Te=e[f+2>>1]|0,u=(Z(Te,Te)|0)+Ee|0,e[s+-82>>1]=(u+16384|0)>>>15,p=p+-1<<16>>16,p<<16>>16;)f=f+4|0,s=s+-164|0;for(Ee=i+78|0,Te=1;;){if(u=39-Te|0,r=o+3120+(u<<1)|0,s=o+(u*80|0)+78|0,u=i+(u<<1)|0,E=je+(Te<<1)|0,f=65575-Te|0,h=f&65535,p=e[de>>1]|0,!(h<<16>>16))h=Ee,f=0;else{for(D=f+65535&65535,ce=D*41|0,le=(Z(Te,-40)|0)-ce|0,K=0-Te|0,ce=K-ce|0,K=K-D|0,k=Te+D|0,b=e[E>>1]|0,O=de,C=Ee,A=o+((38-Te|0)*80|0)+78|0,f=0,R=0;E=E+2|0,f=(Z(b<<16>>16,p)|0)+f|0,O=O+2|0,b=e[E>>1]|0,R=(Z(b<<16>>16,p)|0)+R|0,pe=u,u=u+-2|0,p=e[u>>1]|0,Ze=e[C>>1]<<1,pe=(Z((Z(Ze,e[pe>>1]|0)|0)>>16,(f<<1)+32768>>16)|0)>>>15&65535,e[s>>1]=pe,e[r>>1]=pe,p=(Z((Z(Ze,p)|0)>>16,(R<<1)+32768>>16)|0)>>>15&65535,e[r+-2>>1]=p,e[A>>1]=p,h=h+-1<<16>>16,p=e[O>>1]|0,h<<16>>16;)C=C+-2|0,r=r+-82|0,s=s+-82|0,A=A+-82|0;E=je+(k+1<<1)|0,h=i+(38-D<<1)|0,u=i+(K+38<<1)|0,r=o+3040+(ce+38<<1)|0,s=o+3040+(le+38<<1)|0}if(pe=(Z(e[E>>1]|0,p)|0)+f|0,pe=(Z((pe<<1)+32768>>16,(Z(e[h>>1]<<1,e[u>>1]|0)|0)>>16)|0)>>>15&65535,e[r>>1]=pe,e[s>>1]=pe,s=(Te<<16)+131072|0,(s|0)<2621440)Te=s>>16;else break}he=We}function Ds(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0;if(k=he,he=he+160|0,b=k,u<<16>>16>0){O=f&65535,C=0,h=5;do{if((C|0)<40)for(R=C,A=C&65535,f=0;;){if(A<<16>>16<40){A=A<<16>>16,E=0;do E=(Z(e[r+(A-R<<1)>>1]|0,e[i+(A<<1)>>1]|0)|0)+E|0,A=A+1|0;while((A&65535)<<16>>16!=40)}else E=0;if(E=E<<1,d[b+(R<<2)>>2]=E,E=fo(E)|0,f=(E|0)>(f|0)?E:f,E=R+O|0,A=E&65535,A<<16>>16>=40)break;R=E<<16>>16}else f=0;h=(f>>1)+h|0,C=C+1|0}while((C&65535)<<16>>16!=u<<16>>16)}else h=5;if(s=((jr(h)|0)&65535)-(s&65535)|0,f=s<<16>>16,E=0-f<<16,h=(E|0)<2031616,E=E>>16,(s&65535)<<16>>16>0)if(h){h=0;do s=d[b+(h<<2)>>2]|0,i=s<<f,e[o+(h<<1)>>1]=Mr((i>>f|0)==(s|0)?i:s>>31^2147483647,p)|0,h=h+1|0;while((h|0)!=40);he=k;return}else{h=0;do s=d[b+(h<<2)>>2]|0,i=s<<f,e[o+(h<<1)>>1]=Mr((i>>f|0)==(s|0)?i:s>>31^2147483647,p)|0,h=h+1|0;while((h|0)!=40);he=k;return}else if(h){h=0;do e[o+(h<<1)>>1]=Mr(d[b+(h<<2)>>2]>>E,p)|0,h=h+1|0;while((h|0)!=40);he=k;return}else{h=0;do e[o+(h<<1)>>1]=Mr(0,p)|0,h=h+1|0;while((h|0)!=40);he=k;return}}function Lo(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0;je=he,he=he+160|0,de=je,le=r+2|0,Te=e[r>>1]|0,Ee=0,u=5;do{for(ce=Ee,h=0;;){if(R=i+(ce<<1)|0,K=40-ce|0,f=(K+131071|0)>>>1&65535,E=i+(ce+1<<1)|0,p=Z(e[R>>1]<<1,Te)|0,!(f<<16>>16))f=le;else{for(D=131111-ce+131070&131070,k=ce+D|0,b=le,C=r,O=R;A=O+4|0,R=C+4|0,p=(Z(e[E>>1]<<1,e[b>>1]|0)|0)+p|0,f=f+-1<<16>>16,p=(Z(e[A>>1]<<1,e[R>>1]|0)|0)+p|0,f<<16>>16;)E=O+6|0,b=C+6|0,C=R,O=A;E=i+(k+3<<1)|0,f=r+(D+3<<1)|0}if(K&1||(p=(Z(e[E>>1]<<1,e[f>>1]|0)|0)+p|0),d[de+(ce<<2)>>2]=p,p=(p|0)<0?0-p|0:p,h=(p|0)>(h|0)?p:h,p=ce+5|0,(p&65535)<<16>>16<40)ce=p<<16>>16;else break}u=(h>>1)+u|0,Ee=Ee+1|0}while((Ee|0)!=5);if(s=((jr(u)|0)&65535)-(s&65535)|0,p=s<<16>>16,u=0-p<<16,h=u>>16,(s&65535)<<16>>16>0){for(f=20,u=de;de=d[u>>2]|0,s=de<<p,e[o>>1]=(((s>>p|0)==(de|0)?s:de>>31^2147483647)+32768|0)>>>16,de=d[u+4>>2]|0,s=de<<p,e[o+2>>1]=(((s>>p|0)==(de|0)?s:de>>31^2147483647)+32768|0)>>>16,f=f+-1<<16>>16,f<<16>>16;)o=o+4|0,u=u+8|0;he=je;return}if((u|0)<2031616){for(f=20,u=de;e[o>>1]=((d[u>>2]>>h)+32768|0)>>>16,e[o+2>>1]=((d[u+4>>2]>>h)+32768|0)>>>16,f=f+-1<<16>>16,f<<16>>16;)o=o+4|0,u=u+8|0;he=je;return}else{e[o>>1]=0,de=o+4|0,e[o+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,s=de+4|0,e[de+2>>1]=0,e[s>>1]=0,de=s+4|0,e[s+2>>1]=0,e[de>>1]=0,e[de+2>>1]=0,he=je;return}}function qi(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;return p=(an(16383,i)|0)<<16>>16,i=Z(p,i<<16>>16)|0,(i|0)==1073741824?(d[s>>2]=1,u=2147483647):u=i<<1,f=(Z(p,o<<16>>16)|0)>>15,i=u+(f<<1)|0,(u^f|0)>0&(i^u|0)<0&&(d[s>>2]=1,i=(u>>>31)+2147483647|0),u=2147483647-i|0,o=u>>16,i=Z(o,p)|0,(i|0)==1073741824?(d[s>>2]=1,f=2147483647):f=i<<1,p=(Z((u>>>1)-(o<<15)<<16>>16,p)|0)>>15,i=f+(p<<1)|0,(f^p|0)>0&(i^f|0)<0&&(d[s>>2]=1,i=(f>>>31)+2147483647|0),f=i>>16,p=r>>16,o=Z(f,p)|0,o=(o|0)==1073741824?2147483647:o<<1,u=(Z((i>>>1)-(f<<15)<<16>>16,p)|0)>>15,s=(u<<1)+o|0,s=(u^o|0)>0&(s^o|0)<0?(o>>>31)+2147483647|0:s,p=(Z(f,(r>>>1)-(p<<15)<<16>>16)|0)>>15,r=s+(p<<1)|0,r=(s^p|0)>0&(r^s|0)<0?(s>>>31)+2147483647|0:r,s=r<<2,((s>>2|0)==(r|0)?s:r>>31^2147483647)|0}function Bs(r,i){r=r|0,i=i|0;var o=0,s=0,u=0,f=0;if(!r||(d[r>>2]=0,o=cn(192)|0,!o))return f=-1,f|0;s=o+176|0,e[s>>1]=0,e[s+2>>1]=0,e[s+4>>1]=0,e[s+6>>1]=0,e[s+8>>1]=0,e[s+10>>1]=0,s=o,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+20|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+40|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+60|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+80|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+100|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+120|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+140|0,u=i,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=o+160|0,f=s+20|0;do e[s>>1]=0,s=s+2|0;while((s|0)<(f|0));return e[o+188>>1]=7,e[o+190>>1]=32767,d[r>>2]=o,f=0,f|0}function Gs(r,i){r=r|0,i=i|0;var o=0,s=0,u=0;if(!r)return u=-1,u|0;o=r+176|0,e[o>>1]=0,e[o+2>>1]=0,e[o+4>>1]=0,e[o+6>>1]=0,e[o+8>>1]=0,e[o+10>>1]=0,o=r,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+20|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+40|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+60|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+80|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+100|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+120|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+140|0,s=i,u=o+20|0;do e[o>>1]=e[s>>1]|0,o=o+2|0,s=s+2|0;while((o|0)<(u|0));o=r+160|0,u=o+20|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(u|0));return e[r+188>>1]=7,e[r+190>>1]=32767,u=1,u|0}function Fs(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function Hs(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0;if(pe=he,he=he+112|0,je=pe+80|0,We=pe+60|0,Ze=pe+40|0,de=pe,!(i<<16>>16)&&(p=r+178|0,(e[p>>1]|0)!=0)){Ze=r+180|0,f=r+182|0,o=p,Ze=e[Ze>>1]|0,s=d[u>>2]|0,We=s+2|0,e[s>>1]=Ze,f=e[f>>1]|0,Ze=s+4|0,e[We>>1]=f,We=r+184|0,We=e[We>>1]|0,f=s+6|0,e[Ze>>1]=We,Ze=r+186|0,Ze=e[Ze>>1]|0,r=s+8|0,e[f>>1]=Ze,o=e[o>>1]|0,s=s+10|0,d[u>>2]=s,e[r>>1]=o,he=pe;return}D=de+36|0,K=de+32|0,ce=de+28|0,le=de+24|0,Te=de+20|0,Ee=de+16|0,C=de+12|0,b=de+8|0,k=de+4|0,i=de,p=i+40|0;do d[i>>2]=0,i=i+4|0;while((i|0)<(p|0));for(O=7,i=0;;){for(R=e[r+160+(O<<1)>>1]|0,p=R<<16>>16,R<<16>>16<0?p=~((p^-4)>>2):p=p>>>2,i=lr(i,p&65535,f)|0,E=O*10|0,R=9;A=de+(R<<2)|0,h=d[A>>2]|0,Ge=e[r+(R+E<<1)>>1]|0,p=Ge+h|0,(Ge^h|0)>-1&(p^h|0)<0&&(d[f>>2]=1,p=(h>>>31)+2147483647|0),d[A>>2]=p,(R|0)>0;)R=R+-1|0;if((O|0)>0)O=O+-1|0;else break}p=i<<16>>16,i<<16>>16<0?p=~((p^-2)>>1):p=p>>>1,e[We+18>>1]=(d[D>>2]|0)>>>3,e[We+16>>1]=(d[K>>2]|0)>>>3,e[We+14>>1]=(d[ce>>2]|0)>>>3,e[We+12>>1]=(d[le>>2]|0)>>>3,e[We+10>>1]=(d[Te>>2]|0)>>>3,e[We+8>>1]=(d[Ee>>2]|0)>>>3,e[We+6>>1]=(d[C>>2]|0)>>>3,e[We+4>>1]=(d[b>>2]|0)>>>3,e[We+2>>1]=(d[k>>2]|0)>>>3,e[We>>1]=(d[de>>2]|0)>>>3,i=r+178|0,p=(((p<<16)+167772160|0)>>>16)+128|0,e[i>>1]=p,p=p<<16,(p|0)<0?p=~((p>>16^-256)>>8):p=p>>24,e[i>>1]=p,(p|0)<=63?(p|0)<0&&(e[i>>1]=0,p=0):(e[i>>1]=63,p=63),Ge=Rr(p<<8&65535,11560,f)|0,Ge=Ge<<16>>16>0?0:Ge<<16>>16<-14436?-14436:Ge,e[s>>1]=Ge,e[s+2>>1]=Ge,e[s+4>>1]=Ge,e[s+6>>1]=Ge,Ge=((Ge<<16>>16)*5443|0)>>>15&65535,e[s+8>>1]=Ge,e[s+10>>1]=Ge,e[s+12>>1]=Ge,e[s+14>>1]=Ge,xo(We,je,10,f),wn(je,205,10,f),vn(je,We,10,f),s=r+182|0,Ge=r+180|0,g1(o,8,We,Ze,s,Ge,f),f=s,s=i,Ge=e[Ge>>1]|0,o=d[u>>2]|0,Ze=o+2|0,e[o>>1]=Ge,f=e[f>>1]|0,Ge=o+4|0,e[Ze>>1]=f,Ze=r+184|0,Ze=e[Ze>>1]|0,f=o+6|0,e[Ge>>1]=Ze,r=r+186|0,r=e[r>>1]|0,Ge=o+8|0,e[f>>1]=r,r=e[s>>1]|0,o=o+10|0,d[u>>2]=o,e[Ge>>1]=r,he=pe}function js(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0;A=he,he=he+16|0,p=A+2|0,E=A,h=r+176|0,f=(ae[h>>1]|0)+1|0,f=(f&65535|0)==8?0:f&65535,e[h>>1]=f,f=r+((f<<16>>16)*10<<1)|0,u=f+20|0;do e[f>>1]=e[i>>1]|0,f=f+2|0,i=i+2|0;while((f|0)<(u|0));for(i=0,u=160;;){if(f=e[o>>1]|0,i=(Z(f<<1,f)|0)+i|0,(i|0)<0){i=2147483647;break}if(u=u+-1<<16>>16,u<<16>>16)o=o+2|0;else break}co(i,p,E,s),i=e[p>>1]|0,p=i<<16>>16,o=p<<10,(o|0)!=(p<<26>>16|0)&&(d[s>>2]=1,o=i<<16>>16>0?32767:-32768),e[r+160+(e[h>>1]<<1)>>1]=(((e[E>>1]|0)>>>5)+o<<16)+-558432256>>17,he=A}function Ws(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;f=r+190|0,p=lr(e[f>>1]|0,1,s)|0,e[f>>1]=p,u=r+188|0;do if(i<<16>>16)e[u>>1]=7,r=0;else{if(r=e[u>>1]|0,!(r<<16>>16)){e[f>>1]=0,d[o>>2]=8,r=1;break}f=(r&65535)+65535&65535,e[u>>1]=f,(lr(p,f,s)|0)<<16>>16<30&&(d[o>>2]=8),r=0}while(0);return r|0}function zs(r,i,o,s,u,f,p,h){return r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,f<<16>>16?p<<16>>16?(s=s<<16>>16,s=(((o&65535)-s<<16)+-327680|0)>0?s+5&65535:o,u=u<<16>>16,o=r<<16>>16,s=(((u-(s&65535)<<16)+-262144|0)>0?u+65532&65535:s)<<16>>16,u=s*196608|0,r=u+-393216>>16,f=((i&65535)<<16)+(o*196608|0)>>16,r-f&32768?(u+196608>>16|0)>(f|0)?(i=f+3-r|0,i=i&65535,i|0):(i=o+11-s|0,i=i&65535,i|0):(i=o+5-s|0,i=i&65535,i|0)):(h=(r&65535)-(s&65535)<<16,i=(i<<16>>16)+2+(h>>15)+(h>>16)|0,i=i&65535,i|0):(f=r<<16>>16,((f<<16)+-5570560|0)<65536?(i=(f*3|0)+-58+(i<<16>>16)|0,i=i&65535,i|0):(i=f+112|0,i=i&65535,i|0))}function Vs(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,u=r<<16>>16;do if(s<<16>>16)u=((((u-(o&65535)|0)*393216|0)+196608|0)>>>16)+(i&65535)|0;else if(r<<16>>16<95){u=((u*393216|0)+-6881280>>16)+(i<<16>>16)|0;break}else{u=u+368|0;break}while(0);return u&65535|0}function qs(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0;if(u=d[s+96>>2]|0,r>>>0<8){if(E=(d[s+100>>2]|0)+(r<<2)|0,h=d[E>>2]|0,ne[o>>0]=e[i+(e[h>>1]<<1)>>1]<<4|r|e[i+(e[h+2>>1]<<1)>>1]<<5|e[i+(e[h+4>>1]<<1)>>1]<<6|e[i+(e[h+6>>1]<<1)>>1]<<7,h=u+(r<<1)|0,s=e[h>>1]|0,(s+-7|0)>4)for(u=4,p=4,r=1;A=e[i+(e[(d[E>>2]|0)+(u<<1)>>1]<<1)>>1]|0,s=o+(r<<16>>16)|0,ne[s>>0]=A,A=ae[i+(e[(d[E>>2]|0)+((p|1)<<16>>16<<1)>>1]<<1)>>1]<<1|A&65535,ne[s>>0]=A,A=ae[i+(e[(d[E>>2]|0)+((p|2)<<16>>16<<1)>>1]<<1)>>1]<<2|A,ne[s>>0]=A,A=ae[i+(e[(d[E>>2]|0)+((p|3)<<16>>16<<1)>>1]<<1)>>1]<<3|A,ne[s>>0]=A,A=ae[i+(e[(d[E>>2]|0)+(p+4<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<4|A,ne[s>>0]=A,A=ae[i+(e[(d[E>>2]|0)+(p+5<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<5|A,ne[s>>0]=A,A=ae[i+(e[(d[E>>2]|0)+(p+6<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<6|A,ne[s>>0]=A,f=p+8<<16>>16,r=r+1<<16>>16,ne[s>>0]=ae[i+(e[(d[E>>2]|0)+(p+7<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<7|A,u=f<<16>>16,s=e[h>>1]|0,!((u|0)>=(s+-7|0));)p=f;else f=4,r=1;if(h=s+4&7,!h)return;for(u=o+(r<<16>>16)|0,ne[u>>0]=0,s=0,p=0,r=0;p=(ae[i+(e[(d[E>>2]|0)+(f<<16>>16<<1)>>1]<<1)>>1]&255)<<s|p&255,ne[u>>0]=p,r=r+1<<16>>16,s=r<<16>>16,!((s|0)>=(h|0));)f=f+1<<16>>16;return}if((r|0)==15){ne[o>>0]=15;return}if(ne[o>>0]=e[i>>1]<<4|r|e[i+2>>1]<<5|e[i+4>>1]<<6|e[i+6>>1]<<7,s=u+(r<<1)|0,r=e[s>>1]|0,u=((r&65535)<<16)+262144>>16,E=u&-8,p=(E+524281|0)>>>3&65535,p<<16>>16>0){for(u=((u&-8)+524281|0)>>>3,h=((u<<3)+524280&524280)+12|0,f=1,r=i+8|0;ne[o+(f<<16>>16)>>0]=ae[r+2>>1]<<1|ae[r>>1]|ae[r+4>>1]<<2|ae[r+6>>1]<<3|ae[r+8>>1]<<4|ae[r+10>>1]<<5|ae[r+12>>1]<<6|ae[r+14>>1]<<7,p<<16>>16>1;)p=p+-1<<16>>16,f=f+1<<16>>16,r=r+16|0;r=e[s>>1]|0,f=(u<<16)+65536>>16}else h=4,f=1;if(r=(0-E|4)+(r&65535)<<16,p=r>>16,!!p){if(f=o+f|0,ne[f>>0]=0,(r|0)>0)r=0,u=0,s=0;else return;do u=u&255|e[i+(h+r<<1)>>1]<<r,ne[f>>0]=u,s=s+1<<16>>16,r=s<<16>>16;while((r|0)<(p|0))}}function Ks(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0;if(R=d[s+100>>2]|0,A=d[s+96>>2]|0,ne[o>>0]=r&15,A=A+(r<<1)|0,u=e[A>>1]|0,r>>>0>=8){if(h=((u&65535)<<16)+-458752|0,(h|0)>0){for(E=1,p=i;i=p+16|0,s=E+1<<16>>16,ne[o+(E<<16>>16)>>0]=ae[p+14>>1]|ae[p+12>>1]<<1|((ae[p+2>>1]<<6|ae[p>>1]<<7|ae[p+4>>1]<<5|ae[p+6>>1]<<4)&240|ae[p+8>>1]<<3|ae[p+10>>1]<<2)&252,h=h+-524288&-65536,!((h|0)<=0);)E=s,p=i;u=e[A>>1]|0}else s=1;if(E=u&7,u=o+(s<<16>>16)|0,ne[u>>0]=0,E)f=0,p=0,h=0,s=i;else return;for(;p=p&255|e[s>>1]<<7-f,ne[u>>0]=p,h=h+1<<16>>16,f=h<<16>>16,!((f|0)>=(E|0));)s=s+2|0;return}if(p=u<<16>>16,u<<16>>16>7)for(u=R+(r<<2)|0,s=0,E=0,f=1;O=ae[i+(e[(d[u>>2]|0)+(s<<1)>>1]<<1)>>1]<<7,p=o+(f<<16>>16)|0,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|1)<<16>>16<<1)>>1]<<1)>>1]<<6|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|2)<<16>>16<<1)>>1]<<1)>>1]<<5|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|3)<<16>>16<<1)>>1]<<1)>>1]<<4|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|4)<<16>>16<<1)>>1]<<1)>>1]<<3|O&240,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|5)<<16>>16<<1)>>1]<<1)>>1]<<2|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|6)<<16>>16<<1)>>1]<<1)>>1]<<1|O,ne[p>>0]=O,h=E+8<<16>>16,f=f+1<<16>>16,ne[p>>0]=O&254|ae[i+(e[(d[u>>2]|0)+((E|7)<<16>>16<<1)>>1]<<1)>>1],s=h<<16>>16,p=e[A>>1]|0,!((s|0)>=(p+-7|0));)E=h;else h=0,f=1;if(A=p&7,E=o+(f<<16>>16)|0,ne[E>>0]=0,!!A)for(f=R+(r<<2)|0,u=0,s=0,p=0;s=(ae[i+(e[(d[f>>2]|0)+(h<<16>>16<<1)>>1]<<1)>>1]&255)<<7-u|s&255,ne[E>>0]=s,p=p+1<<16>>16,u=p<<16>>16,!((u|0)>=(A|0));)h=h+1<<16>>16}function Js(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0;if(R=d[s+100>>2]|0,A=d[s+96>>2]|0,ne[o>>0]=r<<3,A=A+(r<<1)|0,u=e[A>>1]|0,r>>>0>=8){if(h=((u&65535)<<16)+-458752|0,(h|0)>0){for(E=1,p=i;i=p+16|0,s=E+1<<16>>16,ne[o+(E<<16>>16)>>0]=ae[p+14>>1]|ae[p+12>>1]<<1|((ae[p+2>>1]<<6|ae[p>>1]<<7|ae[p+4>>1]<<5|ae[p+6>>1]<<4)&240|ae[p+8>>1]<<3|ae[p+10>>1]<<2)&252,h=h+-524288&-65536,!((h|0)<=0);)E=s,p=i;u=e[A>>1]|0}else s=1;if(E=u&7,u=o+(s<<16>>16)|0,ne[u>>0]=0,E)f=0,p=0,h=0,s=i;else return;for(;p=p&255|e[s>>1]<<7-f,ne[u>>0]=p,h=h+1<<16>>16,f=h<<16>>16,!((f|0)>=(E|0));)s=s+2|0;return}if(p=u<<16>>16,u<<16>>16>7)for(u=R+(r<<2)|0,s=0,E=0,f=1;O=ae[i+(e[(d[u>>2]|0)+(s<<1)>>1]<<1)>>1]<<7,p=o+(f<<16>>16)|0,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|1)<<16>>16<<1)>>1]<<1)>>1]<<6|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|2)<<16>>16<<1)>>1]<<1)>>1]<<5|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|3)<<16>>16<<1)>>1]<<1)>>1]<<4|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|4)<<16>>16<<1)>>1]<<1)>>1]<<3|O&240,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|5)<<16>>16<<1)>>1]<<1)>>1]<<2|O,ne[p>>0]=O,O=ae[i+(e[(d[u>>2]|0)+((E|6)<<16>>16<<1)>>1]<<1)>>1]<<1|O,ne[p>>0]=O,h=E+8<<16>>16,f=f+1<<16>>16,ne[p>>0]=O&254|ae[i+(e[(d[u>>2]|0)+((E|7)<<16>>16<<1)>>1]<<1)>>1],s=h<<16>>16,p=e[A>>1]|0,!((s|0)>=(p+-7|0));)E=h;else h=0,f=1;if(A=p&7,E=o+(f<<16>>16)|0,ne[E>>0]=0,!!A)for(f=R+(r<<2)|0,u=0,s=0,p=0;s=(ae[i+(e[(d[f>>2]|0)+(h<<16>>16<<1)>>1]<<1)>>1]&255)<<7-u|s&255,ne[E>>0]=s,p=p+1<<16>>16,u=p<<16>>16,!((u|0)>=(A|0));)h=h+1<<16>>16}function Xs(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(16)|0,!i)?(r=-1,r|0):(e[i>>1]=0,e[i+2>>1]=0,e[i+4>>1]=0,e[i+6>>1]=0,e[i+8>>1]=0,e[i+10>>1]=0,e[i+12>>1]=0,e[i+14>>1]=0,d[r>>2]=i,r=0,r|0)}function Ki(r){return r=r|0,r?(e[r>>1]=0,e[r+2>>1]=0,e[r+4>>1]=0,e[r+6>>1]=0,e[r+8>>1]=0,e[r+10>>1]=0,e[r+12>>1]=0,e[r+14>>1]=0,r=0,r|0):(r=-1,r|0)}function Ji(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function Ys(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0;h=i<<16>>16<2722?0:i<<16>>16<5444?1:2,p=Do(o,1,u)|0,A=r+4|0,o<<16>>16>200&&p<<16>>16>(e[A>>1]|0)?(e[r>>1]=8,f=1,E=5):(p=e[r>>1]|0,p<<16>>16&&(f=p+-1<<16>>16,e[r>>1]=f,f=f<<16>>16!=0,E=5)),(E|0)==5&&(h&65535)<2&f&&(h=(h&65535)+1&65535),E=r+6|0,e[E>>1]=i,f=po(E,5)|0,h<<16>>16!=0|f<<16>>16>5443?f=0:f<<16>>16<0?f=16384:(f=f<<16>>16,f=(((f<<18>>18|0)==(f|0)?f<<2:f>>>15^32767)<<16>>16)*24660>>15,(f|0)>32767&&(d[u>>2]=1,f=32767),f=16384-f&65535),p=r+2|0,e[p>>1]|0||(f=Xr(f,1,u)|0),e[s>>1]=f,e[p>>1]=f,e[A>>1]=o,s=r+12|0,e[r+14>>1]=e[s>>1]|0,o=r+10|0,e[s>>1]=e[o>>1]|0,r=r+8|0,e[o>>1]=e[r>>1]|0,e[r>>1]=e[E>>1]|0}function Zs(r){r=r|0;var i=0,o=0,s=0,u=0,f=0,p=0;if(!r||(d[r>>2]=0,i=cn(68)|0,s=i,!i))return r=-1,r|0;if(d[i+28>>2]=0,u=i+64|0,d[u>>2]=0,f=i+32|0,!((ao(f)|0)<<16>>16)&&(p=i+48|0,(ao(p)|0)<<16>>16==0)&&!((Xs(u)|0)<<16>>16)){o=i+32|0;do e[i>>1]=0,i=i+2|0;while((i|0)<(o|0));return ao(f)|0,ao(p)|0,Ki(d[u>>2]|0)|0,d[r>>2]=s,r=0,r|0}return Ji(u),Zr(i),r=-1,r|0}function Qs(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Ji(i+64|0),Zr(d[r>>2]|0),d[r>>2]=0))}function $s(r){r=r|0;var i=0,o=0,s=0;if(!r)return s=-1,s|0;i=r+32|0,o=r,s=o+32|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));return ao(i)|0,ao(r+48|0)|0,Ki(d[r+64>>2]|0)|0,s=0,s|0}function e0(r,i,o,s,u,f,p,h,E,A,R,O,C,b,k,D,K,ce,le){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0,b=b|0,k=k|0,D=D|0,K=K|0,ce=ce|0,le=le|0;var Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0;if(qt=he,he=he+48|0,Ee=qt+34|0,je=qt+32|0,Ze=qt+30|0,We=qt+28|0,de=qt+18|0,Te=qt+8|0,pe=qt+6|0,Ge=qt+4|0,gt=qt+2|0,Rt=qt,i){R=r+32|0,To(R,i,u,Ee,je,pe,Ge,le);do if((i|0)!=7)if(ni(i,f,p,h,E,A,de,Te,Rt,gt,le),(i|0)==5){T0(d[r+64>>2]|0,o,s,u,de,Te,e[pe>>1]|0,e[Ge>>1]|0,e[Ee>>1]|0,e[je>>1]|0,40,e[Rt>>1]|0,e[gt>>1]|0,O,k,D,Ze,We,K,ce,le);break}else{r=I0(i,e[Ee>>1]|0,e[je>>1]|0,de,Te,O,k,D,Ze,We,ce,le)|0,f=d[K>>2]|0,d[K>>2]=f+2,e[f>>1]=r;break}else e[D>>1]=t0(p,E,le)|0,r=A0(7,e[Ee>>1]|0,e[je>>1]|0,D,Ze,We,d[ce+68>>2]|0,le)|0,f=d[K>>2]|0,d[K>>2]=f+2,e[f>>1]=r;while(0);zn(R,e[Ze>>1]|0,e[We>>1]|0),he=qt;return}if(!(R<<16>>16)){To(r+48|0,0,u,Ee,je,pe,Ge,le),ni(0,f,p,h,E,A,de,Te,Rt,gt,le),Wi(f,pe,Ge,le),f=_0(r+32|0,e[r>>1]|0,e[r+2>>1]|0,r+8|0,r+18|0,e[r+4>>1]|0,e[r+6>>1]|0,u,e[Ee>>1]|0,e[je>>1]|0,Te,de,e[pe>>1]|0,e[Ge>>1]|0,O,C,b,k,D,le)|0,e[d[r+28>>2]>>1]=f,he=qt;return}R=d[K>>2]|0,d[K>>2]=R+2,d[r+28>>2]=R,R=r+48|0,o=r+32|0,C=o,C=ae[C>>1]|ae[C+2>>1]<<16,o=o+4|0,o=ae[o>>1]|ae[o+2>>1]<<16,K=R,b=K,e[b>>1]=C,e[b+2>>1]=C>>>16,K=K+4|0,e[K>>1]=o,e[K+2>>1]=o>>>16,K=r+40|0,o=K,o=ae[o>>1]|ae[o+2>>1]<<16,K=K+4|0,K=ae[K>>1]|ae[K+2>>1]<<16,b=r+56|0,C=b,e[C>>1]=o,e[C+2>>1]=o>>>16,b=b+4|0,e[b>>1]=K,e[b+2>>1]=K>>>16,b=r+2|0,To(R,0,u,r,b,pe,Ge,le),ni(0,f,p,h,E,A,r+18|0,r+8|0,Rt,gt,le),h=(ae[gt>>1]|0)+1|0,K=e[Rt>>1]|0,C=h<<16>>16,(h&65535)<<16>>16<0?(ce=0-C<<16,(ce|0)<983040?ce=K<<16>>16>>(ce>>16)&65535:ce=0):(K=K<<16>>16,ce=K<<C,(ce<<16>>16>>C|0)==(K|0)?ce=ce&65535:ce=(K>>>15^32767)&65535),e[D>>1]=ce,Wi(f,r+4|0,r+6|0,le),y0(R,e[r>>1]|0,e[b>>1]|0,e[gt>>1]|0,e[Rt>>1]|0,le),he=qt}function t0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;for(u=10,o=r,s=i,r=0;r=(Z(e[s>>1]>>1,e[o>>1]|0)|0)+r|0,r=r+(Z(e[s+2>>1]>>1,e[o+2>>1]|0)|0)|0,r=r+(Z(e[s+4>>1]>>1,e[o+4>>1]|0)|0)|0,r=r+(Z(e[s+6>>1]>>1,e[o+6>>1]|0)|0)|0,u=u+-1<<16>>16,u<<16>>16;)o=o+8|0,s=s+8|0;if(o=r<<1,u=jr(o|1)|0,f=u<<16>>16,o=(u<<16>>16<17?o>>17-f:o<<f+-17)&65535,o<<16>>16<1)return i=0,i|0;for(u=20,s=i,r=0;i=e[s>>1]>>1,i=((Z(i,i)|0)>>>2)+r|0,r=e[s+2>>1]>>1,r=i+((Z(r,r)|0)>>>2)|0,u=u+-1<<16>>16,u<<16>>16;)s=s+4|0;return r=r<<3,u=jr(r)|0,i=u<<16>>16,o=an(o,(u<<16>>16<16?r>>16-i:r<<i+-16)&65535)|0,i=(f<<16)+327680-(i<<16)|0,r=i>>16,(i|0)>65536?r=o<<16>>16>>r+-1:r=o<<16>>16<<1-r,i=r&65535,i|0}function r0(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0;if(d[f>>2]=0,R=u<<16>>16,E=R>>>2&65535,C=E<<16>>16==0,C)h=0;else for(A=E,p=o,h=0;b=e[p>>1]|0,b=(Z(b,b)|0)+h|0,h=e[p+2>>1]|0,h=b+(Z(h,h)|0)|0,b=e[p+4>>1]|0,b=h+(Z(b,b)|0)|0,h=e[p+6>>1]|0,h=b+(Z(h,h)|0)|0,A=A+-1<<16>>16,A<<16>>16;)p=p+8|0;if((h>>>31^1)&(h|0)<1073741824)R=h<<1|1,b=jr(R)|0,O=b,b=Mr(R<<(b<<16>>16),f)|0;else{if(h=R>>>1&65535,!(h<<16>>16))h=1;else{for(p=h,A=o,h=0;b=e[A>>1]>>2,b=(Z(b,b)|0)+h|0,h=e[A+2>>1]>>2,h=b+(Z(h,h)|0)|0,p=p+-1<<16>>16,p<<16>>16;)A=A+4|0;h=h<<1|1}b=(jr(h)|0)<<16>>16,O=b+65532&65535,b=Mr(h<<b,f)|0}d[f>>2]=0;do if(!(u<<16>>16))h=1,k=14;else{for(R=u,A=i,h=o,u=0;D=Z(e[h>>1]|0,e[A>>1]|0)|0,p=D+u|0,!((D^u|0)>0&(p^u|0)<0);)if(R=R+-1<<16>>16,R<<16>>16)A=A+2|0,h=h+2|0,u=p;else{k=13;break}if((k|0)==13){h=p<<1|1,k=14;break}if(d[f>>2]=1,C)h=1;else{for(h=i,p=0;p=(Z(e[o>>1]>>2,e[h>>1]|0)|0)+p|0,p=p+(Z(e[o+2>>1]>>2,e[h+2>>1]|0)|0)|0,p=p+(Z(e[o+4>>1]>>2,e[h+4>>1]|0)|0)|0,p=p+(Z(e[o+6>>1]>>2,e[h+6>>1]|0)|0)|0,E=E+-1<<16>>16,E<<16>>16;)h=h+8|0,o=o+8|0;h=p<<1|1}o=(jr(h)|0)<<16>>16,p=o+65532&65535,o=Mr(h<<o,f)|0}while(0);return(k|0)==14&&(o=jr(h)|0,p=o,o=Mr(h<<(o<<16>>16),f)|0),e[s>>1]=b,h=O<<16>>16,e[s+2>>1]=15-h,e[s+4>>1]=o,p=p<<16>>16,e[s+6>>1]=15-p,o<<16>>16<4?(D=0,D|0):(p=Xr(an(o<<16>>16>>>1&65535,b)|0,p-h&65535,f)|0,p=p<<16>>16>19661?19661:p,(r|0)!=7?(D=p,D|0):(D=p&65532,D|0))}function Xi(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0;if(E=(s&65535)+65535&65535,E<<16>>16>u<<16>>16)for(O=s+-1<<16>>16<<16>>16,s=-2147483648;;)if(A=d[r+(0-O<<2)>>2]|0,h=A<<1,A=(h>>1|0)==(A|0)?h:A>>31^2147483647,h=d[r+(~O<<2)>>2]|0,R=A-h|0,((R^A)&(A^h)|0)<0&&(d[p>>2]=1,R=(A>>>31)+2147483647|0),A=d[r+(1-O<<2)>>2]|0,h=R-A|0,((h^R)&(A^R)|0)<0&&(d[p>>2]=1,h=(R>>>31)+2147483647|0),R=fo(h)|0,s=(R|0)<(s|0)?s:R,E=E+-1<<16>>16,E<<16>>16<=u<<16>>16){u=s;break}else O=O+-1|0;else u=-2147483648;if(r=o<<16>>16>0,r){for(s=0,h=i,E=0;R=e[h>>1]|0,R=Z(R,R)|0,(R|0)!=1073741824?(A=(R<<1)+E|0,(R^E|0)>0&(A^E|0)<0?(d[p>>2]=1,E=(E>>>31)+2147483647|0):E=A):(d[p>>2]=1,E=2147483647),s=s+1<<16>>16,!(s<<16>>16>=o<<16>>16);)h=h+2|0;if(r)for(r=0,O=i,s=i+-2|0,h=0;R=Z(e[s>>1]|0,e[O>>1]|0)|0,(R|0)!=1073741824?(A=(R<<1)+h|0,(R^h|0)>0&(A^h|0)<0?(d[p>>2]=1,h=(h>>>31)+2147483647|0):h=A):(d[p>>2]=1,h=2147483647),r=r+1<<16>>16,!(r<<16>>16>=o<<16>>16);)O=O+2|0,s=s+2|0;else h=0}else E=0,h=0;if(s=E<<1,s=(s>>1|0)==(E|0)?s:E>>31^2147483647,o=h<<1,o=(o>>1|0)==(h|0)?o:h>>31^2147483647,E=s-o|0,((E^s)&(o^s)|0)<0&&(d[p>>2]=1,E=(s>>>31)+2147483647|0),r=fo(E)|0,O=((jr(u)|0)&65535)+65535|0,E=O<<16>>16,(O&65535)<<16>>16>0?(s=u<<E,(s>>E|0)!=(u|0)&&(s=u>>31^2147483647)):(E=0-E<<16,(E|0)<2031616?s=u>>(E>>16):s=0),R=jr(r)|0,h=R<<16>>16,R<<16>>16>0?(E=r<<h,(E>>h|0)==(r|0)||(E=r>>31^2147483647),C=33):(E=0-h<<16,(E|0)<2031616?(E=r>>(E>>16),C=33):A=0),(C|0)==33&&(E>>>0>65535?A=an(s>>>16&65535,E>>>16&65535)|0:A=0),E=R&65535,C=(O&65535)-E|0,s=C&65535,!(C&32768))return p=Xr(A,s,p)|0,e[f>>1]=p,0;if(s<<16>>16!=-32768){if(p=E-O|0,h=p<<16>>16,(p&65535)<<16>>16<0)return h=0-h<<16,(h|0)>=983040?(p=0,e[f>>1]=p,0):(p=A<<16>>16>>(h>>16)&65535,e[f>>1]=p,0)}else h=32767;return s=A<<16>>16,E=s<<h,(E<<16>>16>>h|0)==(s|0)?(p=E&65535,e[f>>1]=p,0):(p=(s>>>15^32767)&65535,e[f>>1]=p,0)}function so(r,i,o,s){return r=r|0,i=i|0,o=o|0,s=s|0,o<<16>>16&&(i=i<<16>>16<<1&65535),i<<16>>16<0&&(r=r+-2|0,i=(i&65535)+6&65535),o=i<<16>>16,s=6-o<<16>>16,i=(Z(e[3468+(o<<1)>>1]|0,e[r>>1]|0)|0)+16384|0,i=i+(Z(e[3468+(s<<1)>>1]|0,e[r+2>>1]|0)|0)|0,i=i+(Z(e[3468+(o+6<<1)>>1]|0,e[r+-2>>1]|0)|0)|0,i=i+(Z(e[3468+(s+6<<1)>>1]|0,e[r+4>>1]|0)|0)|0,i=(Z(e[3468+(o+12<<1)>>1]|0,e[r+-4>>1]|0)|0)+i|0,i=i+(Z(e[3468+(s+12<<1)>>1]|0,e[r+6>>1]|0)|0)|0,o=i+(Z(e[3468+(o+18<<1)>>1]|0,e[r+-6>>1]|0)|0)|0,(o+(Z(e[3468+(s+18<<1)>>1]|0,e[r+8>>1]|0)|0)|0)>>>15&65535|0}function fo(r){return r=r|0,r=r-(r>>>31)|0,r>>31^r|0}function ii(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0;if(r<<16>>16)u=3518,f=3538,s=o;else return;for(;s=s+2|0,i=i+2|0,E=e[i>>1]|0,h=e[u>>1]|0,o=Z(h,E)|0,o=(o|0)==1073741824?2147483647:o<<1,E=(Z(e[f>>1]|0,E)|0)>>15,p=(E<<1)+o|0,p=(o^E|0)>0&(p^o|0)<0?(o>>>31)+2147483647|0:p,h=(Z(h,e[s>>1]|0)|0)>>15,o=p+(h<<1)|0,o=(p^h|0)>0&(o^p|0)<0?(p>>>31)+2147483647|0:o,e[i>>1]=o>>>16,e[s>>1]=(o>>>1)-(o>>16<<15),r=r+-1<<16>>16,r<<16>>16;)u=u+2|0,f=f+2|0}function n0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0;return s=r&65535,u=s<<16,i=i<<16>>16,r=(i<<1)+u|0,(i^u|0)>0&(r^u|0)<0?(d[o>>2]=1,u=(s>>>15)+2147483647|0,u|0):(u=r,u|0)}function o0(r){r=r|0;var i=0,o=0,s=0;if(!r||(d[r>>2]=0,i=cn(22)|0,!i))return s=-1,s|0;e[i>>1]=4096,o=i+2|0,s=o+20|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));return d[r>>2]=i,s=0,s|0}function Yi(r){r=r|0;var i=0;if(!r)return i=-1,i|0;e[r>>1]=4096,r=r+2|0,i=r+20|0;do e[r>>1]=0,r=r+2|0;while((r|0)<(i|0));return i=0,i|0}function Zi(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function si(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0;for(Nt=he,he=he+96|0,Pt=Nt+66|0,ft=Nt+44|0,rr=Nt+22|0,h=Nt,Ge=i+2|0,qt=o+2|0,Rt=(e[qt>>1]<<1)+(ae[Ge>>1]<<16)|0,p=fo(Rt)|0,p=qi(p,e[i>>1]|0,e[o>>1]|0,f)|0,(Rt|0)>0&&(p=Qi(p)|0),Ze=p>>16,e[u>>1]=Mr(p,f)|0,le=p>>20,gt=Pt+2|0,e[gt>>1]=le,Rt=ft+2|0,e[Rt>>1]=(p>>>5)-(le<<15),le=Z(Ze,Ze)|0,le=(le|0)==1073741824?2147483647:le<<1,Ze=(Z((p>>>1)-(Ze<<15)<<16>>16,Ze)|0)>>15,pe=Ze<<1,We=pe+le|0,We=(Ze^le|0)>0&(We^le|0)<0?(le>>>31)+2147483647|0:We,pe=We+pe|0,pe=2147483647-(fo((We^Ze|0)>0&(pe^We|0)<0?(We>>>31)+2147483647|0:pe)|0)|0,We=pe>>16,Ze=e[i>>1]|0,le=Z(We,Ze)|0,le=(le|0)==1073741824?2147483647:le<<1,Ze=(Z((pe>>>1)-(We<<15)<<16>>16,Ze)|0)>>15,pe=(Ze<<1)+le|0,pe=(Ze^le|0)>0&(pe^le|0)<0?(le>>>31)+2147483647|0:pe,We=(Z(e[o>>1]|0,We)|0)>>15,le=pe+(We<<1)|0,le=(pe^We|0)>0&(le^pe|0)<0?(pe>>>31)+2147483647|0:le,pe=jr(le)|0,le=le<<(pe<<16>>16),We=rr+2|0,Ze=h+2|0,E=le,le=(le>>>1)-(le>>16<<15)|0,Te=h+4|0,Ee=rr+4|0,de=2,je=2;;){for(ce=E>>>16,p=ce&65535,k=le&65535,D=je+-1|0,R=Pt+(D<<1)|0,K=ft+(D<<1)|0,b=1,C=R,O=K,A=Ge,h=qt,E=0;ir=e[A>>1]|0,Dt=((Z(e[O>>1]|0,ir)|0)>>15)+E|0,E=e[C>>1]|0,E=Dt+(Z(E,ir)|0)+((Z(E,e[h>>1]|0)|0)>>15)|0,b=b+1<<16>>16,!((b<<16>>16|0)>=(je|0));)C=C+-2|0,O=O+-2|0,A=A+2|0,h=h+2|0;if(Dt=(ae[i+(je<<1)>>1]<<16)+(E<<5)+(e[o+(je<<1)>>1]<<1)|0,E=qi(fo(Dt)|0,p,k,f)|0,(Dt|0)>0&&(E=Qi(E)|0),h=pe<<16>>16,pe<<16>>16>0?(p=E<<h,(p>>h|0)!=(E|0)&&(p=E>>31^2147483647)):(h=0-h<<16,(h|0)<2031616?p=E>>(h>>16):p=0),b=p>>16,(je|0)<5&&(e[u+(D<<1)>>1]=(p+32768|0)>>>16),Dt=(p>>>16)-(p>>>31)|0,((Dt<<16>>31^Dt)&65535)<<16>>16>32750){p=16;break}for(O=(p>>>1)-(b<<15)<<16>>16,C=1,E=K,h=We,A=Ze;ir=(Z(e[E>>1]|0,b)|0)>>15,K=e[R>>1]|0,Dt=(Z(K,O)|0)>>15,K=Z(K,b)|0,Dt=K+ir+(e[ft+(C<<1)>>1]|0)+(e[Pt+(C<<1)>>1]<<15)+Dt|0,e[h>>1]=Dt>>>15,e[A>>1]=Dt&32767,C=C+1|0,(C&65535)<<16>>16!=de<<16>>16;)R=R+-2|0,E=E+-2|0,h=h+2|0,A=A+2|0;if(e[Ee>>1]=p>>20,e[Te>>1]=(p>>>5)-(e[rr+(je<<1)>>1]<<15),ir=Z(b,b)|0,ir=(ir|0)==1073741824?2147483647:ir<<1,p=(Z(O,b)|0)>>15,Dt=p<<1,h=Dt+ir|0,h=(p^ir|0)>0&(h^ir|0)<0?(ir>>>31)+2147483647|0:h,Dt=h+Dt|0,Dt=2147483647-(fo((h^p|0)>0&(Dt^h|0)<0?(h>>>31)+2147483647|0:Dt)|0)|0,h=Dt>>16,p=ce<<16>>16,p=((Z(h,le<<16>>16)|0)>>15)+(Z(h,p)|0)+((Z((Dt>>>1)-(h<<15)<<16>>16,p)|0)>>15)<<1,h=(jr(p)|0)<<16>>16,p=p<<h,Dt=je<<1,Tn(gt|0,We|0,Dt|0)|0,Tn(Rt|0,Ze|0,Dt|0)|0,je=je+1|0,(je|0)>=11){p=20;break}else pe=h+(pe&65535)&65535,E=p,le=(p>>1)-(p>>16<<15)|0,Te=Te+2|0,Ee=Ee+2|0,de=de+1<<16>>16}if((p|0)==16){p=s+22|0;do e[s>>1]=e[r>>1]|0,s=s+2|0,r=r+2|0;while((s|0)<(p|0));return Dt=u,ir=Dt,e[ir>>1]=0,e[ir+2>>1]=0,Dt=Dt+4|0,e[Dt>>1]=0,e[Dt+2>>1]=0,he=Nt,0}else if((p|0)==20)return e[s>>1]=4096,Dt=((e[Rt>>1]|0)+8192+(e[gt>>1]<<15)|0)>>>14&65535,e[s+2>>1]=Dt,e[r+2>>1]=Dt,Dt=((e[ft+4>>1]|0)+8192+(e[Pt+4>>1]<<15)|0)>>>14&65535,e[s+4>>1]=Dt,e[r+4>>1]=Dt,Dt=((e[ft+6>>1]|0)+8192+(e[Pt+6>>1]<<15)|0)>>>14&65535,e[s+6>>1]=Dt,e[r+6>>1]=Dt,Dt=((e[ft+8>>1]|0)+8192+(e[Pt+8>>1]<<15)|0)>>>14&65535,e[s+8>>1]=Dt,e[r+8>>1]=Dt,Dt=((e[ft+10>>1]|0)+8192+(e[Pt+10>>1]<<15)|0)>>>14&65535,e[s+10>>1]=Dt,e[r+10>>1]=Dt,Dt=((e[ft+12>>1]|0)+8192+(e[Pt+12>>1]<<15)|0)>>>14&65535,e[s+12>>1]=Dt,e[r+12>>1]=Dt,Dt=((e[ft+14>>1]|0)+8192+(e[Pt+14>>1]<<15)|0)>>>14&65535,e[s+14>>1]=Dt,e[r+14>>1]=Dt,Dt=((e[ft+16>>1]|0)+8192+(e[Pt+16>>1]<<15)|0)>>>14&65535,e[s+16>>1]=Dt,e[r+16>>1]=Dt,Dt=((e[ft+18>>1]|0)+8192+(e[Pt+18>>1]<<15)|0)>>>14&65535,e[s+18>>1]=Dt,e[r+18>>1]=Dt,Dt=((e[ft+20>>1]|0)+8192+(e[Pt+20>>1]<<15)|0)>>>14&65535,e[s+20>>1]=Dt,e[r+20>>1]=Dt,he=Nt,0;return 0}function Nn(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0,s=r>>16,e[i>>1]=s,e[o>>1]=(r>>>1)-(s<<15)}function Qi(r){return r=r|0,((r|0)==-2147483648?2147483647:0-r|0)|0}function i0(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(4)|0,!i)?(r=-1,r|0):(d[i>>2]=0,(o0(i)|0)<<16>>16?(Zi(i),Zr(i),r=-1,r|0):(Yi(d[i>>2]|0)|0,d[r>>2]=i,r=0,r|0))}function s0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zi(i),Zr(d[r>>2]|0),d[r>>2]=0))}function a0(r){return r=r|0,r?(Yi(d[r>>2]|0)|0,r=0,r|0):(r=-1,r|0)}function c0(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0;if(R=he,he=he+64|0,A=R+48|0,E=R+22|0,h=R,(i|0)==7){o=d[f+116>>2]|0,ri(s,10,h,E,d[f+112>>2]|0,p)|0,ii(10,h,E,p),si(d[r>>2]|0,h,E,u+22|0,A,p)|0,ri(s,10,h,E,o,p)|0,ii(10,h,E,p),si(d[r>>2]|0,h,E,u+66|0,A,p)|0,he=R;return}else{ri(o,10,h,E,d[f+108>>2]|0,p)|0,ii(10,h,E,p),si(d[r>>2]|0,h,E,u+66|0,A,p)|0,he=R;return}}function ai(r,i,o,s,u,f,p,h,E,A){if(r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,(o|0)==6){e[u>>1]=h0(r,i,s,20,143,80,f,p,h,E,A)|0;return}if(e[p>>1]=0,e[p+2>>1]=0,o>>>0<2){e[u>>1]=ci(i,o,s,20,143,160,h,E,A)|0;return}if(o>>>0<6){e[u>>1]=ci(i,o,s,20,143,80,h,E,A)|0;return}else{e[u>>1]=ci(i,o,s,18,143,80,h,E,A)|0;return}}function l0(r){r=r|0;var i=0;return r|0&&(d[r>>2]=0,i=cn(2)|0,(i|0)!=0)?(e[i>>1]=0,d[r>>2]=i,i=0):i=-1,i|0}function $i(r){return r=r|0,r?(e[r>>1]=0,r=0):r=-1,r|0}function e1(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function u0(r,i,o,s,u,f,p,h,E,A,R,O){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0;var C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0;Er=he,he=he+240|0,ce=Er+160|0,le=Er+80|0,ur=Er,cr=e[3558+(i*18|0)>>1]|0,dr=e[3558+(i*18|0)+2>>1]|0,C=e[3558+(i*18|0)+4>>1]|0,hr=e[3558+(i*18|0)+6>>1]|0,D=e[3558+(i*18|0)+12>>1]|0,k=e[3558+(i*18|0)+14>>1]|0,b=e[3558+(i*18|0)+16>>1]|0;e:do switch(h<<16>>16){case 0:case 80:if(i>>>0<2&h<<16>>16==80){gr=(ae[r>>1]|0)-(D&65535)|0,gr=(gr<<16>>16|0)<(b<<16>>16|0)?b:gr&65535,Dt=k<<16>>16,mr=(gr&65535)+Dt&65535,sr=mr<<16>>16>143,gr=sr?143-Dt&65535:gr,mr=sr?143:mr,sr=1;break e}else{gr=(ae[o+((h<<16>>16!=0&1)<<1)>>1]|0)-(ae[3558+(i*18|0)+8>>1]|0)|0,gr=(gr<<16>>16|0)<(b<<16>>16|0)?b:gr&65535,Dt=e[3558+(i*18|0)+10>>1]|0,mr=(gr&65535)+Dt&65535,sr=mr<<16>>16>143,gr=sr?143-Dt&65535:gr,mr=sr?143:mr,sr=0;break e}default:gr=(ae[r>>1]|0)-(D&65535)|0,gr=(gr<<16>>16|0)<(b<<16>>16|0)?b:gr&65535,Dt=k<<16>>16,mr=(gr&65535)+Dt&65535,sr=mr<<16>>16>143,gr=sr?143-Dt&65535:gr,mr=sr?143:mr,sr=1}while(0);if(ir=gr&65535,h=ir+65532|0,K=h&65535,Nt=(mr&65535)+4&65535,Dt=h<<16>>16,h=0-(h&65535)|0,D=h&65535,qo(s+(h<<16>>16<<1)|0,f,ce,p),h=p<<16>>16,Ze=h>>>1&65535,Te=Ze<<16>>16==0,Te)p=1;else{for(p=Ze,b=ce,o=le,k=0;ft=e[b>>1]|0,e[o>>1]=ft>>>2,ft=(Z(ft,ft)|0)+k|0,k=e[b+2>>1]|0,e[o+2>>1]=k>>>2,k=ft+(Z(k,k)|0)|0,p=p+-1<<16>>16,p<<16>>16;)b=b+4|0,o=o+4|0;p=(k|0)<33554433}ft=p?0:2,We=p?ce:le,Ee=p?ce:le;e:do if(K<<16>>16<=Nt<<16>>16){if(de=h+-1|0,qt=We+(de<<1)|0,rr=f+(de<<1)|0,Pt=We+(h+-2<<1)|0,Ge=de>>>1,gt=Ge&65535,je=gt<<16>>16==0,Rt=p?12:14,Ge=(Ge<<1)+131070&131070,o=h+-3-Ge|0,pe=We+(o<<1)|0,Ge=We+(h+-4-Ge<<1)|0,f=f+(o<<1)|0,!Te)for(Te=Dt;;){for(le=Ze,ce=Ee,b=u,k=0,p=0;le=le+-1<<16>>16,h=e[ce>>1]|0,k=(Z(h,e[b>>1]|0)|0)+k|0,h=(Z(h,h)|0)+p|0,p=e[ce+2>>1]|0,k=k+(Z(p,e[b+2>>1]|0)|0)|0,p=h+(Z(p,p)|0)|0,le<<16>>16;)ce=ce+4|0,b=b+4|0;if(ce=eo(p<<1,O)|0,p=ce>>16,b=k<<1>>16,le=Z(p,b)|0,le=(le|0)==1073741824?2147483647:le<<1,b=(Z((ce>>>1)-(p<<15)<<16>>16,b)|0)>>15,ce=(b<<1)+le|0,ce=(b^le|0)>0&(ce^le|0)<0?(le>>>31)+2147483647|0:ce,p=(Z(p,k&32767)|0)>>15,le=ce+(p<<1)|0,e[ur+(Te-Dt<<1)>>1]=(ce^p|0)>0&(le^ce|0)<0?(ce>>>31)+65535|0:le,K<<16>>16!=Nt<<16>>16){if(D=D+-1<<16>>16,le=e[s+(D<<16>>16<<1)>>1]|0,je)ce=de,p=Pt,k=rr,b=qt;else for(ce=gt,p=Pt,k=rr,b=qt;;)if(Te=(Z(e[k>>1]|0,le)|0)>>Rt,e[b>>1]=Te+(ae[p>>1]|0),Te=(Z(e[k+-2>>1]|0,le)|0)>>Rt,e[b+-2>>1]=Te+(ae[p+-2>>1]|0),ce=ce+-1<<16>>16,ce<<16>>16)p=p+-4|0,k=k+-4|0,b=b+-4|0;else{ce=o,p=Ge,k=f,b=pe;break}Te=(Z(e[k>>1]|0,le)|0)>>Rt,e[b>>1]=Te+(ae[p>>1]|0),e[We+(ce+-1<<1)>>1]=le>>ft}if(K=K+1<<16>>16,K<<16>>16>Nt<<16>>16)break e;Te=K<<16>>16}if(je)for(p=We+(h+-2<<1)|0,k=Dt;;){if(eo(0,O)|0,e[ur+(k-Dt<<1)>>1]=0,K<<16>>16!=Nt<<16>>16&&(D=D+-1<<16>>16,u=e[s+(D<<16>>16<<1)>>1]|0,gt=(Z(e[rr>>1]|0,u)|0)>>Rt,e[qt>>1]=gt+(ae[Pt>>1]|0),e[p>>1]=u>>ft),K=K+1<<16>>16,K<<16>>16>Nt<<16>>16)break e;k=K<<16>>16}for(ce=We+(o+-1<<1)|0,p=Dt;;){if(eo(0,O)|0,e[ur+(p-Dt<<1)>>1]=0,K<<16>>16!=Nt<<16>>16){for(D=D+-1<<16>>16,p=e[s+(D<<16>>16<<1)>>1]|0,k=gt,b=Pt,o=rr,h=qt;u=(Z(e[o>>1]|0,p)|0)>>Rt,e[h>>1]=u+(ae[b>>1]|0),u=(Z(e[o+-2>>1]|0,p)|0)>>Rt,e[h+-2>>1]=u+(ae[b+-2>>1]|0),k=k+-1<<16>>16,k<<16>>16;)b=b+-4|0,o=o+-4|0,h=h+-4|0;u=(Z(e[f>>1]|0,p)|0)>>Rt,e[pe>>1]=u+(ae[Ge>>1]|0),e[ce>>1]=p>>ft}if(K=K+1<<16>>16,K<<16>>16>Nt<<16>>16)break;p=K<<16>>16}}while(0);if(K=gr<<16>>16,o=ir+1&65535,o<<16>>16>mr<<16>>16)f=gr;else for(D=gr,h=e[ur+(K-Dt<<1)>>1]|0;;)if(k=e[ur+((o<<16>>16)-Dt<<1)>>1]|0,b=k<<16>>16<h<<16>>16,D=b?D:o,o=o+1<<16>>16,o<<16>>16>mr<<16>>16){f=D;break}else h=b?h:k;e:do if(!(sr<<16>>16)&&f<<16>>16>cr<<16>>16)o=f,C=0;else{if(!(i>>>0<4&sr<<16>>16!=0)){if(D=ur+((f<<16>>16)-Dt<<1)|0,k=so(D,C,dr,O)|0,o=(C&65535)+1&65535,o<<16>>16<=hr<<16>>16)for(;b=so(D,o,dr,O)|0,h=b<<16>>16>k<<16>>16,C=h?o:C,o=o+1<<16>>16,!(o<<16>>16>hr<<16>>16);)k=h?b:k;if((i+-7|0)>>>0<2){hr=C<<16>>16==-3,o=(hr<<31>>31)+f<<16>>16,C=hr?3:C;break}switch(C<<16>>16){case-2:{o=f+-1<<16>>16,C=1;break e}case 2:{o=f+1<<16>>16,C=-1;break e}default:{o=f;break e}}}if(cr=e[r>>1]|0,cr=((cr<<16>>16)-K|0)>5?K+5&65535:cr,h=mr<<16>>16,cr=(h-(cr<<16>>16)|0)>4?h+65532&65535:cr,h=f<<16>>16,o=cr<<16>>16,(h|0)==(o+-1|0)||f<<16>>16==cr<<16>>16){if(D=ur+(h-Dt<<1)|0,h=so(D,C,dr,O)|0,o=(C&65535)+1&65535,o<<16>>16<=hr<<16>>16)for(;k=so(D,o,dr,O)|0,b=k<<16>>16>h<<16>>16,C=b?o:C,o=o+1<<16>>16,!(o<<16>>16>hr<<16>>16);)h=b?k:h;if((i+-7|0)>>>0<2){hr=C<<16>>16==-3,o=(hr<<31>>31)+f<<16>>16,C=hr?3:C;break}switch(C<<16>>16){case-2:{o=f+-1<<16>>16,C=1;break e}case 2:{o=f+1<<16>>16,C=-1;break e}default:{o=f;break e}}}if((h|0)==(o+-2|0)){if(o=ur+(h-Dt<<1)|0,h=so(o,0,dr,O)|0,(i|0)!=8){for(C=0,D=1;k=so(o,D,dr,O)|0,b=k<<16>>16>h<<16>>16,C=b?D:C,D=D+1<<16>>16,!(D<<16>>16>hr<<16>>16);)h=b?k:h;if((i+-7|0)>>>0>=2)switch(C<<16>>16){case-2:{o=f+-1<<16>>16,C=1;break e}case 2:{o=f+1<<16>>16,C=-1;break e}default:{o=f;break e}}}else C=0;hr=C<<16>>16==-3,o=(hr<<31>>31)+f<<16>>16,C=hr?3:C;break}if((h|0)==(o+1|0)){if(D=ur+(h-Dt<<1)|0,o=so(D,C,dr,O)|0,h=(C&65535)+1&65535,h<<16>>16<=0)for(;b=so(D,h,dr,O)|0,k=b<<16>>16>o<<16>>16,C=k?h:C,h=h+1<<16>>16,!(h<<16>>16>0);)o=k?b:o;if((i+-7|0)>>>0<2){hr=C<<16>>16==-3,o=(hr<<31>>31)+f<<16>>16,C=hr?3:C;break}switch(C<<16>>16){case-2:{o=f+-1<<16>>16,C=1;break e}case 2:{o=f+1<<16>>16,C=-1;break e}default:{o=f;break e}}}else o=f,C=0}while(0);return(i+-7|0)>>>0>1?(hr=r,r=zs(o,C,e[r>>1]|0,gr,mr,sr,i>>>0<4&1,O)|0,e[R>>1]=r,e[hr>>1]=o,e[A>>1]=dr,e[E>>1]=C,he=Er,o|0):(O=Vs(o,C,gr,sr,O)|0,e[R>>1]=O,e[r>>1]=o,e[A>>1]=dr,e[E>>1]=C,he=Er,o|0)}function ci(r,i,o,s,u,f,p,h,E){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0;var A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0;Ge=he,he=he+1200|0,Ze=Ge+1188|0,We=Ge+580|0,pe=Ge+578|0,je=Ge+576|0,le=Ge,Ee=Ge+582|0,de=(h|0)!=0;do if(de)if(i>>>0<2){di(r,1,E);break}else{di(r,0,E);break}while(0);Te=u<<16>>16,O=0-Te|0,R=o+(O<<1)|0,O=O&65535,D=f<<16>>16;do if(O<<16>>16<f<<16>>16){for(k=O,b=R,O=0;K=e[b>>1]|0,O=(Z(K<<1,K)|0)+O|0,!((O|0)<0);)if(k=k+1<<16>>16,k<<16>>16>=f<<16>>16){ce=14;break}else b=b+2|0;if((ce|0)==14){if((O|0)<1048576){ce=15;break}Tn(Ee|0,R|0,D+Te<<1|0)|0,K=0;break}if(A=D+Te|0,C=A>>>1,k=C&65535,!(k<<16>>16))O=Ee;else{for(K=((C<<1)+131070&131070)+2|0,D=K-Te|0,b=Ee;e[b>>1]=(e[R>>1]|0)>>>3,e[b+2>>1]=(e[R+2>>1]|0)>>>3,k=k+-1<<16>>16,k<<16>>16;)R=R+4|0,b=b+4|0;R=o+(D<<1)|0,O=Ee+(K<<1)|0}A&1&&(e[O>>1]=(e[R>>1]|0)>>>3),K=3}else ce=15;while(0);if((ce|0)==15){if(K=D+Te|0,O=K>>>1,C=O&65535,!(C<<16>>16))O=Ee;else{for(D=((O<<1)+131070&131070)+2|0,b=D-Te|0,k=Ee;e[k>>1]=e[R>>1]<<3,e[k+2>>1]=e[R+2>>1]<<3,C=C+-1<<16>>16,C<<16>>16;)R=R+4|0,k=k+4|0;R=o+(b<<1)|0,O=Ee+(D<<1)|0}K&1&&(e[O>>1]=e[R>>1]<<3),K=-3}return D=le+(Te<<2)|0,b=Ee+(Te<<1)|0,ji(b,f,u,s,D),A=(i|0)==7&1,O=s<<16>>16,R=O<<2,(R|0)!=(O<<18>>16|0)&&(d[E>>2]=1,R=s<<16>>16>0?32767:-32768),k=li(r,D,b,K,A,f,u,R&65535,Ze,h,E)|0,O=O<<1,C=li(r,D,b,K,A,f,R+65535&65535,O&65535,We,h,E)|0,O=li(r,D,b,K,A,f,O+65535&65535,s,pe,h,E)|0,p<<16>>16==1&de&&(Xi(D,b,f,u,s,je,E)|0,c1(r,e[je>>1]|0)),R=e[Ze>>1]|0,A=e[We>>1]|0,((R<<16>>16)*55706>>16|0)>=(A<<16>>16|0)?(We=R,Ze=k,We=We<<16>>16,We=We*55706|0,We=We>>16,pe=e[pe>>1]|0,pe=pe<<16>>16,pe=(We|0)<(pe|0),pe=pe?O:Ze,he=Ge,pe|0):(e[Ze>>1]=A,We=A,Ze=C,We=We<<16>>16,We=We*55706|0,We=We>>16,pe=e[pe>>1]|0,pe=pe<<16>>16,pe=(We|0)<(pe|0),pe=pe?O:Ze,he=Ge,pe|0)}function li(r,i,o,s,u,f,p,h,E,A,R){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0;var O=0,C=0,b=0,k=0,D=0;if(p<<16>>16<h<<16>>16)h=-2147483648,b=p;else for(b=p,O=-2147483648,C=i+(0-(p<<16>>16)<<2)|0,i=p;;)if(p=d[C>>2]|0,D=(p|0)<(O|0),i=D?i:b,O=D?O:p,b=b+-1<<16>>16,b<<16>>16<h<<16>>16){h=O,b=i;break}else C=C+4|0;if(i=f<<16>>16>>>2&65535,!(i<<16>>16))i=0;else{for(O=i,p=o+(0-(b<<16>>16)<<1)|0,i=0;D=e[p>>1]|0,D=(Z(D,D)|0)+i|0,i=e[p+2>>1]|0,i=D+(Z(i,i)|0)|0,D=e[p+4>>1]|0,D=i+(Z(D,D)|0)|0,i=e[p+6>>1]|0,i=D+(Z(i,i)|0)|0,O=O+-1<<16>>16,O<<16>>16;)p=p+8|0;i=i<<1}if(A&&l1(r,h,i,R),i=eo(i,R)|0,p=u<<16>>16!=0,p&&(i=(i|0)>1073741823?2147483647:i<<1),u=h>>16,r=i>>16,R=Z(r,u)|0,R=(R|0)==1073741824?2147483647:R<<1,i=(Z((i>>>1)-(r<<15)<<16>>16,u)|0)>>15,D=(i<<1)+R|0,D=(i^R|0)>0&(D^R|0)<0?(R>>>31)+2147483647|0:D,u=(Z(r,(h>>>1)-(u<<15)<<16>>16)|0)>>15,i=D+(u<<1)|0,i=(D^u|0)>0&(i^D|0)<0?(D>>>31)+2147483647|0:i,!p)return e[E>>1]=i,b|0;if(p=s<<16>>16,s<<16>>16>0?s<<16>>16<31?(p=i>>p,k=16):p=0:(k=0-p<<16>>16,p=i<<k,p=(p>>k|0)==(i|0)?p:i>>31^2147483647,k=16),(k|0)==16){if((p|0)>65535)return e[E>>1]=32767,b|0;if((p|0)<-65536)return e[E>>1]=-32768,b|0}return e[E>>1]=p>>>1,b|0}function f0(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(6)|0,!i)?(r=-1,r|0):(e[i>>1]=40,e[i+2>>1]=0,e[i+4>>1]=0,d[r>>2]=i,r=0,r|0)}function d0(r){return r=r|0,r?(e[r>>1]=40,e[r+2>>1]=0,e[r+4>>1]=0,r=0,r|0):(r=-1,r|0)}function p0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function h0(r,i,o,s,u,f,p,h,E,A,R){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0;var O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0;if(Rt=he,he=he+1200|0,Te=Rt+1186|0,Ee=Rt+1184|0,gt=Rt+1182|0,le=Rt,je=Rt+576|0,de=u<<16>>16,Ge=je+(de<<1)|0,O=(0-de&65535)<<16>>16<f<<16>>16,O){D=0-u<<16>>16<<16>>16,C=0;do k=e[o+(D<<1)>>1]|0,k=Z(k,k)|0,(k|0)!=1073741824?(b=(k<<1)+C|0,(k^C|0)>0&(b^C|0)<0?(d[R>>2]=1,C=(C>>>31)+2147483647|0):C=b):(d[R>>2]=1,C=2147483647),D=D+1|0;while((D&65535)<<16>>16!=f<<16>>16)}else C=0;if((2147483646-C&C|0)>=0)if((C|0)==2147483647){if(O){C=0-u<<16>>16<<16>>16;do e[je+(C+de<<1)>>1]=Xr(e[o+(C<<1)>>1]|0,3,R)|0,C=C+1|0;while((C&65535)<<16>>16!=f<<16>>16)}}else K=14;else d[R>>2]=1,K=14;do if((K|0)==14){if((1048575-C&C|0)<0?(d[R>>2]=1,C=(C>>>31)+2147483647|0):C=C+-1048576|0,(C|0)>=0){if(!O)break;pe=0-u<<16>>16<<16>>16,Tn(je+(de+pe<<1)|0,o+(pe<<1)|0,(((f+u<<16>>16)+-1&65535)<<1)+2|0)|0;break}if(O){C=0-u<<16>>16<<16>>16;do pe=e[o+(C<<1)>>1]|0,e[je+(C+de<<1)>>1]=(pe<<19>>19|0)==(pe|0)?pe<<3:pe>>>15^32767,C=C+1|0;while((C&65535)<<16>>16!=f<<16>>16)}}while(0);Ze=le+(de<<2)|0,ji(Ge,f,u,s,Ze),D=e[r>>1]|0,pe=r+4|0,We=h+(E<<16>>16<<1)|0;e:do if(u<<16>>16<s<<16>>16)ce=u;else{if((e[pe>>1]|0)<=0)for(o=u,h=-2147483648,k=u,K=3402;;)if(Nn(d[le+(de-(o<<16>>16)<<2)>>2]|0,Te,Ee,R),b=e[Ee>>1]|0,C=e[K>>1]|0,D=Z(C,e[Te>>1]|0)|0,(D|0)==1073741824?(d[R>>2]=1,O=2147483647):O=D<<1,ce=(Z(C,b<<16>>16)|0)>>15,D=O+(ce<<1)|0,(O^ce|0)>0&(D^O|0)<0&&(d[R>>2]=1,D=(O>>>31)+2147483647|0),b=(D|0)<(h|0),k=b?k:o,o=o+-1<<16>>16,o<<16>>16<s<<16>>16){ce=k;break e}else h=b?h:D,K=K+-2|0;for(h=u,O=-2147483648,k=u,ce=2902+(de+123-(D<<16>>16)<<1)|0,o=3402;;)if(Nn(d[le+(de-(h<<16>>16)<<2)>>2]|0,Te,Ee,R),K=e[Ee>>1]|0,b=e[o>>1]|0,D=Z(b,e[Te>>1]|0)|0,(D|0)==1073741824?(d[R>>2]=1,C=2147483647):C=D<<1,K=(Z(b,K<<16>>16)|0)>>15,D=C+(K<<1)|0,(C^K|0)>0&(D^C|0)<0&&(d[R>>2]=1,D=(C>>>31)+2147483647|0),Nn(D,Te,Ee,R),K=e[Ee>>1]|0,b=e[ce>>1]|0,D=Z(b,e[Te>>1]|0)|0,(D|0)==1073741824?(d[R>>2]=1,C=2147483647):C=D<<1,K=(Z(b,K<<16>>16)|0)>>15,D=C+(K<<1)|0,(C^K|0)>0&(D^C|0)<0&&(d[R>>2]=1,D=(C>>>31)+2147483647|0),b=(D|0)<(O|0),k=b?k:h,h=h+-1<<16>>16,h<<16>>16<s<<16>>16){ce=k;break}else O=b?O:D,ce=ce+-2|0,o=o+-2|0}while(0);if(f<<16>>16>0)for(h=0,o=Ge,K=je+(de-(ce<<16>>16)<<1)|0,k=0,C=0;D=e[K>>1]|0,b=Z(D,e[o>>1]|0)|0,(b|0)!=1073741824?(O=(b<<1)+k|0,(b^k|0)>0&(O^k|0)<0?(d[R>>2]=1,k=(k>>>31)+2147483647|0):k=O):(d[R>>2]=1,k=2147483647),O=Z(D,D)|0,(O|0)!=1073741824?(b=(O<<1)+C|0,(O^C|0)>0&(b^C|0)<0?(d[R>>2]=1,C=(C>>>31)+2147483647|0):C=b):(d[R>>2]=1,C=2147483647),h=h+1<<16>>16,!(h<<16>>16>=f<<16>>16);)o=o+2|0,K=K+2|0;else k=0,C=0;return b=(A|0)==0,b||(di(i,0,R),l1(i,k,C,R)),O=(Mr(C,R)|0)<<16>>16,(O*13107|0)==1073741824?(d[R>>2]=1,C=2147483647):C=O*26214|0,O=k-C|0,((O^k)&(C^k)|0)<0&&(d[R>>2]=1,O=(k>>>31)+2147483647|0),A=Mr(O,R)|0,e[We>>1]=A,A<<16>>16>0?(O=p+6|0,e[p+8>>1]=e[O>>1]|0,A=p+4|0,e[O>>1]=e[A>>1]|0,O=p+2|0,e[A>>1]=e[O>>1]|0,e[O>>1]=e[p>>1]|0,e[p>>1]=ce,e[r>>1]=po(p,5)|0,e[r+2>>1]=32767,O=32767):(e[r>>1]=ce,r=r+2|0,O=((e[r>>1]|0)*29491|0)>>>15&65535,e[r>>1]=O),e[pe>>1]=((Rr(O,9830,R)|0)&65535)>>>15^1,b||(Rr(E,1,R)|0)<<16>>16?(he=Rt,ce|0):(Xi(Ze,Ge,f,u,s,gt,R)|0,c1(i,e[gt>>1]|0),he=Rt,ce|0)}function ui(r,i,o,s,u,f,p,h,E,A){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0;var R=0,O=0;A=he,he=he+48|0,O=A+22|0,R=A,i=r>>>0<6?i:o,o=f<<16>>16>0?22:0,r=u+(o<<1)|0,Vn(r,i,O),Vn(r,s,R),r=f<<16>>16,f=E+(r<<1)|0,Io(O,p+(r<<1)|0,f,40),dn(R,f,f,40,h,1),o=u+(((o<<16)+720896|0)>>>16<<1)|0,Vn(o,i,O),Vn(o,s,R),r=(r<<16)+2621440>>16,E=E+(r<<1)|0,Io(O,p+(r<<1)|0,E,40),dn(R,E,E,40,h,1),he=A}function m0(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(12)|0,!i)?(r=-1,r|0):(e[i>>1]=0,e[i+2>>1]=0,e[i+4>>1]=0,e[i+6>>1]=0,e[i+8>>1]=0,e[i+10>>1]=0,d[r>>2]=i,r=0,r|0)}function g0(r){return r=r|0,r?(e[r>>1]=0,e[r+2>>1]=0,e[r+4>>1]=0,e[r+6>>1]=0,e[r+8>>1]=0,e[r+10>>1]=0,r=0,r|0):(r=-1,r|0)}function t1(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function v0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0;if(O=r+10|0,u=e[O>>1]|0,C=r+8|0,s=e[C>>1]|0,!(o<<16>>16)){r=s,R=u,e[O>>1]=R,e[C>>1]=r;return}for(h=r+4|0,E=r+6|0,A=r+2|0,p=e[E>>1]|0,R=e[h>>1]|0,f=o,o=u;b=(Z(e[r>>1]|0,-3733)|0)+(((R<<16>>16)*7807|0)+((p<<16>>16)*7807>>15))|0,e[r>>1]=R,b=b+((Z(e[A>>1]|0,-3733)|0)>>15)|0,e[A>>1]=p,b=((o<<16>>16)*1899|0)+b+(Z(s<<16>>16,-3798)|0)|0,o=e[i>>1]|0,b=b+((o<<16>>16)*1899|0)|0,e[i>>1]=(b+2048|0)>>>12,u=b>>>12,R=u&65535,e[h>>1]=R,p=(b<<3)-(u<<15)&65535,e[E>>1]=p,f=f+-1<<16>>16,f<<16>>16;)b=s,i=i+2|0,s=o,o=b;e[O>>1]=s,e[C>>1]=o}function E0(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0;if(u=e[(d[s+88>>2]|0)+(r<<1)>>1]|0,!!(u<<16>>16))for(h=o,p=d[(d[s+92>>2]|0)+(r<<2)>>2]|0;;){if(o=e[p>>1]|0,!(o<<16>>16))o=0;else{for(r=e[i>>1]|0,f=o,s=h+((o<<16>>16)+-1<<1)|0;o=r<<16>>16,e[s>>1]=o&1,f=f+-1<<16>>16,f<<16>>16;)r=o>>>1&65535,s=s+-2|0;o=e[p>>1]|0}if(i=i+2|0,u=u+-1<<16>>16,u<<16>>16)h=h+(o<<16>>16<<1)|0,p=p+2|0;else break}}function y0(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0;if(R=he,he=he+16|0,E=R+2|0,A=R,p=u<<16>>16,u<<16>>16<1){f=-5443,A=-32768,zn(r,A,f),he=R;return}if(h=Pn(14,o,f)|0,(p|0)<(h<<16>>16|0)?o=s:(o=(s&65535)+1&65535,u=p>>>1&65535),s=an(u,h&65535)|0,e[A>>1]=s,co(s<<16>>16,E,A,f),e[E>>1]=((((o&65535)-(i&65535)<<16)+-65536|0)>>>16)+(ae[E>>1]|0),s=Do(e[A>>1]|0,5,f)|0,p=e[E>>1]|0,s=((p&65535)<<10)+(s&65535)&65535,s<<16>>16>18284){f=3037,A=18284,zn(r,A,f),he=R;return}u=e[A>>1]|0,p=p<<16>>16,(p*24660|0)==1073741824?(d[f>>2]=1,o=2147483647):o=p*49320|0,A=(u<<16>>16)*24660>>15,p=o+(A<<1)|0,(o^A|0)>0&(p^o|0)<0&&(d[f>>2]=1,p=(o>>>31)+2147483647|0),A=p<<13,f=Mr((A>>13|0)==(p|0)?A:p>>31^2147483647,f)|0,A=s,zn(r,A,f),he=R}function _0(r,i,o,s,u,f,p,h,E,A,R,O,C,b,k,D,K,ce,le,Te){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0,b=b|0,k=k|0,D=D|0,K=K|0,ce=ce|0,le=le|0,Te=Te|0;var Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0,wr=0,Hr=0,Lr=0,qr=0,Wr=0,Br=0,Qr=0,zr=0,ln=0,Vr=0;for(Vr=he,he=he+80|0,Br=Vr+66|0,Qr=Vr+64|0,zr=Vr+62|0,ln=Vr+60|0,cr=Vr+40|0,ur=Vr+20|0,ir=Vr,e[Br>>1]=i,e[Qr>>1]=E,e[zr>>1]=A,Nt=Pn(14,o,Te)|0,Wr=Nt&65535,e[ln>>1]=Wr,Dt=Pn(14,A,Te)|0,ft=(ae[s>>1]|0)+65523|0,e[ir>>1]=ft,Ge=(ae[s+2>>1]|0)+65522|0,gt=ir+2|0,e[gt>>1]=Ge,Rt=((i&65535)<<16)+-720896|0,We=Rt>>16,Rt=(Rt>>>15)+15+(ae[s+4>>1]|0)|0,qt=ir+4|0,e[qt>>1]=Rt,rr=(ae[s+6>>1]|0)+We|0,Pt=ir+6|0,e[Pt>>1]=rr,We=We+1+(ae[s+8>>1]|0)|0,Ze=ir+8|0,e[Ze>>1]=We,Ee=(ae[R>>1]|0)+65523&65535,e[ir+10>>1]=Ee,pe=(ae[R+2>>1]|0)+65522&65535,e[ir+12>>1]=pe,de=((E&65535)<<16)+-720896|0,s=de>>16,de=(de>>>15)+15+(ae[R+4>>1]|0)&65535,e[ir+14>>1]=de,je=(ae[R+6>>1]|0)+s&65535,e[ir+16>>1]=je,s=s+1+(ae[R+8>>1]|0)&65535,e[ir+18>>1]=s,Lr=(f&65535)-(C&65535)<<16,E=Lr>>16,(Lr|0)>0?(A=p,o=b<<16>>16>>E&65535):(A=p<<16>>16>>0-E&65535,o=b),(Do(o,1,Te)|0)<<16>>16>A<<16>>16?o=1:o=(((A<<16>>16)+3>>2|0)>(o<<16>>16|0))<<31>>31,R=ft+o&65535,e[ir>>1]=R,Lr=Ge+o&65535,e[gt>>1]=Lr,Hr=Rt+o&65535,e[qt>>1]=Hr,wr=rr+o&65535,e[Pt>>1]=wr,Ut=We+o&65535,e[Ze>>1]=Ut,E=s<<16>>16>R<<16>>16?s:R,E=je<<16>>16>E<<16>>16?je:E,E=de<<16>>16>E<<16>>16?de:E,E=pe<<16>>16>E<<16>>16?pe:E,E=Ee<<16>>16>E<<16>>16?Ee:E,E=Ut<<16>>16>E<<16>>16?Ut:E,E=wr<<16>>16>E<<16>>16?wr:E,E=Hr<<16>>16>E<<16>>16?Hr:E,E=(Lr<<16>>16>E<<16>>16?Lr:E)+1&65535,s=0;;){if(o=E-(R&65535)|0,R=o&65535,A=ae[u>>1]<<16,o=o<<16>>16,R<<16>>16>0?R=R<<16>>16<31?A>>o:0:(Lr=0-o<<16>>16,R=A<<Lr,R=(R>>Lr|0)==(A|0)?R:A>>31^2147483647),Lr=R>>16,e[cr+(s<<1)>>1]=Lr,e[ur+(s<<1)>>1]=(R>>>1)-(Lr<<15),s=s+1|0,(s|0)==5){o=5,A=O;break}R=e[ir+(s<<1)>>1]|0,u=u+2|0}for(;s=E-(Ee&65535)|0,Ee=s&65535,R=ae[A>>1]<<16,s=s<<16>>16,Ee<<16>>16>0?R=Ee<<16>>16<31?R>>s:0:(Hr=0-s<<16>>16,Lr=R<<Hr,R=(Lr>>Hr|0)==(R|0)?Lr:R>>31^2147483647),Lr=R>>16,e[cr+(o<<1)>>1]=Lr,e[ur+(o<<1)>>1]=(R>>>1)-(Lr<<15),R=o+1|0,(R&65535)<<16>>16!=10;)Ee=e[ir+(R<<1)>>1]|0,o=R,A=A+2|0;hr=Nt<<16>>16,gr=e[cr>>1]|0,mr=e[ur>>1]|0,sr=e[cr+2>>1]|0,dr=e[ur+2>>1]|0,Er=e[cr+4>>1]|0,yr=e[ur+4>>1]|0,nr=e[cr+6>>1]|0,Ut=e[ur+6>>1]|0,wr=e[cr+8>>1]|0,Hr=e[ur+8>>1]|0,Lr=k&65535,C=Dt<<16>>16,f=e[cr+10>>1]|0,je=e[ur+10>>1]|0,de=e[cr+12>>1]|0,u=e[ur+12>>1]|0,o=e[cr+14>>1]|0,A=e[ur+14>>1]|0,s=e[cr+16>>1]|0,Ee=e[ur+16>>1]|0,We=e[cr+18>>1]|0,ur=e[ur+18>>1]|0,E=2147483647,cr=0,R=0,Ze=782;do ir=e[Ze>>1]|0,rr=(Z(hr,e[Ze+2>>1]|0)|0)>>>15<<16,O=rr>>16,Rt=ir<<1,ft=(Z(Rt,ir)|0)>>16,b=Z(ft,gr)|0,(b|0)==1073741824?(d[Te>>2]=1,Pt=2147483647):Pt=b<<1,Dt=(Z(mr,ft)|0)>>15,b=Pt+(Dt<<1)|0,(Pt^Dt|0)>0&(b^Pt|0)<0&&(d[Te>>2]=1,b=(Pt>>>31)+2147483647|0),ft=Z(sr,ir)|0,(ft|0)==1073741824?(d[Te>>2]=1,Pt=2147483647):Pt=ft<<1,Dt=(Z(dr,ir)|0)>>15,ft=Pt+(Dt<<1)|0,(Pt^Dt|0)>0&(ft^Pt|0)<0&&(d[Te>>2]=1,ft=(Pt>>>31)+2147483647|0),rr=(Z(rr>>15,O)|0)>>16,Pt=Z(Er,rr)|0,(Pt|0)==1073741824?(d[Te>>2]=1,qt=2147483647):qt=Pt<<1,Dt=(Z(yr,rr)|0)>>15,Pt=qt+(Dt<<1)|0,(qt^Dt|0)>0&(Pt^qt|0)<0&&(d[Te>>2]=1,Pt=(qt>>>31)+2147483647|0),rr=Z(nr,O)|0,(rr|0)==1073741824?(d[Te>>2]=1,qt=2147483647):qt=rr<<1,Dt=(Z(Ut,O)|0)>>15,rr=qt+(Dt<<1)|0,(qt^Dt|0)>0&(rr^qt|0)<0?(d[Te>>2]=1,Dt=(qt>>>31)+2147483647|0):Dt=rr,qt=(Z(Rt,O)|0)>>16,rr=Z(wr,qt)|0,(rr|0)==1073741824?(d[Te>>2]=1,Rt=2147483647):Rt=rr<<1,Nt=(Z(Hr,qt)|0)>>15,rr=Rt+(Nt<<1)|0,(Rt^Nt|0)>0&(rr^Rt|0)<0&&(d[Te>>2]=1,rr=(Rt>>>31)+2147483647|0),qt=e[Ze+4>>1]|0,Rt=e[Ze+6>>1]|0,Ze=Ze+8|0,(ir-Lr&65535)<<16>>16<1&&(qr=qt<<16>>16,qt<<16>>16<=k<<16>>16)&&(Ge=(Z(Rt<<16>>16,C)|0)>>>15<<16,ir=Ge>>16,pe=qr<<1,Rt=(Z(pe,qr)|0)>>16,qt=Z(f,Rt)|0,(qt|0)==1073741824?(d[Te>>2]=1,gt=2147483647):gt=qt<<1,Nt=(Z(je,Rt)|0)>>15,qt=gt+(Nt<<1)|0,(gt^Nt|0)>0&(qt^gt|0)<0&&(d[Te>>2]=1,qt=(gt>>>31)+2147483647|0),Rt=Z(de,qr)|0,(Rt|0)==1073741824?(d[Te>>2]=1,gt=2147483647):gt=Rt<<1,Nt=(Z(u,qr)|0)>>15,Rt=gt+(Nt<<1)|0,(gt^Nt|0)>0&(Rt^gt|0)<0?(d[Te>>2]=1,Nt=(gt>>>31)+2147483647|0):Nt=Rt,gt=(Z(Ge>>15,ir)|0)>>16,Rt=Z(o,gt)|0,(Rt|0)==1073741824?(d[Te>>2]=1,Ge=2147483647):Ge=Rt<<1,O=(Z(A,gt)|0)>>15,Rt=Ge+(O<<1)|0,(Ge^O|0)>0&(Rt^Ge|0)<0?(d[Te>>2]=1,O=(Ge>>>31)+2147483647|0):O=Rt,Rt=Z(s,ir)|0,(Rt|0)==1073741824?(d[Te>>2]=1,gt=2147483647):gt=Rt<<1,Ge=(Z(Ee,ir)|0)>>15,Rt=gt+(Ge<<1)|0,(gt^Ge|0)>0&(Rt^gt|0)<0?(d[Te>>2]=1,p=(gt>>>31)+2147483647|0):p=Rt,gt=(Z(pe,ir)|0)>>16,Rt=Z(We,gt)|0,(Rt|0)==1073741824?(d[Te>>2]=1,Ge=2147483647):Ge=Rt<<1,ir=(Z(ur,gt)|0)>>15,Rt=Ge+(ir<<1)|0,(Ge^ir|0)>0&(Rt^Ge|0)<0&&(d[Te>>2]=1,Rt=(Ge>>>31)+2147483647|0),ir=ft+b+Pt+Dt+rr+qt+Nt+O+p+Rt|0,Dt=(ir|0)<(E|0),E=Dt?ir:E,R=Dt?cr:R),cr=cr+1<<16>>16;while(cr<<16>>16<256);return k=(R&65535)<<18>>16,r1(r,782+(k<<1)|0,Wr,i,D,K,Te),To(r,0,h,Qr,zr,Br,ln,Te),h=(Pn(14,e[zr>>1]|0,Te)|0)&65535,r1(r,782+((k|2)<<1)|0,h,e[Qr>>1]|0,ce,le,Te),he=Vr,R|0}function r1(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0;if(R=he,he=he+16|0,E=R+2|0,A=R,e[u>>1]=e[i>>1]|0,h=e[i+2>>1]|0,o=Z(o<<16>>16<<1,h)|0,u=10-(s&65535)|0,i=u&65535,u=u<<16>>16,i<<16>>16>0?i=i<<16>>16<31?o>>u:0:(u=0-u<<16>>16,i=o<<u,i=(i>>u|0)==(o|0)?i:o>>31^2147483647),e[f>>1]=i>>>16,co(h,E,A,p),e[E>>1]=(ae[E>>1]|0)+65524,u=Do(e[A>>1]|0,5,p)|0,s=e[E>>1]|0,u=((s&65535)<<10)+(u&65535)&65535,o=e[A>>1]|0,s=s<<16>>16,(s*24660|0)==1073741824?(d[p>>2]=1,i=2147483647):i=s*49320|0,A=(o<<16>>16)*24660>>15,s=i+(A<<1)|0,!((i^A|0)>0&(s^i|0)<0)){p=s,p=p<<13,p=p+32768|0,p=p>>>16,p=p&65535,zn(r,u,p),he=R;return}d[p>>2]=1,p=(i>>>31)+2147483647|0,p=p<<13,p=p+32768|0,p=p>>>16,p=p&65535,zn(r,u,p),he=R}function T0(r,i,o,s,u,f,p,h,E,A,R,O,C,b,k,D,K,ce,le,Te,Ee){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0,b=b|0,k=k|0,D=D|0,K=K|0,ce=ce|0,le=le|0,Te=Te|0,Ee=Ee|0;var de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0,wr=0,Hr=0,Lr=0,qr=0,Wr=0,Br=0,Qr=0,zr=0,ln=0,Vr=0,tn=0,un=0,on=0,Kr=0;for(Kr=he,he=he+80|0,tn=Kr+72|0,un=Kr+70|0,on=Kr+68|0,ln=Kr+66|0,Vr=Kr+56|0,wr=Kr+24|0,Ut=Kr+12|0,yr=Kr+48|0,nr=Kr+40|0,gr=Kr+34|0,sr=Kr+22|0,ur=Kr+6|0,hr=Kr,n1(5,b,k,ur,hr,d[Te+72>>2]|0,Ee)|0,We=Pn(14,A,Ee)|0,mr=Te+68|0,cr=d[mr>>2]|0,Er=E<<16>>16,dr=Er+65526|0,b=(ae[f>>1]|0)+65523&65535,e[Vr>>1]=b,Te=(ae[f+2>>1]|0)+65522&65535,e[Vr+2>>1]=Te,Br=dr<<16>>16,Qr=((dr<<17>>17|0)==(Br|0)?dr<<1:Br>>>15^32767)+15+(ae[f+4>>1]|0)&65535,e[Vr+4>>1]=Qr,zr=(ae[f+6>>1]|0)+Br&65535,e[Vr+6>>1]=zr,f=Br+1+(ae[f+8>>1]|0)&65535,e[Vr+8>>1]=f,Te=Te<<16>>16>b<<16>>16?Te:b,Te=Qr<<16>>16>Te<<16>>16?Qr:Te,Te=zr<<16>>16>Te<<16>>16?zr:Te,Te=(lr(f<<16>>16>Te<<16>>16?f:Te,1,Ee)|0)&65535,f=b,b=0;A=Te-(f&65535)|0,f=A&65535,je=ae[u+(b<<1)>>1]<<16,A=A<<16>>16,f<<16>>16>0?A=f<<16>>16<31?je>>A:0:(zr=0-A<<16>>16,A=je<<zr,A=(A>>zr|0)==(je|0)?A:je>>31^2147483647),Nn(A,wr+(b<<1)|0,Ut+(b<<1)|0,Ee),A=b+1|0,(A|0)!=5;)f=e[Vr+(A<<1)>>1]|0,b=A;for(ir=wr+2|0,Dt=Ut+2|0,zr=We<<16>>16,Hr=wr+4|0,Lr=Ut+4|0,qr=wr+6|0,Wr=Ut+6|0,Br=wr+8|0,Qr=Ut+8|0,Ge=0,f=2147483647,u=0,A=0;;){Nt=e[ur+(u<<1)>>1]|0,We=Z(Nt,Nt)|0,We>>>0>1073741823?(d[Ee>>2]=1,We=32767):We=We>>>15,Te=e[Ut>>1]|0,je=We<<16>>16,We=Z(je,e[wr>>1]|0)|0,(We|0)==1073741824?(d[Ee>>2]=1,b=2147483647):b=We<<1,ft=(Z(Te<<16>>16,je)|0)>>15,We=b+(ft<<1)|0,(b^ft|0)>0&(We^b|0)<0&&(d[Ee>>2]=1,We=(b>>>31)+2147483647|0),Te=e[Dt>>1]|0,je=Z(e[ir>>1]|0,Nt)|0,(je|0)!=1073741824?(b=(je<<1)+We|0,(je^We|0)>0&(b^We|0)<0&&(d[Ee>>2]=1,b=(We>>>31)+2147483647|0)):(d[Ee>>2]=1,b=2147483647),We=(Z(Te<<16>>16,Nt)|0)>>15,(We|0)>32767&&(d[Ee>>2]=1,We=32767),ft=We<<16,We=(ft>>15)+b|0,(ft>>16^b|0)>0&(We^b|0)<0?(d[Ee>>2]=1,ft=(b>>>31)+2147483647|0):ft=We,rr=(ft>>>31)+2147483647|0,Pt=u&65535,We=Ge,Rt=0,qt=cr;do{je=(Z(e[qt>>1]|0,zr)|0)>>15,qt=qt+6|0,(je|0)>32767&&(d[Ee>>2]=1,je=32767),gt=je<<16>>16,je=Z(gt,gt)|0,(je|0)==1073741824?(d[Ee>>2]=1,pe=2147483647):pe=je<<1,Nn(pe,tn,un,Ee),je=Z(gt,Nt)|0,(je|0)==1073741824?(d[Ee>>2]=1,pe=2147483647):pe=je<<1,Nn(pe,on,ln,Ee),b=e[Lr>>1]|0,Ze=e[un>>1]|0,je=e[Hr>>1]|0,Te=e[tn>>1]|0,Ge=Z(Te,je)|0,(Ge|0)!=1073741824?(pe=(Ge<<1)+ft|0,(Ge^ft|0)>0&(pe^ft|0)<0&&(d[Ee>>2]=1,pe=rr)):(d[Ee>>2]=1,pe=2147483647),Ge=(Z(Ze<<16>>16,je)|0)>>15,(Ge|0)>32767&&(d[Ee>>2]=1,Ge=32767),Ze=Ge<<16,Ge=(Ze>>15)+pe|0,(Ze>>16^pe|0)>0&(Ge^pe|0)<0&&(d[Ee>>2]=1,Ge=(pe>>>31)+2147483647|0),pe=(Z(Te,b<<16>>16)|0)>>15,(pe|0)>32767&&(d[Ee>>2]=1,pe=32767),Ze=pe<<16,pe=(Ze>>15)+Ge|0,(Ze>>16^Ge|0)>0&(pe^Ge|0)<0&&(d[Ee>>2]=1,pe=(Ge>>>31)+2147483647|0),je=e[Wr>>1]|0,Ge=Z(e[qr>>1]|0,gt)|0,(Ge|0)!=1073741824?(Ze=(Ge<<1)+pe|0,(Ge^pe|0)>0&(Ze^pe|0)<0&&(d[Ee>>2]=1,Ze=(pe>>>31)+2147483647|0)):(d[Ee>>2]=1,Ze=2147483647),je=(Z(je<<16>>16,gt)|0)>>15,(je|0)>32767&&(d[Ee>>2]=1,je=32767),gt=je<<16,je=(gt>>15)+Ze|0,(gt>>16^Ze|0)>0&(je^Ze|0)<0&&(d[Ee>>2]=1,je=(Ze>>>31)+2147483647|0),Te=e[Qr>>1]|0,Ze=e[ln>>1]|0,b=e[Br>>1]|0,de=e[on>>1]|0,Ge=Z(de,b)|0;do if((Ge|0)==1073741824)d[Ee>>2]=1,Ge=2147483647;else{if(pe=(Ge<<1)+je|0,!((Ge^je|0)>0&(pe^je|0)<0)){Ge=pe;break}d[Ee>>2]=1,Ge=(je>>>31)+2147483647|0}while(0);pe=(Z(Ze<<16>>16,b)|0)>>15,(pe|0)>32767&&(d[Ee>>2]=1,pe=32767),gt=pe<<16,pe=(gt>>15)+Ge|0,(gt>>16^Ge|0)>0&(pe^Ge|0)<0&&(d[Ee>>2]=1,pe=(Ge>>>31)+2147483647|0),je=(Z(de,Te<<16>>16)|0)>>15,(je|0)>32767&&(d[Ee>>2]=1,je=32767),gt=je<<16,je=(gt>>15)+pe|0,(gt>>16^pe|0)>0&(je^pe|0)<0&&(d[Ee>>2]=1,je=(pe>>>31)+2147483647|0),gt=(je|0)<(f|0),We=gt?Rt:We,A=gt?Pt:A,f=gt?je:f,Rt=Rt+1<<16>>16}while(Rt<<16>>16<32);if(u=u+1|0,(u|0)==3){je=We,u=A;break}else Ge=We}if(Dt=(je<<16>>16)*3|0,f=e[cr+(Dt<<1)>>1]|0,e[K>>1]=e[cr+(Dt+1<<1)>>1]|0,e[ce>>1]=e[cr+(Dt+2<<1)>>1]|0,f=Z(f<<16>>16,zr)|0,(f|0)==1073741824?(d[Ee>>2]=1,We=2147483647):We=f<<1,Dt=9-Er|0,cr=Dt&65535,Dt=Dt<<16>>16,ir=cr<<16>>16>0,ir?We=cr<<16>>16<31?We>>Dt:0:(ft=0-Dt<<16>>16,Nt=We<<ft,We=(Nt>>ft|0)==(We|0)?Nt:We>>31^2147483647),e[D>>1]=We>>>16,Nt=u<<16>>16,ur=e[ur+(Nt<<1)>>1]|0,e[k>>1]=ur,hr=e[hr+(Nt<<1)>>1]|0,Ns(i,o,s,ur,R,yr,nr,gr,Ee),Ys(r,e[gr>>1]|0,e[D>>1]|0,sr,Ee),!((e[yr>>1]|0)!=0&(e[sr>>1]|0)>0)){Ee=je,K=d[le>>2]|0,D=K+2|0,e[K>>1]=hr,K=K+4|0,d[le>>2]=K,e[D>>1]=Ee,he=Kr;return}gt=yr+6|0,e[gt>>1]=h,pe=nr+6|0,e[pe>>1]=p,E=((Rr(C,E,Ee)|0)&65535)+10|0,Te=E<<16>>16,(E&65535)<<16>>16<0?(A=0-Te<<16,(A|0)<983040?O=O<<16>>16>>(A>>16)&65535:O=0):(A=O<<16>>16,b=A<<Te,(b<<16>>16>>Te|0)==(A|0)?O=b&65535:O=(A>>>15^32767)&65535),f=e[k>>1]|0,We=e[sr>>1]|0,mr=d[mr>>2]|0,b=e[D>>1]|0,sr=10-Er|0,Te=sr<<16>>16,(sr&65535)<<16>>16<0?(A=0-Te<<16,(A|0)<983040?h=b<<16>>16>>(A>>16)&65535:h=0):(A=b<<16>>16,b=A<<Te,(b<<16>>16>>Te|0)==(A|0)?h=b&65535:h=(A>>>15^32767)&65535),u=f<<16>>16,A=Z(u,u)|0,A>>>0>1073741823?(d[Ee>>2]=1,f=32767):f=A>>>15,je=lr(32767-(We&65535)&65535,1,Ee)|0,We=We<<16>>16,A=Z(e[yr+2>>1]|0,We)|0,(A|0)==1073741824?(d[Ee>>2]=1,A=2147483647):A=A<<1,sr=A<<1,A=Z(((sr>>1|0)==(A|0)?sr:A>>31^2147418112)>>16,f<<16>>16)|0,(A|0)==1073741824?(d[Ee>>2]=1,Ge=2147483647):Ge=A<<1,Ze=(ae[nr+2>>1]|0)+65521|0,Te=Ze&65535,A=Z(e[yr+4>>1]|0,We)|0,(A|0)==1073741824?(d[Ee>>2]=1,f=2147483647):f=A<<1,A=f<<1,A=(Z(((A>>1|0)==(f|0)?A:f>>31^2147418112)>>16,u)|0)>>15,(A|0)>32767&&(d[Ee>>2]=1,A=32767),e[Hr>>1]=A,f=dr&65535,e[tn>>1]=f,f=lr(e[nr+4>>1]|0,f,Ee)|0,A=Z(e[gt>>1]|0,We)|0,(A|0)==1073741824?(d[Ee>>2]=1,A=2147483647):A=A<<1,de=A<<1,e[qr>>1]=((de>>1|0)==(A|0)?de:A>>31^2147418112)>>>16,de=((Er<<17>>17|0)==(Er|0)?Er<<1:Er>>>15^32767)+65529&65535,e[tn>>1]=de,de=lr(e[pe>>1]|0,de,Ee)|0,A=(Z(e[gt>>1]|0,je<<16>>16)|0)>>15,(A|0)>32767&&(d[Ee>>2]=1,A=32767),e[Br>>1]=A,je=lr(de,1,Ee)|0,b=Z(e[yr>>1]|0,We)|0,(b|0)==1073741824?(d[Ee>>2]=1,A=2147483647):A=b<<1,pe=Ei(A,tn,Ee)|0,u=(ae[tn>>1]|0)+47|0,e[tn>>1]=u,u=(ae[nr>>1]|0)-(u&65535)|0,We=u+31&65535,We=Te<<16>>16>We<<16>>16?Te:We,We=f<<16>>16>We<<16>>16?f:We,We=de<<16>>16>We<<16>>16?de:We,We=(je<<16>>16>We<<16>>16?je:We)<<16>>16,b=We-(Ze&65535)|0,A=b&65535,b=b<<16>>16,A<<16>>16>0?ft=A<<16>>16<31?Ge>>b:0:(nr=0-b<<16>>16,ft=Ge<<nr,ft=(ft>>nr|0)==(Ge|0)?ft:Ge>>31^2147483647),Te=We-(f&65535)|0,A=Te&65535,b=ae[Hr>>1]<<16,Te=Te<<16>>16,A<<16>>16>0?b=A<<16>>16<31?b>>Te:0:(yr=0-Te<<16>>16,nr=b<<yr,b=(nr>>yr|0)==(b|0)?nr:b>>31^2147483647),Nn(b,Hr,Lr,Ee),de=We-(de&65535)|0,b=de&65535,Te=ae[qr>>1]<<16,de=de<<16>>16,b<<16>>16>0?b=b<<16>>16<31?Te>>de:0:(nr=0-de<<16>>16,b=Te<<nr,b=(b>>nr|0)==(Te|0)?b:Te>>31^2147483647),Nn(b,qr,Wr,Ee),de=We-(je&65535)|0,b=de&65535,Te=ae[Br>>1]<<16,de=de<<16>>16,b<<16>>16>0?b=b<<16>>16<31?Te>>de:0:(nr=0-de<<16>>16,b=Te<<nr,b=(b>>nr|0)==(Te|0)?b:Te>>31^2147483647),Nn(b,Br,Qr,Ee),de=We+65505|0,e[tn>>1]=de,de=de-(u&65535)|0,b=Xr(de&65535,1,Ee)|0,Te=b<<16>>16,b<<16>>16>0?Te=b<<16>>16<31?pe>>Te:0:(nr=0-Te<<16>>16,Te=pe<<nr,Te=(Te>>nr|0)==(pe|0)?Te:pe>>31^2147483647);do if(!(de&1))Ge=Te;else{if(Nn(Te,wr,Ut,Ee),b=e[Ut>>1]|0,Te=e[wr>>1]|0,(Te*23170|0)==1073741824?(d[Ee>>2]=1,de=2147483647):de=Te*46340|0,wr=(b<<16>>16)*23170>>15,Te=de+(wr<<1)|0,!((de^wr|0)>0&(Te^de|0)<0)){Ge=Te;break}d[Ee>>2]=1,Ge=(de>>>31)+2147483647|0}while(0);for(gt=(ft>>>31)+2147483647|0,pe=2147483647,Ze=0,Te=0,Rt=mr;b=(Z(e[Rt>>1]|0,zr)|0)>>15,Rt=Rt+6|0,(b|0)>32767&&(d[Ee>>2]=1,b=32767),de=b&65535,!(de<<16>>16>=h<<16>>16);){f=b<<16>>16,b=Z(f,f)|0,(b|0)==1073741824?(d[Ee>>2]=1,A=2147483647):A=b<<1,Nn(A,un,on,Ee),b=(Rr(de,O,Ee)|0)<<16>>16,b=Z(b,b)|0,(b|0)==1073741824?(d[Ee>>2]=1,b=2147483647):b=b<<1,Nn(b,ln,Vr,Ee),de=e[Lr>>1]|0,A=Z(e[Hr>>1]|0,f)|0;do if((A|0)==1073741824)d[Ee>>2]=1,A=2147483647;else{if(b=(A<<1)+ft|0,!((A^ft|0)>0&(b^ft|0)<0)){A=b;break}d[Ee>>2]=1,A=gt}while(0);b=(Z(de<<16>>16,f)|0)>>15,(b|0)>32767&&(d[Ee>>2]=1,b=32767),wr=b<<16,b=(wr>>15)+A|0,(wr>>16^A|0)>0&(b^A|0)<0&&(d[Ee>>2]=1,b=(A>>>31)+2147483647|0),u=e[Wr>>1]|0,je=e[on>>1]|0,f=e[qr>>1]|0,We=e[un>>1]|0,A=Z(We,f)|0;do if((A|0)==1073741824)d[Ee>>2]=1,de=2147483647;else{if(de=(A<<1)+b|0,!((A^b|0)>0&(de^b|0)<0))break;d[Ee>>2]=1,de=(b>>>31)+2147483647|0}while(0);A=(Z(je<<16>>16,f)|0)>>15,(A|0)>32767&&(d[Ee>>2]=1,A=32767),wr=A<<16,A=(wr>>15)+de|0,(wr>>16^de|0)>0&(A^de|0)<0&&(d[Ee>>2]=1,A=(de>>>31)+2147483647|0),b=(Z(We,u<<16>>16)|0)>>15,(b|0)>32767&&(d[Ee>>2]=1,b=32767),wr=b<<16,b=(wr>>15)+A|0,(wr>>16^A|0)>0&(b^A|0)<0&&(d[Ee>>2]=1,b=(A>>>31)+2147483647|0),b=Ei(b,tn,Ee)|0,de=Xr(e[tn>>1]|0,1,Ee)|0,A=de<<16>>16,de<<16>>16>0?de=de<<16>>16<31?b>>A:0:(wr=0-A<<16>>16,de=b<<wr,de=(de>>wr|0)==(b|0)?de:b>>31^2147483647),b=de-Ge|0,((b^de)&(de^Ge)|0)<0&&(d[Ee>>2]=1,b=(de>>>31)+2147483647|0),b=(Mr(b,Ee)|0)<<16>>16,b=Z(b,b)|0,(b|0)==1073741824?(d[Ee>>2]=1,de=2147483647):de=b<<1,We=e[Qr>>1]|0,f=e[Vr>>1]|0,je=e[Br>>1]|0,u=e[ln>>1]|0,A=Z(u,je)|0;do if((A|0)==1073741824)d[Ee>>2]=1,b=2147483647;else{if(b=(A<<1)+de|0,!((A^de|0)>0&(b^de|0)<0))break;d[Ee>>2]=1,b=(de>>>31)+2147483647|0}while(0);if(A=(Z(f<<16>>16,je)|0)>>15,(A|0)>32767&&(d[Ee>>2]=1,A=32767),wr=A<<16,A=(wr>>15)+b|0,(wr>>16^b|0)>0&(A^b|0)<0&&(d[Ee>>2]=1,A=(b>>>31)+2147483647|0),b=(Z(u,We<<16>>16)|0)>>15,(b|0)>32767&&(d[Ee>>2]=1,b=32767),wr=b<<16,b=(wr>>15)+A|0,(wr>>16^A|0)>0&(b^A|0)<0&&(d[Ee>>2]=1,b=(A>>>31)+2147483647|0),A=(b|0)<(pe|0),Te=A?Ze:Te,Ze=Ze+1<<16>>16,Ze<<16>>16>=32)break;pe=A?b:pe}on=(Te<<16>>16)*3|0,de=e[mr+(on<<1)>>1]|0,e[K>>1]=e[mr+(on+1<<1)>>1]|0,e[ce>>1]=e[mr+(on+2<<1)>>1]|0,de=Z(de<<16>>16,zr)|0,(de|0)==1073741824?(d[Ee>>2]=1,de=2147483647):de=de<<1,ir?de=cr<<16>>16<31?de>>Dt:0:(K=0-Dt<<16>>16,Ee=de<<K,de=(Ee>>K|0)==(de|0)?Ee:de>>31^2147483647),e[D>>1]=de>>>16,Ee=Te,K=d[le>>2]|0,D=K+2|0,e[K>>1]=hr,K=K+4|0,d[le>>2]=K,e[D>>1]=Ee,he=Kr}function A0(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0;for(C=(r|0)==7,E=e[s>>1]|0,C?(E=E<<16>>16>>>1&65535,O=Pn(i,o,h)|0,i=O<<16,r=i>>16,(O<<20>>20|0)==(r|0)?r=i>>12:r=r>>>15^32767):(O=Pn(i,o,h)|0,i=O<<16,r=i>>16,(O<<21>>21|0)==(r|0)?r=i>>11:r=r>>>15^32767),O=r<<16>>16,h=E<<16>>16,i=h-((Z(O,e[p>>1]|0)|0)>>>15&65535)|0,i=(i&32768|0?0-i|0:i)&65535,A=1,r=0,R=p;R=R+6|0,E=h-((Z(e[R>>1]|0,O)|0)>>>15&65535)|0,o=E<<16,E=(o|0)<0?0-(o>>16)|0:E,o=(E<<16>>16|0)<(i<<16>>16|0),r=o?A:r,A=A+1<<16>>16,!(A<<16>>16>=32);)i=o?E&65535:i;return R=(r<<16>>16)*196608>>16,e[s>>1]=(Z(e[p+(R<<1)>>1]|0,O)|0)>>>15<<(C&1),e[u>>1]=e[p+(R+1<<1)>>1]|0,e[f>>1]=e[p+(R+2<<1)>>1]|0,r|0}function n1(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0;for(h=Rr(e[o>>1]|0,e[f>>1]|0,p)|0,h=(h&65535)-((h&65535)>>>15&65535)|0,h=(h<<16>>31^h)&65535,A=0,R=1;E=e[f+(R<<1)>>1]|0,E<<16>>16>i<<16>>16?E=h:(E=Rr(e[o>>1]|0,E,p)|0,E=(E&65535)-((E&65535)>>>15&65535)|0,E=(E<<16>>31^E)&65535,C=E<<16>>16<h<<16>>16,E=C?E:h,A=C?R&65535:A),R=R+1|0,(R|0)!=16;)h=E;if((r|0)!=5)return h=e[f+(A<<16>>16<<1)>>1]|0,(r|0)==7?(e[o>>1]=h&65532,A|0):(e[o>>1]=h,A|0);switch(E=A<<16>>16,A<<16>>16){case 0:{h=0;break}case 15:{O=8;break}default:(e[f+(E+1<<1)>>1]|0)>i<<16>>16?O=8:h=E+65535&65535}return(O|0)==8&&(h=E+65534&65535),e[u>>1]=h,C=h<<16>>16,e[s>>1]=e[f+(C<<1)>>1]|0,C=C+1|0,e[u+2>>1]=C,C=C<<16>>16,e[s+2>>1]=e[f+(C<<1)>>1]|0,C=C+1|0,e[u+4>>1]=C,e[s+4>>1]=e[f+(C<<16>>16<<1)>>1]|0,e[o>>1]=e[f+(E<<1)>>1]|0,A|0}function I0(r,i,o,s,u,f,p,h,E,A,R,O){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0;var C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0;switch(ft=he,he=he+32|0,k=ft+20|0,D=ft+10|0,b=ft,r|0){case 3:case 4:case 6:{R=R+84|0,Pt=128;break}default:R=R+80|0,Pt=64}for(rr=d[R>>2]|0,C=Pn(14,o,O)|0,qt=i<<16>>16,Rt=qt+65525|0,r=(ae[u>>1]|0)+65523&65535,e[b>>1]=r,i=(ae[u+2>>1]|0)+65522&65535,e[b+2>>1]=i,gt=Rt<<16>>16,gt=lr(e[u+4>>1]|0,((Rt<<17>>17|0)==(gt|0)?Rt<<1:gt>>>15^32767)+15&65535,O)|0,e[b+4>>1]=gt,Rt=lr(e[u+6>>1]|0,Rt&65535,O)|0,e[b+6>>1]=Rt,u=lr(e[u+8>>1]|0,qt+65526&65535,O)|0,e[b+8>>1]=u,i=i<<16>>16>r<<16>>16?i:r,i=gt<<16>>16>i<<16>>16?gt:i,i=Rt<<16>>16>i<<16>>16?Rt:i,i=(u<<16>>16>i<<16>>16?u:i)+1&65535,u=0;o=i-(r&65535)|0,R=o&65535,r=ae[s+(u<<1)>>1]<<16,o=o<<16>>16,R<<16>>16>0?R=R<<16>>16<31?r>>o:0:(Rt=0-o<<16>>16,R=r<<Rt,R=(R>>Rt|0)==(r|0)?R:r>>31^2147483647),Nn(R,k+(u<<1)|0,D+(u<<1)|0,O),R=u+1|0,(R|0)!=5;)r=e[b+(R<<1)>>1]|0,u=R;for(Rt=C<<16>>16,Ee=e[k>>1]|0,de=e[D>>1]|0,je=e[k+2>>1]|0,We=e[D+2>>1]|0,Ze=e[k+4>>1]|0,pe=e[D+4>>1]|0,Ge=e[k+6>>1]|0,gt=e[D+6>>1]|0,Te=e[k+8>>1]|0,K=e[D+8>>1]|0,i=2147483647,ce=0,R=0,le=rr;u=e[le>>1]|0,u<<16>>16>f<<16>>16?C=i:(C=(Z(e[le+2>>1]|0,Rt)|0)>>15,(C|0)>32767&&(d[O>>2]=1,C=32767),D=u<<16>>16,u=Z(D,D)|0,u>>>0>1073741823?(d[O>>2]=1,b=32767):b=u>>>15,o=C<<16>>16,C=Z(o,o)|0,C>>>0>1073741823?(d[O>>2]=1,k=32767):k=C>>>15,s=(Z(o,D)|0)>>15,(s|0)>32767&&(d[O>>2]=1,s=32767),C=b<<16>>16,b=Z(Ee,C)|0,(b|0)==1073741824?(d[O>>2]=1,u=2147483647):u=b<<1,C=(Z(de,C)|0)>>15,b=u+(C<<1)|0,(u^C|0)>0&(b^u|0)<0&&(d[O>>2]=1,b=(u>>>31)+2147483647|0),C=Z(je,D)|0,(C|0)==1073741824?(d[O>>2]=1,u=2147483647):u=C<<1,D=(Z(We,D)|0)>>15,C=u+(D<<1)|0,(u^D|0)>0&(C^u|0)<0&&(d[O>>2]=1,C=(u>>>31)+2147483647|0),u=C+b|0,(C^b|0)>-1&(u^b|0)<0&&(d[O>>2]=1,u=(b>>>31)+2147483647|0),C=k<<16>>16,b=Z(Ze,C)|0,(b|0)==1073741824?(d[O>>2]=1,r=2147483647):r=b<<1,D=(Z(pe,C)|0)>>15,b=r+(D<<1)|0,(r^D|0)>0&(b^r|0)<0&&(d[O>>2]=1,b=(r>>>31)+2147483647|0),C=b+u|0,(b^u|0)>-1&(C^u|0)<0?(d[O>>2]=1,r=(u>>>31)+2147483647|0):r=C,C=Z(Ge,o)|0,(C|0)==1073741824?(d[O>>2]=1,b=2147483647):b=C<<1,D=(Z(gt,o)|0)>>15,C=b+(D<<1)|0,(b^D|0)>0&(C^b|0)<0&&(d[O>>2]=1,C=(b>>>31)+2147483647|0),u=C+r|0,(C^r|0)>-1&(u^r|0)<0?(d[O>>2]=1,b=(r>>>31)+2147483647|0):b=u,u=s<<16>>16,C=Z(Te,u)|0,(C|0)==1073741824?(d[O>>2]=1,r=2147483647):r=C<<1,D=(Z(K,u)|0)>>15,C=r+(D<<1)|0,(r^D|0)>0&(C^r|0)<0?(d[O>>2]=1,u=(r>>>31)+2147483647|0):u=C,C=u+b|0,(u^b|0)>-1&(C^b|0)<0&&(d[O>>2]=1,C=(b>>>31)+2147483647|0),D=(C|0)<(i|0),C=D?C:i,R=D?ce:R),le=le+8|0,ce=ce+1<<16>>16,!((ce<<16>>16|0)>=(Pt|0));)i=C;return f=R<<16>>16,f=((f<<18>>18|0)==(f|0)?f<<2:f>>>15^32767)<<16>>16,e[p>>1]=e[rr+(f<<1)>>1]|0,i=e[rr+(f+1<<1)>>1]|0,e[E>>1]=e[rr+(f+2<<1)>>1]|0,e[A>>1]=e[rr+(f+3<<1)>>1]|0,i=Z(i<<16>>16,Rt)|0,(i|0)==1073741824?(d[O>>2]=1,r=2147483647):r=i<<1,o=10-qt|0,i=o&65535,o=o<<16>>16,i<<16>>16>0?(O=i<<16>>16<31?r>>o:0,O=O>>>16,O=O&65535,e[h>>1]=O,he=ft,R|0):(E=0-o<<16>>16,O=r<<E,O=(O>>E|0)==(r|0)?O:r>>31^2147483647,O=O>>>16,O=O&65535,e[h>>1]=O,he=ft,R|0)}function o1(r,i,o,s,u,f,p,h,E){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0;var A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0,wr=0,Hr=0,Lr=0,qr=0,Wr=0,Br=0,Qr=0,zr=0,ln=0,Vr=0,tn=0,un=0,on=0,Kr=0,hn=0,Gn=0,qn=0,En=0,pn=0,fn=0,Ur=0,mn=0,ho=0,mo=0,Mn=0,lo=0;if(lo=he,he=he+160|0,Mn=lo,R=r<<16>>16,ho=r<<16>>16==10,mo=e[p+(e[f>>1]<<1)>>1]|0,r<<16>>16>0)for(E=0,A=h;e[A>>1]=E,E=E+1<<16>>16,!(E<<16>>16>=r<<16>>16);)A=A+2|0;if(o<<16>>16<=1){he=lo;return}for(Ur=f+2|0,mn=mo<<16>>16,En=s+(mn<<1)|0,pn=u+(mn*80|0)+(mn<<1)|0,fn=f+6|0,Ut=i&65535,wr=f+4|0,Hr=f+10|0,Lr=f+8|0,qr=f+14|0,Wr=f+12|0,Br=f+18|0,Qr=f+16|0,zr=h+2|0,ln=h+4|0,Vr=h+6|0,tn=h+8|0,un=h+10|0,on=h+12|0,Kr=h+14|0,hn=h+16|0,Gn=h+18|0,qn=r<<16>>16>2,yr=f+(R+-1<<1)|0,dr=1,nr=1,cr=0,ur=0,Er=-1;;){if(sr=e[p+(e[Ur>>1]<<1)>>1]|0,mr=sr<<16>>16,i=(ae[s+(mr<<1)>>1]|0)+(ae[En>>1]|0)|0,A=(e[u+(mn*80|0)+(mr<<1)>>1]<<13)+32768+((e[u+(mr*80|0)+(mr<<1)>>1]|0)+(e[pn>>1]|0)<<12)|0,R=e[fn>>1]|0,R<<16>>16<40){for(R=R<<16>>16,O=Mn;hr=(e[u+(R*80|0)+(R<<1)>>1]|0)>>>1,Dt=e[u+(R*80|0)+(mn<<1)>>1]|0,gr=e[u+(R*80|0)+(mr<<1)>>1]|0,e[O>>1]=i+(ae[s+(R<<1)>>1]|0),e[O+2>>1]=(Dt+2+hr+gr|0)>>>2,R=R+Ut|0,(R&65535)<<16>>16<40;)R=R<<16>>16,O=O+4|0;Ze=e[fn>>1]|0}else Ze=R;i=e[wr>>1]|0,We=A>>12,R=i<<16>>16;e:do if(i<<16>>16<40){if(je=Ze<<16>>16,Ze<<16>>16<40)O=1,b=i,D=Ze,k=0,C=-1;else for(;;)if(R=R+Ut|0,(R&65535)<<16>>16<40)R=R<<16>>16;else{O=1,gr=i,hr=Ze,R=0;break e}for(;;){for(de=((e[u+(R*80|0)+(R<<1)>>1]|0)+We>>1)+(e[u+(R*80|0)+(mn<<1)>>1]|0)+(e[u+(R*80|0)+(mr<<1)>>1]|0)|0,Ee=ae[s+(R<<1)>>1]|0,le=je,Te=Ze,ce=Mn,K=k;A=(ae[ce>>1]|0)+Ee|0,E=A<<16>>16,E=(Z(E,E)|0)>>>15,k=(de+(e[u+(R*80|0)+(le<<1)>>1]|0)>>2)+(e[ce+2>>1]|0)>>1,(Z(E<<16>>16,O<<16>>16)|0)>(Z(k,C<<16>>16)|0)?(O=k&65535,b=i,D=Te,k=A&65535,C=E&65535):k=K,A=le+Ut|0,Te=A&65535,!(Te<<16>>16>=40);)le=A<<16>>16,ce=ce+4|0,K=k;if(R=R+Ut|0,i=R&65535,i<<16>>16<40)R=R<<16>>16;else{gr=b,hr=D,R=k;break}}}else O=1,gr=i,hr=Ze,R=0;while(0);if(b=O<<16>>16<<15,O=e[Hr>>1]|0,O<<16>>16<40){for(A=gr<<16>>16,E=hr<<16>>16,i=R&65535,O=O<<16>>16,R=Mn;ft=e[u+(O*80|0)+(O<<1)>>1]>>1,Pt=e[u+(O*80|0)+(mn<<1)>>1]|0,Nt=e[u+(O*80|0)+(mr<<1)>>1]|0,ir=e[u+(O*80|0)+(A<<1)>>1]|0,Dt=e[u+(O*80|0)+(E<<1)>>1]|0,e[R>>1]=(ae[s+(O<<1)>>1]|0)+i,e[R+2>>1]=(Pt+2+ft+Nt+ir+Dt|0)>>>2,O=O+Ut|0,(O&65535)<<16>>16<40;)O=O<<16>>16,R=R+4|0;ft=e[Hr>>1]|0}else ft=O;C=e[Lr>>1]|0,O=C<<16>>16;e:do if(C<<16>>16<40){if(pe=gr<<16>>16,Ge=hr<<16>>16,gt=ft<<16>>16,Ze=b+32768|0,ft<<16>>16<40)k=1,b=C,i=ft,D=C,R=0,C=-1;else for(;;)if(O=O+Ut|0,(O&65535)<<16>>16<40)O=O<<16>>16;else{O=1,Dt=C,ir=ft,R=0;break e}for(;;){for(E=ae[s+(O<<1)>>1]|0,We=(e[u+(O*80|0)+(mr<<1)>>1]|0)+(e[u+(O*80|0)+(mn<<1)>>1]|0)+(e[u+(O*80|0)+(pe<<1)>>1]|0)+(e[u+(O*80|0)+(Ge<<1)>>1]|0)|0,je=Ze+(e[u+(O*80|0)+(O<<1)>>1]<<11)|0,Ee=gt,le=ft,de=Mn;;)if(K=(ae[de>>1]|0)+E|0,A=je+(e[de+2>>1]<<14)+(We+(e[u+(O*80|0)+(Ee<<1)>>1]|0)<<12)|0,ce=K<<16>>16,ce=(Z(ce,ce)|0)>>>15,(Z(ce<<16>>16,k<<16>>16)|0)>(Z(A>>16,C<<16>>16)|0)?(k=A>>>16&65535,Te=D,i=le,R=K&65535,C=ce&65535):Te=b,b=Ee+Ut|0,le=b&65535,le<<16>>16>=40){b=Te;break}else Ee=b<<16>>16,b=Te,de=de+4|0;if(O=O+Ut|0,D=O&65535,D<<16>>16<40)O=O<<16>>16;else{O=k,Dt=b,ir=i;break}}}else O=1,Dt=C,ir=ft,R=0;while(0);if(k=O<<16>>16<<15,O=e[qr>>1]|0,O<<16>>16<40){for(A=gr<<16>>16,E=hr<<16>>16,C=Dt<<16>>16,b=ir<<16>>16,i=R&65535,O=O<<16>>16,R=Mn;Rt=e[u+(O*80|0)+(O<<1)>>1]>>1,gt=e[u+(mn*80|0)+(O<<1)>>1]|0,qt=e[u+(mr*80|0)+(O<<1)>>1]|0,rr=e[u+(A*80|0)+(O<<1)>>1]|0,Pt=e[u+(E*80|0)+(O<<1)>>1]|0,ft=e[u+(C*80|0)+(O<<1)>>1]|0,Nt=e[u+(b*80|0)+(O<<1)>>1]|0,e[R>>1]=(ae[s+(O<<1)>>1]|0)+i,e[R+2>>1]=(gt+4+Rt+qt+rr+Pt+ft+Nt|0)>>>3,O=O+Ut|0,(O&65535)<<16>>16<40;)O=O<<16>>16,R=R+4|0;i=e[qr>>1]|0}else i=O;if(D=e[Wr>>1]|0,D<<16>>16<40)for(ft=gr<<16>>16,Rt=hr<<16>>16,gt=Dt<<16>>16,Ge=ir<<16>>16,pe=i<<16>>16,Ze=i<<16>>16<40,qt=k+32768|0,Pt=D<<16>>16,E=1,Te=D,le=i,rr=D,b=0,O=-1;;){if(Ze)for(k=ae[s+(Pt<<1)>>1]|0,R=(e[u+(Pt*80|0)+(mr<<1)>>1]|0)+(e[u+(Pt*80|0)+(mn<<1)>>1]|0)+(e[u+(Pt*80|0)+(ft<<1)>>1]|0)+(e[u+(Pt*80|0)+(Rt<<1)>>1]|0)+(e[u+(Pt*80|0)+(gt<<1)>>1]|0)+(e[u+(Pt*80|0)+(Ge<<1)>>1]|0)|0,C=qt+(e[u+(Pt*80|0)+(Pt<<1)>>1]<<10)|0,ce=pe,D=i,je=le,We=Mn;de=(ae[We>>1]|0)+k|0,le=C+(e[We+2>>1]<<14)+(R+(e[u+(Pt*80|0)+(ce<<1)>>1]|0)<<11)|0,Ee=de<<16>>16,Ee=(Z(Ee,Ee)|0)>>>15,(Z(Ee<<16>>16,E<<16>>16)|0)>(Z(le>>16,O<<16>>16)|0)?(E=le>>>16&65535,Te=rr,le=D,b=de&65535,O=Ee&65535):le=je,K=ce+Ut|0,D=K&65535,!(D<<16>>16>=40);)ce=K<<16>>16,je=le,We=We+4|0;if(D=Pt+Ut|0,rr=D&65535,rr<<16>>16>=40){Nt=le;break}else Pt=D<<16>>16}else E=1,Te=D,Nt=i,b=0,O=-1;if(ho){if(ce=E<<16>>16<<15,O=e[Br>>1]|0,O<<16>>16<40){for(R=gr<<16>>16,i=hr<<16>>16,A=Dt<<16>>16,E=ir<<16>>16,k=Te<<16>>16,D=Nt<<16>>16,C=b&65535,O=O<<16>>16,b=Mn;gt=e[u+(O*80|0)+(O<<1)>>1]>>1,Ge=e[u+(mn*80|0)+(O<<1)>>1]|0,Rt=e[u+(mr*80|0)+(O<<1)>>1]|0,qt=e[u+(R*80|0)+(O<<1)>>1]|0,rr=e[u+(i*80|0)+(O<<1)>>1]|0,Pt=e[u+(A*80|0)+(O<<1)>>1]|0,ft=e[u+(E*80|0)+(O<<1)>>1]|0,cr=e[u+(k*80|0)+(O<<1)>>1]|0,ur=e[u+(D*80|0)+(O<<1)>>1]|0,e[b>>1]=(ae[s+(O<<1)>>1]|0)+C,e[b+2>>1]=(Ge+4+gt+Rt+qt+rr+Pt+ft+cr+ur|0)>>>3,O=O+Ut|0,(O&65535)<<16>>16<40;)O=O<<16>>16,b=b+4|0;ft=e[Br>>1]|0}else ft=O;if(k=e[Qr>>1]|0,k<<16>>16<40)for(gt=gr<<16>>16,Ge=hr<<16>>16,pe=Dt<<16>>16,A=ir<<16>>16,Rt=Te<<16>>16,qt=Nt<<16>>16,rr=ft<<16>>16,Pt=ft<<16>>16<40,Ze=ce+32768|0,R=k<<16>>16,E=1,D=k,b=ft,i=k,O=-1;;){if(Pt)for(ce=ae[s+(R<<1)>>1]|0,C=(e[u+(mr*80|0)+(R<<1)>>1]|0)+(e[u+(mn*80|0)+(R<<1)>>1]|0)+(e[u+(gt*80|0)+(R<<1)>>1]|0)+(e[u+(Ge*80|0)+(R<<1)>>1]|0)+(e[u+(pe*80|0)+(R<<1)>>1]|0)+(e[u+(A*80|0)+(R<<1)>>1]|0)+(e[u+(Rt*80|0)+(R<<1)>>1]|0)+(e[u+(qt*80|0)+(R<<1)>>1]|0)|0,k=Ze+(e[u+(R*80|0)+(R<<1)>>1]<<9)|0,We=rr,Ee=ft,je=Mn;de=(ae[je>>1]|0)+ce<<16>>16,de=(Z(de,de)|0)>>>15,le=k+(e[je+2>>1]<<13)+(C+(e[u+(R*80|0)+(We<<1)>>1]|0)<<10)|0,(Z(de<<16>>16,E<<16>>16)|0)>(Z(le>>16,O<<16>>16)|0)&&(E=le>>>16&65535,D=i,b=Ee,O=de&65535),K=We+Ut|0,Ee=K&65535,!(Ee<<16>>16>=40);)We=K<<16>>16,je=je+4|0;if(k=R+Ut|0,i=k&65535,i<<16>>16>=40)break;R=k<<16>>16}else E=1,D=k,b=ft,O=-1}else D=cr,b=ur;if((Z(O<<16>>16,dr<<16>>16)|0)>(Z(E<<16>>16,Er<<16>>16)|0)?(e[h>>1]=mo,e[zr>>1]=sr,e[ln>>1]=gr,e[Vr>>1]=hr,e[tn>>1]=Dt,e[un>>1]=ir,e[on>>1]=Te,e[Kr>>1]=Nt,ho&&(e[hn>>1]=D,e[Gn>>1]=b)):(E=dr,O=Er),R=e[Ur>>1]|0,qn)for(i=1,A=2;e[f+(i<<1)>>1]=e[f+(A<<1)>>1]|0,A=A+1|0,(A&65535)<<16>>16!=r<<16>>16;)i=i+1|0;if(e[yr>>1]=R,nr=nr+1<<16>>16,nr<<16>>16>=o<<16>>16)break;dr=E,cr=D,ur=b,Er=O}he=lo}function Ko(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0;for(h=39;p=r+(h<<1)|0,f=e[p>>1]|0,u=i+(h<<1)|0,f<<16>>16>-1?e[u>>1]=32767:(e[u>>1]=-32767,f<<16>>16==-32768?f=32767:f=0-(f&65535)&65535,e[p>>1]=f),e[o+(h<<1)>>1]=f,(h|0)>0;)h=h+-1|0;if(A=8-(s<<16>>16)|0,(A|0)>0)E=0,u=0;else return;do{for(s=0,r=0,p=32767;i=e[o+(s<<1)>>1]|0,h=i<<16>>16>-1?i<<16>>16<p<<16>>16:0,u=h?r:u,f=s+5|0,r=f&65535,!(r<<16>>16>=40);)s=f<<16>>16,p=h?i:p;e[o+(u<<16>>16<<1)>>1]=-1,E=E+1<<16>>16}while((E<<16>>16|0)<(A|0));E=0;do{for(i=1,r=1,f=32767;s=e[o+(i<<1)>>1]|0,h=s<<16>>16>-1?s<<16>>16<f<<16>>16:0,u=h?r:u,p=i+5|0,r=p&65535,!(r<<16>>16>=40);)i=p<<16>>16,f=h?s:f;e[o+(u<<16>>16<<1)>>1]=-1,E=E+1<<16>>16}while((E<<16>>16|0)<(A|0));E=0;do{for(i=2,r=2,f=32767;s=e[o+(i<<1)>>1]|0,h=s<<16>>16>-1?s<<16>>16<f<<16>>16:0,u=h?r:u,p=i+5|0,r=p&65535,!(r<<16>>16>=40);)i=p<<16>>16,f=h?s:f;e[o+(u<<16>>16<<1)>>1]=-1,E=E+1<<16>>16}while((E<<16>>16|0)<(A|0));for(E=0;;){for(i=3,r=3,f=32767;;)if(s=e[o+(i<<1)>>1]|0,h=s<<16>>16>-1?s<<16>>16<f<<16>>16:0,u=h?r:u,p=i+5|0,r=p&65535,r<<16>>16>=40){f=u;break}else i=p<<16>>16,f=h?s:f;if(e[o+(f<<16>>16<<1)>>1]=-1,E=E+1<<16>>16,(E<<16>>16|0)>=(A|0)){u=0;break}else u=f}do{for(i=4,r=4,E=32767;s=e[o+(i<<1)>>1]|0,h=s<<16>>16>-1?s<<16>>16<E<<16>>16:0,f=h?r:f,p=i+5|0,r=p&65535,!(r<<16>>16>=40);)i=p<<16>>16,E=h?s:E;e[o+(f<<16>>16<<1)>>1]=-1,u=u+1<<16>>16}while((u<<16>>16|0)<(A|0))}function i1(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0;for(de=he,he=he+80|0,Ee=de,C=40,b=i,k=r,A=256,R=256;E=e[b>>1]|0,b=b+2|0,E=Z(E,E)|0,(E|0)!=1073741824?(O=(E<<1)+A|0,(E^A|0)>0&(O^A|0)<0?(d[h>>2]=1,A=(A>>>31)+2147483647|0):A=O):(d[h>>2]=1,A=2147483647),Te=e[k>>1]|0,R=(Z(Te<<1,Te)|0)+R|0,C=C+-1<<16>>16,C<<16>>16;)k=k+2|0;for(Te=eo(A,h)|0,ce=Te<<5,Te=((ce>>5|0)==(Te|0)?ce:Te>>31^2147418112)>>16,ce=(eo(R,h)|0)<<5>>16,le=39,D=i+78|0,K=Ee+78|0,E=o+78|0;k=Z(e[D>>1]|0,Te)|0,D=D+-2|0,b=k<<1,i=r+(le<<1)|0,A=e[i>>1]|0,C=Z(A<<16>>16,ce)|0,(C|0)!=1073741824?(O=(C<<1)+b|0,(C^b|0)>0&(O^b|0)<0&&(d[h>>2]=1,O=(k>>>30&1)+2147483647|0)):(d[h>>2]=1,O=2147483647),R=O<<10,R=Mr((R>>10|0)==(O|0)?R:O>>31^2147483647,h)|0,R<<16>>16>-1?e[E>>1]=32767:(e[E>>1]=-32767,R<<16>>16==-32768?R=32767:R=0-(R&65535)&65535,A<<16>>16==-32768?O=32767:O=0-(A&65535)&65535,e[i>>1]=O),E=E+-2|0,e[K>>1]=R,!((le|0)<=0);)le=le+-1|0,K=K+-2|0;if(i=u<<16>>16,u<<16>>16<=0){e[f+(i<<1)>>1]=e[f>>1]|0,he=de;return}for(k=p&65535,b=0,C=-1,E=0;;){if((b|0)<40)for(R=b,O=b&65535,A=-1;h=e[Ee+(R<<1)>>1]|0,p=h<<16>>16>A<<16>>16,A=p?h:A,E=p?O:E,R=R+k|0,O=R&65535,!(O<<16>>16>=40);)R=R<<16>>16;else A=-1;if(e[s+(b<<1)>>1]=E,A<<16>>16>C<<16>>16?e[f>>1]=b:A=C,b=b+1|0,(b&65535)<<16>>16==u<<16>>16)break;C=A}if(E=e[f>>1]|0,e[f+(i<<1)>>1]=E,u<<16>>16>1)A=1;else{he=de;return}do s=E+1<<16>>16,E=s<<16>>16>=u<<16>>16?0:s,e[f+(A<<1)>>1]=E,e[f+(A+i<<1)>>1]=E,A=A+1|0;while((A&65535)<<16>>16!=u<<16>>16);he=de}function w0(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(12)|0,!i)?(r=-1,r|0):(e[i>>1]=8,d[r>>2]=i,e[i+2>>1]=3,e[i+4>>1]=0,d[i+8>>2]=0,r=0,r|0)}function R0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function s1(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;do if((i|0)==8){if(s=r+2|0,u=(e[s>>1]|0)+-1<<16>>16,e[s>>1]=u,i=r+8|0,!(d[i>>2]|0)){d[o>>2]=1,e[s>>1]=3;break}if(f=r+4|0,u<<16>>16>2&(e[f>>1]|0)>0){d[o>>2]=2,e[f>>1]=(e[f>>1]|0)+-1<<16>>16;break}if(u<<16>>16){d[o>>2]=3;break}else{d[o>>2]=2,e[s>>1]=e[r>>1]|0;break}}else e[r+2>>1]=e[r>>1]|0,d[o>>2]=0,i=r+8|0;while(0);d[i>>2]=d[o>>2]}function b0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;return!r||(d[r>>2]=0,o=cn(12)|0,s=o,!o)?(r=-1,r|0):(d[o>>2]=0,u=o+4|0,d[u>>2]=0,f=o+8|0,d[f>>2]=i,!((m0(o)|0)<<16>>16)&&!((xs(u,d[f>>2]|0)|0)<<16>>16)?(g0(d[o>>2]|0)|0,Vi(d[u>>2]|0)|0,d[r>>2]=s,r=0,r|0):(t1(o),oi(u),Zr(o),r=-1,r|0))}function C0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(t1(i),oi((d[r>>2]|0)+4|0),Zr(d[r>>2]|0),d[r>>2]=0))}function a1(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0;E=he,he=he+448|0,p=E+320|0,h=E,ro(s|0,0,488)|0,f=0;do A=o+(f<<1)|0,e[A>>1]=(ae[A>>1]|0)&65528,f=f+1|0;while((f|0)!=160);v0(d[r>>2]|0,o,160),A=r+4|0,Us(d[A>>2]|0,i,o,p,u,h)|0,E0(d[u>>2]|0,p,s,(d[A>>2]|0)+2392|0),he=E}function fi(r,i,o,s,u,f,p,h,E,A,R,O,C,b,k,D){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0,b=b|0,k=k|0,D=D|0;var K=0,ce=0,le=0;le=he,he=he+48|0,K=le+22|0,ce=le,Vn(u,(r&-2|0)==6?o:i,K),Vn(u,s,ce),o=R,i=K,u=o+22|0;do e[o>>1]=e[i>>1]|0,o=o+2|0,i=i+2|0;while((o|0)<(u|0));dn(f,R,C,40,A,0),dn(ce,C,C,40,A,0),Io(f,p,k,40),o=O,i=k,u=o+80|0;do e[o>>1]=e[i>>1]|0,o=o+2|0,i=i+2|0;while((o|0)<(u|0));dn(f,O,D,40,h,0),Io(K,D,b,40),dn(ce,b,b,40,E,0),he=le}function Jo(r,i,o,s,u,f,p,h,E,A,R,O,C,b,k,D,K){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0,E=E|0,A=A|0,R=R|0,O=O|0,C=C|0,b=b|0,k=k|0,D=D|0,K=K|0;var ce=0,le=0,Te=0,Ee=0,de=0;for((i|0)==7?(Te=11,i=s<<16>>16>>>1&65535,ce=2):(Te=13,i=s,ce=1),e[D>>1]=s<<16>>16<13017?s:13017,le=o<<16>>16,k=k+(le<<1)|0,D=i<<16>>16,u=u<<16>>16,o=20,i=E,K=k;E=K+2|0,de=Z(e[K>>1]|0,D)|0,Ee=Z(e[E>>1]|0,D)|0,de=(Z(e[i>>1]|0,u)|0)+de<<1,Ee=(Z(e[i+2>>1]|0,u)|0)+Ee<<1<<ce,e[K>>1]=((de<<ce)+32768|0)>>>16,e[E>>1]=(Ee+32768|0)>>>16,o=o+-1<<16>>16,o<<16>>16;)i=i+4|0,K=K+4|0;for(i=s<<16>>16,dn(f,k,p+(le<<1)|0,40,O,1),o=30,K=0;Ee=o+le|0,e[C+(K<<1)>>1]=(ae[r+(Ee<<1)>>1]|0)-(ae[p+(Ee<<1)>>1]|0),Ee=Z(e[A+(o<<1)>>1]|0,i)|0,de=(Z(e[R+(o<<1)>>1]|0,u)|0)>>Te,e[b+(K<<1)>>1]=(ae[h+(o<<1)>>1]|0)-(Ee>>>14)-de,K=K+1|0,(K|0)!=10;)o=o+1|0}function O0(r){r=r|0;var i=0;return!r||(d[r>>2]=0,i=cn(16)|0,!i)?(r=-1,r|0):(e[i>>1]=0,e[i+2>>1]=0,e[i+4>>1]=0,e[i+6>>1]=0,e[i+8>>1]=0,e[i+10>>1]=0,e[i+12>>1]=0,e[i+14>>1]=0,d[r>>2]=i,r=0,r|0)}function S0(r){return r=r|0,r?(e[r>>1]=0,e[r+2>>1]=0,e[r+4>>1]=0,e[r+6>>1]=0,e[r+8>>1]=0,e[r+10>>1]=0,e[r+12>>1]=0,e[r+14>>1]=0,r=0,r|0):(r=-1,r|0)}function N0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function M0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0;return s=ae[i+6>>1]|0,o=ae[i+8>>1]|0,u=s-o|0,u=(u&65535|0)!=32767?u&65535:32767,f=ae[i+10>>1]|0,o=o-f|0,u=(o<<16>>16|0)<(u<<16>>16|0)?o&65535:u,o=ae[i+12>>1]|0,f=f-o|0,u=(f<<16>>16|0)<(u<<16>>16|0)?f&65535:u,f=ae[i+14>>1]|0,o=o-f|0,u=(o<<16>>16|0)<(u<<16>>16|0)?o&65535:u,f=f-(ae[i+16>>1]|0)|0,o=e[i+2>>1]|0,p=ae[i+4>>1]|0,i=(o&65535)-p|0,i=(i&65535|0)!=32767?i&65535:32767,s=p-s|0,((f<<16>>16|0)<(u<<16>>16|0)?f&65535:u)<<16>>16<1500||(((s<<16>>16|0)<(i<<16>>16|0)?s&65535:i)<<16>>16|0)<((o<<16>>16>32e3?600:o<<16>>16>30500?800:1100)|0)?(f=(e[r>>1]|0)+1<<16>>16,p=f<<16>>16>11,e[r>>1]=p?12:f,p&1|0):(e[r>>1]=0,0)}function k0(r,i,o){return r=r|0,i=i|0,o=o|0,i=Xr(i,3,o)|0,i=lr(i,e[r+2>>1]|0,o)|0,i=lr(i,e[r+4>>1]|0,o)|0,i=lr(i,e[r+6>>1]|0,o)|0,i=lr(i,e[r+8>>1]|0,o)|0,i=lr(i,e[r+10>>1]|0,o)|0,i=lr(i,e[r+12>>1]|0,o)|0,(lr(i,e[r+14>>1]|0,o)|0)<<16>>16>15565|0}function L0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0;o=r+4|0,e[r+2>>1]=e[o>>1]|0,s=r+6|0,e[o>>1]=e[s>>1]|0,o=r+8|0,e[s>>1]=e[o>>1]|0,s=r+10|0,e[o>>1]=e[s>>1]|0,o=r+12|0,e[s>>1]=e[o>>1]|0,r=r+14|0,e[o>>1]=e[r>>1]|0,e[r>>1]=i<<16>>16>>>3}function P0(r){r=r|0;var i=0,o=0,s=0;if(!r||(d[r>>2]=0,i=cn(128)|0,!i))return s=-1,s|0;o=i+72|0,s=o+46|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));return e[i>>1]=150,e[i+36>>1]=150,e[i+18>>1]=150,e[i+54>>1]=0,e[i+2>>1]=150,e[i+38>>1]=150,e[i+20>>1]=150,e[i+56>>1]=0,e[i+4>>1]=150,e[i+40>>1]=150,e[i+22>>1]=150,e[i+58>>1]=0,e[i+6>>1]=150,e[i+42>>1]=150,e[i+24>>1]=150,e[i+60>>1]=0,e[i+8>>1]=150,e[i+44>>1]=150,e[i+26>>1]=150,e[i+62>>1]=0,e[i+10>>1]=150,e[i+46>>1]=150,e[i+28>>1]=150,e[i+64>>1]=0,e[i+12>>1]=150,e[i+48>>1]=150,e[i+30>>1]=150,e[i+66>>1]=0,e[i+14>>1]=150,e[i+50>>1]=150,e[i+32>>1]=150,e[i+68>>1]=0,e[i+16>>1]=150,e[i+52>>1]=150,e[i+34>>1]=150,e[i+70>>1]=0,e[i+118>>1]=13106,e[i+120>>1]=0,e[i+122>>1]=0,e[i+124>>1]=0,e[i+126>>1]=13106,d[r>>2]=i,s=0,s|0}function x0(r){r=r|0;var i=0,o=0;if(!r)return o=-1,o|0;i=r+72|0,o=i+46|0;do e[i>>1]=0,i=i+2|0;while((i|0)<(o|0));return e[r>>1]=150,e[r+36>>1]=150,e[r+18>>1]=150,e[r+54>>1]=0,e[r+2>>1]=150,e[r+38>>1]=150,e[r+20>>1]=150,e[r+56>>1]=0,e[r+4>>1]=150,e[r+40>>1]=150,e[r+22>>1]=150,e[r+58>>1]=0,e[r+6>>1]=150,e[r+42>>1]=150,e[r+24>>1]=150,e[r+60>>1]=0,e[r+8>>1]=150,e[r+44>>1]=150,e[r+26>>1]=150,e[r+62>>1]=0,e[r+10>>1]=150,e[r+46>>1]=150,e[r+28>>1]=150,e[r+64>>1]=0,e[r+12>>1]=150,e[r+48>>1]=150,e[r+30>>1]=150,e[r+66>>1]=0,e[r+14>>1]=150,e[r+50>>1]=150,e[r+32>>1]=150,e[r+68>>1]=0,e[r+16>>1]=150,e[r+52>>1]=150,e[r+34>>1]=150,e[r+70>>1]=0,e[r+118>>1]=13106,e[r+120>>1]=0,e[r+122>>1]=0,e[r+124>>1]=0,e[r+126>>1]=13106,o=0,o|0}function U0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function c1(r,i){r=r|0,i=i|0,e[r+118>>1]=i}function l1(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0;o=Mr(o,s)|0,!(o<<16>>16<=0)&&(o=o<<16>>16,(o*21298|0)==1073741824?(d[s>>2]=1,u=2147483647):u=o*42596|0,o=i-u|0,((o^i)&(u^i)|0)<0&&(d[s>>2]=1,o=(i>>>31)+2147483647|0),!((o|0)<=0)&&(r=r+104|0,e[r>>1]=ae[r>>1]|0|16384))}function di(r,i,o){r=r|0,i=i|0,o=o|0;var s=0;r=r+104|0,s=Xr(e[r>>1]|0,1,o)|0,e[r>>1]=s,i<<16>>16&&(e[r>>1]=(Xr(s,1,o)|0)&65535|8192)}function D0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;if(u=r+112|0,s=Rr(e[u>>1]|0,e[i>>1]|0,o)|0,s=(s&65535)-((s&65535)>>>15&65535)|0,s=((s<<16>>31^s)&65535)<<16>>16<4,f=e[i>>1]|0,e[u>>1]=f,i=i+2|0,f=Rr(f,e[i>>1]|0,o)|0,f=(f&65535)-((f&65535)>>>15&65535)|0,s=((f<<16>>31^f)&65535)<<16>>16<4?s?2:1:s&1,e[u>>1]=e[i>>1]|0,u=r+102|0,e[u>>1]=Xr(e[u>>1]|0,1,o)|0,i=r+110|0,(lr(e[i>>1]|0,s,o)|0)<<16>>16<=3){e[i>>1]=s;return}e[u>>1]=ae[u>>1]|0|16384,e[i>>1]=s}function B0(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0;pe=he,he=he+352|0,A=pe+24|0,We=pe,p=0,u=0;do s=e[i+(p+-40<<1)>>1]|0,s=Z(s,s)|0,(s|0)!=1073741824?(f=(s<<1)+u|0,(s^u|0)>0&(f^u|0)<0?(d[o>>2]=1,u=(u>>>31)+2147483647|0):u=f):(d[o>>2]=1,u=2147483647),p=p+1|0;while((p|0)!=160);R=u,(343039-R&R|0)<0?(d[o>>2]=1,u=(R>>>31)+2147483647|0):u=R+-343040|0,(u|0)<0&&(je=r+102|0,e[je>>1]=ae[je>>1]&16383),E=R+-15e3|0,O=(14999-R&R|0)<0,O?(d[o>>2]=1,f=(R>>>31)+2147483647|0):f=E,(f|0)<0&&(je=r+108|0,e[je>>1]=ae[je>>1]&16383),s=r+72|0,h=r+74|0,f=e[s>>1]|0,p=e[h>>1]|0,u=0;do je=u<<2,Ee=Rr((e[i+(je<<1)>>1]|0)>>>2&65535,((f<<16>>16)*21955|0)>>>15&65535,o)|0,ce=((Ee<<16>>16)*21955|0)>>>15&65535,K=lr(f,ce,o)|0,Te=je|1,de=Rr((e[i+(Te<<1)>>1]|0)>>>2&65535,((p<<16>>16)*6390|0)>>>15&65535,o)|0,le=((de<<16>>16)*6390|0)>>>15&65535,f=lr(p,le,o)|0,e[A+(je<<1)>>1]=lr(K,f,o)|0,e[A+(Te<<1)>>1]=Rr(K,f,o)|0,Te=je|2,f=Rr((e[i+(Te<<1)>>1]|0)>>>2&65535,ce,o)|0,Ee=lr(Ee,((f<<16>>16)*21955|0)>>>15&65535,o)|0,je=je|3,p=Rr((e[i+(je<<1)>>1]|0)>>>2&65535,le,o)|0,de=lr(de,((p<<16>>16)*6390|0)>>>15&65535,o)|0,e[A+(Te<<1)>>1]=lr(Ee,de,o)|0,e[A+(je<<1)>>1]=Rr(Ee,de,o)|0,u=u+1|0;while((u|0)!=40);e[s>>1]=f,e[h>>1]=p,p=r+76|0,f=r+80|0,u=0;do je=u<<2,u1(A+(je<<1)|0,A+((je|2)<<1)|0,p,o),u1(A+((je|1)<<1)|0,A+((je|3)<<1)|0,f,o),u=u+1|0;while((u|0)!=40);p=r+84|0,f=r+86|0,u=r+92|0,s=0;do je=s<<3,Po(A+(je<<1)|0,A+((je|4)<<1)|0,p,o),Po(A+((je|2)<<1)|0,A+((je|6)<<1)|0,f,o),Po(A+((je|3)<<1)|0,A+((je|7)<<1)|0,u,o),s=s+1|0;while((s|0)!=20);p=r+88|0,f=r+90|0,u=0;do je=u<<4,Po(A+(je<<1)|0,A+((je|8)<<1)|0,p,o),Po(A+((je|4)<<1)|0,A+((je|12)<<1)|0,f,o),u=u+1|0;while((u|0)!=10);D=$n(A,r+70|0,32,40,4,1,15,o)|0,e[We+16>>1]=D,K=$n(A,r+68|0,16,20,8,7,16,o)|0,e[We+14>>1]=K,ce=$n(A,r+66|0,16,20,8,3,16,o)|0,e[We+12>>1]=ce,le=$n(A,r+64|0,16,20,8,2,16,o)|0,e[We+10>>1]=le,Te=$n(A,r+62|0,16,20,8,6,16,o)|0,e[We+8>>1]=Te,Ee=$n(A,r+60|0,8,10,16,4,16,o)|0,e[We+6>>1]=Ee,de=$n(A,r+58|0,8,10,16,12,16,o)|0,e[We+4>>1]=de,je=$n(A,r+56|0,8,10,16,8,16,o)|0,e[We+2>>1]=je,k=$n(A,r+54|0,8,10,16,0,16,o)|0,e[We>>1]=k,p=0,s=0;do f=r+(s<<1)|0,i=Ao(e[f>>1]|0)|0,f=e[f>>1]|0,u=i<<16>>16,i<<16>>16<0?(h=0-u<<16,(h|0)<983040?h=f<<16>>16>>(h>>16)&65535:h=0):(h=f<<16>>16,f=h<<u,(f<<16>>16>>u|0)==(h|0)?h=f&65535:h=(h>>>15^32767)&65535),f=an(Xr(e[We+(s<<1)>>1]|0,1,o)|0,h)|0,b=Rr(i,5,o)|0,u=b<<16>>16,b<<16>>16<0?(h=0-u<<16,(h|0)<983040?h=f<<16>>16>>(h>>16):h=0):(f=f<<16>>16,h=f<<u,(h<<16>>16>>u|0)!=(f|0)&&(h=f>>>15^32767)),h=h<<16>>16,h=Z(h,h)|0,(h|0)!=1073741824?(f=(h<<1)+p|0,(h^p|0)>0&(f^p|0)<0?(d[o>>2]=1,p=(p>>>31)+2147483647|0):p=f):(d[o>>2]=1,p=2147483647),s=s+1|0;while((s|0)!=9);b=p<<6,p=(((b>>6|0)==(p|0)?b:p>>31^2147418112)>>16)*3641>>15,(p|0)>32767&&(d[o>>2]=1,p=32767),b=e[r>>1]|0,h=b<<16>>16,C=e[r+2>>1]|0,f=(C<<16>>16)+h|0,(C^b)<<16>>16>-1&(f^h|0)<0&&(d[o>>2]=1,f=(h>>>31)+2147483647|0),b=e[r+4>>1]|0,h=b+f|0,(b^f|0)>-1&(h^f|0)<0&&(d[o>>2]=1,h=(f>>>31)+2147483647|0),b=e[r+6>>1]|0,f=b+h|0,(b^h|0)>-1&(f^h|0)<0&&(d[o>>2]=1,f=(h>>>31)+2147483647|0),b=e[r+8>>1]|0,h=b+f|0,(b^f|0)>-1&(h^f|0)<0&&(d[o>>2]=1,h=(f>>>31)+2147483647|0),b=e[r+10>>1]|0,f=b+h|0,(b^h|0)>-1&(f^h|0)<0&&(d[o>>2]=1,f=(h>>>31)+2147483647|0),b=e[r+12>>1]|0,h=b+f|0,(b^f|0)>-1&(h^f|0)<0&&(d[o>>2]=1,h=(f>>>31)+2147483647|0),b=e[r+14>>1]|0,f=b+h|0,(b^h|0)>-1&(f^h|0)<0&&(d[o>>2]=1,f=(h>>>31)+2147483647|0),b=e[r+16>>1]|0,h=b+f|0,(b^f|0)>-1&(h^f|0)<0&&(d[o>>2]=1,h=(f>>>31)+2147483647|0),C=h<<13,C=((C>>13|0)==(h|0)?C:h>>31^2147418112)>>>16&65535,h=(Z((Rr(C,0,o)|0)<<16>>16,-2808)|0)>>15,(h|0)>32767&&(d[o>>2]=1,h=32767),A=lr(h&65535,1260,o)|0,b=r+100|0,h=Xr(e[b>>1]|0,1,o)|0,(p<<16>>16|0)>((A<<16>>16<720?720:A<<16>>16)|0)&&(h=(h&65535|16384)&65535),e[b>>1]=h,O&&(d[o>>2]=1,E=(R>>>31)+2147483647|0),u=e[r+118>>1]|0,O=r+126|0,h=e[O>>1]|0,s=h<<16>>16<19660,s=u<<16>>16<h<<16>>16?s?2621:6553:s?2621:655,i=h&65535,p=i<<16,h=Z(s,h<<16>>16)|0,(h|0)==1073741824?(d[o>>2]=1,h=2147483647):h=h<<1,f=p-h|0,((f^p)&(h^p)|0)<0&&(d[o>>2]=1,f=(i>>>15)+2147483647|0),p=Z(s,u<<16>>16)|0;do if((p|0)==1073741824)d[o>>2]=1,h=2147483647;else{if(h=f+(p<<1)|0,!((f^p|0)>0&(h^f|0)<0))break;d[o>>2]=1,h=(f>>>31)+2147483647|0}while(0);i=Mr(h,o)|0,R=(E|0)>-1,e[O>>1]=R?i<<16>>16<13106?13106:i:13106,i=r+106|0,e[i>>1]=Xr(e[i>>1]|0,1,o)|0,f=r+108|0,h=Xr(e[f>>1]|0,1,o)|0,e[f>>1]=h,p=e[O>>1]|0;e:do if(R){do if(p<<16>>16>19660)e[i>>1]=ae[i>>1]|16384;else{if(p<<16>>16>16383)break;p=r+116|0,h=0;break e}while(0);e[f>>1]=h&65535|16384,Ze=62}else Ze=62;while(0);do if((Ze|0)==62){if(h=r+116|0,p<<16>>16<=22936){p=h,h=0;break}p=h,h=lr(e[h>>1]|0,1,o)|0}while(0);e[p>>1]=h,(e[i>>1]&32640)!=32640?(A=(e[f>>1]&32767)==32767,e[r+122>>1]=A&1,A&&(Ze=67)):(e[r+122>>1]=1,Ze=67);do if((Ze|0)==67){if(p=r+98|0,(e[p>>1]|0)>=5)break;e[p>>1]=5}while(0);A=r+102|0;do if((e[A>>1]&24576)==24576)Ze=71;else{if((e[r+104>>1]&31744)==31744){Ze=71;break}if(e[b>>1]&32640)f=k,p=0,h=0;else{e[r+98>>1]=20,f=32767;break}for(;;){s=e[r+18+(p<<1)>>1]|0,u=f<<16>>16>s<<16>>16,E=u?f:s,f=u?s:f,E=E<<16>>16<184?184:E,f=f<<16>>16<184?184:f,s=Ao(f)|0,u=s<<16>>16;do if(s<<16>>16<0){if(i=0-u<<16,(i|0)>=983040){i=0;break}i=f<<16>>16>>(i>>16)&65535}else{if(i=f<<16>>16,f=i<<u,(f<<16>>16>>u|0)==(i|0)){i=f&65535;break}i=(i>>>15^32767)&65535}while(0);if(E=an(Xr(E,1,o)|0,i)|0,h=lr(h,Xr(E,Rr(8,s,o)|0,o)|0,o)|0,p=p+1|0,(p|0)==9)break;f=e[We+(p<<1)>>1]|0}if(h<<16>>16>1e3){e[r+98>>1]=20,f=32767;break}f=e[b>>1]|0,p=r+98|0,h=e[p>>1]|0;do if(!(f&16384))Ze=86;else{if(!(h<<16>>16)){h=f;break}h=Rr(h,1,o)|0,e[p>>1]=h,Ze=86}while(0);if((Ze|0)==86){if(h<<16>>16==20){f=32767;break}h=e[b>>1]|0}f=h&16384?3276:16383}while(0);for((Ze|0)==71&&(e[r+98>>1]=20,f=32767),p=k,h=0;E=r+18+(h<<1)|0,i=gi(f,Rr(p,e[E>>1]|0,o)|0,o)|0,e[E>>1]=lr(e[E>>1]|0,i,o)|0,h=h+1|0,(h|0)!=9;)p=e[We+(h<<1)>>1]|0;do if(e[b>>1]&30720)Ze=95;else{if(e[A>>1]&30720){Ze=95;break}e[r+114>>1]|0?Ze=95:(u=2097,s=1638,i=2)}while(0);do if((Ze|0)==95){if(!(e[r+98>>1]|0)&&!(e[r+114>>1]|0)){u=1867,s=491,i=2;break}u=1638,s=0,i=0}while(0);f=0;do p=r+(f<<1)|0,h=Rr(e[r+36+(f<<1)>>1]|0,e[p>>1]|0,o)|0,h<<16>>16<0?(h=gi(u,h,o)|0,h=lr(-2,lr(e[p>>1]|0,h,o)|0,o)|0,h=h<<16>>16<40?40:h):(h=gi(s,h,o)|0,h=lr(i,lr(e[p>>1]|0,h,o)|0,o)|0,h=h<<16>>16>16e3?16e3:h),e[p>>1]=h,f=f+1|0;while((f|0)!=9);if(e[r+36>>1]=k,e[r+38>>1]=je,e[r+40>>1]=de,e[r+42>>1]=Ee,e[r+44>>1]=Te,e[r+46>>1]=le,e[r+48>>1]=ce,e[r+50>>1]=K,e[r+52>>1]=D,p=C<<16>>16>100,f=p?7:4,p=p?4:5,!R)return e[r+94>>1]=0,e[r+96>>1]=0,e[r+114>>1]=0,e[r+116>>1]=0,o=0,r=r+120|0,e[r>>1]=o,he=pe,o|0;u=r+114|0,s=e[u>>1]|0;do if((e[r+116>>1]|0)<=100){if(s<<16>>16)break;s=e[b>>1]|0;do if(!(s&16368)){if((e[O>>1]|0)>21298)s=1;else break;return r=r+120|0,e[r>>1]=s,he=pe,s|0}while(0);return u=r+94|0,s&16384?(o=lr(e[u>>1]|0,1,o)|0,e[u>>1]=o,(o<<16>>16|0)<(p|0)?(o=1,r=r+120|0,e[r>>1]=o,he=pe,o|0):(e[r+96>>1]=f,o=1,r=r+120|0,e[r>>1]=o,he=pe,o|0)):(e[u>>1]=0,s=r+96|0,u=e[s>>1]|0,u<<16>>16<=0?(o=0,r=r+120|0,e[r>>1]=o,he=pe,o|0):(e[s>>1]=Rr(u,1,o)|0,o=1,r=r+120|0,e[r>>1]=o,he=pe,o|0))}else{if(s<<16>>16>=250)break;e[u>>1]=250,s=250}while(0);return e[r+94>>1]=4,e[u>>1]=Rr(s,1,o)|0,o=1,r=r+120|0,e[r>>1]=o,he=pe,o|0}function u1(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;u=(e[o>>1]|0)*21955>>15,(u|0)>32767&&(d[s>>2]=1,u=32767),f=Rr(e[r>>1]|0,u&65535,s)|0,u=(f<<16>>16)*21955>>15,(u|0)>32767&&(d[s>>2]=1,u=32767),p=lr(e[o>>1]|0,u&65535,s)|0,e[o>>1]=f,o=o+2|0,u=(e[o>>1]|0)*6390>>15,(u|0)>32767&&(d[s>>2]=1,u=32767),f=Rr(e[i>>1]|0,u&65535,s)|0,u=(f<<16>>16)*6390>>15,(u|0)>32767&&(d[s>>2]=1,u=32767),u=lr(e[o>>1]|0,u&65535,s)|0,e[o>>1]=f,e[r>>1]=Xr(lr(p,u,s)|0,1,s)|0,e[i>>1]=Xr(Rr(p,u,s)|0,1,s)|0}function Po(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0;u=(e[o>>1]|0)*13363>>15,(u|0)>32767&&(d[s>>2]=1,u=32767),f=Rr(e[i>>1]|0,u&65535,s)|0,u=(f<<16>>16)*13363>>15,(u|0)>32767&&(d[s>>2]=1,u=32767),u=lr(e[o>>1]|0,u&65535,s)|0,e[o>>1]=f,e[i>>1]=Xr(Rr(e[r>>1]|0,u,s)|0,1,s)|0,e[r>>1]=Xr(lr(e[r>>1]|0,u,s)|0,1,s)|0}function $n(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0;if(o<<16>>16<s<<16>>16){O=u<<16>>16,E=f<<16>>16,C=o<<16>>16,A=0;do b=e[r+((Z(C,O)|0)+E<<1)>>1]|0,b=(b&65535)-((b&65535)>>>15&65535)|0,b=(b<<16>>31^b)<<16,R=(b>>15)+A|0,(b>>16^A|0)>0&(R^A|0)<0?(d[h>>2]=1,A=(A>>>31)+2147483647|0):A=R,C=C+1|0;while((C&65535)<<16>>16!=s<<16>>16);C=A}else C=0;if(A=e[i>>1]|0,b=Rr(16,p,h)|0,E=b<<16>>16,b<<16>>16>0?(s=A<<E,(s>>E|0)!=(A|0)&&(s=A>>31^2147483647)):(E=0-E<<16,(E|0)<2031616?s=A>>(E>>16):s=0),E=s+C|0,(s^C|0)>-1&(E^C|0)<0&&(d[h>>2]=1,E=(C>>>31)+2147483647|0),b=p<<16>>16,p=p<<16>>16>0,p?(s=C<<b,(s>>b|0)!=(C|0)&&(s=C>>31^2147483647)):(s=0-b<<16,(s|0)<2031616?s=C>>(s>>16):s=0),e[i>>1]=s>>>16,o<<16>>16>0){O=u<<16>>16,A=f<<16>>16,R=0;do f=e[r+((Z(R,O)|0)+A<<1)>>1]|0,f=(f&65535)-((f&65535)>>>15&65535)|0,f=(f<<16>>31^f)<<16,s=(f>>15)+E|0,(f>>16^E|0)>0&(s^E|0)<0?(d[h>>2]=1,E=(E>>>31)+2147483647|0):E=s,R=R+1|0;while((R&65535)<<16>>16!=o<<16>>16)}return p?(s=E<<b,(s>>b|0)==(E|0)?(h=s,h=h>>>16,h=h&65535,h|0):(h=E>>31^2147483647,h=h>>>16,h=h&65535,h|0)):(s=0-b<<16,(s|0)>=2031616?(h=0,h=h>>>16,h=h&65535,h|0):(h=E>>(s>>16),h=h>>>16,h=h&65535,h|0))}function lr(r,i,o){return r=r|0,i=i|0,o=o|0,r=(i<<16>>16)+(r<<16>>16)|0,(r|0)<=32767?(r|0)<-32768&&(d[o>>2]=1,r=-32768):(d[o>>2]=1,r=32767),r&65535|0}function pi(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0;je=he,he=he+32|0,Ee=je+12|0,de=je,e[Ee>>1]=1024,e[de>>1]=1024,E=e[r+2>>1]|0,p=e[r+20>>1]|0,s=((p+E|0)>>>2)+64512|0,e[Ee+2>>1]=s,p=((E-p|0)>>>2)+1024|0,e[de+2>>1]=p,E=e[r+4>>1]|0,u=e[r+18>>1]|0,s=((u+E|0)>>>2)-s|0,e[Ee+4>>1]=s,p=((E-u|0)>>>2)+p|0,e[de+4>>1]=p,u=e[r+6>>1]|0,E=e[r+16>>1]|0,s=((E+u|0)>>>2)-s|0,e[Ee+6>>1]=s,p=((u-E|0)>>>2)+p|0,e[de+6>>1]=p,E=e[r+8>>1]|0,u=e[r+14>>1]|0,s=((u+E|0)>>>2)-s|0,e[Ee+8>>1]=s,p=((E-u|0)>>>2)+p|0,e[de+8>>1]=p,u=e[r+10>>1]|0,E=e[r+12>>1]|0,s=((E+u|0)>>>2)-s|0,e[Ee+10>>1]=s,e[de+10>>1]=((u-E|0)>>>2)+p,p=e[3454]|0,E=p<<16>>16,r=e[Ee+2>>1]|0,u=(r<<16>>16<<14)+(E<<10)|0,K=u&-65536,u=(u>>>1)-(u>>16<<15)<<16,Te=(((Z(u>>16,E)|0)>>15)+(Z(K>>16,E)|0)<<2)+-16777216|0,Te=(e[Ee+4>>1]<<14)+Te|0,h=Te>>16,Te=(Te>>>1)-(h<<15)<<16,K=(((Z(Te>>16,E)|0)>>15)+(Z(h,E)|0)<<2)-((u>>15)+K)|0,K=(e[Ee+6>>1]<<14)+K|0,u=K>>16,K=(K>>>1)-(u<<15)<<16,h=(((Z(K>>16,E)|0)>>15)+(Z(u,E)|0)<<2)-((Te>>15)+(h<<16))|0,h=(e[Ee+8>>1]<<14)+h|0,Te=h>>16,u=(s<<16>>3)+((((Z((h>>>1)-(Te<<15)<<16>>16,E)|0)>>15)+(Z(Te,E)|0)<<1)-((K>>15)+(u<<16)))|0,K=Ee+4|0,E=Ee,Te=0,h=0,s=0,D=Ee+10|0,u=(u+33554432|0)>>>0<67108863?u>>>10&65535:(u|0)>33554431?32767:-32768;e:for(;;){for(ce=r<<16>>16<<14,k=E+6|0,b=E+8|0,C=h<<16>>16;;){if((C|0)>=60)break e;if(E=(C&65535)+1<<16>>16,A=e[6908+(E<<16>>16<<1)>>1]|0,le=A<<16>>16,h=ce+(le<<10)|0,f=h&-65536,h=(h>>>1)-(h>>16<<15)<<16,R=(((Z(h>>16,le)|0)>>15)+(Z(f>>16,le)|0)<<2)+-16777216|0,O=e[K>>1]|0,R=(O<<16>>16<<14)+R|0,pe=R>>16,R=(R>>>1)-(pe<<15)<<16,f=(((Z(R>>16,le)|0)>>15)+(Z(pe,le)|0)<<2)-((h>>15)+f)|0,h=e[k>>1]|0,f=(h<<16>>16<<14)+f|0,r=f>>16,f=(f>>>1)-(r<<15)<<16,pe=(((Z(f>>16,le)|0)>>15)+(Z(r,le)|0)<<2)-((R>>15)+(pe<<16))|0,R=e[b>>1]|0,pe=(R<<16>>16<<14)+pe|0,Ze=pe>>16,r=(((Z((pe>>>1)-(Ze<<15)<<16>>16,le)|0)>>15)+(Z(Ze,le)|0)<<1)-((f>>15)+(r<<16))|0,f=e[D>>1]|0,r=(f<<16>>16<<13)+r|0,r=(r+33554432|0)>>>0<67108863?r>>>10&65535:(r|0)>33554431?32767:-32768,(Z(r<<16>>16,u<<16>>16)|0)<1){le=E,E=O;break}else C=C+1|0,p=A,u=r}for(K=f<<16>>16<<13,D=E<<16>>16<<14,O=h<<16>>16<<14,b=R<<16>>16<<14,f=A<<16>>16,C=4;;)if(Ze=(p<<16>>16>>>1)+(f>>>1)|0,f=Ze<<16,k=f>>16,f=ce+(f>>6)|0,pe=f&-65536,f=(f>>>1)-(f>>16<<15)<<16,R=D+((((Z(f>>16,k)|0)>>15)+(Z(pe>>16,k)|0)<<2)+-16777216)|0,E=R>>16,R=(R>>>1)-(E<<15)<<16,pe=O+((((Z(R>>16,k)|0)>>15)+(Z(E,k)|0)<<2)-((f>>15)+pe))|0,f=pe>>16,pe=(pe>>>1)-(f<<15)<<16,E=b+((((Z(pe>>16,k)|0)>>15)+(Z(f,k)|0)<<2)-((R>>15)+(E<<16)))|0,R=E>>16,Ze=Ze&65535,f=K+((((Z((E>>>1)-(R<<15)<<16>>16,k)|0)>>15)+(Z(R,k)|0)<<1)-((pe>>15)+(f<<16)))|0,f=(f+33554432|0)>>>0<67108863?f>>>10&65535:(f|0)>33554431?32767:-32768,pe=(Z(f<<16>>16,r<<16>>16)|0)<1,k=pe?A:Ze,r=pe?r:f,p=pe?Ze:p,u=pe?f:u,C=C+-1<<16>>16,f=k<<16>>16,C<<16>>16)A=k;else{A=f,h=p,p=k;break}if(E=s<<16>>16,f=r<<16>>16,r=(u&65535)-f|0,u=r<<16,u&&(pe=(r&65535)-(r>>>15&1)|0,pe=pe<<16>>31^pe,r=(Ao(pe&65535)|0)<<16>>16,r=(Z((an(16383,pe<<16>>16<<r&65535)|0)<<16>>16,(h&65535)-A<<16>>16)|0)>>19-r,(u|0)<0&&(r=0-(r<<16>>16)|0),p=A-((Z(r<<16>>16,f)|0)>>>10)&65535),e[i+(E<<1)>>1]=p,u=Te<<16>>16?Ee:de,Ze=p<<16>>16,r=e[u+2>>1]|0,f=(r<<16>>16<<14)+(Ze<<10)|0,pe=f&-65536,f=(f>>>1)-(f>>16<<15)<<16,ce=(((Z(f>>16,Ze)|0)>>15)+(Z(pe>>16,Ze)|0)<<2)+-16777216|0,ce=(e[u+4>>1]<<14)+ce|0,K=ce>>16,ce=(ce>>>1)-(K<<15)<<16,pe=(((Z(ce>>16,Ze)|0)>>15)+(Z(K,Ze)|0)<<2)-((f>>15)+pe)|0,pe=(e[u+6>>1]<<14)+pe|0,f=pe>>16,pe=(pe>>>1)-(f<<15)<<16,K=(((Z(pe>>16,Ze)|0)>>15)+(Z(f,Ze)|0)<<2)-((ce>>15)+(K<<16))|0,K=(e[u+8>>1]<<14)+K|0,ce=K>>16,s=s+1<<16>>16,f=(((Z((K>>>1)-(ce<<15)<<16>>16,Ze)|0)>>15)+(Z(ce,Ze)|0)<<1)-((pe>>15)+(f<<16))|0,f=(e[u+10>>1]<<13)+f|0,s<<16>>16<10)K=u+4|0,E=u,Te=Te^1,h=le,D=u+10|0,u=(f+33554432|0)>>>0<67108863?f>>>10&65535:(f|0)>33554431?32767:-32768;else{We=13;break}}if((We|0)==13){he=je;return}e[i>>1]=e[o>>1]|0,e[i+2>>1]=e[o+2>>1]|0,e[i+4>>1]=e[o+4>>1]|0,e[i+6>>1]=e[o+6>>1]|0,e[i+8>>1]=e[o+8>>1]|0,e[i+10>>1]=e[o+10>>1]|0,e[i+12>>1]=e[o+12>>1]|0,e[i+14>>1]=e[o+14>>1]|0,e[i+16>>1]=e[o+16>>1]|0,e[i+18>>1]=e[o+18>>1]|0,he=je}function an(r,i){r=r|0,i=i|0;var o=0,s=0,u=0,f=0,p=0,h=0;return u=i<<16>>16,r<<16>>16<1||r<<16>>16>i<<16>>16?(u=0,u|0):r<<16>>16==i<<16>>16?(u=32767,u|0):(s=u<<1,o=u<<2,f=r<<16>>16<<3,r=(f|0)<(o|0),f=f-(r?0:o)|0,r=r?0:4,p=(f|0)<(s|0),f=f-(p?0:s)|0,i=(f|0)<(u|0),r=(i&1|(p?r:r|2))<<3^8,i=f-(i?0:u)<<3,(i|0)>=(o|0)&&(i=i-o|0,r=r&65528|4),f=(i|0)<(s|0),p=i-(f?0:s)|0,i=(p|0)<(u|0),r=(i&1^1|(f?r:r|2))<<16>>13,i=p-(i?0:u)<<3,(i|0)>=(o|0)&&(i=i-o|0,r=r&65528|4),f=(i|0)<(s|0),p=i-(f?0:s)|0,i=(p|0)<(u|0),r=(i&1^1|(f?r:r|2))<<16>>13,i=p-(i?0:u)<<3,(i|0)>=(o|0)&&(i=i-o|0,r=r&65528|4),h=(i|0)<(s|0),f=i-(h?0:s)|0,p=(f|0)<(u|0),i=(p&1^1|(h?r:r|2))<<16>>13,r=f-(p?0:u)<<3,(r|0)>=(o|0)&&(r=r-o|0,i=i&65528|4),h=(r|0)<(s|0),h=((r-(h?0:s)|0)>=(u|0)|(h?i:i|2))&65535,h|0)}function ao(r){return r=r|0,r?(e[r>>1]=-14336,e[r+8>>1]=-2381,e[r+2>>1]=-14336,e[r+10>>1]=-2381,e[r+4>>1]=-14336,e[r+12>>1]=-2381,e[r+6>>1]=-14336,e[r+14>>1]=-2381,r=0,r|0):(r=-1,r|0)}function To(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0;for(b=he,he=he+16|0,O=b+2|0,C=b,E=0,A=10;R=e[o>>1]|0,R=((Z(R,R)|0)>>>3)+E|0,E=e[o+2>>1]|0,E=R+((Z(E,E)|0)>>>3)|0,R=e[o+4>>1]|0,R=E+((Z(R,R)|0)>>>3)|0,E=e[o+6>>1]|0,E=R+((Z(E,E)|0)>>>3)|0,A=A+-1<<16>>16,A<<16>>16;)o=o+8|0;if(A=E<<4,A=(A|0)<0?2147483647:A,(i|0)==7){co(((Mr(A,h)|0)<<16>>16)*52428|0,O,C,h),R=ae[O>>1]<<16,A=e[C>>1]<<1,i=e[r+8>>1]|0,E=(i<<16>>16)*88|0,i<<16>>16>-1&(E|0)<-783741?(d[h>>2]=1,o=2147483647):o=E+783741|0,i=(e[r+10>>1]|0)*74|0,E=i+o|0,(i^o|0)>-1&(E^o|0)<0?(d[h>>2]=1,o=(o>>>31)+2147483647|0):o=E,i=(e[r+12>>1]|0)*44|0,E=i+o|0,(i^o|0)>-1&(E^o|0)<0?(d[h>>2]=1,o=(o>>>31)+2147483647|0):o=E,r=(e[r+14>>1]|0)*24|0,E=r+o|0,(r^o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0),r=R+-1966080+A|0,o=E-r|0,((o^E)&(E^r)|0)<0&&(d[h>>2]=1,o=(E>>>31)+2147483647|0),h=o>>17,e[s>>1]=h,h=(o>>2)-(h<<15)|0,h=h&65535,e[u>>1]=h,he=b;return}switch(R=jr(A)|0,E=R<<16>>16,R<<16>>16>0?(o=A<<E,(o>>E|0)==(A|0)?A=o:A=A>>31^2147483647):(E=0-E<<16,(E|0)<2031616?A=A>>(E>>16):A=0),h1(A,R,O,C),O=Z(e[O>>1]|0,-49320)|0,E=(Z(e[C>>1]|0,-24660)|0)>>15,E=E&65536|0?E|-65536:E,C=E<<1,o=C+O|0,(C^O|0)>-1&(o^C|0)<0&&(d[h>>2]=1,o=(E>>>30&1)+2147483647|0),i|0){case 6:{E=o+2134784|0,(o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0);break}case 5:{e[p>>1]=A>>>16,e[f>>1]=-11-(R&65535),E=o+2183936|0,(o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0);break}case 4:{E=o+2085632|0,(o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0);break}case 3:{E=o+2065152|0,(o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0);break}default:E=o+2134784|0,(o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0)}do if((E|0)<=2097151)if((E|0)<-2097152){d[h>>2]=1,o=-2147483648;break}else{o=E<<10;break}else d[h>>2]=1,o=2147483647;while(0);if(p=(e[r>>1]|0)*11142|0,E=p+o|0,(p^o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0),p=(e[r+2>>1]|0)*9502|0,o=p+E|0,(p^E|0)>-1&(o^E|0)<0&&(d[h>>2]=1,o=(E>>>31)+2147483647|0),p=(e[r+4>>1]|0)*5570|0,E=p+o|0,(p^o|0)>-1&(E^o|0)<0&&(d[h>>2]=1,E=(o>>>31)+2147483647|0),r=(e[r+6>>1]|0)*3112|0,o=r+E|0,(r^E|0)>-1&(o^E|0)<0&&(d[h>>2]=1,o=(E>>>31)+2147483647|0),o=Z(o>>16,(i|0)==4?10878:10886)|0,(o|0)<0?o=~((o^-256)>>8):o=o>>8,e[s>>1]=o>>>16,(o|0)<0?E=~((o^-2)>>1):E=o>>1,s=o>>16<<15,o=E-s|0,((o^E)&(s^E)|0)>=0){h=o,h=h&65535,e[u>>1]=h,he=b;return}d[h>>2]=1,h=(E>>>31)+2147483647|0,h=h&65535,e[u>>1]=h,he=b}function zn(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;u=r+4|0,e[r+6>>1]=e[u>>1]|0,f=r+12|0,e[r+14>>1]=e[f>>1]|0,s=r+2|0,e[u>>1]=e[s>>1]|0,u=r+10|0,e[f>>1]=e[u>>1]|0,e[s>>1]=e[r>>1]|0,s=r+8|0,e[u>>1]=e[s>>1]|0,e[s>>1]=i,e[r>>1]=o}function G0(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0;f=lr(0,e[r+8>>1]|0,s)|0,f=lr(f,e[r+10>>1]|0,s)|0,f=lr(f,e[r+12>>1]|0,s)|0,f=lr(f,e[r+14>>1]|0,s)|0,u=f<<16>>16>>2,u=(f<<16>>16<0?u|49152:u)&65535,e[i>>1]=u<<16>>16<-2381?-2381:u,i=lr(0,e[r>>1]|0,s)|0,i=lr(i,e[r+2>>1]|0,s)|0,i=lr(i,e[r+4>>1]|0,s)|0,s=lr(i,e[r+6>>1]|0,s)|0,r=s<<16>>16>>2,r=(s<<16>>16<0?r|49152:r)&65535,e[o>>1]=r<<16>>16<-14336?-14336:r}function f1(r){r=r|0,d[r>>2]=6892,d[r+4>>2]=8180,d[r+8>>2]=21e3,d[r+12>>2]=9716,d[r+16>>2]=22024,d[r+20>>2]=12788,d[r+24>>2]=24072,d[r+28>>2]=26120,d[r+32>>2]=28168,d[r+36>>2]=6876,d[r+40>>2]=7452,d[r+44>>2]=8140,d[r+48>>2]=20980,d[r+52>>2]=16884,d[r+56>>2]=17908,d[r+60>>2]=7980,d[r+64>>2]=8160,d[r+68>>2]=6678,d[r+72>>2]=6646,d[r+76>>2]=6614,d[r+80>>2]=29704,d[r+84>>2]=28680,d[r+88>>2]=3720,d[r+92>>2]=8,d[r+96>>2]=4172,d[r+100>>2]=44,d[r+104>>2]=3436,d[r+108>>2]=30316,d[r+112>>2]=30796,d[r+116>>2]=31276,d[r+120>>2]=7472,d[r+124>>2]=7552,d[r+128>>2]=7632,d[r+132>>2]=7712}function po(r,i){r=r|0,i=i|0;var o=0,s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0;if(O=he,he=he+48|0,A=O+18|0,R=O,E=i<<16>>16,Tn(R|0,r|0,E<<1|0)|0,i<<16>>16>0)o=0,s=0;else return R=E>>1,R=A+(R<<1)|0,R=e[R>>1]|0,R=R<<16>>16,R=r+(R<<1)|0,R=e[R>>1]|0,he=O,R|0;do{for(h=0,p=-32767;u=e[R+(h<<1)>>1]|0,f=u<<16>>16<p<<16>>16,s=f?s:h&65535,h=h+1|0,(h&65535)<<16>>16!=i<<16>>16;)p=f?p:u;e[R+(s<<16>>16<<1)>>1]=-32768,e[A+(o<<1)>>1]=s,o=o+1|0}while((o&65535)<<16>>16!=i<<16>>16);return R=E>>1,R=A+(R<<1)|0,R=e[R>>1]|0,R=R<<16>>16,R=r+(R<<1)|0,R=e[R>>1]|0,he=O,R|0}function d1(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0;f=he,he=he+32|0,p=f,Ze=i+2|0,We=p+2|0,e[p>>1]=((e[i>>1]|0)>>>1)+((e[r>>1]|0)>>>1),je=i+4|0,de=p+4|0,e[We>>1]=((e[Ze>>1]|0)>>>1)+((e[r+2>>1]|0)>>>1),Ee=i+6|0,Te=p+6|0,e[de>>1]=((e[je>>1]|0)>>>1)+((e[r+4>>1]|0)>>>1),le=i+8|0,ce=p+8|0,e[Te>>1]=((e[Ee>>1]|0)>>>1)+((e[r+6>>1]|0)>>>1),K=i+10|0,D=p+10|0,e[ce>>1]=((e[le>>1]|0)>>>1)+((e[r+8>>1]|0)>>>1),k=i+12|0,b=p+12|0,e[D>>1]=((e[K>>1]|0)>>>1)+((e[r+10>>1]|0)>>>1),C=i+14|0,O=p+14|0,e[b>>1]=((e[k>>1]|0)>>>1)+((e[r+12>>1]|0)>>>1),R=i+16|0,A=p+16|0,e[O>>1]=((e[C>>1]|0)>>>1)+((e[r+14>>1]|0)>>>1),E=i+18|0,h=p+18|0,e[A>>1]=((e[R>>1]|0)>>>1)+((e[r+16>>1]|0)>>>1),e[h>>1]=((e[E>>1]|0)>>>1)+((e[r+18>>1]|0)>>>1),_n(p,s,u),_n(i,s+22|0,u),e[p>>1]=((e[o>>1]|0)>>>1)+((e[i>>1]|0)>>>1),e[We>>1]=((e[o+2>>1]|0)>>>1)+((e[Ze>>1]|0)>>>1),e[de>>1]=((e[o+4>>1]|0)>>>1)+((e[je>>1]|0)>>>1),e[Te>>1]=((e[o+6>>1]|0)>>>1)+((e[Ee>>1]|0)>>>1),e[ce>>1]=((e[o+8>>1]|0)>>>1)+((e[le>>1]|0)>>>1),e[D>>1]=((e[o+10>>1]|0)>>>1)+((e[K>>1]|0)>>>1),e[b>>1]=((e[o+12>>1]|0)>>>1)+((e[k>>1]|0)>>>1),e[O>>1]=((e[o+14>>1]|0)>>>1)+((e[C>>1]|0)>>>1),e[A>>1]=((e[o+16>>1]|0)>>>1)+((e[R>>1]|0)>>>1),e[h>>1]=((e[o+18>>1]|0)>>>1)+((e[E>>1]|0)>>>1),_n(p,s+44|0,u),_n(o,s+66|0,u),he=f}function F0(r,i,o,s,u){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0;var f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0;f=he,he=he+32|0,p=f,Ze=i+2|0,We=p+2|0,e[p>>1]=((e[i>>1]|0)>>>1)+((e[r>>1]|0)>>>1),je=i+4|0,de=p+4|0,e[We>>1]=((e[Ze>>1]|0)>>>1)+((e[r+2>>1]|0)>>>1),Ee=i+6|0,Te=p+6|0,e[de>>1]=((e[je>>1]|0)>>>1)+((e[r+4>>1]|0)>>>1),le=i+8|0,ce=p+8|0,e[Te>>1]=((e[Ee>>1]|0)>>>1)+((e[r+6>>1]|0)>>>1),K=i+10|0,D=p+10|0,e[ce>>1]=((e[le>>1]|0)>>>1)+((e[r+8>>1]|0)>>>1),k=i+12|0,b=p+12|0,e[D>>1]=((e[K>>1]|0)>>>1)+((e[r+10>>1]|0)>>>1),C=i+14|0,O=p+14|0,e[b>>1]=((e[k>>1]|0)>>>1)+((e[r+12>>1]|0)>>>1),R=i+16|0,A=p+16|0,e[O>>1]=((e[C>>1]|0)>>>1)+((e[r+14>>1]|0)>>>1),E=i+18|0,h=p+18|0,e[A>>1]=((e[R>>1]|0)>>>1)+((e[r+16>>1]|0)>>>1),e[h>>1]=((e[E>>1]|0)>>>1)+((e[r+18>>1]|0)>>>1),_n(p,s,u),e[p>>1]=((e[o>>1]|0)>>>1)+((e[i>>1]|0)>>>1),e[We>>1]=((e[o+2>>1]|0)>>>1)+((e[Ze>>1]|0)>>>1),e[de>>1]=((e[o+4>>1]|0)>>>1)+((e[je>>1]|0)>>>1),e[Te>>1]=((e[o+6>>1]|0)>>>1)+((e[Ee>>1]|0)>>>1),e[ce>>1]=((e[o+8>>1]|0)>>>1)+((e[le>>1]|0)>>>1),e[D>>1]=((e[o+10>>1]|0)>>>1)+((e[K>>1]|0)>>>1),e[b>>1]=((e[o+12>>1]|0)>>>1)+((e[k>>1]|0)>>>1),e[O>>1]=((e[o+14>>1]|0)>>>1)+((e[C>>1]|0)>>>1),e[A>>1]=((e[o+16>>1]|0)>>>1)+((e[R>>1]|0)>>>1),e[h>>1]=((e[o+18>>1]|0)>>>1)+((e[E>>1]|0)>>>1),_n(p,s+44|0,u),he=f}function p1(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0;u=he,he=he+32|0,f=u,Pt=e[r>>1]|0,e[f>>1]=Pt-(Pt>>>2)+((e[i>>1]|0)>>>2),Pt=r+2|0,Rt=e[Pt>>1]|0,ft=i+2|0,rr=f+2|0,e[rr>>1]=Rt-(Rt>>>2)+((e[ft>>1]|0)>>>2),Rt=r+4|0,pe=e[Rt>>1]|0,qt=i+4|0,gt=f+4|0,e[gt>>1]=pe-(pe>>>2)+((e[qt>>1]|0)>>>2),pe=r+6|0,je=e[pe>>1]|0,Ge=i+6|0,Ze=f+6|0,e[Ze>>1]=je-(je>>>2)+((e[Ge>>1]|0)>>>2),je=r+8|0,Te=e[je>>1]|0,We=i+8|0,de=f+8|0,e[de>>1]=Te-(Te>>>2)+((e[We>>1]|0)>>>2),Te=r+10|0,K=e[Te>>1]|0,Ee=i+10|0,le=f+10|0,e[le>>1]=K-(K>>>2)+((e[Ee>>1]|0)>>>2),K=r+12|0,b=e[K>>1]|0,ce=i+12|0,D=f+12|0,e[D>>1]=b-(b>>>2)+((e[ce>>1]|0)>>>2),b=r+14|0,R=e[b>>1]|0,k=i+14|0,C=f+14|0,e[C>>1]=R-(R>>>2)+((e[k>>1]|0)>>>2),R=r+16|0,h=e[R>>1]|0,O=i+16|0,A=f+16|0,e[A>>1]=h-(h>>>2)+((e[O>>1]|0)>>>2),h=r+18|0,Nt=e[h>>1]|0,E=i+18|0,p=f+18|0,e[p>>1]=Nt-(Nt>>>2)+((e[E>>1]|0)>>>2),_n(f,o,s),e[f>>1]=((e[r>>1]|0)>>>1)+((e[i>>1]|0)>>>1),e[rr>>1]=((e[Pt>>1]|0)>>>1)+((e[ft>>1]|0)>>>1),e[gt>>1]=((e[Rt>>1]|0)>>>1)+((e[qt>>1]|0)>>>1),e[Ze>>1]=((e[pe>>1]|0)>>>1)+((e[Ge>>1]|0)>>>1),e[de>>1]=((e[je>>1]|0)>>>1)+((e[We>>1]|0)>>>1),e[le>>1]=((e[Te>>1]|0)>>>1)+((e[Ee>>1]|0)>>>1),e[D>>1]=((e[K>>1]|0)>>>1)+((e[ce>>1]|0)>>>1),e[C>>1]=((e[b>>1]|0)>>>1)+((e[k>>1]|0)>>>1),e[A>>1]=((e[R>>1]|0)>>>1)+((e[O>>1]|0)>>>1),e[p>>1]=((e[h>>1]|0)>>>1)+((e[E>>1]|0)>>>1),_n(f,o+22|0,s),Nt=e[i>>1]|0,e[f>>1]=Nt-(Nt>>>2)+((e[r>>1]|0)>>>2),r=e[ft>>1]|0,e[rr>>1]=r-(r>>>2)+((e[Pt>>1]|0)>>>2),r=e[qt>>1]|0,e[gt>>1]=r-(r>>>2)+((e[Rt>>1]|0)>>>2),r=e[Ge>>1]|0,e[Ze>>1]=r-(r>>>2)+((e[pe>>1]|0)>>>2),r=e[We>>1]|0,e[de>>1]=r-(r>>>2)+((e[je>>1]|0)>>>2),r=e[Ee>>1]|0,e[le>>1]=r-(r>>>2)+((e[Te>>1]|0)>>>2),r=e[ce>>1]|0,e[D>>1]=r-(r>>>2)+((e[K>>1]|0)>>>2),r=e[k>>1]|0,e[C>>1]=r-(r>>>2)+((e[b>>1]|0)>>>2),r=e[O>>1]|0,e[A>>1]=r-(r>>>2)+((e[R>>1]|0)>>>2),r=e[E>>1]|0,e[p>>1]=r-(r>>>2)+((e[h>>1]|0)>>>2),_n(f,o+44|0,s),_n(i,o+66|0,s),he=u}function H0(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0;u=he,he=he+32|0,f=u,Pt=e[r>>1]|0,e[f>>1]=Pt-(Pt>>>2)+((e[i>>1]|0)>>>2),Pt=r+2|0,Rt=e[Pt>>1]|0,ft=i+2|0,rr=f+2|0,e[rr>>1]=Rt-(Rt>>>2)+((e[ft>>1]|0)>>>2),Rt=r+4|0,pe=e[Rt>>1]|0,qt=i+4|0,gt=f+4|0,e[gt>>1]=pe-(pe>>>2)+((e[qt>>1]|0)>>>2),pe=r+6|0,je=e[pe>>1]|0,Ge=i+6|0,Ze=f+6|0,e[Ze>>1]=je-(je>>>2)+((e[Ge>>1]|0)>>>2),je=r+8|0,Te=e[je>>1]|0,We=i+8|0,de=f+8|0,e[de>>1]=Te-(Te>>>2)+((e[We>>1]|0)>>>2),Te=r+10|0,K=e[Te>>1]|0,Ee=i+10|0,le=f+10|0,e[le>>1]=K-(K>>>2)+((e[Ee>>1]|0)>>>2),K=r+12|0,b=e[K>>1]|0,ce=i+12|0,D=f+12|0,e[D>>1]=b-(b>>>2)+((e[ce>>1]|0)>>>2),b=r+14|0,R=e[b>>1]|0,k=i+14|0,C=f+14|0,e[C>>1]=R-(R>>>2)+((e[k>>1]|0)>>>2),R=r+16|0,h=e[R>>1]|0,O=i+16|0,A=f+16|0,e[A>>1]=h-(h>>>2)+((e[O>>1]|0)>>>2),h=r+18|0,Nt=e[h>>1]|0,E=i+18|0,p=f+18|0,e[p>>1]=Nt-(Nt>>>2)+((e[E>>1]|0)>>>2),_n(f,o,s),e[f>>1]=((e[r>>1]|0)>>>1)+((e[i>>1]|0)>>>1),e[rr>>1]=((e[Pt>>1]|0)>>>1)+((e[ft>>1]|0)>>>1),e[gt>>1]=((e[Rt>>1]|0)>>>1)+((e[qt>>1]|0)>>>1),e[Ze>>1]=((e[pe>>1]|0)>>>1)+((e[Ge>>1]|0)>>>1),e[de>>1]=((e[je>>1]|0)>>>1)+((e[We>>1]|0)>>>1),e[le>>1]=((e[Te>>1]|0)>>>1)+((e[Ee>>1]|0)>>>1),e[D>>1]=((e[K>>1]|0)>>>1)+((e[ce>>1]|0)>>>1),e[C>>1]=((e[b>>1]|0)>>>1)+((e[k>>1]|0)>>>1),e[A>>1]=((e[R>>1]|0)>>>1)+((e[O>>1]|0)>>>1),e[p>>1]=((e[h>>1]|0)>>>1)+((e[E>>1]|0)>>>1),_n(f,o+22|0,s),i=e[i>>1]|0,e[f>>1]=i-(i>>>2)+((e[r>>1]|0)>>>2),r=e[ft>>1]|0,e[rr>>1]=r-(r>>>2)+((e[Pt>>1]|0)>>>2),r=e[qt>>1]|0,e[gt>>1]=r-(r>>>2)+((e[Rt>>1]|0)>>>2),r=e[Ge>>1]|0,e[Ze>>1]=r-(r>>>2)+((e[pe>>1]|0)>>>2),r=e[We>>1]|0,e[de>>1]=r-(r>>>2)+((e[je>>1]|0)>>>2),r=e[Ee>>1]|0,e[le>>1]=r-(r>>>2)+((e[Te>>1]|0)>>>2),r=e[ce>>1]|0,e[D>>1]=r-(r>>>2)+((e[K>>1]|0)>>>2),r=e[k>>1]|0,e[C>>1]=r-(r>>>2)+((e[b>>1]|0)>>>2),r=e[O>>1]|0,e[A>>1]=r-(r>>>2)+((e[R>>1]|0)>>>2),r=e[E>>1]|0,e[p>>1]=r-(r>>>2)+((e[h>>1]|0)>>>2),_n(f,o+44|0,s),he=u}function eo(r,i){r=r|0,i=i|0;var o=0,s=0;return(r|0)<1?(i=1073741823,i|0):(o=(jr(r)|0)<<16>>16,i=30-o|0,r=r<<o>>(i&1^1),o=(r>>25<<16)+-1048576>>16,s=e[7030+(o<<1)>>1]|0,i=(s<<16)-(Z(s-(ae[7030+(o+1<<1)>>1]|0)<<16>>15,r>>>10&32767)|0)>>(i<<16>>17)+1,i|0)}function co(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0,s=jr(r)|0,h1(r<<(s<<16>>16),s,i,o)}function h1(r,i,o,s){if(r=r|0,i=i|0,o=o|0,s=s|0,(r|0)<1){e[o>>1]=0,o=0,e[s>>1]=o;return}else{e[o>>1]=30-(i&65535),o=(r>>25<<16)+-2097152>>16,i=e[7128+(o<<1)>>1]|0,o=((i<<16)-(Z(r>>>9&65534,i-(ae[7128+(o+1<<1)>>1]|0)<<16>>16)|0)|0)>>>16&65535,e[s>>1]=o;return}}function hi(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0;for(s=r+2|0,o=e[s>>1]|0,e[i>>1]=o,u=r+4|0,e[i+2>>1]=(ae[u>>1]|0)-(ae[r>>1]|0),e[i+4>>1]=(ae[r+6>>1]|0)-(ae[s>>1]|0),s=r+8|0,e[i+6>>1]=(ae[s>>1]|0)-(ae[u>>1]|0),e[i+8>>1]=(ae[r+10>>1]|0)-(ae[r+6>>1]|0),u=r+12|0,e[i+10>>1]=(ae[u>>1]|0)-(ae[s>>1]|0),e[i+12>>1]=(ae[r+14>>1]|0)-(ae[r+10>>1]|0),e[i+14>>1]=(ae[r+16>>1]|0)-(ae[u>>1]|0),e[i+16>>1]=(ae[r+18>>1]|0)-(ae[r+14>>1]|0),e[i+18>>1]=16384-(ae[r+16>>1]|0),r=10,u=i;o=o<<16>>16,i=(o<<16)+-120782848|0,(i|0)>0?i=1843-((i>>16)*12484>>16)|0:i=3427-((o*56320|0)>>>16)|0,s=u+2|0,e[u>>1]=i<<3,r=r+-1<<16>>16,!!(r<<16>>16);)o=e[s>>1]|0,u=s}function mi(r,i,o){return r=r|0,i=i|0,o=o|0,o=i<<16>>16,i<<16>>16>31?(i=0,i|0):i<<16>>16>0?((1<<o+-1&r|0)!=0&1)+(i<<16>>16<31?r>>o:0)|0:(o=0-o<<16>>16,i=r<<o,i=(i>>o|0)==(r|0)?i:r>>31^2147483647,i|0)}function _n(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0;for(D=he,he=he+48|0,b=D+24|0,k=D,O=b+4|0,d[b>>2]=16777216,s=0-(e[r>>1]|0)|0,C=b+8|0,d[O>>2]=s<<10,u=e[r+4>>1]|0,E=s>>6,d[C>>2]=33554432-(((Z((s<<9)-(E<<15)<<16>>16,u)|0)>>15)+(Z(E,u)|0)<<2),E=b+4|0,u=(d[E>>2]|0)-(u<<10)|0,d[E>>2]=u,E=b+12|0,s=b+4|0,d[E>>2]=u,o=e[r+8>>1]|0,f=u,A=1;h=E+-4|0,p=d[h>>2]|0,R=p>>16,d[E>>2]=f+u-(((Z((p>>>1)-(R<<15)<<16>>16,o)|0)>>15)+(Z(R,o)|0)<<2),(A|0)!=2;)f=d[E+-12>>2]|0,E=h,u=p,A=A+1|0;for(d[s>>2]=(d[s>>2]|0)-(o<<10),o=b+16|0,s=d[b+8>>2]|0,d[o>>2]=s,h=e[r+12>>1]|0,u=s,E=1;p=o+-4|0,f=d[p>>2]|0,R=f>>16,d[o>>2]=u+s-(((Z((f>>>1)-(R<<15)<<16>>16,h)|0)>>15)+(Z(R,h)|0)<<2),(E|0)!=3;)u=d[o+-12>>2]|0,o=p,s=f,E=E+1|0;for(o=b+4|0,d[o>>2]=(d[o>>2]|0)-(h<<10),o=b+20|0,u=d[b+12>>2]|0,d[o>>2]=u,s=e[r+16>>1]|0,f=u,E=1;h=o+-4|0,p=d[h>>2]|0,R=p>>16,d[o>>2]=f+u-(((Z((p>>>1)-(R<<15)<<16>>16,s)|0)>>15)+(Z(R,s)|0)<<2),(E|0)!=4;)f=d[o+-12>>2]|0,o=h,u=p,E=E+1|0;for(E=b+4|0,d[E>>2]=(d[E>>2]|0)-(s<<10),d[k>>2]=16777216,E=0-(e[r+2>>1]|0)|0,R=k+8|0,d[k+4>>2]=E<<10,s=e[r+6>>1]|0,A=E>>6,d[R>>2]=33554432-(((Z((E<<9)-(A<<15)<<16>>16,s)|0)>>15)+(Z(A,s)|0)<<2),A=k+4|0,s=(d[A>>2]|0)-(s<<10)|0,d[A>>2]=s,A=k+12|0,E=k+4|0,d[A>>2]=s,h=e[r+10>>1]|0,u=s,o=1;p=A+-4|0,f=d[p>>2]|0,K=f>>16,d[A>>2]=u+s-(((Z((f>>>1)-(K<<15)<<16>>16,h)|0)>>15)+(Z(K,h)|0)<<2),(o|0)!=2;)u=d[A+-12>>2]|0,A=p,s=f,o=o+1|0;for(d[E>>2]=(d[E>>2]|0)-(h<<10),E=k+16|0,s=d[k+8>>2]|0,d[E>>2]=s,h=e[r+14>>1]|0,u=s,o=1;p=E+-4|0,f=d[p>>2]|0,K=f>>16,d[E>>2]=u+s-(((Z((f>>>1)-(K<<15)<<16>>16,h)|0)>>15)+(Z(K,h)|0)<<2),(o|0)!=3;)u=d[E+-12>>2]|0,E=p,s=f,o=o+1|0;for(o=k+4|0,d[o>>2]=(d[o>>2]|0)-(h<<10),o=k+20|0,h=d[k+12>>2]|0,d[o>>2]=h,s=e[r+18>>1]|0,p=h,E=1;u=o+-4|0,f=d[u>>2]|0,K=f>>16,d[o>>2]=p+h-(((Z((f>>>1)-(K<<15)<<16>>16,s)|0)>>15)+(Z(K,s)|0)<<2),(E|0)!=4;)p=d[o+-12>>2]|0,o=u,h=f,E=E+1|0;p=(d[k+4>>2]|0)-(s<<10)|0,A=b+20|0,h=k+20|0,E=d[b+16>>2]|0,r=(d[A>>2]|0)+E|0,d[A>>2]=r,A=d[k+16>>2]|0,K=(d[h>>2]|0)-A|0,d[h>>2]=K,h=d[b+12>>2]|0,E=E+h|0,d[b+16>>2]=E,f=d[k+12>>2]|0,A=A-f|0,d[k+16>>2]=A,s=d[C>>2]|0,h=h+s|0,d[b+12>>2]=h,u=d[R>>2]|0,C=f-u|0,d[k+12>>2]=C,f=d[O>>2]|0,R=s+f|0,d[b+8>>2]=R,O=u-p|0,d[k+8>>2]=O,b=f+(d[b>>2]|0)|0,k=p-(d[k>>2]|0)|0,e[i>>1]=4096,b=b+4096|0,e[i+2>>1]=(b+k|0)>>>13,e[i+20>>1]=(b-k|0)>>>13,k=R+4096|0,e[i+4>>1]=(k+O|0)>>>13,e[i+18>>1]=(k-O|0)>>>13,k=h+4096|0,e[i+6>>1]=(k+C|0)>>>13,e[i+16>>1]=(k-C|0)>>>13,k=E+4096|0,e[i+8>>1]=(k+A|0)>>>13,e[i+14>>1]=(k-A|0)>>>13,k=r+4096|0,e[i+10>>1]=(k+K|0)>>>13,e[i+12>>1]=(k-K|0)>>>13,he=D}function j0(r){r=r|0;var i=0,o=0,s=0,u=0,f=0;if(!r||(d[r>>2]=0,i=cn(44)|0,!i)||(o=i+40|0,(q0(o)|0)<<16>>16))return f=-1,f|0;s=i,u=7452,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));s=i+20|0,u=7452,f=s+20|0;do e[s>>1]=e[u>>1]|0,s=s+2|0,u=u+2|0;while((s|0)<(f|0));return v1(d[o>>2]|0)|0,d[r>>2]=i,f=0,f|0}function m1(r){r=r|0;var i=0,o=0,s=0;if(!r)return s=-1,s|0;i=r,o=7452,s=i+20|0;do e[i>>1]=e[o>>1]|0,i=i+2|0,o=o+2|0;while((i|0)<(s|0));i=r+20|0,o=7452,s=i+20|0;do e[i>>1]=e[o>>1]|0,i=i+2|0,o=o+2|0;while((i|0)<(s|0));return v1(d[r+40>>2]|0)|0,s=0,s|0}function W0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(K0(i+40|0),Zr(d[r>>2]|0),d[r>>2]=0))}function z0(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0;if(C=he,he=he+64|0,O=C+44|0,E=C+24|0,A=C+4|0,R=C,(i|0)==7?(pi(s+22|0,E,r,h),pi(s+66|0,f,E,h),F0(r,E,f,s,h),(o|0)==8?s=6:(V0(d[r+40>>2]|0,E,f,A,O,d[p>>2]|0,h),d1(r+20|0,A,O,u,h),u=(d[p>>2]|0)+10|0,s=7)):(pi(s+66|0,f,r,h),H0(r,f,s,h),(o|0)==8?s=6:(g1(d[r+40>>2]|0,i,f,O,d[p>>2]|0,R,h),p1(r+20|0,O,u,h),u=(d[p>>2]|0)+6|0,s=7)),(s|0)==6){s=r,u=s+20|0;do e[s>>1]=e[f>>1]|0,s=s+2|0,f=f+2|0;while((s|0)<(u|0));he=C;return}else if((s|0)==7){d[p>>2]=u,s=r,u=s+20|0;do e[s>>1]=e[f>>1]|0,s=s+2|0,f=f+2|0;while((s|0)<(u|0));s=r+20|0,f=O,u=s+20|0;do e[s>>1]=e[f>>1]|0,s=s+2|0,f=f+2|0;while((s|0)<(u|0));he=C;return}}function vn(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;if(o<<16>>16>0)s=0;else return;do f=e[r+(s<<1)>>1]|0,p=f>>8,u=e[7194+(p<<1)>>1]|0,e[i+(s<<1)>>1]=((Z((e[7194+(p+1<<1)>>1]|0)-u|0,f&255)|0)>>>8)+u,s=s+1|0;while((s&65535)<<16>>16!=o<<16>>16)}function xo(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;if(s=(o<<16>>16)+-1|0,o=s&65535,!(o<<16>>16<=-1))for(u=63,p=i+(s<<1)|0,f=r+(s<<1)|0;;){for(r=e[f>>1]|0,i=u;s=i<<16>>16,u=e[7194+(s<<1)>>1]|0,r<<16>>16>u<<16>>16;)i=i+-1<<16>>16;if(e[p>>1]=(((Z(e[7324+(s<<1)>>1]|0,(r<<16>>16)-(u<<16>>16)|0)|0)+2048|0)>>>12)+(s<<8),o=o+-1<<16>>16,o<<16>>16>-1)u=i,p=p+-2|0,f=f+-2|0;else break}}function gi(r,i,o){return r=r|0,i=i|0,o=o|0,r=(Z(i<<16>>16,r<<16>>16)|0)+16384>>15,r=r|0-(r&65536),(r|0)<=32767?(r|0)<-32768&&(d[o>>2]=1,r=-32768):(d[o>>2]=1,r=32767),r&65535|0}function jr(r){r=r|0;var i=0;e:do if(r|0&&(i=r-(r>>>31)|0,i=i>>31^i,(i&1073741824|0)==0)){for(r=i,i=0;;){if(r&536870912){r=7;break}if(r&268435456){r=8;break}if(r&134217728){r=9;break}if(i=i+4<<16>>16,r=r<<4,r&1073741824)break e}if((r|0)==7){i=i|1;break}else if((r|0)==8){i=i|2;break}else if((r|0)==9){i=i|3;break}}else i=0;while(0);return i|0}function Ao(r){r=r|0;var i=0,o=0;if(!(r<<16>>16))return o=0,o|0;if(i=(r&65535)-((r&65535)>>>15&65535)|0,i=(i<<16>>31^i)<<16,r=i>>16,!(r&16384))o=i,i=0;else return o=0,o|0;for(;;){if(r&8192){r=i,o=7;break}if(r&4096){r=i,o=8;break}if(r&2048){r=i,o=9;break}if(i=i+4<<16>>16,o=o<<4,r=o>>16,r&16384){r=i,o=10;break}}return(o|0)==7?(o=r|1,o|0):(o|0)==8?(o=r|2,o|0):(o|0)==9?(o=r|3,o|0):(o|0)==10?r|0:0}function Pn(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;return i=i<<16>>16,(i&134217727|0)==33554432?(d[o>>2]=1,i=2147483647):i=i<<6,s=i>>>16&31,f=e[7792+(s<<1)>>1]|0,u=f<<16,i=Z(f-(ae[7792+(s+1<<1)>>1]|0)<<16>>16,i>>>1&32767)|0,(i|0)==1073741824?(d[o>>2]=1,s=2147483647):s=i<<1,i=u-s|0,((i^u)&(s^u)|0)>=0?(f=i,r=r&65535,r=30-r|0,r=r&65535,o=mi(f,r,o)|0,o|0):(d[o>>2]=1,f=(f>>>15&1)+2147483647|0,r=r&65535,r=30-r|0,r=r&65535,o=mi(f,r,o)|0,o|0)}function Uo(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0;if(C=he,he=he+48|0,O=C,R=0-(o&65535)|0,R=u<<16>>16?R<<1&131070:R,o=R&65535,R=(o<<16>>16<0?R+6|0:R)<<16>>16,f=6-R|0,e[O>>1]=e[7858+(R<<1)>>1]|0,e[O+2>>1]=e[7858+(f<<1)>>1]|0,e[O+4>>1]=e[7858+(R+6<<1)>>1]|0,e[O+6>>1]=e[7858+(f+6<<1)>>1]|0,e[O+8>>1]=e[7858+(R+12<<1)>>1]|0,e[O+10>>1]=e[7858+(f+12<<1)>>1]|0,e[O+12>>1]=e[7858+(R+18<<1)>>1]|0,e[O+14>>1]=e[7858+(f+18<<1)>>1]|0,e[O+16>>1]=e[7858+(R+24<<1)>>1]|0,e[O+18>>1]=e[7858+(f+24<<1)>>1]|0,e[O+20>>1]=e[7858+(R+30<<1)>>1]|0,e[O+22>>1]=e[7858+(f+30<<1)>>1]|0,e[O+24>>1]=e[7858+(R+36<<1)>>1]|0,e[O+26>>1]=e[7858+(f+36<<1)>>1]|0,e[O+28>>1]=e[7858+(R+42<<1)>>1]|0,e[O+30>>1]=e[7858+(f+42<<1)>>1]|0,e[O+32>>1]=e[7858+(R+48<<1)>>1]|0,e[O+34>>1]=e[7858+(f+48<<1)>>1]|0,e[O+36>>1]=e[7858+(R+54<<1)>>1]|0,e[O+38>>1]=e[7858+(f+54<<1)>>1]|0,f=s<<16>>16>>>1&65535,!(f<<16>>16)){he=C;return}for(R=r+((o<<16>>16>>15<<16>>16)-(i<<16>>16)<<1)|0;;){for(A=R+2|0,p=e[A>>1]|0,i=p,s=R,h=5,E=O,u=16384,o=16384;k=e[E>>1]|0,D=(Z(k,i<<16>>16)|0)+o|0,b=e[A+-2>>1]|0,o=(Z(b,k)|0)+u|0,k=s,s=s+4|0,K=e[E+2>>1]|0,o=o+(Z(K,p<<16>>16)|0)|0,u=e[s>>1]|0,K=D+(Z(u,K)|0)|0,A=A+-4|0,D=e[E+4>>1]|0,b=K+(Z(D,b)|0)|0,i=e[A>>1]|0,D=o+(Z(i<<16>>16,D)|0)|0,o=e[E+6>>1]|0,u=D+(Z(o,u)|0)|0,p=e[k+6>>1]|0,o=b+(Z(p<<16>>16,o)|0)|0,!(h<<16>>16<=1);)h=h+-1<<16>>16,E=E+8|0;if(e[r>>1]=u>>>15,e[r+2>>1]=o>>>15,f=f+-1<<16>>16,f<<16>>16)R=R+4|0,r=r+4|0;else break}he=C}function g1(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0;if(pe=he,he=he+144|0,K=pe+120|0,de=pe+100|0,We=pe+80|0,Ze=pe+60|0,je=pe+40|0,b=pe+20|0,k=pe,xo(o,K,10,p),hi(K,de,p),(i|0)==8)for(e[f>>1]=0,E=2147483647,D=0;;){R=D*10|0,o=0,A=0;do Ee=(ae[7980+(A+R<<1)>>1]|0)+(ae[8140+(A<<1)>>1]|0)|0,e[k+(A<<1)>>1]=Ee,Ee=(ae[K+(A<<1)>>1]|0)-(Ee&65535)|0,e[b+(A<<1)>>1]=Ee,Ee=Ee<<16,o=(Z(Ee>>15,Ee>>16)|0)+o|0,A=A+1|0;while((A|0)!=10);if((o|0)<(E|0)){ce=Ze,C=b,O=ce+20|0;do e[ce>>1]=e[C>>1]|0,ce=ce+2|0,C=C+2|0;while((ce|0)<(O|0));ce=We,C=k,O=ce+20|0;do e[ce>>1]=e[C>>1]|0,ce=ce+2|0,C=C+2|0;while((ce|0)<(O|0));ce=r,C=7980+(R<<1)|0,O=ce+20|0;do e[ce>>1]=e[C>>1]|0,ce=ce+2|0,C=C+2|0;while((ce|0)<(O|0));e[f>>1]=D}else o=E;if(D=D+1|0,(D|0)==8)break;E=o}else{o=0;do Ee=Z(e[8160+(o<<1)>>1]|0,e[r+(o<<1)>>1]|0)|0,Ee=(Ee>>>15)+(ae[8140+(o<<1)>>1]|0)|0,e[We+(o<<1)>>1]=Ee,e[Ze+(o<<1)>>1]=(ae[K+(o<<1)>>1]|0)-Ee,o=o+1|0;while((o|0)!=10)}do if(i>>>0>=2)if(Ee=Ze+2|0,Te=Ze+4|0,le=ae[Ze>>1]|0,ce=e[de>>1]<<1,K=ae[Ee>>1]|0,b=e[de+2>>1]<<1,C=ae[Te>>1]|0,O=e[de+4>>1]<<1,(i|0)==5){for(k=2147483647,f=0,o=0,D=17908;A=(Z(le-(ae[D>>1]|0)<<16>>16,ce)|0)>>16,A=Z(A,A)|0,R=(Z(K-(ae[D+2>>1]|0)<<16>>16,b)|0)>>16,A=(Z(R,R)|0)+A|0,R=(Z(C-(ae[D+4>>1]|0)<<16>>16,O)|0)>>16,R=A+(Z(R,R)|0)|0,A=(R|0)<(k|0),o=A?f:o,f=f+1<<16>>16,!(f<<16>>16>=512);)k=A?R:k,D=D+6|0;for(R=(o<<16>>16)*3|0,e[Ze>>1]=e[17908+(R<<1)>>1]|0,e[Ee>>1]=e[17908+(R+1<<1)>>1]|0,e[Te>>1]=e[17908+(R+2<<1)>>1]|0,e[u>>1]=o,R=Ze+6|0,A=Ze+8|0,le=Ze+10|0,D=ae[R>>1]|0,f=e[de+6>>1]<<1,k=ae[A>>1]|0,b=e[de+8>>1]<<1,C=ae[le>>1]|0,O=e[de+10>>1]<<1,h=2147483647,K=0,o=0,ce=9716;E=(Z(f,D-(ae[ce>>1]|0)<<16>>16)|0)>>16,E=Z(E,E)|0,i=(Z(b,k-(ae[ce+2>>1]|0)<<16>>16)|0)>>16,E=(Z(i,i)|0)+E|0,i=(Z(O,C-(ae[ce+4>>1]|0)<<16>>16)|0)>>16,i=E+(Z(i,i)|0)|0,E=(i|0)<(h|0),o=E?K:o,K=K+1<<16>>16,!(K<<16>>16>=512);)h=E?i:h,ce=ce+6|0;h=(o<<16>>16)*3|0,e[R>>1]=e[9716+(h<<1)>>1]|0,e[A>>1]=e[9716+(h+1<<1)>>1]|0,e[le>>1]=e[9716+(h+2<<1)>>1]|0,e[u+2>>1]=o,h=Ze+12|0,e[u+4>>1]=vi(h,12788,de+12|0,512)|0,K=Ee,D=Te,o=le,E=Ze;break}else{for(k=2147483647,f=0,o=0,D=8180;A=(Z(le-(ae[D>>1]|0)<<16>>16,ce)|0)>>16,A=Z(A,A)|0,R=(Z(K-(ae[D+2>>1]|0)<<16>>16,b)|0)>>16,A=(Z(R,R)|0)+A|0,R=(Z(C-(ae[D+4>>1]|0)<<16>>16,O)|0)>>16,R=A+(Z(R,R)|0)|0,A=(R|0)<(k|0),o=A?f:o,f=f+1<<16>>16,!(f<<16>>16>=256);)k=A?R:k,D=D+6|0;for(R=(o<<16>>16)*3|0,e[Ze>>1]=e[8180+(R<<1)>>1]|0,e[Ee>>1]=e[8180+(R+1<<1)>>1]|0,e[Te>>1]=e[8180+(R+2<<1)>>1]|0,e[u>>1]=o,R=Ze+6|0,A=Ze+8|0,le=Ze+10|0,D=ae[R>>1]|0,f=e[de+6>>1]<<1,k=ae[A>>1]|0,b=e[de+8>>1]<<1,C=ae[le>>1]|0,O=e[de+10>>1]<<1,h=2147483647,K=0,o=0,ce=9716;E=(Z(f,D-(ae[ce>>1]|0)<<16>>16)|0)>>16,E=Z(E,E)|0,i=(Z(b,k-(ae[ce+2>>1]|0)<<16>>16)|0)>>16,E=(Z(i,i)|0)+E|0,i=(Z(O,C-(ae[ce+4>>1]|0)<<16>>16)|0)>>16,i=E+(Z(i,i)|0)|0,E=(i|0)<(h|0),o=E?K:o,K=K+1<<16>>16,!(K<<16>>16>=512);)h=E?i:h,ce=ce+6|0;h=(o<<16>>16)*3|0,e[R>>1]=e[9716+(h<<1)>>1]|0,e[A>>1]=e[9716+(h+1<<1)>>1]|0,e[le>>1]=e[9716+(h+2<<1)>>1]|0,e[u+2>>1]=o,h=Ze+12|0,e[u+4>>1]=vi(h,12788,de+12|0,512)|0,K=Ee,D=Te,o=le,E=Ze;break}else{for(Te=Ze+2|0,Ee=Ze+4|0,R=ae[Ze>>1]|0,A=e[de>>1]<<1,E=ae[Te>>1]|0,h=e[de+2>>1]<<1,i=ae[Ee>>1]|0,O=e[de+4>>1]<<1,k=2147483647,f=0,o=0,D=8180;b=(Z(A,R-(ae[D>>1]|0)<<16>>16)|0)>>16,b=Z(b,b)|0,C=(Z(h,E-(ae[D+2>>1]|0)<<16>>16)|0)>>16,b=(Z(C,C)|0)+b|0,C=(Z(O,i-(ae[D+4>>1]|0)<<16>>16)|0)>>16,C=b+(Z(C,C)|0)|0,b=(C|0)<(k|0),o=b?f:o,f=f+1<<16>>16,!(f<<16>>16>=256);)k=b?C:k,D=D+6|0;for(R=(o<<16>>16)*3|0,e[Ze>>1]=e[8180+(R<<1)>>1]|0,e[Te>>1]=e[8180+(R+1<<1)>>1]|0,e[Ee>>1]=e[8180+(R+2<<1)>>1]|0,e[u>>1]=o,R=Ze+6|0,A=Ze+8|0,le=Ze+10|0,D=ae[R>>1]|0,f=e[de+6>>1]<<1,k=ae[A>>1]|0,b=e[de+8>>1]<<1,C=ae[le>>1]|0,O=e[de+10>>1]<<1,h=2147483647,K=0,o=0,ce=9716;E=(Z(f,D-(ae[ce>>1]|0)<<16>>16)|0)>>16,E=Z(E,E)|0,i=(Z(b,k-(ae[ce+2>>1]|0)<<16>>16)|0)>>16,E=(Z(i,i)|0)+E|0,i=(Z(O,C-(ae[ce+4>>1]|0)<<16>>16)|0)>>16,i=E+(Z(i,i)|0)|0,E=(i|0)<(h|0),o=E?K:o,K=K+1<<16>>16,!(K<<16>>16>=256);)h=E?i:h,ce=ce+12|0;h=(o<<16>>16)*6|0,e[R>>1]=e[9716+(h<<1)>>1]|0,e[A>>1]=e[9716+((h|1)<<1)>>1]|0,e[le>>1]=e[9716+(h+2<<1)>>1]|0,e[u+2>>1]=o,h=Ze+12|0,e[u+4>>1]=vi(h,16884,de+12|0,128)|0,K=Te,D=Ee,o=le,E=Ze}while(0);ce=r,C=Ze,O=ce+20|0;do e[ce>>1]=e[C>>1]|0,ce=ce+2|0,C=C+2|0;while((ce|0)<(O|0));e[je>>1]=(ae[We>>1]|0)+(ae[E>>1]|0),e[je+2>>1]=(ae[We+2>>1]|0)+(ae[K>>1]|0),e[je+4>>1]=(ae[We+4>>1]|0)+(ae[D>>1]|0),e[je+6>>1]=(ae[We+6>>1]|0)+(ae[R>>1]|0),e[je+8>>1]=(ae[We+8>>1]|0)+(ae[A>>1]|0),e[je+10>>1]=(ae[We+10>>1]|0)+(ae[o>>1]|0),e[je+12>>1]=(ae[We+12>>1]|0)+(ae[h>>1]|0),e[je+14>>1]=(ae[We+14>>1]|0)+(ae[Ze+14>>1]|0),e[je+16>>1]=(ae[We+16>>1]|0)+(ae[Ze+16>>1]|0),e[je+18>>1]=(ae[We+18>>1]|0)+(ae[Ze+18>>1]|0),wn(je,205,10,p),vn(je,s,10,p),he=pe}function vi(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0;if(ce=r+2|0,le=r+4|0,Te=r+6|0,s<<16>>16>0)for(R=ae[r>>1]|0,O=e[o>>1]<<1,C=ae[ce>>1]|0,b=e[o+2>>1]<<1,k=ae[le>>1]|0,D=e[o+4>>1]<<1,K=ae[Te>>1]|0,u=e[o+6>>1]<<1,h=2147483647,E=0,o=0,A=i;f=(Z(O,R-(ae[A>>1]|0)<<16>>16)|0)>>16,f=Z(f,f)|0,p=(Z(b,C-(ae[A+2>>1]|0)<<16>>16)|0)>>16,f=(Z(p,p)|0)+f|0,p=(Z(D,k-(ae[A+4>>1]|0)<<16>>16)|0)>>16,p=f+(Z(p,p)|0)|0,f=(Z(u,K-(ae[A+6>>1]|0)<<16>>16)|0)>>16,f=p+(Z(f,f)|0)|0,p=(f|0)<(h|0),o=p?E:o,E=E+1<<16>>16,!(E<<16>>16>=s<<16>>16);)h=p?f:h,A=A+8|0;else o=0;return s=o<<16>>16<<2,K=s|1,e[r>>1]=e[i+(s<<1)>>1]|0,e[ce>>1]=e[i+(K<<1)>>1]|0,e[le>>1]=e[i+(K+1<<1)>>1]|0,e[Te>>1]=e[i+((s|3)<<1)>>1]|0,o|0}function V0(r,i,o,s,u,f,p){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0;var h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0;for(Pt=he,he=he+192|0,A=Pt+160|0,E=Pt+140|0,pe=Pt+120|0,Ge=Pt+100|0,gt=Pt+80|0,Rt=Pt+60|0,h=Pt+40|0,qt=Pt+20|0,rr=Pt,xo(i,A,10,p),xo(o,E,10,p),hi(A,pe,p),hi(E,Ge,p),R=0,o=gt,i=Rt,O=h;Ze=(((e[r+(R<<1)>>1]|0)*21299|0)>>>15)+(ae[20980+(R<<1)>>1]|0)|0,e[o>>1]=Ze,e[i>>1]=(ae[A>>1]|0)-Ze,e[O>>1]=(ae[E>>1]|0)-Ze,R=R+1|0,(R|0)!=10;)A=A+2|0,E=E+2|0,o=o+2|0,i=i+2|0,O=O+2|0;for(e[f>>1]=Xo(Rt,h,21e3,e[pe>>1]|0,e[pe+2>>1]|0,e[Ge>>1]|0,e[Ge+2>>1]|0,128)|0,e[f+2>>1]=Xo(Rt+4|0,h+4|0,22024,e[pe+4>>1]|0,e[pe+6>>1]|0,e[Ge+4>>1]|0,e[Ge+6>>1]|0,256)|0,de=Rt+8|0,je=h+8|0,We=Rt+10|0,Ze=h+10|0,o=e[de>>1]|0,C=e[pe+8>>1]<<1,b=e[We>>1]|0,k=e[pe+10>>1]<<1,D=e[je>>1]|0,K=e[Ge+8>>1]<<1,ce=e[Ze>>1]|0,le=e[Ge+10>>1]<<1,E=2147483647,Te=0,O=0,Ee=24072,i=0;A=e[Ee>>1]|0,R=(Z(o-A<<16>>16,C)|0)>>16,R=Z(R,R)|0,A=(Z(A+o<<16>>16,C)|0)>>16,A=Z(A,A)|0,ft=e[Ee+2>>1]|0,Nt=(Z(b-ft<<16>>16,k)|0)>>16,R=(Z(Nt,Nt)|0)+R|0,ft=(Z(ft+b<<16>>16,k)|0)>>16,A=(Z(ft,ft)|0)+A|0,(R|0)<(E|0)|(A|0)<(E|0)?(Nt=e[Ee+4>>1]|0,ft=(Z(D-Nt<<16>>16,K)|0)>>16,ft=(Z(ft,ft)|0)+R|0,Nt=(Z(Nt+D<<16>>16,K)|0)>>16,Nt=(Z(Nt,Nt)|0)+A|0,A=e[Ee+6>>1]|0,R=(Z(ce-A<<16>>16,le)|0)>>16,R=ft+(Z(R,R)|0)|0,A=(Z(A+ce<<16>>16,le)|0)>>16,A=Nt+(Z(A,A)|0)|0,Nt=(R|0)<(E|0),R=Nt?R:E,ft=(A|0)<(R|0),R=ft?A:R,O=Nt|ft?Te:O,i=ft?1:Nt?0:i):R=E,Te=Te+1<<16>>16,!(Te<<16>>16>=256);)E=R,Ee=Ee+8|0;for(R=O<<16>>16,A=R<<2,O=A|1,E=24072+(O<<1)|0,o=e[24072+(A<<1)>>1]|0,i<<16>>16?(e[de>>1]=0-(o&65535),e[We>>1]=0-(ae[E>>1]|0),e[je>>1]=0-(ae[24072+(O+1<<1)>>1]|0),e[Ze>>1]=0-(ae[24072+((A|3)<<1)>>1]|0),i=R<<1&65534|1):(e[de>>1]=o,e[We>>1]=e[E>>1]|0,e[je>>1]=e[24072+(O+1<<1)>>1]|0,e[Ze>>1]=e[24072+((A|3)<<1)>>1]|0,i=R<<1),e[f+4>>1]=i,e[f+6>>1]=Xo(Rt+12|0,h+12|0,26120,e[pe+12>>1]|0,e[pe+14>>1]|0,e[Ge+12>>1]|0,e[Ge+14>>1]|0,256)|0,e[f+8>>1]=Xo(Rt+16|0,h+16|0,28168,e[pe+16>>1]|0,e[pe+18>>1]|0,e[Ge+16>>1]|0,e[Ge+18>>1]|0,64)|0,E=0,A=qt,R=rr,o=gt,i=Rt;ft=ae[o>>1]|0,e[A>>1]=ft+(ae[i>>1]|0),Nt=e[h>>1]|0,e[R>>1]=ft+(Nt&65535),e[r+(E<<1)>>1]=Nt,E=E+1|0,(E|0)!=10;)A=A+2|0,R=R+2|0,o=o+2|0,i=i+2|0,h=h+2|0;wn(qt,205,10,p),wn(rr,205,10,p),vn(qt,s,10,p),vn(rr,u,10,p),he=Pt}function Xo(r,i,o,s,u,f,p,h){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0,p=p|0,h=h|0;var E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0;if(b=e[r>>1]|0,Te=r+2|0,D=e[Te>>1]|0,ce=e[i>>1]|0,Ee=i+2|0,le=e[Ee>>1]|0,h<<16>>16>0)for(C=s<<16>>16<<1,O=u<<16>>16<<1,R=f<<16>>16<<1,u=p<<16>>16<<1,f=2147483647,E=0,s=0,A=o;p=(Z(C,b-(e[A>>1]|0)|0)|0)>>16,p=Z(p,p)|0,(p|0)<(f|0)&&(k=(Z(O,D-(e[A+2>>1]|0)|0)|0)>>16,k=(Z(k,k)|0)+p|0,(k|0)<(f|0))&&(K=(Z(R,ce-(e[A+4>>1]|0)|0)|0)>>16,K=(Z(K,K)|0)+k|0,(K|0)<(f|0))?(p=(Z(u,le-(e[A+6>>1]|0)|0)|0)>>16,p=(Z(p,p)|0)+K|0,de=(p|0)<(f|0),p=de?p:f,s=de?E:s):p=f,E=E+1<<16>>16,!(E<<16>>16>=h<<16>>16);)f=p,A=A+8|0;else s=0;return de=s<<16>>16<<2,h=de|1,e[r>>1]=e[o+(de<<1)>>1]|0,e[Te>>1]=e[o+(h<<1)>>1]|0,e[i>>1]=e[o+(h+1<<1)>>1]|0,e[Ee>>1]=e[o+((de|3)<<1)>>1]|0,s|0}function q0(r){r=r|0;var i=0,o=0,s=0;if(!r||(d[r>>2]=0,i=cn(20)|0,!i))return s=-1,s|0;o=i,s=o+20|0;do e[o>>1]=0,o=o+2|0;while((o|0)<(s|0));return d[r>>2]=i,s=0,s|0}function v1(r){r=r|0;var i=0;if(!r)return i=-1,i|0;i=r+20|0;do e[r>>1]=0,r=r+2|0;while((r|0)<(i|0));return i=0,i|0}function K0(r){r=r|0;var i=0;r&&(i=d[r>>2]|0,i&&(Zr(i),d[r>>2]=0))}function wn(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0;if(!(o<<16>>16<=0))for(u=i<<16>>16,f=i&65535,p=0;s=e[r>>1]|0,s<<16>>16<i<<16>>16?(e[r>>1]=i,s=(i<<16>>16)+u|0):s=(s&65535)+f|0,p=p+1<<16>>16,!(p<<16>>16>=o<<16>>16);)i=s&65535,r=r+2|0}function Io(r,i,o,s){r=r|0,i=i|0,o=o|0,s=s|0;var u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0;if(u=s<<16>>16,s=u>>>2&65535,!!(s<<16>>16))for(C=u+-1|0,le=r+20|0,k=i+(u+-4<<1)|0,D=i+(u+-3<<1)|0,K=i+(u+-2<<1)|0,ce=i+(C<<1)|0,b=i+(u+-11<<1)|0,C=o+(C<<1)|0;;){for(i=e[le>>1]|0,p=5,h=le,E=b,A=b+-2|0,R=b+-4|0,O=b+-6|0,f=2048,r=2048,u=2048,o=2048;f=(Z(e[E>>1]|0,i)|0)+f|0,r=(Z(e[A>>1]|0,i)|0)+r|0,u=(Z(e[R>>1]|0,i)|0)+u|0,i=(Z(e[O>>1]|0,i)|0)+o|0,o=e[h+-2>>1]|0,f=f+(Z(e[E+2>>1]|0,o)|0)|0,r=r+(Z(e[A+2>>1]|0,o)|0)|0,u=u+(Z(e[R+2>>1]|0,o)|0)|0,h=h+-4|0,o=i+(Z(e[O+2>>1]|0,o)|0)|0,p=p+-1<<16>>16,i=e[h>>1]|0,p<<16>>16;)E=E+4|0,A=A+4|0,R=R+4|0,O=O+4|0;if(E=(Z(e[ce>>1]|0,i)|0)+f|0,A=(Z(e[K>>1]|0,i)|0)+r|0,R=(Z(e[D>>1]|0,i)|0)+u|0,O=(Z(e[k>>1]|0,i)|0)+o|0,e[C>>1]=E>>>12,e[C+-2>>1]=A>>>12,e[C+-4>>1]=R>>>12,e[C+-6>>1]=O>>>12,s=s+-1<<16>>16,s<<16>>16)k=k+-8|0,D=D+-8|0,K=K+-8|0,ce=ce+-8|0,b=b+-8|0,C=C+-8|0;else break}}function Mr(r,i){r=r|0,i=i|0;var o=0;return o=r+32768|0,(r|0)>-1&(o^r|0)<0&&(d[i>>2]=1,o=(r>>>31)+2147483647|0),o>>>16&65535|0}function Xr(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0;return s=i<<16>>16,i<<16>>16?i<<16>>16>0?(r=r<<16>>16>>(i<<16>>16>15?15:s)&65535,r|0):(u=0-s|0,i=r<<16>>16,u=(u&65535)<<16>>16>15?15:u<<16>>16,s=i<<u,(s<<16>>16>>u|0)==(i|0)?(u=s&65535,u|0):(d[o>>2]=1,u=r<<16>>16>0?32767:-32768,u|0)):r|0}function Do(r,i,o){return r=r|0,i=i|0,o=o|0,i<<16>>16>15?(i=0,i|0):(o=Xr(r,i,o)|0,i<<16>>16>0?o+((1<<(i<<16>>16)+-1&r<<16>>16|0)!=0&1)<<16>>16|0:(i=o,i|0))}function Ei(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0;return(r|0)<1?(e[i>>1]=0,o=0,o|0):(u=(jr(r)|0)&65534,f=u&65535,u=u<<16>>16,f<<16>>16>0?(s=r<<u,(s>>u|0)!=(r|0)&&(s=r>>31^2147483647)):(u=0-u<<16,(u|0)<2031616?s=r>>(u>>16):s=0),e[i>>1]=f,i=s>>>25&63,i=i>>>0>15?i+-16|0:i,f=e[30216+(i<<1)>>1]|0,r=f<<16,s=Z(f-(ae[30216+(i+1<<1)>>1]|0)<<16>>16,s>>>10&32767)|0,(s|0)==1073741824?(d[o>>2]=1,u=2147483647):u=s<<1,s=r-u|0,((s^r)&(u^r)|0)>=0?(o=s,o|0):(d[o>>2]=1,o=(f>>>15&1)+2147483647|0,o|0))}function Rr(r,i,o){return r=r|0,i=i|0,o=o|0,r=(r<<16>>16)-(i<<16>>16)|0,(r+32768|0)>>>0<=65535?(o=r,o=o&65535,o|0):(d[o>>2]=1,o=(r|0)>32767?32767:-32768,o=o&65535,o|0)}function dn(r,i,o,s,u,f){r=r|0,i=i|0,o=o|0,s=s|0,u=u|0,f=f|0;var p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0;Ze=he,he=he+48|0,C=Ze,E=C,p=u,h=E+20|0;do e[E>>1]=e[p>>1]|0,E=E+2|0,p=p+2|0;while((E|0)<(h|0));for(O=C+18|0,K=r+2|0,ce=r+4|0,b=i+20|0,le=r+6|0,Te=r+8|0,Ee=r+10|0,de=r+12|0,je=r+14|0,We=r+16|0,k=r+18|0,D=r+20|0,h=e[O>>1]|0,p=5,A=i,R=o,E=C+20|0;gt=e[r>>1]|0,Ge=(Z(gt,e[A>>1]|0)|0)+2048|0,gt=(Z(e[A+2>>1]|0,gt)|0)+2048|0,C=h<<16>>16,Ge=Ge-(Z(C,e[K>>1]|0)|0)|0,pe=e[ce>>1]|0,C=gt-(Z(C,pe)|0)|0,gt=e[O+-2>>1]|0,pe=Ge-(Z(gt,pe)|0)|0,Ge=e[le>>1]|0,gt=C-(Z(Ge,gt)|0)|0,C=e[O+-4>>1]|0,Ge=pe-(Z(C,Ge)|0)|0,pe=e[Te>>1]|0,C=gt-(Z(pe,C)|0)|0,gt=e[O+-6>>1]|0,pe=Ge-(Z(gt,pe)|0)|0,Ge=e[Ee>>1]|0,gt=C-(Z(gt,Ge)|0)|0,C=e[O+-8>>1]|0,Ge=pe-(Z(C,Ge)|0)|0,pe=e[de>>1]|0,C=gt-(Z(pe,C)|0)|0,gt=e[O+-10>>1]|0,pe=Ge-(Z(gt,pe)|0)|0,Ge=e[je>>1]|0,gt=C-(Z(Ge,gt)|0)|0,C=e[O+-12>>1]|0,Ge=pe-(Z(C,Ge)|0)|0,pe=e[We>>1]|0,C=gt-(Z(C,pe)|0)|0,gt=e[O+-14>>1]|0,pe=Ge-(Z(gt,pe)|0)|0,Ge=e[k>>1]|0,gt=C-(Z(Ge,gt)|0)|0,C=e[O+-16>>1]|0,Ge=pe-(Z(C,Ge)|0)|0,pe=e[D>>1]|0,C=gt-(Z(pe,C)|0)|0,pe=Ge-(Z(e[O+-18>>1]|0,pe)|0)|0,pe=(pe+134217728|0)>>>0<268435455?pe>>>12&65535:(pe|0)>134217727?32767:-32768,C=C-(Z(e[K>>1]|0,pe<<16>>16)|0)|0,O=E+2|0,e[E>>1]=pe,e[R>>1]=pe,h=(C+134217728|0)>>>0<268435455?C>>>12&65535:(C|0)>134217727?32767:-32768,e[O>>1]=h,e[R+2>>1]=h,p=p+-1<<16>>16,p<<16>>16;)A=A+4|0,R=R+4|0,E=E+4|0;if(s=(s<<16>>16)+-10|0,E=s>>>1&65535,E<<16>>16)for(C=o+18|0,h=i+16|0,O=e[C>>1]|0,A=b,p=o+20|0;;){pe=e[r>>1]|0,R=(Z(pe,e[A>>1]|0)|0)+2048|0,pe=(Z(e[h+6>>1]|0,pe)|0)+2048|0,h=e[K>>1]|0,Ge=O<<16>>16,R=R-(Z(Ge,h)|0)|0,gt=e[ce>>1]|0,Ge=pe-(Z(Ge,gt)|0)|0,pe=e[C+-2>>1]|0,gt=R-(Z(pe,gt)|0)|0,R=e[le>>1]|0,pe=Ge-(Z(R,pe)|0)|0,Ge=e[C+-4>>1]|0,R=gt-(Z(Ge,R)|0)|0,gt=e[Te>>1]|0,Ge=pe-(Z(gt,Ge)|0)|0,pe=e[C+-6>>1]|0,gt=R-(Z(pe,gt)|0)|0,R=e[Ee>>1]|0,pe=Ge-(Z(pe,R)|0)|0,Ge=e[C+-8>>1]|0,R=gt-(Z(Ge,R)|0)|0,gt=e[de>>1]|0,Ge=pe-(Z(gt,Ge)|0)|0,pe=e[C+-10>>1]|0,gt=R-(Z(pe,gt)|0)|0,R=e[je>>1]|0,pe=Ge-(Z(R,pe)|0)|0,Ge=e[C+-12>>1]|0,R=gt-(Z(Ge,R)|0)|0,gt=e[We>>1]|0,Ge=pe-(Z(Ge,gt)|0)|0,pe=e[C+-14>>1]|0,gt=R-(Z(pe,gt)|0)|0,R=e[k>>1]|0,pe=Ge-(Z(R,pe)|0)|0,Ge=e[C+-16>>1]|0,R=gt-(Z(Ge,R)|0)|0,gt=e[D>>1]|0,Ge=pe-(Z(gt,Ge)|0)|0,gt=R-(Z(e[C+-18>>1]|0,gt)|0)|0,R=A+4|0,gt=(gt+134217728|0)>>>0<268435455?gt>>>12&65535:(gt|0)>134217727?32767:-32768,h=Ge-(Z(h,gt<<16>>16)|0)|0,C=p+2|0,e[p>>1]=gt;do if((h+134217728|0)>>>0>=268435455)if(p=p+4|0,(h|0)>134217727){e[C>>1]=32767,h=32767;break}else{e[C>>1]=-32768,h=-32768;break}else h=h>>>12&65535,e[C>>1]=h,p=p+4|0;while(0);if(E=E+-1<<16>>16,E<<16>>16)gt=A,O=h,A=R,h=gt;else break}if(!(f<<16>>16)){he=Ze;return}E=u,p=o+(s<<1)|0,h=E+20|0;do e[E>>1]=e[p>>1]|0,E=E+2|0,p=p+2|0;while((E|0)<(h|0));he=Ze}function Vn(r,i,o){r=r|0,i=i|0,o=o|0,e[o>>1]=e[r>>1]|0,e[o+2>>1]=((Z(e[i>>1]|0,e[r+2>>1]|0)|0)+16384|0)>>>15,e[o+4>>1]=((Z(e[i+2>>1]|0,e[r+4>>1]|0)|0)+16384|0)>>>15,e[o+6>>1]=((Z(e[i+4>>1]|0,e[r+6>>1]|0)|0)+16384|0)>>>15,e[o+8>>1]=((Z(e[i+6>>1]|0,e[r+8>>1]|0)|0)+16384|0)>>>15,e[o+10>>1]=((Z(e[i+8>>1]|0,e[r+10>>1]|0)|0)+16384|0)>>>15,e[o+12>>1]=((Z(e[i+10>>1]|0,e[r+12>>1]|0)|0)+16384|0)>>>15,e[o+14>>1]=((Z(e[i+12>>1]|0,e[r+14>>1]|0)|0)+16384|0)>>>15,e[o+16>>1]=((Z(e[i+14>>1]|0,e[r+16>>1]|0)|0)+16384|0)>>>15,e[o+18>>1]=((Z(e[i+16>>1]|0,e[r+18>>1]|0)|0)+16384|0)>>>15,e[o+20>>1]=((Z(e[i+18>>1]|0,e[r+20>>1]|0)|0)+16384|0)>>>15}function cn(r){r=r|0;var i=0,o=0,s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0,gt=0,Rt=0,qt=0,rr=0,Pt=0,ft=0,Nt=0,ir=0,Dt=0,cr=0,ur=0,hr=0,gr=0,mr=0,sr=0,dr=0,Er=0,yr=0,nr=0,Ut=0;do if(r>>>0<245){if(ce=r>>>0<11?16:r+11&-8,r=ce>>>3,O=d[26]|0,E=O>>>r,E&3){s=(E&1^1)+r|0,i=s<<1,o=144+(i<<2)|0,i=144+(i+2<<2)|0,u=d[i>>2]|0,f=u+8|0,p=d[f>>2]|0;do if((o|0)==(p|0))d[26]=O&~(1<<s);else{if(p>>>0>=(d[30]|0)>>>0&&(R=p+12|0,(d[R>>2]|0)==(u|0))){d[R>>2]=o,d[i>>2]=p;break}Ar()}while(0);nr=s<<3,d[u+4>>2]=nr|3,nr=u+(nr|4)|0,d[nr>>2]=d[nr>>2]|1;break}if(i=d[28]|0,ce>>>0>i>>>0){if(E){u=2<<r,u=E<<r&(u|0-u),u=(u&0-u)+-1|0,f=u>>>12&16,u=u>>>f,s=u>>>5&8,u=u>>>s,o=u>>>2&4,u=u>>>o,p=u>>>1&2,u=u>>>p,h=u>>>1&1,h=(s|f|o|p|h)+(u>>>h)|0,u=h<<1,p=144+(u<<2)|0,u=144+(u+2<<2)|0,o=d[u>>2]|0,f=o+8|0,s=d[f>>2]|0;do if((p|0)==(s|0))d[26]=O&~(1<<h),C=i;else{if(s>>>0>=(d[30]|0)>>>0&&(A=s+12|0,(d[A>>2]|0)==(o|0))){d[A>>2]=p,d[u>>2]=s,C=d[28]|0;break}Ar()}while(0);nr=h<<3,i=nr-ce|0,d[o+4>>2]=ce|3,E=o+ce|0,d[o+(ce|4)>>2]=i|1,d[o+nr>>2]=i,C&&(o=d[31]|0,s=C>>>3,p=s<<1,h=144+(p<<2)|0,u=d[26]|0,s=1<<s,u&s?(u=144+(p+2<<2)|0,p=d[u>>2]|0,p>>>0<(d[30]|0)>>>0?Ar():(k=u,D=p)):(d[26]=u|s,k=144+(p+2<<2)|0,D=h),d[k>>2]=o,d[D+12>>2]=o,d[o+8>>2]=D,d[o+12>>2]=h),d[28]=i,d[31]=E;break}if(r=d[27]|0,r){for(u=(r&0-r)+-1|0,yr=u>>>12&16,u=u>>>yr,Er=u>>>5&8,u=u>>>Er,nr=u>>>2&4,u=u>>>nr,p=u>>>1&2,u=u>>>p,E=u>>>1&1,E=d[408+((Er|yr|nr|p|E)+(u>>>E)<<2)>>2]|0,u=(d[E+4>>2]&-8)-ce|0,p=E;;){if(h=d[p+16>>2]|0,!h&&(h=d[p+20>>2]|0,!h)){i=u;break}p=(d[h+4>>2]&-8)-ce|0,nr=p>>>0<u>>>0,u=nr?p:u,p=h,E=nr?h:E}if(r=d[30]|0,E>>>0>=r>>>0&&(Ee=E+ce|0,E>>>0<Ee>>>0)){s=d[E+24>>2]|0,h=d[E+12>>2]|0;do if((h|0)==(E|0)){if(p=E+20|0,h=d[p>>2]|0,!h&&(p=E+16|0,h=d[p>>2]|0,!h)){le=0;break}for(;;){if(f=h+20|0,u=d[f>>2]|0,u){h=u,p=f;continue}if(f=h+16|0,u=d[f>>2]|0,u)h=u,p=f;else break}if(p>>>0<r>>>0)Ar();else{d[p>>2]=0,le=h;break}}else{if(p=d[E+8>>2]|0,p>>>0>=r>>>0&&(o=p+12|0,(d[o>>2]|0)==(E|0))&&(b=h+8|0,(d[b>>2]|0)==(E|0))){d[o>>2]=h,d[b>>2]=p,le=h;break}Ar()}while(0);do if(s){if(p=d[E+28>>2]|0,f=408+(p<<2)|0,(E|0)==(d[f>>2]|0)){if(d[f>>2]=le,!le){d[27]=d[27]&~(1<<p);break}}else if(s>>>0<(d[30]|0)>>>0&&Ar(),p=s+16|0,(d[p>>2]|0)==(E|0)?d[p>>2]=le:d[s+20>>2]=le,!le)break;f=d[30]|0,le>>>0<f>>>0&&Ar(),d[le+24>>2]=s,p=d[E+16>>2]|0;do if(p)if(p>>>0<f>>>0)Ar();else{d[le+16>>2]=p,d[p+24>>2]=le;break}while(0);if(p=d[E+20>>2]|0,p)if(p>>>0<(d[30]|0)>>>0)Ar();else{d[le+20>>2]=p,d[p+24>>2]=le;break}}while(0);i>>>0<16?(nr=i+ce|0,d[E+4>>2]=nr|3,nr=E+(nr+4)|0,d[nr>>2]=d[nr>>2]|1):(d[E+4>>2]=ce|3,d[E+(ce|4)>>2]=i|1,d[E+(i+ce)>>2]=i,s=d[28]|0,s&&(o=d[31]|0,u=s>>>3,p=u<<1,h=144+(p<<2)|0,f=d[26]|0,u=1<<u,f&u?(p=144+(p+2<<2)|0,f=d[p>>2]|0,f>>>0<(d[30]|0)>>>0?Ar():(Te=p,de=f)):(d[26]=f|u,Te=144+(p+2<<2)|0,de=h),d[Te>>2]=o,d[de+12>>2]=o,d[o+8>>2]=de,d[o+12>>2]=h),d[28]=i,d[31]=Ee),f=E+8|0;break}Ar()}else Ut=154}else Ut=154}else if(r>>>0<=4294967231)if(r=r+11|0,de=r&-8,O=d[27]|0,O){E=0-de|0,r=r>>>8,r?de>>>0>16777215?R=31:(Ee=(r+1048320|0)>>>16&8,Ut=r<<Ee,Te=(Ut+520192|0)>>>16&4,Ut=Ut<<Te,R=(Ut+245760|0)>>>16&2,R=14-(Te|Ee|R)+(Ut<<R>>>15)|0,R=de>>>(R+7|0)&1|R<<1):R=0,r=d[408+(R<<2)>>2]|0;e:do if(!r)h=0,r=0,Ut=86;else for(o=E,h=0,i=de<<((R|0)==31?0:25-(R>>>1)|0),A=r,r=0;;){if(s=d[A+4>>2]&-8,E=s-de|0,E>>>0<o>>>0)if((s|0)==(de|0)){s=A,r=A,Ut=90;break e}else r=A;else E=o;if(Ut=d[A+20>>2]|0,A=d[A+16+(i>>>31<<2)>>2]|0,h=(Ut|0)==0|(Ut|0)==(A|0)?h:Ut,A)o=E,i=i<<1;else{Ut=86;break}}while(0);if((Ut|0)==86){if((h|0)==0&(r|0)==0){if(r=2<<R,r=O&(r|0-r),!r){ce=de,Ut=154;break}r=(r&0-r)+-1|0,le=r>>>12&16,r=r>>>le,D=r>>>5&8,r=r>>>D,Te=r>>>2&4,r=r>>>Te,Ee=r>>>1&2,r=r>>>Ee,h=r>>>1&1,h=d[408+((D|le|Te|Ee|h)+(r>>>h)<<2)>>2]|0,r=0}h?(s=h,Ut=90):(D=E,k=r)}if((Ut|0)==90)for(;;){if(Ut=0,Ee=(d[s+4>>2]&-8)-de|0,h=Ee>>>0<E>>>0,E=h?Ee:E,r=h?s:r,h=d[s+16>>2]|0,h){s=h,Ut=90;continue}if(s=d[s+20>>2]|0,s)Ut=90;else{D=E,k=r;break}}if(k|0&&D>>>0<((d[28]|0)-de|0)>>>0){if(r=d[30]|0,k>>>0>=r>>>0&&(ft=k+de|0,k>>>0<ft>>>0)){E=d[k+24>>2]|0,h=d[k+12>>2]|0;do if((h|0)==(k|0)){if(p=k+20|0,h=d[p>>2]|0,!h&&(p=k+16|0,h=d[p>>2]|0,!h)){We=0;break}for(;;){if(f=h+20|0,u=d[f>>2]|0,u){h=u,p=f;continue}if(f=h+16|0,u=d[f>>2]|0,u)h=u,p=f;else break}if(p>>>0<r>>>0)Ar();else{d[p>>2]=0,We=h;break}}else{if(p=d[k+8>>2]|0,p>>>0>=r>>>0&&(K=p+12|0,(d[K>>2]|0)==(k|0))&&(ce=h+8|0,(d[ce>>2]|0)==(k|0))){d[K>>2]=h,d[ce>>2]=p,We=h;break}Ar()}while(0);do if(E){if(h=d[k+28>>2]|0,p=408+(h<<2)|0,(k|0)==(d[p>>2]|0)){if(d[p>>2]=We,!We){d[27]=d[27]&~(1<<h);break}}else if(E>>>0<(d[30]|0)>>>0&&Ar(),p=E+16|0,(d[p>>2]|0)==(k|0)?d[p>>2]=We:d[E+20>>2]=We,!We)break;h=d[30]|0,We>>>0<h>>>0&&Ar(),d[We+24>>2]=E,p=d[k+16>>2]|0;do if(p)if(p>>>0<h>>>0)Ar();else{d[We+16>>2]=p,d[p+24>>2]=We;break}while(0);if(p=d[k+20>>2]|0,p)if(p>>>0<(d[30]|0)>>>0)Ar();else{d[We+20>>2]=p,d[p+24>>2]=We;break}}while(0);e:do if(D>>>0>=16){if(d[k+4>>2]=de|3,d[k+(de|4)>>2]=D|1,d[k+(D+de)>>2]=D,h=D>>>3,D>>>0<256){f=h<<1,s=144+(f<<2)|0,u=d[26]|0,p=1<<h,u&p?(p=144+(f+2<<2)|0,f=d[p>>2]|0,f>>>0<(d[30]|0)>>>0?Ar():(Ze=p,pe=f)):(d[26]=u|p,Ze=144+(f+2<<2)|0,pe=s),d[Ze>>2]=ft,d[pe+12>>2]=ft,d[k+(de+8)>>2]=pe,d[k+(de+12)>>2]=s;break}if(o=D>>>8,o?D>>>0>16777215?h=31:(yr=(o+1048320|0)>>>16&8,nr=o<<yr,Er=(nr+520192|0)>>>16&4,nr=nr<<Er,h=(nr+245760|0)>>>16&2,h=14-(Er|yr|h)+(nr<<h>>>15)|0,h=D>>>(h+7|0)&1|h<<1):h=0,p=408+(h<<2)|0,d[k+(de+28)>>2]=h,d[k+(de+20)>>2]=0,d[k+(de+16)>>2]=0,f=d[27]|0,u=1<<h,!(f&u)){d[27]=f|u,d[p>>2]=ft,d[k+(de+24)>>2]=p,d[k+(de+12)>>2]=ft,d[k+(de+8)>>2]=ft;break}o=d[p>>2]|0;t:do if((d[o+4>>2]&-8|0)!=(D|0)){for(h=D<<((h|0)==31?0:25-(h>>>1)|0);i=o+16+(h>>>31<<2)|0,p=d[i>>2]|0,!!p;)if((d[p+4>>2]&-8|0)==(D|0)){gt=p;break t}else h=h<<1,o=p;if(i>>>0<(d[30]|0)>>>0)Ar();else{d[i>>2]=ft,d[k+(de+24)>>2]=o,d[k+(de+12)>>2]=ft,d[k+(de+8)>>2]=ft;break e}}else gt=o;while(0);if(o=gt+8|0,i=d[o>>2]|0,nr=d[30]|0,i>>>0>=nr>>>0&gt>>>0>=nr>>>0){d[i+12>>2]=ft,d[o>>2]=ft,d[k+(de+8)>>2]=i,d[k+(de+12)>>2]=gt,d[k+(de+24)>>2]=0;break}else Ar()}else nr=D+de|0,d[k+4>>2]=nr|3,nr=k+(nr+4)|0,d[nr>>2]=d[nr>>2]|1;while(0);f=k+8|0;break}Ar()}else ce=de,Ut=154}else ce=de,Ut=154;else ce=-1,Ut=154;while(0);e:do if((Ut|0)==154){if(r=d[28]|0,r>>>0>=ce>>>0){i=r-ce|0,o=d[31]|0,i>>>0>15?(d[31]=o+ce,d[28]=i,d[o+(ce+4)>>2]=i|1,d[o+r>>2]=i,d[o+4>>2]=ce|3):(d[28]=0,d[31]=0,d[o+4>>2]=r|3,Ut=o+(r+4)|0,d[Ut>>2]=d[Ut>>2]|1),f=o+8|0;break}if(r=d[29]|0,r>>>0>ce>>>0){Ut=r-ce|0,d[29]=Ut,f=d[32]|0,d[32]=f+ce,d[f+(ce+4)>>2]=Ut|1,d[f+4>>2]=ce|3,f=f+8|0;break}if(d[144]|0||J0(),O=ce+48|0,o=d[146]|0,R=ce+47|0,s=o+R|0,o=0-o|0,A=s&o,A>>>0>ce>>>0){if(r=d[136]|0,r|0&&(gt=d[134]|0,ft=gt+A|0,ft>>>0<=gt>>>0|ft>>>0>r>>>0)){f=0;break}t:do if(d[137]&4)r=0,Ut=189;else{r=d[32]|0;r:do if(r){for(h=552;;){if(E=d[h>>2]|0,E>>>0<=r>>>0&&(je=h+4|0,(E+(d[je>>2]|0)|0)>>>0>r>>>0)){f=h,r=je;break}if(h=d[h+8>>2]|0,!h){Ut=172;break r}}if(E=s-(d[29]|0)&o,E>>>0<2147483647)if(h=uo(E|0)|0,ft=(h|0)==((d[f>>2]|0)+(d[r>>2]|0)|0),r=ft?E:0,ft){if((h|0)!=-1){pe=h,le=r,Ut=192;break t}}else Ut=182;else r=0}else Ut=172;while(0);do if((Ut|0)==172)if(f=uo(0)|0,(f|0)!=-1)if(r=f,E=d[145]|0,h=E+-1|0,h&r?E=A-r+(h+r&0-E)|0:E=A,r=d[134]|0,h=r+E|0,E>>>0>ce>>>0&E>>>0<2147483647){if(ft=d[136]|0,ft|0&&h>>>0<=r>>>0|h>>>0>ft>>>0){r=0;break}if(h=uo(E|0)|0,Ut=(h|0)==(f|0),r=Ut?E:0,Ut){pe=f,le=r,Ut=192;break t}else Ut=182}else r=0;else r=0;while(0);r:do if((Ut|0)==182){f=0-E|0;do if(O>>>0>E>>>0&(E>>>0<2147483647&(h|0)!=-1)&&(Ge=d[146]|0,Ge=R-E+Ge&0-Ge,Ge>>>0<2147483647))if((uo(Ge|0)|0)==-1){uo(f|0)|0;break r}else{E=Ge+E|0;break}while(0);if((h|0)!=-1){pe=h,le=E,Ut=192;break t}}while(0);d[137]=d[137]|4,Ut=189}while(0);if((Ut|0)==189&&A>>>0<2147483647&&(Rt=uo(A|0)|0,qt=uo(0)|0,Rt>>>0<qt>>>0&((Rt|0)!=-1&(qt|0)!=-1))&&(rr=qt-Rt|0,Pt=rr>>>0>(ce+40|0)>>>0,Pt)&&(pe=Rt,le=Pt?rr:r,Ut=192),(Ut|0)==192){E=(d[134]|0)+le|0,d[134]=E,E>>>0>(d[135]|0)>>>0&&(d[135]=E),D=d[32]|0;t:do if(D){f=552;do{if(r=d[f>>2]|0,E=f+4|0,h=d[E>>2]|0,(pe|0)==(r+h|0)){Nt=r,ir=E,Dt=h,cr=f,Ut=202;break}f=d[f+8>>2]|0}while(f|0);if((Ut|0)==202&&!(d[cr+12>>2]&8|0)&&D>>>0<pe>>>0&D>>>0>=Nt>>>0){d[ir>>2]=Dt+le,Ut=(d[29]|0)+le|0,nr=D+8|0,nr=nr&7|0?0-nr&7:0,yr=Ut-nr|0,d[32]=D+nr,d[29]=yr,d[D+(nr+4)>>2]=yr|1,d[D+(Ut+4)>>2]=40,d[33]=d[148];break}for(E=d[30]|0,pe>>>0<E>>>0&&(d[30]=pe,E=pe),h=pe+le|0,r=552;;){if((d[r>>2]|0)==(h|0)){f=r,h=r,Ut=210;break}if(r=d[r+8>>2]|0,!r){h=552;break}}if((Ut|0)==210)if(d[h+12>>2]&8)h=552;else{d[f>>2]=pe,b=h+4|0,d[b>>2]=(d[b>>2]|0)+le,b=pe+8|0,b=b&7|0?0-b&7:0,R=pe+(le+8)|0,R=R&7|0?0-R&7:0,h=pe+(R+le)|0,k=b+ce|0,C=pe+k|0,r=h-(pe+b)-ce|0,d[pe+(b+4)>>2]=ce|3;r:do if((h|0)!=(D|0)){if((h|0)==(d[31]|0)){Ut=(d[28]|0)+r|0,d[28]=Ut,d[31]=C,d[pe+(k+4)>>2]=Ut|1,d[pe+(Ut+k)>>2]=Ut;break}if(i=le+4|0,p=d[pe+(i+R)>>2]|0,(p&3|0)==1){A=p&-8,s=p>>>3;n:do if(p>>>0>=256){o=d[pe+((R|24)+le)>>2]|0,f=d[pe+(le+12+R)>>2]|0;o:do if((f|0)==(h|0)){if(u=R|16,f=pe+(i+u)|0,p=d[f>>2]|0,!p&&(f=pe+(u+le)|0,p=d[f>>2]|0,!p)){dr=0;break}for(;;){if(u=p+20|0,s=d[u>>2]|0,s){p=s,f=u;continue}if(u=p+16|0,s=d[u>>2]|0,s)p=s,f=u;else break}if(f>>>0<E>>>0)Ar();else{d[f>>2]=0,dr=p;break}}else{u=d[pe+((R|8)+le)>>2]|0;do if(u>>>0>=E>>>0){if(E=u+12|0,(d[E>>2]|0)!=(h|0)||(p=f+8|0,(d[p>>2]|0)!=(h|0)))break;d[E>>2]=f,d[p>>2]=u,dr=f;break o}while(0);Ar()}while(0);if(!o)break;E=d[pe+(le+28+R)>>2]|0,p=408+(E<<2)|0;do if((h|0)!=(d[p>>2]|0)){if(o>>>0<(d[30]|0)>>>0&&Ar(),p=o+16|0,(d[p>>2]|0)==(h|0)?d[p>>2]=dr:d[o+20>>2]=dr,!dr)break n}else{if(d[p>>2]=dr,dr)break;d[27]=d[27]&~(1<<E);break n}while(0);E=d[30]|0,dr>>>0<E>>>0&&Ar(),d[dr+24>>2]=o,h=R|16,p=d[pe+(h+le)>>2]|0;do if(p)if(p>>>0<E>>>0)Ar();else{d[dr+16>>2]=p,d[p+24>>2]=dr;break}while(0);if(h=d[pe+(i+h)>>2]|0,!h)break;if(h>>>0<(d[30]|0)>>>0)Ar();else{d[dr+20>>2]=h,d[h+24>>2]=dr;break}}else{p=d[pe+((R|8)+le)>>2]|0,f=d[pe+(le+12+R)>>2]|0,u=144+(s<<1<<2)|0;do if((p|0)!=(u|0)){if(p>>>0>=E>>>0&&(d[p+12>>2]|0)==(h|0))break;Ar()}while(0);if((f|0)==(p|0)){d[26]=d[26]&~(1<<s);break}do if((f|0)==(u|0))ur=f+8|0;else{if(f>>>0>=E>>>0&&(hr=f+8|0,(d[hr>>2]|0)==(h|0))){ur=hr;break}Ar()}while(0);d[p+12>>2]=f,d[ur>>2]=p}while(0);h=pe+((A|R)+le)|0,r=A+r|0}if(h=h+4|0,d[h>>2]=d[h>>2]&-2,d[pe+(k+4)>>2]=r|1,d[pe+(r+k)>>2]=r,h=r>>>3,r>>>0<256){f=h<<1,s=144+(f<<2)|0,u=d[26]|0,p=1<<h;do if(!(u&p))d[26]=u|p,Er=144+(f+2<<2)|0,yr=s;else{if(p=144+(f+2<<2)|0,f=d[p>>2]|0,f>>>0>=(d[30]|0)>>>0){Er=p,yr=f;break}Ar()}while(0);d[Er>>2]=C,d[yr+12>>2]=C,d[pe+(k+8)>>2]=yr,d[pe+(k+12)>>2]=s;break}o=r>>>8;do if(!o)h=0;else{if(r>>>0>16777215){h=31;break}yr=(o+1048320|0)>>>16&8,Ut=o<<yr,Er=(Ut+520192|0)>>>16&4,Ut=Ut<<Er,h=(Ut+245760|0)>>>16&2,h=14-(Er|yr|h)+(Ut<<h>>>15)|0,h=r>>>(h+7|0)&1|h<<1}while(0);if(p=408+(h<<2)|0,d[pe+(k+28)>>2]=h,d[pe+(k+20)>>2]=0,d[pe+(k+16)>>2]=0,f=d[27]|0,u=1<<h,!(f&u)){d[27]=f|u,d[p>>2]=C,d[pe+(k+24)>>2]=p,d[pe+(k+12)>>2]=C,d[pe+(k+8)>>2]=C;break}o=d[p>>2]|0;n:do if((d[o+4>>2]&-8|0)!=(r|0)){for(h=r<<((h|0)==31?0:25-(h>>>1)|0);i=o+16+(h>>>31<<2)|0,p=d[i>>2]|0,!!p;)if((d[p+4>>2]&-8|0)==(r|0)){nr=p;break n}else h=h<<1,o=p;if(i>>>0<(d[30]|0)>>>0)Ar();else{d[i>>2]=C,d[pe+(k+24)>>2]=o,d[pe+(k+12)>>2]=C,d[pe+(k+8)>>2]=C;break r}}else nr=o;while(0);if(o=nr+8|0,i=d[o>>2]|0,Ut=d[30]|0,i>>>0>=Ut>>>0&nr>>>0>=Ut>>>0){d[i+12>>2]=C,d[o>>2]=C,d[pe+(k+8)>>2]=i,d[pe+(k+12)>>2]=nr,d[pe+(k+24)>>2]=0;break}else Ar()}else Ut=(d[29]|0)+r|0,d[29]=Ut,d[32]=C,d[pe+(k+4)>>2]=Ut|1;while(0);f=pe+(b|8)|0;break e}for(;f=d[h>>2]|0,!(f>>>0<=D>>>0&&(p=d[h+4>>2]|0,u=f+p|0,u>>>0>D>>>0));)h=d[h+8>>2]|0;if(h=f+(p+-39)|0,h=f+(p+-47+(h&7|0?0-h&7:0))|0,E=D+16|0,h=h>>>0<E>>>0?D:h,p=h+8|0,f=pe+8|0,f=f&7|0?0-f&7:0,Ut=le+-40-f|0,d[32]=pe+f,d[29]=Ut,d[pe+(f+4)>>2]=Ut|1,d[pe+(le+-36)>>2]=40,d[33]=d[148],f=h+4|0,d[f>>2]=27,d[p>>2]=d[138],d[p+4>>2]=d[139],d[p+8>>2]=d[140],d[p+12>>2]=d[141],d[138]=pe,d[139]=le,d[141]=0,d[140]=p,p=h+28|0,d[p>>2]=7,(h+32|0)>>>0<u>>>0)do Ut=p,p=p+4|0,d[p>>2]=7;while((Ut+8|0)>>>0<u>>>0);if((h|0)!=(D|0)){if(r=h-D|0,d[f>>2]=d[f>>2]&-2,d[D+4>>2]=r|1,d[h>>2]=r,u=r>>>3,r>>>0<256){p=u<<1,h=144+(p<<2)|0,f=d[26]|0,s=1<<u,f&s?(o=144+(p+2<<2)|0,i=d[o>>2]|0,i>>>0<(d[30]|0)>>>0?Ar():(gr=o,mr=i)):(d[26]=f|s,gr=144+(p+2<<2)|0,mr=h),d[gr>>2]=D,d[mr+12>>2]=D,d[D+8>>2]=mr,d[D+12>>2]=h;break}if(o=r>>>8,o?r>>>0>16777215?p=31:(nr=(o+1048320|0)>>>16&8,Ut=o<<nr,yr=(Ut+520192|0)>>>16&4,Ut=Ut<<yr,p=(Ut+245760|0)>>>16&2,p=14-(yr|nr|p)+(Ut<<p>>>15)|0,p=r>>>(p+7|0)&1|p<<1):p=0,s=408+(p<<2)|0,d[D+28>>2]=p,d[D+20>>2]=0,d[E>>2]=0,o=d[27]|0,i=1<<p,!(o&i)){d[27]=o|i,d[s>>2]=D,d[D+24>>2]=s,d[D+12>>2]=D,d[D+8>>2]=D;break}o=d[s>>2]|0;r:do if((d[o+4>>2]&-8|0)!=(r|0)){for(p=r<<((p|0)==31?0:25-(p>>>1)|0);i=o+16+(p>>>31<<2)|0,s=d[i>>2]|0,!!s;)if((d[s+4>>2]&-8|0)==(r|0)){sr=s;break r}else p=p<<1,o=s;if(i>>>0<(d[30]|0)>>>0)Ar();else{d[i>>2]=D,d[D+24>>2]=o,d[D+12>>2]=D,d[D+8>>2]=D;break t}}else sr=o;while(0);if(o=sr+8|0,i=d[o>>2]|0,Ut=d[30]|0,i>>>0>=Ut>>>0&sr>>>0>=Ut>>>0){d[i+12>>2]=D,d[o>>2]=D,d[D+8>>2]=i,d[D+12>>2]=sr,d[D+24>>2]=0;break}else Ar()}}else{Ut=d[30]|0,(Ut|0)==0|pe>>>0<Ut>>>0&&(d[30]=pe),d[138]=pe,d[139]=le,d[141]=0,d[35]=d[144],d[34]=-1,o=0;do Ut=o<<1,nr=144+(Ut<<2)|0,d[144+(Ut+3<<2)>>2]=nr,d[144+(Ut+2<<2)>>2]=nr,o=o+1|0;while((o|0)!=32);Ut=pe+8|0,Ut=Ut&7|0?0-Ut&7:0,nr=le+-40-Ut|0,d[32]=pe+Ut,d[29]=nr,d[pe+(Ut+4)>>2]=nr|1,d[pe+(le+-36)>>2]=40,d[33]=d[148]}while(0);if(i=d[29]|0,i>>>0>ce>>>0){Ut=i-ce|0,d[29]=Ut,f=d[32]|0,d[32]=f+ce,d[f+(ce+4)>>2]=Ut|1,d[f+4>>2]=ce|3,f=f+8|0;break}}d[(E1()|0)>>2]=12,f=0}else f=0}while(0);return f|0}function Zr(r){r=r|0;var i=0,o=0,s=0,u=0,f=0,p=0,h=0,E=0,A=0,R=0,O=0,C=0,b=0,k=0,D=0,K=0,ce=0,le=0,Te=0,Ee=0,de=0,je=0,We=0,Ze=0,pe=0,Ge=0;e:do if(r){u=r+-8|0,A=d[30]|0;t:do if(u>>>0>=A>>>0&&(s=d[r+-4>>2]|0,o=s&3,(o|0)!=1)){Ee=s&-8,de=r+(Ee+-8)|0;do if(s&1)Ge=u,f=Ee;else{if(u=d[u>>2]|0,!o)break e;if(R=-8-u|0,C=r+R|0,b=u+Ee|0,C>>>0<A>>>0)break t;if((C|0)==(d[31]|0)){if(f=r+(Ee+-4)|0,u=d[f>>2]|0,(u&3|0)!=3){Ge=C,f=b;break}d[28]=b,d[f>>2]=u&-2,d[r+(R+4)>>2]=b|1,d[de>>2]=b;break e}if(o=u>>>3,u>>>0<256){s=d[r+(R+8)>>2]|0,f=d[r+(R+12)>>2]|0,u=144+(o<<1<<2)|0;do if((s|0)!=(u|0)){if(s>>>0>=A>>>0&&(d[s+12>>2]|0)==(C|0))break;Ar()}while(0);if((f|0)==(s|0)){d[26]=d[26]&~(1<<o),Ge=C,f=b;break}do if((f|0)==(u|0))i=f+8|0;else{if(f>>>0>=A>>>0&&(p=f+8|0,(d[p>>2]|0)==(C|0))){i=p;break}Ar()}while(0);d[s+12>>2]=f,d[i>>2]=s,Ge=C,f=b;break}p=d[r+(R+24)>>2]|0,u=d[r+(R+12)>>2]|0;do if((u|0)==(C|0)){if(s=r+(R+20)|0,u=d[s>>2]|0,!u&&(s=r+(R+16)|0,u=d[s>>2]|0,!u)){O=0;break}for(;;){if(o=u+20|0,i=d[o>>2]|0,i){u=i,s=o;continue}if(o=u+16|0,i=d[o>>2]|0,i)u=i,s=o;else break}if(s>>>0<A>>>0)Ar();else{d[s>>2]=0,O=u;break}}else{if(s=d[r+(R+8)>>2]|0,s>>>0>=A>>>0&&(h=s+12|0,(d[h>>2]|0)==(C|0))&&(E=u+8|0,(d[E>>2]|0)==(C|0))){d[h>>2]=u,d[E>>2]=s,O=u;break}Ar()}while(0);if(p){if(u=d[r+(R+28)>>2]|0,s=408+(u<<2)|0,(C|0)==(d[s>>2]|0)){if(d[s>>2]=O,!O){d[27]=d[27]&~(1<<u),Ge=C,f=b;break}}else if(p>>>0<(d[30]|0)>>>0&&Ar(),u=p+16|0,(d[u>>2]|0)==(C|0)?d[u>>2]=O:d[p+20>>2]=O,!O){Ge=C,f=b;break}s=d[30]|0,O>>>0<s>>>0&&Ar(),d[O+24>>2]=p,u=d[r+(R+16)>>2]|0;do if(u)if(u>>>0<s>>>0)Ar();else{d[O+16>>2]=u,d[u+24>>2]=O;break}while(0);if(u=d[r+(R+20)>>2]|0,u)if(u>>>0<(d[30]|0)>>>0)Ar();else{d[O+20>>2]=u,d[u+24>>2]=O,Ge=C,f=b;break}else Ge=C,f=b}else Ge=C,f=b}while(0);if(Ge>>>0<de>>>0&&(k=r+(Ee+-4)|0,D=d[k>>2]|0,(D&1|0)!=0)){if(D&2)d[k>>2]=D&-2,d[Ge+4>>2]=f|1,d[Ge+f>>2]=f;else{if((de|0)==(d[32]|0)){if(pe=(d[29]|0)+f|0,d[29]=pe,d[32]=Ge,d[Ge+4>>2]=pe|1,(Ge|0)!=(d[31]|0))break e;d[31]=0,d[28]=0;break e}if((de|0)==(d[31]|0)){pe=(d[28]|0)+f|0,d[28]=pe,d[31]=Ge,d[Ge+4>>2]=pe|1,d[Ge+pe>>2]=pe;break e}E=(D&-8)+f|0,o=D>>>3;do if(D>>>0>=256){i=d[r+(Ee+16)>>2]|0,f=d[r+(Ee|4)>>2]|0;do if((f|0)==(de|0)){if(u=r+(Ee+12)|0,f=d[u>>2]|0,!f&&(u=r+(Ee+8)|0,f=d[u>>2]|0,!f)){je=0;break}for(;;){if(s=f+20|0,o=d[s>>2]|0,o){f=o,u=s;continue}if(s=f+16|0,o=d[s>>2]|0,o)f=o,u=s;else break}if(u>>>0<(d[30]|0)>>>0)Ar();else{d[u>>2]=0,je=f;break}}else{if(u=d[r+Ee>>2]|0,u>>>0>=(d[30]|0)>>>0&&(le=u+12|0,(d[le>>2]|0)==(de|0))&&(Te=f+8|0,(d[Te>>2]|0)==(de|0))){d[le>>2]=f,d[Te>>2]=u,je=f;break}Ar()}while(0);if(i){if(f=d[r+(Ee+20)>>2]|0,u=408+(f<<2)|0,(de|0)==(d[u>>2]|0)){if(d[u>>2]=je,!je){d[27]=d[27]&~(1<<f);break}}else if(i>>>0<(d[30]|0)>>>0&&Ar(),f=i+16|0,(d[f>>2]|0)==(de|0)?d[f>>2]=je:d[i+20>>2]=je,!je)break;f=d[30]|0,je>>>0<f>>>0&&Ar(),d[je+24>>2]=i,u=d[r+(Ee+8)>>2]|0;do if(u)if(u>>>0<f>>>0)Ar();else{d[je+16>>2]=u,d[u+24>>2]=je;break}while(0);if(o=d[r+(Ee+12)>>2]|0,o)if(o>>>0<(d[30]|0)>>>0)Ar();else{d[je+20>>2]=o,d[o+24>>2]=je;break}}}else{s=d[r+Ee>>2]|0,f=d[r+(Ee|4)>>2]|0,u=144+(o<<1<<2)|0;do if((s|0)!=(u|0)){if(s>>>0>=(d[30]|0)>>>0&&(d[s+12>>2]|0)==(de|0))break;Ar()}while(0);if((f|0)==(s|0)){d[26]=d[26]&~(1<<o);break}do if((f|0)==(u|0))K=f+8|0;else{if(f>>>0>=(d[30]|0)>>>0&&(ce=f+8|0,(d[ce>>2]|0)==(de|0))){K=ce;break}Ar()}while(0);d[s+12>>2]=f,d[K>>2]=s}while(0);if(d[Ge+4>>2]=E|1,d[Ge+E>>2]=E,(Ge|0)==(d[31]|0)){d[28]=E;break e}else f=E}if(u=f>>>3,f>>>0<256){s=u<<1,f=144+(s<<2)|0,i=d[26]|0,o=1<<u,i&o?(o=144+(s+2<<2)|0,i=d[o>>2]|0,i>>>0<(d[30]|0)>>>0?Ar():(We=o,Ze=i)):(d[26]=i|o,We=144+(s+2<<2)|0,Ze=f),d[We>>2]=Ge,d[Ze+12>>2]=Ge,d[Ge+8>>2]=Ze,d[Ge+12>>2]=f;break e}i=f>>>8,i?f>>>0>16777215?u=31:(We=(i+1048320|0)>>>16&8,Ze=i<<We,r=(Ze+520192|0)>>>16&4,Ze=Ze<<r,u=(Ze+245760|0)>>>16&2,u=14-(r|We|u)+(Ze<<u>>>15)|0,u=f>>>(u+7|0)&1|u<<1):u=0,o=408+(u<<2)|0,d[Ge+28>>2]=u,d[Ge+20>>2]=0,d[Ge+16>>2]=0,i=d[27]|0,s=1<<u;r:do if(i&s){o=d[o>>2]|0;n:do if((d[o+4>>2]&-8|0)!=(f|0)){for(u=f<<((u|0)==31?0:25-(u>>>1)|0);i=o+16+(u>>>31<<2)|0,s=d[i>>2]|0,!!s;)if((d[s+4>>2]&-8|0)==(f|0)){pe=s;break n}else u=u<<1,o=s;if(i>>>0<(d[30]|0)>>>0)Ar();else{d[i>>2]=Ge,d[Ge+24>>2]=o,d[Ge+12>>2]=Ge,d[Ge+8>>2]=Ge;break r}}else pe=o;while(0);if(i=pe+8|0,o=d[i>>2]|0,Ze=d[30]|0,o>>>0>=Ze>>>0&pe>>>0>=Ze>>>0){d[o+12>>2]=Ge,d[i>>2]=Ge,d[Ge+8>>2]=o,d[Ge+12>>2]=pe,d[Ge+24>>2]=0;break}else Ar()}else d[27]=i|s,d[o>>2]=Ge,d[Ge+24>>2]=o,d[Ge+12>>2]=Ge,d[Ge+8>>2]=Ge;while(0);if(Ge=(d[34]|0)+-1|0,d[34]=Ge,!Ge)i=560;else break e;for(;i=d[i>>2]|0,i;)i=i+8|0;d[34]=-1;break e}}while(0);Ar()}while(0)}function E1(){var r=0;return r=600,r|0}function J0(){var r=0;do if(!(d[144]|0))if(r=A1(30)|0,r+-1&r)Ar();else{d[146]=r,d[145]=r,d[147]=-1,d[148]=-1,d[149]=0,d[137]=0,d[144]=(I1(0)|0)&-16^1431655768;break}while(0)}function X0(){}function Tn(r,i,o){r=r|0,i=i|0,o=o|0;var s=0;if((o|0)>=4096)return w1(r|0,i|0,o|0)|0;if(s=r|0,(r&3)==(i&3)){for(;r&3;){if(!o)return s|0;ne[r>>0]=ne[i>>0]|0,r=r+1|0,i=i+1|0,o=o-1|0}for(;(o|0)>=4;)d[r>>2]=d[i>>2],r=r+4|0,i=i+4|0,o=o-4|0}for(;(o|0)>0;)ne[r>>0]=ne[i>>0]|0,r=r+1|0,i=i+1|0,o=o-1|0;return s|0}function to(r,i,o){r=r|0,i=i|0,o=o|0;var s=0;if((i|0)<(r|0)&(r|0)<(i+o|0)){for(s=r,i=i+o|0,r=r+o|0;(o|0)>0;)r=r-1|0,i=i-1|0,o=o-1|0,ne[r>>0]=ne[i>>0]|0;r=s}else Tn(r,i,o)|0;return r|0}function ro(r,i,o){r=r|0,i=i|0,o=o|0;var s=0,u=0,f=0,p=0;if(s=r+o|0,(o|0)>=20){if(i=i&255,f=r&3,p=i|i<<8|i<<16|i<<24,u=s&-4,f)for(f=r+4-f|0;(r|0)<(f|0);)ne[r>>0]=i,r=r+1|0;for(;(r|0)<(u|0);)d[r>>2]=p,r=r+4|0}for(;(r|0)<(s|0);)ne[r>>0]=i,r=r+1|0;return r-o|0}return{_free:Zr,___errno_location:E1,_memmove:to,_Decoder_Interface_Decode:P1,_Decoder_Interface_exit:L1,_Encoder_Interface_init:x1,_memset:ro,_malloc:cn,_memcpy:Tn,_Encoder_Interface_exit:U1,_Decoder_Interface_init:k1,_Encoder_Interface_Encode:D1,runPostSets:X0,stackAlloc:R1,stackSave:b1,stackRestore:C1,establishStackSpace:O1,setThrew:S1,setTempRet0:N1,getTempRet0:M1}}(S.asmGlobalArg,S.asmLibraryArg,at);S._Encoder_Interface_Encode=$r._Encoder_Interface_Encode;var Yn=S._free=$r._free;S.runPostSets=$r.runPostSets;var So=S._memmove=$r._memmove;S._Decoder_Interface_exit=$r._Decoder_Interface_exit,S._Encoder_Interface_init=$r._Encoder_Interface_init;var No=S._memset=$r._memset,Ln=S._malloc=$r._malloc,vo=S._memcpy=$r._memcpy;S._Decoder_Interface_Decode=$r._Decoder_Interface_Decode,S._Decoder_Interface_init=$r._Decoder_Interface_init,S._Encoder_Interface_exit=$r._Encoder_Interface_exit,S.___errno_location=$r.___errno_location,Ne.stackAlloc=$r.stackAlloc,Ne.stackSave=$r.stackSave,Ne.stackRestore=$r.stackRestore,Ne.establishStackSpace=$r.establishStackSpace,Ne.setTempRet0=$r.setTempRet0,Ne.getTempRet0=$r.getTempRet0;function Zn(N){this.name="ExitStatus",this.message="Program terminated with exit("+N+")",this.status=N}Zn.prototype=new Error,Zn.prototype.constructor=Zn;var Eo;bn=function N(){S.calledRun||yo(),S.calledRun||(bn=N)},S.callMain=S.callMain=function(B){vt(rn==0,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),vt(V.length==0,"cannot call main when preRun functions remain to be called"),B=B||[],Ie();var J=B.length+1;function ne(){for(var ae=0;ae<3;ae++)e.push(0)}var e=[Lt($t(S.thisProgram),"i8",Ue)];ne();for(var d=0;d<J-1;d=d+1)e.push(Lt($t(B[d]),"i8",Ue)),ne();e.push(0),e=Lt(e,"i32",Ue),Eo=Ne.stackSave();try{var it=S._main(J,e,0);Qn(it,!0)}catch(ae){if(ae instanceof Zn)return;if(ae=="SimulateInfiniteLoop"){S.noExitRuntime=!0,Ne.stackRestore(Eo);return}else throw ae&&typeof ae=="object"&&ae.stack&&S.printErr("exception thrown: "+[ae,ae.stack]),ae}finally{}};function yo(N){if(N=N||S.arguments,rn>0||(He(),rn>0)||S.calledRun)return;function B(){S.calledRun||(S.calledRun=!0,!qe&&(Ie(),ht(),S.onRuntimeInitialized&&S.onRuntimeInitialized(),S._main&&ko&&S.callMain(N),Yt()))}S.setStatus?(S.setStatus("Running..."),setTimeout(function(){setTimeout(function(){S.setStatus("")},1),B()},1)):B()}S.run=S.run=yo;function Qn(N,B){if(!(B&&S.noExitRuntime))throw S.noExitRuntime||(qe=!0,fe=Eo,Tt(),S.onExit&&S.onExit(N)),se&&typeof quit=="function"&&quit(N),new Zn(N)}S.exit=S.exit=Qn;var Mo=[];function jn(N){N!==void 0?(S.print(N),S.printErr(N),N=JSON.stringify(N)):N="",qe=!0;var B=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,J="abort("+N+") at "+zt()+B;throw Mo&&Mo.forEach(function(ne){J=ne(J,N)}),J}if(S.abort=S.abort=jn,S.preInit)for(typeof S.preInit=="function"&&(S.preInit=[S.preInit]);S.preInit.length>0;)S.preInit.pop()();var ko=!0;return S.noInitialRun&&(ko=!1),S.noExitRuntime=!0,yo(),G}();self.onmessage=function(G){switch(G.data.command){case"encode":F(G.data.samples,G.data.sampleRate);break;case"decode":w(G.data.buffer);break}};function F(G,S){S=S||8e3,self.postMessage({command:"encode",amr:W.encode(G,S,7)})}function w(G){self.postMessage({command:"decode",amr:W.decode(G)})}},x=U.toString().replace(/^\s*function.*?\(\)\s*{/,"").replace(/}\s*$/,""),H=(window.URL||window.webkitURL).createObjectURL(new Blob([x],{type:"text/javascript"})),L=function(){function W(){var F=this;n(this,W),this._isInit=!1,this._isInitRecorder=!1,this._recorderControl=new M,this._samples=new Float32Array(0),this._rawData=new Uint8Array(0),this._blob=null,this._onEnded=null,this._onAutoEnded=null,this._onPlay=null,this._onPause=null,this._onResume=null,this._onStop=null,this._onStartRecord=null,this._onCancelRecord=null,this._onFinishRecord=null,this._isPlaying=!1,this._isPaused=!1,this._startCtxTime=0,this._pauseTime=0,this._playEmpty=function(){F._recorderControl.playPcm(new Float32Array(10),24e3)},this._onEndCallback=function(){F._isPlaying&&(F._isPlaying=!1,F._onStop&&F._onStop(),F._onAutoEnded&&F._onAutoEnded()),F._isPaused||F._onEnded&&F._onEnded()},this._runAMRWorker=function(w,G){var S=new Worker(H);S.postMessage(w),S.onmessage=function(re){G(re.data.amr),S.terminate()}}}return l(W,[{key:"isInit",value:function(){return this._isInit}},{key:"initWithArrayBuffer",value:function(w){var G=this;return(this._isInit||this._isInitRecorder)&&W.throwAlreadyInitialized(),this._playEmpty(),new Promise(function(S,re){var q=new Uint8Array(w);G.decodeAMRAsync(q).then(function(X){G._samples=X,G._isInit=!0,G._samples?(G._rawData=q,S()):M.decodeAudioArrayBufferByContext(w).then(function(Q){return G._isInit=!0,G.encodeAMRAsync(Q,M.getCtxSampleRate())}).then(function(Q){return G._rawData=Q,G._blob=W.rawAMRData2Blob(Q),G.decodeAMRAsync(Q)}).then(function(Q){G._samples=Q,S()}).catch(function(){re(new Error("Failed to decode."))})})})}},{key:"initWithBlob",value:function(w){var G=this;(this._isInit||this._isInitRecorder)&&W.throwAlreadyInitialized(),this._playEmpty(),this._blob=w;var S=new Promise(function(re){var q=new FileReader;q.onload=function(X){re(X.target.result)},q.readAsArrayBuffer(w)});return S.then(function(re){return G.initWithArrayBuffer(re)})}},{key:"initWithUrl",value:function(w){var G=this;(this._isInit||this._isInitRecorder)&&W.throwAlreadyInitialized(),this._playEmpty();var S=new Promise(function(re,q){var X=new XMLHttpRequest;X.open("GET",w,!0),X.responseType="arraybuffer",X.onload=function(){re(this.response)},X.onerror=function(){q(new Error("Failed to fetch "+w))},X.send()});return S.then(function(re){return G.initWithArrayBuffer(re)})}},{key:"initWithRecord",value:function(){var w=this;return(this._isInit||this._isInitRecorder)&&W.throwAlreadyInitialized(),this._playEmpty(),new Promise(function(G,S){w._recorderControl.initRecorder().then(function(){w._isInitRecorder=!0,G()}).catch(function(re){S(re)})})}},{key:"on",value:function(w,G){if(typeof G=="function"||G===null)switch(w){case"play":this._onPlay=G;break;case"stop":this._onStop=G;break;case"pause":this._onPause=G;break;case"resume":this._onResume=G;break;case"ended":this._onEnded=G;break;case"autoEnded":this._onAutoEnded=G;break;case"startRecord":this._onStartRecord=G;break;case"cancelRecord":this._onCancelRecord=G;break;case"finishRecord":this._onFinishRecord=G;break;case"*":case"all":this._onEnded=G,this._onAutoEnded=G,this._onPlay=G,this._onPause=G,this._onResume=G,this._onStop=G,this._onStartRecord=G,this._onCancelRecord=G,this._onFinishRecord=G;break}}},{key:"off",value:function(w){this.on(w,null)}},{key:"onPlay",value:function(w){this.on("play",w)}},{key:"onStop",value:function(w){this.on("stop",w)}},{key:"onPause",value:function(w){this.on("pause",w)}},{key:"onResume",value:function(w){this.on("resume",w)}},{key:"onEnded",value:function(w){this.on("ended",w)}},{key:"onAutoEnded",value:function(w){this.on("autoEnded",w)}},{key:"onStartRecord",value:function(w){this.on("startRecord",w)}},{key:"onFinishRecord",value:function(w){this.on("finishRecord",w)}},{key:"onCancelRecord",value:function(w){this.on("cancelRecord",w)}},{key:"play",value:function(w){var G=w&&w<this.getDuration()?parseFloat(w):0;if(!this._isInit)throw new Error("Please init AMR first.");this._onPlay&&this._onPlay(),this._isPlaying=!0,this._isPaused=!1,this._startCtxTime=M.getCtxTime()-G,this._recorderControl.playPcm(this._samples,this._isInitRecorder?M.getCtxSampleRate():8e3,this._onEndCallback.bind(this),G)}},{key:"stop",value:function(){this._recorderControl.stopPcm(),this._isPlaying=!1,this._isPaused=!1,this._onStop&&this._onStop()}},{key:"pause",value:function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!0,this._pauseTime=M.getCtxTime()-this._startCtxTime,this._recorderControl.stopPcm(),this._onPause&&this._onPause())}},{key:"resume",value:function(){this._isPaused&&(this._isPlaying=!0,this._isPaused=!1,this._startCtxTime=M.getCtxTime()-this._pauseTime,this._recorderControl.playPcm(this._samples,this._isInitRecorder?M.getCtxSampleRate():8e3,this._onEndCallback.bind(this),this._pauseTime),this._onResume&&this._onResume())}},{key:"playOrResume",value:function(){this._isPaused?this.resume():this.play()}},{key:"pauseOrResume",value:function(){this._isPaused?this.resume():this.pause()}},{key:"playOrPauseOrResume",value:function(){this._isPaused?this.resume():this._isPlaying?this.pause():this.play()}},{key:"setPosition",value:function(w){var G=parseFloat(w);G>this.getDuration()?this.stop():this._isPaused?this._pauseTime=G:this._isPlaying?(this._recorderControl.stopPcmSilently(),this._startCtxTime=M.getCtxTime()-G,this._recorderControl.playPcm(this._samples,this._isInitRecorder?M.getCtxSampleRate():8e3,this._onEndCallback.bind(this),G)):this.play(G)}},{key:"getCurrentPosition",value:function(){return this._isPaused?this._pauseTime:this._isPlaying?M.getCtxTime()-this._startCtxTime:0}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isPaused",value:function(){return this._isPaused}},{key:"startRecord",value:function(){this._recorderControl.startRecord(),this._onStartRecord&&this._onStartRecord()}},{key:"finishRecord",value:function(){var w=this;return new Promise(function(G){w._recorderControl.stopRecord(),w._recorderControl.generateRecordSamples().then(function(S){return w._samples=S,w.encodeAMRAsync(S,M.getCtxSampleRate())}).then(function(S){w._rawData=S,w._blob=W.rawAMRData2Blob(w._rawData),w._isInit=!0,w._onFinishRecord&&w._onFinishRecord(),w._recorderControl.releaseRecord(),G()})})}},{key:"cancelRecord",value:function(){this._recorderControl.stopRecord(),this._recorderControl.releaseRecord(),this._onCancelRecord&&this._onCancelRecord()}},{key:"isRecording",value:function(){return this._recorderControl.isRecording()}},{key:"getDuration",value:function(){var w=this._isInitRecorder?M.getCtxSampleRate():8e3;return this._samples.length/w}},{key:"getBlob",value:function(){return this._blob}},{key:"destroy",value:function(){this._recorderControl.stopPcmSilently(),this._recorderControl.stopRecord(),this._recorderControl.releaseRecord(),this.off("*"),this._recorderControl=null,this._samples=null,this._rawData=null,this._blob=null}},{key:"encodeAMRAsync",value:function(w,G){var S=this;return new Promise(function(re){S._runAMRWorker({command:"encode",samples:w,sampleRate:G},re)})}},{key:"decodeAMRAsync",value:function(w){var G=this;return new Promise(function(S){G._runAMRWorker({command:"decode",buffer:w},S)})}}],[{key:"rawAMRData2Blob",value:function(w){return new Blob([w.buffer],{type:"audio/amr"})}},{key:"throwAlreadyInitialized",value:function(){throw new Error("AMR has been initialized. For a new AMR, please generate a new BenzAMRRecorder().")}},{key:"isPlaySupported",value:function(){return M.isPlaySupported()}},{key:"isRecordSupported",value:function(){return M.isRecordSupported()}}]),W}();return L})})(BenzAMRRecorder);var BenzAMRRecorderExports=BenzAMRRecorder.exports;const benzAMRRecorder=getDefaultExportFromCjs(BenzAMRRecorderExports),_hoisted_1=["src"],_hoisted_2=["innerHTML"],_hoisted_3={class:"range"},_hoisted_4={class:"range"},_sfc_main=defineComponent({__name:"index",props:{attachment:Object,keyword:{type:String,default:""}},setup(a){var H;const m=a,n=BEM("attVoice"),c=ref((H=m.attachment)==null?void 0:H.voiceLength);let l=null,v=null;const y=ref(0),T=async()=>{var L,W;if(!l){const F=await window.MainWindowHelper.getCloudExtFilesInfo({objectId:(L=m.attachment)==null?void 0:L.objectId2});if(F.result==1){const w=await fetch((W=F.data[0])==null?void 0:W.http);l=new benzAMRRecorder,await l.initWithUrl(w.url),c.value=Math.ceil(l.getDuration())}}v&&clearInterval(v),l.playOrPauseOrResume(),y.value=l.isPlaying()?1:0,l.isPlaying()&&c.value&&(v=setInterval(()=>{P.value=l.getCurrentPosition()},200)),l.onEnded(function(){P.value=0,y.value=0,v&&clearInterval(v)})},I=L=>{P.value=L,l.setPosition(L),y.value=1,T()},g=()=>{l.isPlaying()&&l.pause(),y.value=0,v&&clearInterval(v)},P=ref(0);let M=ref(!1);const U=L=>{M.value=!0,utils.windowClickOnce(()=>{M.value=!1})},x=L=>L&&m.keyword?utils.htmlEncodeByRegExp(L).replaceAll(m.keyword,`<span style='color: #3A8BFF'>${m.keyword}</span>`):L;return(L,W)=>{var w;const F=ElSlider;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is("cover",unref(M))]),onContextmenu:U},[createBaseVNode("div",{class:normalizeClass([unref(n).e("logo")])},[createBaseVNode("img",{src:y.value?unref(stopImg):unref(defaulPlayIcon),referrerPolicy:"no-referrer",draggable:"false",onClick:T},null,8,_hoisted_1)],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("info"))},[createBaseVNode("div",{class:normalizeClass(unref(n).e("title")),innerHTML:x(((w=a.attachment)==null?void 0:w.fileTitle)||"")},null,10,_hoisted_2),createBaseVNode("div",{class:normalizeClass(unref(n).e("contentWrapper"))},[createVNode(F,{class:normalizeClass(["slider",P.value>0?"":"activeSlider0"]),modelValue:P.value,"onUpdate:modelValue":W[0]||(W[0]=G=>P.value=G),disabled:!unref(l),"show-tooltip":!1,min:0,max:c.value,step:.1,onChange:I,onInput:g},null,8,["class","modelValue","disabled","max","step"])],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("contentTime"))},[createBaseVNode("span",_hoisted_3,toDisplayString(unref(utils).formatTime(P.value*1e3)),1),createBaseVNode("span",_hoisted_4,toDisplayString(unref(utils).formatTime((c.value||0)*1e3)),1)],2)],2)],34)}}}),index_vue_vue_type_style_index_0_scoped_9a63b838_lang="",attVoice=_export_sfc(_sfc_main,[["__scopeId","data-v-9a63b838"]]),t$3=i18n.global.t,formatFileLength=a=>a==parseInt(a)?utils.formatSize(a):a,downloadFile=async(a,m,n,c=!1)=>{const l=MessageAppStore();if(!a)return;let v="";if(a!=null&&a.att_cloudFolder){const{puid:y,shareInfo:T,name:I,resid:g}=a==null?void 0:a.att_cloudFolder;window.MainWindowHelper.downloadDiskFolder({puid:l.puid,name:I,shareId:T==null?void 0:T.shareid,shareUserId:y,fid:"",isSharePan:!0,id:g,isSaveAs:c}),v=g}else{let{resid:y,name:T,size:I,fileLength:g,fileTitle:P,objectId:M,objectId2:U}=a;const x=l.puid,H=g?formatFileLength(String(g)):I,L=m=="att_video"?U:M;window.MainWindowHelper.downloadDiskFile({id:y||"",shareUserId:x,name:T||P,filesize:H,objectId:L,isSaveAs:c}),v=y||L}window.MainWindowHelper.checkDiskFileDownloadChanged(v,y=>{n==null||n(y)})},saveAsFile=async(a,m)=>{const n=MessageAppStore();if(console.log("[saveAsFile] call"),!a)return;const c=n.puid;let{objectId:l,resid:v}=a;const y=await window.MainWindowHelper.getCloudDownloadUrl({fleid:v||"",sharepuid:c,objectId:v?void 0:l});if(console.log("[saveAsFile] getCloudDownloadUrl res:",safetyToJson(y)),y&&y.url){const T=y.url+`&fn=${y.name}`;m==0?utils.downloadAttfile(T):window.MainWindowHelper.saveFileAs(T,y==null?void 0:y.name);return}Toast({content:t$3("message.failedToDownloadAddress"),duration:2024})},saveAsVideo=async(a,m)=>{console.log("",a);let{objectId:n,resid:c}=a;const l=await window.MainWindowHelper.getCloudDownloadUrl({fleid:c});if(console.log("",l),l&&l.url){const v=l.url;m==0?utils.downloadAttfile(v):window.MainWindowHelper.saveFileAs(v);return}Toast({content:t$3("message.failedToDownloadAddress"),duration:2024})},parseTheImg=async(a,m)=>{if(!a)return{};let n,c,l,v;if(a&&(a!=null&&a.startsWith("http")))l=await fetch(a).then(y=>y.blob()),v=await l.arrayBuffer();else if(a.startsWith("data")&&a.indexOf("base64")!==-1){const y=window.atob(a.replace("data:image/png;base64,","")),T=new Uint8Array(y.length);for(let I=0;I<y.length;I++)T[I]=y.charCodeAt(I);l=new Blob([T],{type:"application/octet-stream"}),v=await l.arrayBuffer()}else{const y=a.replace("cxmsgimg://","");let T=y;T.indexOf("http")!==-1?T=await window.RendererHelper.getMessageImageCachePath(y):T.startsWith("file:///")&&(T=T.replace("file:///","")),c=window.RendererHelper.getFileData(T),l=new Blob([c]),v=await l.arrayBuffer()}return n=new File([l],m||`${new Date().getTime()}.png`,{type:"png",lastModified:new Date().getTime()}),{file:n,bits8:c,blob:l,arrayBuffer:v}},uploadFile=(a,m)=>{const n=MessageAppStore();return new Promise(async(c,l)=>{const v=await window.MainWindowHelper.getPanToken(),y=utils.createFormData({puid:m||(n==null?void 0:n.puid),_token:v,file:a,prdid:"442",name:a.name,lastModified:a.lastModified,size:a.size,type:a.type,uploadtype:"normal"});try{const T=await upload(y);console.log("",T),T.result?c(T):(Toast({content:T.msg,duration:2024}),l(T.msg))}catch(T){console.error("",T),Toast({content:t$3("message.uploadFailed"),duration:2024}),l(T)}})},uploadImg=(a,m,n,c)=>new Promise(async(l,v)=>{try{const{file:y,arrayBuffer:T}=await parseTheImg(a,m);console.log("",y,T);const I=await uploadFile(y,c);l({...I,arrayBuffer:T,...n})}catch(y){v(y)}}),uploadAudio=(a,m,n)=>new Promise(async(c,l)=>{const v=MessageAppStore();try{if(!a)return{};const y=await fetch(a).then(P=>P.blob()),T=new File([y],m||`${new Date}.amr`,{type:"audio",lastModified:new Date().getTime()}),I=await uploadFile(T),g=createAtt({data:I.data,file:T,type:"att_voice",ext:{...n,sendName:(n==null?void 0:n.from)==v.loginId?v.getSelfUserInfoDetail.name:n==null?void 0:n.sendName}});g!=null&&g.cid||(g.cid=utils.createCid()),c({blob:y,file:T,res:I,attachment:g,...n})}catch(y){l(y)}}),TEXT_SEPARATOR=`
`,HTML_SEPARATOR="<br/>";function isGroupChainMessage(a){return a.ext.groupChain===!0}function getGroupChainText(a,m=TEXT_SEPARATOR){const{title:n="",description:c="",example:l="",items:v=[]}=a.ext.groupChainData??{},y=v.map(g=>`${g.index}. ${g.content}`),T=l?` ${l}`:"";return[n,c,T,y.join(m)].filter(g=>g!=="").join(m)}const FORWARD_PAGE_URL="https://im.chaoxing.com/res/studyForward/index.html",t$2=i18n.global.t,forwardText=async(a,m)=>{var l;console.log("",a,m);const n=isGroupChainMessage(a)?getGroupChainText(a,TEXT_SEPARATOR):a.msg;console.log("forwardText",n);const c={title:m,text:n,type:"text",textMixings:((l=a==null?void 0:a.ext)==null?void 0:l.textMixings)??[]};window.RendererHelper.openWindow(FORWARD_PAGE_URL,{width:640,height:FORWARD_WINDOW_HEIGHT,frame:!1,modal:!0,resizable:!1,subWindow:!0,id:"studyForward"},{textData:c})},forwardImg=async(a,m)=>{var l,v;let n;m?n=await uploadImg(m,`img_${a==null?void 0:a.id}.png`):n=await uploadImg("cxmsgimg://"+(a==null?void 0:a.url),`img_${a==null?void 0:a.id}.png`);const c={objectId:n==null?void 0:n.objectId,title:(l=n==null?void 0:n.data)==null?void 0:l.name,type:"img",url:(v=n==null?void 0:n.data)==null?void 0:v.previewUrl,arrayBuffer:n.arrayBuffer,width:a==null?void 0:a.width,height:a==null?void 0:a.height};window.RendererHelper.openWindow(FORWARD_PAGE_URL,{width:640,height:FORWARD_WINDOW_HEIGHT,frame:!1,modal:!0,resizable:!1,subWindow:!0,id:"studyForward"},{imgData:c})},forwardAtt=async a=>{console.log("",a),a!=null&&a.cid||(a.cid=utils.createCid()),window.RendererHelper.openWindow(FORWARD_PAGE_URL,{width:640,height:FORWARD_WINDOW_HEIGHT,frame:!1,modal:!0,resizable:!1,subWindow:!0,id:"studyForward"},{attachment:a})},forwardAudio=async a=>{if(console.log("",a),a!=null&&a.url){const m=await uploadAudio(a==null?void 0:a.url,`_${a==null?void 0:a.id}.amr`,a);m!=null&&m.attachment&&window.RendererHelper.openWindow(FORWARD_PAGE_URL,{width:640,height:FORWARD_WINDOW_HEIGHT,frame:!1,modal:!0,resizable:!1,subWindow:!0,id:"studyForward"},{attachment:m.attachment})}},forwardOneByOne=async a=>{if(console.log("",a),(a==null?void 0:a.length)==0)return;const m=[],n=[];for(let v of a){const{type:y,ext:T,msg:I,id:g,url:P,width:M,height:U}=v;switch(y){case MessageType.TEXT:if(T!=null&&T.attachment){const{attachment:x}=T;if(isCanAttForward(x))x!=null&&x.cid||(x.cid=utils.createCid()),m.push(x);else{const H=(x==null?void 0:x.att_chat_course)||(x==null?void 0:x.att_web),L=`[${(H==null?void 0:H.realTitle)||(H==null?void 0:H.title)||(H==null?void 0:H.atypeName)}]`;m.push({text:L,type:"text"})}}else m.push({text:I,type:"text",textMixings:(T==null?void 0:T.textMixings)??[]});break;case MessageType.IMAGE:n.push(uploadImg(P,`img_${g}.png`,{width:M,height:U,type:"img"}));break;case MessageType.AUDIO:P&&n.push(uploadAudio(P,`audio_${g}.amr`,v));break}}(await Promise.all(n)).forEach(v=>{var y,T;v.type==="img"&&m.push({objectId:v.objectId,title:(y=v.data)==null?void 0:y.name,type:"img",url:(T=v.data)==null?void 0:T.previewUrl,arrayBuffer:v.arrayBuffer,width:v.width,height:v.height}),v.type==="audio"&&m.push(v.attachment)});const l={type:"onebyone",oneByOneList:m};console.log("[forwardOneByOne]",l),window.RendererHelper.openWindow(FORWARD_PAGE_URL,{width:640,height:FORWARD_WINDOW_HEIGHT,frame:!1,modal:!0,resizable:!1,subWindow:!0,id:"studyForward"},{oneByOneData:l})},mergeForward=async(a,m,n)=>{if((a==null?void 0:a.length)==0)return;const c=[],l=[];for(let I of a){const{type:g,ext:P,msg:M,from:U,id:x,time:H,url:L}=I,W={content:M||"",msgId:x,send_time:H,type:g===MessageType.IMAGE?2:1,uid:U,ext:P};switch(g){case MessageType.TEXT:if(P!=null&&P.attachment){const{attachment:F}=P;if(isCanAttForward(F))F!=null&&F.cid||(F.cid=utils.createCid()),W.attachment=[F];else{const w=(F==null?void 0:F.att_chat_course)||(F==null?void 0:F.att_web),G=`[${(w==null?void 0:w.realTitle)||(w==null?void 0:w.title)||(w==null?void 0:w.atypeName)}]`;W.content=G}}break;case MessageType.IMAGE:l.push(uploadImg(L,`img_${x}.png`,{id:x,type:"img"}));break;case MessageType.AUDIO:L&&l.push(uploadAudio(L,`audio_${x}.amr`,I));break}c.push(W)}(await Promise.all(l)).forEach(I=>{_.find(c,g=>{if(I.id===g.msgId)switch(I.type){case"img":g.conImg=I.data.previewUrl;break;case"audio":g.attachment=[I.attachment];break}})});const y=await window.RendererHelper.getUser(),T=MessageAppStore();try{const I=await window.RendererHelper.netRequest({url:"https://im.chaoxing.com/apis/message/addMessageTransInfo?t=1",postParams:{puid:String(T.puid),chat_id:m.value.targetId,chat_type:m.value.chatType===ChatType.SINGLE?"0":"1",title:m.value.chatType===ChatType.SINGLE?`${y.name}${t$2("message.and")}${n??""} ${t$2("message.chatLog")}`:`${t$2("message.chatrecordsgc")}`,trans_info:JSON.stringify(c)},method:"post",tokenSign:!0});if(I.result==1){const{data:g}=I,{logo:P,url:M}=g,U=createAttWeb({data:{delete:!1,logo:P,resType:0,showContent:0,title:m.value.chatType===ChatType.SINGLE?`${y.name}${n??""}`:"",toolbarType:2,type:2,url:M}});console.log("",U),forwardAtt(U)}else Toast({content:t$2("message.forwardingFailed"),duration:2e3}),console.log(`addMessageTransInfo Error. [result=${I.result}][errorMsg=${I.errorMsg}]`)}catch{}},t$1=i18n.global.t,groupStore=GroupAppStore();window.MainWindowHelper.useMode("AiAsr");const createReply=a=>{var H,L,W,F,w,G,S,re,q,X,Q,ee;console.log("",a);let{msg:m,type:n,chatType:c,from:l,to:v,id:y,sendName:T,time:I,url:g,ext:P}=a,M={},U={};c===ChatType.GROUP&&(M.messageGroupId=v),n===MessageType.IMAGE&&(U.content=`[${t$1("message.image")}]`,U.remotePath=g),n===MessageType.TEXT&&(P!=null&&P.attachment)&&(U.content=`[${ATTACHMENT_FILE[(H=P==null?void 0:P.attachment)==null?void 0:H.attachmentType].cnName}]`,(L=P==null?void 0:P.attachment)!=null&&L.att_clouddisk&&(U.content=(F=(W=P==null?void 0:P.attachment)==null?void 0:W.att_clouddisk)==null?void 0:F.name),((G=(w=P==null?void 0:P.attachment)==null?void 0:w.att_web)==null?void 0:G.type)=="1"&&(U.content=`[${t$1("message.groupAnnouncement")}]`+(((re=(S=P==null?void 0:P.attachment)==null?void 0:S.att_web)==null?void 0:re.realTitle)||((X=(q=P==null?void 0:P.attachment)==null?void 0:q.att_web)==null?void 0:X.title)||""))),n===MessageType.AUDIO&&(U.content=`[${t$1("message.voice")}]`);const x=MessageAppStore();return{body:{content:m,isText:n===MessageType.TEXT,...U},ext:P,puid:getPuid(a),isGroup:c===ChatType.GROUP,messageFrom:l,messageId:y,messageTo:v,name:((Q=x.getSelfUserInfoDetail)==null?void 0:Q.uid)==l?(ee=x.getSelfUserInfoDetail)==null?void 0:ee.name:T,timestamp:I,uid:l,...M}},getPuid=a=>{var n,c,l,v;const m=setMessageKey(a);return a.chatType==ChatType.SINGLE?MessageAppStore().conversationListData[m].puid:((l=(c=(n=groupStore.getGroupsInfos)==null?void 0:n.members)==null?void 0:c.find(T=>T.uid==a.from))==null?void 0:l.puid)||((v=a==null?void 0:a.ext)==null?void 0:v.fromPuid)},menuItemCreator=a=>{const{icon:m,name:n,menuHandler:c}=a;return{icon:`menu-${m}`,name:n,handler:()=>{c&&c()}}},renderAtt=(a,m,n)=>{let c,l;if(a){switch(typeof a=="string"&&(console.log("",JSON.parse(a)),a=JSON.parse(a)),a.attachmentType){case 1:c=AttTopic,l={attachment:a==null?void 0:a.att_topic};break;case 2:c=AttNote,l={attachment:a==null?void 0:a.att_note};break;case 3:case 4:case 6:c=AttSubject,l={attachment:a==null?void 0:a.att_subject};break;case 7:c=AttGroup,l={attachment:a==null?void 0:a.att_group};break;case 8:c=AttNotice,l={attachment:a==null?void 0:a.att_notice};break;case 10:c=AttNotebook,l={attachment:a==null?void 0:a.att_notebook};break;case 15:c=AttChatCourse,l={attachment:a==null?void 0:a.att_chat_course};break;case 17:c=AttCourse,l={attachment:a==null?void 0:a.att_course};break;case 18:c=AttClouddisk,l={att:a,attachment:a==null?void 0:a.att_clouddisk,msgid:m,isDownLoad:n};break;case 20:c=AttUser,l={attachment:a==null?void 0:a.att_user};break;case 23:c=AttChatGroup,l={attachment:a==null?void 0:a.att_chat_group};break;case 25:c=AttWeb,l={attachment:a==null?void 0:a.att_web};break;case 26:c=attVoice,l={attachment:a==null?void 0:a.att_voice};break;case 29:c=AttVideo,l={attachment:a==null?void 0:a.att_video,msgid:m};break;case 31:c=AttLinker,l={attachment:a==null?void 0:a.att_linker};break;case 33:c=AttMapLocation,l={attachment:a==null?void 0:a.att_map_location};break;case 37:c=AttCreateSpecialResFile,l={attachment:a==null?void 0:a.att_createSpecialResFile};break;case 38:c=AttCloudFolder,l={attachment:a==null?void 0:a.att_cloudFolder,msgid:m};break;case 39:case 40:c=AttCourseClone,l={attachment:a==null?void 0:a.att_course_clone};break;case 41:c=AttMicroCourse,l={attachment:a==null?void 0:a.att_micro_course};break;case 42:case 43:c=AttClockIn,l={attachment:a==null?void 0:a.att_ClockIn};break;case 44:c=AttClassQrcodeInfo,l={attachment:a==null?void 0:a.att_class_qrcode_info};break;case 47:c=AttTopicfolder,l={attachment:a==null?void 0:a.att_topicfolder};break;case 48:c=AttDatafolder,l={attachment:a==null?void 0:a.att_datafolder};break;case 52:c=AttNoticefile,l={attachment:a==null?void 0:a.att_noticefile};break;case 53:default:c=_sfc_main$r;break}return{component:c,props:l}}},copyAtt=a=>{var c;const m=_.cloneDeep(a);if(!m)return a;m!=null&&m.cid||(m.cid=utils.createCid());const n=(c=ATTACHMENT_FILE[m==null?void 0:m.attachmentType])==null?void 0:c.insertNote;if(n){const l="//noteyd.chaoxing.com/attachment/"+n+".html",v=utils.b64EncodeUnicode(JSON.stringify(m)),y=`<br><div class='editor-iframe' contenteditable='false'><iframe frameborder='0' scrolling='no' allowfullscreen='true'  src='${l}' name='${v}' cid='${m.cid}' class='attach-module attach-${n}'  module='${n}'></iframe></div>`;window.RendererHelper.setClipboardByMainProcess(y)}},isHTML=a=>/<span[^>]*class="ns-receive__text"[^>]*>|<div[^>]*class="ns-receive__text"[^>]*>||<span[^>]*class="ns-receive__text_img"[^>]*>|<a[^>]*class="hyper-link"[^>]*>/i.test(a);function processNode(a,m){return Array.from(a.childNodes).forEach(c=>{c.nodeType===Node.TEXT_NODE?m+=c.nodeValue||"":c.nodeType===Node.ELEMENT_NODE&&(c.nodeName==="BR"?m+=`
`:c.nodeName==="IMG"&&(c.alt||"").includes("cxemoji-")?m+=c.outerHTML:m=processNode(c,m))}),m}const getMessageSelections=()=>{var m;const a=window.getSelection();if(a!=null&&a.rangeCount&&(a==null?void 0:a.rangeCount)>0){const c=a.getRangeAt(0).cloneContents();if(c){const l=document.createElement("div");l.appendChild(c);let v="";if(isHTML(l.innerHTML)){const I=document.createElement("div");I.innerHTML='<div class="ns-receive__text" id="divElement"></div>',(m=I.firstChild)==null||m.appendChild(l);const g=I.querySelectorAll("span.ns-receive__text"),P=I.querySelectorAll("div.ns-receive__text"),M=I.querySelectorAll("a.hyper-link"),U=I.querySelectorAll("div.ns-receive__message");let x;M.length>0&&!U.length?x=P:g.length>0?x=g:P.length>0?x=P:x=M,x.forEach((H,L)=>{H.nodeName==="BR"?v+=`
`:v=processNode(H,v),L<x.length-1&&(v+=`
`)}),console.log("HTML:",v)}else console.log(":",l.innerHTML),v=l.innerHTML;const y="html/emoji",T=new RegExp(`<img[^>]*src=["'][^"']*${y}[^"']*["'][^>]*alt="cxemoji-([^"]*)"[^>]*>`,"g");return v=v.replace(T,"$1"),console.log("copyMessage textContent",v),v}}},isCanAttForward=a=>{var m;if(a!=null&&a.att_chat_course){const{type:n,atype:c}=a==null?void 0:a.att_chat_course;return n==4||c==14}else return a!=null&&a.att_web?((m=a==null?void 0:a.att_web)==null?void 0:m.type)!=1:!0};var _a;const isClient=typeof window<"u",isString=a=>typeof a=="string",noop=()=>{};isClient&&((_a=window==null?void 0:window.navigator)!=null&&_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function createFilterWrapper(a,m){function n(...c){a(()=>m.apply(this,c),{fn:m,thisArg:this,args:c})}return n}const bypassFilter=a=>a();function debounceFilter(a,m={}){let n,c;return v=>{const y=unref(a),T=unref(m.maxWait);if(n&&clearTimeout(n),y<=0||T!==void 0&&T<=0)return c&&(clearTimeout(c),c=null),v();T&&!c&&(c=setTimeout(()=>{n&&clearTimeout(n),c=null,v()},T)),n=setTimeout(()=>{c&&clearTimeout(c),c=null,v()},y)}}function pausableFilter(a=bypassFilter){const m=ref(!0);function n(){m.value=!1}function c(){m.value=!0}return{isActive:m,pause:n,resume:c,eventFilter:(...v)=>{m.value&&a(...v)}}}function tryOnScopeDispose(a){return getCurrentScope()?(onScopeDispose(a),!0):!1}function useDebounceFn(a,m=200,n={}){return createFilterWrapper(debounceFilter(m,n),a)}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(a,m)=>{var n={};for(var c in a)__hasOwnProp$6.call(a,c)&&m.indexOf(c)<0&&(n[c]=a[c]);if(a!=null&&__getOwnPropSymbols$6)for(var c of __getOwnPropSymbols$6(a))m.indexOf(c)<0&&__propIsEnum$6.call(a,c)&&(n[c]=a[c]);return n};function watchWithFilter(a,m,n={}){const c=n,{eventFilter:l=bypassFilter}=c,v=__objRest$5(c,["eventFilter"]);return watch(a,createFilterWrapper(l,m),v)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(a,m,n)=>m in a?__defProp$2(a,m,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[m]=n,__spreadValues$2=(a,m)=>{for(var n in m||(m={}))__hasOwnProp$2.call(m,n)&&__defNormalProp$2(a,n,m[n]);if(__getOwnPropSymbols$2)for(var n of __getOwnPropSymbols$2(m))__propIsEnum$2.call(m,n)&&__defNormalProp$2(a,n,m[n]);return a},__spreadProps$2=(a,m)=>__defProps$2(a,__getOwnPropDescs$2(m)),__objRest$1=(a,m)=>{var n={};for(var c in a)__hasOwnProp$2.call(a,c)&&m.indexOf(c)<0&&(n[c]=a[c]);if(a!=null&&__getOwnPropSymbols$2)for(var c of __getOwnPropSymbols$2(a))m.indexOf(c)<0&&__propIsEnum$2.call(a,c)&&(n[c]=a[c]);return n};function watchPausable(a,m,n={}){const c=n,{eventFilter:l}=c,v=__objRest$1(c,["eventFilter"]),{eventFilter:y,pause:T,resume:I,isActive:g}=pausableFilter(l);return{stop:watchWithFilter(a,m,__spreadProps$2(__spreadValues$2({},v),{eventFilter:y})),pause:T,resume:I,isActive:g}}function unrefElement(a){var m;const n=unref(a);return(m=n==null?void 0:n.$el)!=null?m:n}const defaultWindow=isClient?window:void 0;function useEventListener(...a){let m,n,c,l;if(isString(a[0])?([n,c,l]=a,m=defaultWindow):[m,n,c,l]=a,!m)return noop;let v=noop;const y=watch(()=>unrefElement(m),I=>{v(),I&&(I.addEventListener(n,c,l),v=()=>{I.removeEventListener(n,c,l),v=noop})},{immediate:!0,flush:"post"}),T=()=>{y(),v()};return tryOnScopeDispose(T),T}function onClickOutside(a,m,n={}){const{window:c=defaultWindow,ignore:l,capture:v=!0,detectIframe:y=!1}=n;if(!c)return;const T=ref(!0);let I;const g=U=>{c.clearTimeout(I);const x=unrefElement(a),H=U.composedPath();!x||x===U.target||H.includes(x)||!T.value||l&&l.length>0&&l.some(L=>{const W=unrefElement(L);return W&&(U.target===W||H.includes(W))})||m(U)},P=[useEventListener(c,"click",g,{passive:!0,capture:v}),useEventListener(c,"pointerdown",U=>{const x=unrefElement(a);T.value=!!x&&!U.composedPath().includes(x)},{passive:!0}),useEventListener(c,"pointerup",U=>{if(U.button===0){const x=U.composedPath();U.composedPath=()=>x,I=c.setTimeout(()=>g(U),50)}},{passive:!0}),y&&useEventListener(c,"blur",U=>{var x;const H=unrefElement(a);((x=document.activeElement)==null?void 0:x.tagName)==="IFRAME"&&!(H!=null&&H.contains(document.activeElement))&&m(U)})].filter(Boolean);return()=>P.forEach(U=>U())}const createKeyPredicate=a=>typeof a=="function"?a:typeof a=="string"?m=>m.key===a:Array.isArray(a)?m=>a.includes(m.key):a?()=>!0:()=>!1;function onKeyStroke(a,m,n={}){const{target:c=defaultWindow,eventName:l="keydown",passive:v=!1}=n,y=createKeyPredicate(a);return useEventListener(c,l,I=>{y(I)&&m(I)},v)}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(a,m){return handlers[a]||m}function guessSerializerType(a){return a==null?"any":a instanceof Set?"set":a instanceof Map?"map":a instanceof Date?"date":typeof a=="boolean"?"boolean":typeof a=="string"?"string":typeof a=="object"||Array.isArray(a)?"object":Number.isNaN(a)?"any":"number"}const StorageSerializers={boolean:{read:a=>a==="true",write:a=>String(a)},object:{read:a=>JSON.parse(a),write:a=>JSON.stringify(a)},number:{read:a=>Number.parseFloat(a),write:a=>String(a)},any:{read:a=>a,write:a=>String(a)},string:{read:a=>a,write:a=>String(a)},map:{read:a=>new Map(JSON.parse(a)),write:a=>JSON.stringify(Array.from(a.entries()))},set:{read:a=>new Set(JSON.parse(a)),write:a=>JSON.stringify(Array.from(a))},date:{read:a=>new Date(a),write:a=>a.toISOString()}};function useStorage(a,m,n,c={}){var l;const{flush:v="pre",deep:y=!0,listenToStorageChanges:T=!0,writeDefaults:I=!0,shallow:g,window:P=defaultWindow,eventFilter:M,onError:U=q=>{console.error(q)}}=c,x=(g?shallowRef:ref)(m);if(!n)try{n=getSSRHandler("getDefaultStorage",()=>{var q;return(q=defaultWindow)==null?void 0:q.localStorage})()}catch(q){U(q)}if(!n)return x;const H=unref(m),L=guessSerializerType(H),W=(l=c.serializer)!=null?l:StorageSerializers[L],{pause:F,resume:w}=watchPausable(x,()=>G(x.value),{flush:v,deep:y,eventFilter:M});return P&&T&&useEventListener(P,"storage",re),re(),x;function G(q){try{q==null?n.removeItem(a):n.setItem(a,W.write(q))}catch(X){U(X)}}function S(q){if(!(q&&q.key!==a)){F();try{const X=q?q.newValue:n.getItem(a);return X==null?(I&&H!==null&&n.setItem(a,W.write(H)),H):typeof X!="string"?X:W.read(X)}catch(X){U(X)}finally{w()}}}function re(q){q&&q.key!==a||(x.value=S(q))}}var __getOwnPropSymbols$e=Object.getOwnPropertySymbols,__hasOwnProp$e=Object.prototype.hasOwnProperty,__propIsEnum$e=Object.prototype.propertyIsEnumerable,__objRest$2=(a,m)=>{var n={};for(var c in a)__hasOwnProp$e.call(a,c)&&m.indexOf(c)<0&&(n[c]=a[c]);if(a!=null&&__getOwnPropSymbols$e)for(var c of __getOwnPropSymbols$e(a))m.indexOf(c)<0&&__propIsEnum$e.call(a,c)&&(n[c]=a[c]);return n};function useResizeObserver(a,m,n={}){const c=n,{window:l=defaultWindow}=c,v=__objRest$2(c,["window"]);let y;const T=l&&"ResizeObserver"in l,I=()=>{y&&(y.disconnect(),y=void 0)},g=watch(()=>unrefElement(a),M=>{I(),T&&l&&M&&(y=new ResizeObserver(m),y.observe(M,v))},{immediate:!0,flush:"post"}),P=()=>{I(),g()};return tryOnScopeDispose(P),{isSupported:T,stop:P}}function useElementSize(a,m={width:0,height:0},n={}){const c=ref(m.width),l=ref(m.height);return useResizeObserver(a,([v])=>{c.value=v.contentRect.width,l.value=v.contentRect.height},n),watch(()=>unrefElement(a),v=>{c.value=v?m.width:0,l.value=v?m.height:0}),{width:c,height:l}}function useLocalStorage(a,m,n={}){const{window:c=defaultWindow}=n;return useStorage(a,m,c==null?void 0:c.localStorage,n)}var SwipeDirection;(function(a){a.UP="UP",a.RIGHT="RIGHT",a.DOWN="DOWN",a.LEFT="LEFT",a.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));function useVirtualList(a,m){const n=ref(),c=useElementSize(n),l=ref([]),v=shallowRef(a),y=ref({start:0,end:10}),{itemHeight:T,overscan:I=5}=m,g=w=>{if(typeof T=="number")return Math.ceil(w/T);const{start:G=0}=y.value;let S=0,re=0;for(let q=G;q<v.value.length;q++){const X=T(q);if(S+=X,S>=w){re=q;break}}return re-G},P=w=>{if(typeof T=="number")return Math.floor(w/T)+1;let G=0,S=0;for(let re=0;re<v.value.length;re++){const q=T(re);if(G+=q,G>=w){S=re;break}}return S+1},M=()=>{const w=n.value;if(w){const G=P(w.scrollTop),S=g(w.clientHeight),re=G-I,q=G+S+I;y.value={start:re<0?0:re,end:q>v.value.length?v.value.length:q},l.value=v.value.slice(y.value.start,y.value.end).map((X,Q)=>({data:X,index:Q+y.value.start}))}};watch([c.width,c.height,a],()=>{M()});const U=computed(()=>typeof T=="number"?v.value.length*T:v.value.reduce((w,G,S)=>w+T(S),0)),x=w=>typeof T=="number"?w*T:v.value.slice(0,w).reduce((S,re,q)=>S+T(q),0),H=w=>{n.value&&(n.value.scrollTop=x(w),M())},L=computed(()=>x(y.value.start)),W=computed(()=>({style:{width:"100%",height:`${U.value-L.value}px`,marginTop:`${L.value}px`}}));return{list:l,scrollTo:H,containerProps:{ref:n,onScroll:()=>{M()},style:{overflowY:"auto"}},wrapperProps:W}}const t=i18n.global.t,state=()=>({loginId:"",hxToken:"",autoReconnectNumMax:5,showConnectErrorBox:!0,resetNetStatusCount:0,puid:"",selfUserInfo:{},chatTargetId:0,inboxUnreadCount:0,replyConversation:{},groupConversation:{},verifyConversation:{},cxofficialConversation:{conversationKey:AffixConversationType.CXOFFICIAL,isTop:0,latestSendTime:new Date().getTime(),topTime:0,unreadMessageNum:0,subtitle:"",logo:""},subscribesConversations:[],historySearch:[],addUserHistorySearch:[],initIsReady:!1,sqlReady:!1,conversationList:{},messageList:{},newMsgCounter:0,connectOrNot:!0,fanList:[],dragFileInConversation:null,conversationToMessageCount:0,messageToConversationCount:0,isDragChangeMessage:!0,isAIMessage:!1,messageReminder:!0,isEnterContact:!1,curChatIdInBackend:"",isEnterNotice:!1,lockUpdateConversation:!1,msgFolderList:[],msgFolderConversations:[],searchFolderInfo:null,hasCxOfficial:!1,cxofficialUrl:"https://appswh.chaoxing.com/app/subscribe/chaoxing",subscribesUrl:"",isMultipleEdit:!1,showFolderId:"0",singleReplyInfo:null,locakMsgAck:[],topConversation:[],isContactDbLoaded:!1,willToMessageId:"",recallCmdMap:new Map,unreadCountMap:new Map,unreadReminderPermission:{},inboxReceivingTime:0,robotMessageMap:new Map,isTrayFlashing:!1}),MessageAppStore=defineStore("message",{state,getters:{getIsContactDbLoaded(){return this.isContactDbLoaded},getTopConversation(){return this.topConversation},getLocakMsgAck(){return this.locakMsgAck},getMsgFolderList(){return this.msgFolderList},getMsgFolderConversations(){return this.msgFolderConversations},getIsEnterContact(){return this.isEnterContact},getIsEnterNotice(){return this.isEnterNotice},getMessageReminder(){return this.messageReminder},getIsAIMessage(){return this.isAIMessage},getIsDragChangeMessage(){return this.isDragChangeMessage},getResetNetStatusCount(){return this.resetNetStatusCount},getShowConnectErrorBox(){return this.showConnectErrorBox},getConversationToMessageCount(){return this.conversationToMessageCount},getMessageToConversationCount(){return this.messageToConversationCount},getConnectType(){return this.connectOrNot},conversationListData(){return _.cloneDeep(this.conversationList)},getHistorySearch(){return this.historySearch},getAddUserHistorySearch(){return this.addUserHistorySearch},getUserInfo(){return{loginId:this.loginId,puid:this.puid}},getCurrentChatId(){return this.chatTargetId},getMessageList(){return this.messageList},getInboxUnreadCount(){return this.inboxUnreadCount},getReplyMeCount(){var a;return((a=this.replyConversation)==null?void 0:a.unreadMessageNum)||0},getReplyConversation(){return this.replyConversation},getGroupInviteCount(){var a;return((a=this.groupConversation)==null?void 0:a.unreadMessageNum)||0},getVerifyMsgCount(){var a;return((a=this.verifyConversation)==null?void 0:a.unreadMessageNum)||0},getCxofficialMsgCount(){var a;return((a=this.cxofficialConversation)==null?void 0:a.unreadMessageNum)||0},getGroupConversation(){return this.groupConversation},getVerifyConversation(){return this.verifyConversation},getCxofficialConversation(){return this.cxofficialConversation},getFanList(){return this.fanList},getSelfUserInfoDetail(){return this.selfUserInfo},getCurChatIdInBackend(){return this.curChatIdInBackend},getSubscribesConversations(){return this.subscribesConversations},getCurrentConversation(){return this.conversationList[this.chatTargetId]},getTargetPuid(){var a;return((a=this.getCurrentConversation)==null?void 0:a.puid)??""},getCurrentMessageList(){return this.messageList[this.chatTargetId]??[]},hasUnreadReminderPermission(){return this.unreadReminderPermission!=null&&computeUnreadReminderPermission(this.unreadReminderPermission)}},actions:{initSelfUserInfoDetail(a){this.selfUserInfo=a,this.puid=(a==null?void 0:a.puid)||this.puid,this.loginId=(a==null?void 0:a.uid)||this.loginId},initFanList(a){this.fanList=a},initUserInfo(a){this.loginId=a.tuid,this.hxToken=a.hxToken,this.puid=a.puid,initLoginId(a.tuid)},initSql(){this.sqlReady=!0},setCurChatIdInBackend(a){this.curChatIdInBackend=a,console.log("",this.curChatIdInBackend)},setIsEnterContact(a){this.isEnterContact=a},setIsEnterNotice(a){this.isEnterNotice=a},setMessageReminder(a){this.messageReminder=a},setIsAIMessage(a){this.isAIMessage=a},setIsDragChangeMessage(a){this.isDragChangeMessage=a},setResetNetStatusCount(){this.resetNetStatusCount++},setShowConnectErrorBox(a){this.showConnectErrorBox=a},setConversationToMessageCount(){this.conversationToMessageCount++},setMessageToConversationCount(){this.messageToConversationCount++},setChatTargetId(a){this.chatTargetId=a,this.loginId&&sessionStorage.setItem(`chatTargetId_${this.loginId}`,String(a))},setDragFile(a){this.dragFileInConversation=a},setInboxUnreadCount(a){this.inboxUnreadCount=a},setReplyMeCount(a){this.replyConversation.unreadMessageNum=Math.min(a,1)},setGroupInviteCount(a){this.groupConversation.unreadMessageNum=a},setVerifyMsgCount(a){this.verifyConversation.unreadMessageNum=a},setCxofficialMsgCount(a){this.cxofficialConversation.unreadMessageNum=a},setSubscribesConversations(a){this.subscribesConversations=a},setReplyMeTime(a){this.replyConversation.latestSendTime=a},setGroupInviteTime(a){this.groupConversation.latestSendTime=a},setVerifyMsgTime(a){this.verifyConversation.latestSendTime=a},setCxofficialMsgTime(a){this.cxofficialConversation.latestSendTime=a},setCxOfficialUrl(a){this.cxofficialUrl=a||this.cxofficialUrl},setSubscribesUrl(a){this.subscribesUrl=a||this.subscribesUrl},setCxOfficialStatus(a){this.hasCxOfficial=a},setCxOfficialTitle(a){this.cxofficialConversation.subtitle=a},setCxOfficialLogo(a){this.cxofficialConversation.logo=a||""},setMultipleEditStatus(a){this.isMultipleEdit=a},setShowFolderId(a){this.showFolderId=a},setSingleReplyInfo(a){this.singleReplyInfo=a},initMsgFolderConversation(a){this.msgFolderList=a.folderList||[],this.msgFolderConversations=a.conversations||[]},setMsgFolderList(a){this.msgFolderList=a||[]},setSearchFolderInfo(a){this.searchFolderInfo=a},clearHistory(){this.historySearch=[]},clearAddUserHistory(){this.addUserHistorySearch=[]},async initConversationList(a){a&&(this.historySearch=useLocalStorage(`EASEIM_${a}_search_hisory`,[]),this.addUserHistorySearch=useLocalStorage(`AddUser_${a}_search_hisory`,[]),this.replyConversation=useLocalStorage(`EASEIM_${a}_reply`,{conversationKey:AffixConversationType.REPLY,isTop:0,latestSendTime:new Date().getTime(),topTime:0,unreadMessageNum:0}),this.groupConversation=useLocalStorage(`EASEIM_${a}_group`,{conversationKey:AffixConversationType.GROUP,isTop:0,latestSendTime:new Date().getTime(),topTime:0,unreadMessageNum:0}),this.verifyConversation=useLocalStorage(`EASEIM_${a}_verify`,{conversationKey:AffixConversationType.VERIFY,isTop:0,latestSendTime:new Date().getTime(),topTime:0,unreadMessageNum:0})),await this.queryOldTopdata(),setTimeout(async()=>{await this.queryNewTopdataIsNoSync()},10),await this.refreshConversation(),this.initIsReady=!0},async refreshConversation(a={}){const{isQueueCallback:m=!1}=a;let n={};try{let c=await window.MessageDbHelper.queryConversationData();if(c.success&&(console.log(`[refreshConversation] chatList is ${c.rows.map(v=>v.conversationKey+": "+v.name).join("; ")}`),c.rows.forEach(v=>{var y;n[v.conversationKey]={puid:v.puid,atMsgCounter:(v==null?void 0:v.atMsgCounter)||0,isRemind:!!v.isRemind,isReply:!!v.isReply,isCare:!!v.isCare,isNewNotice:!!v.isNewNotice,clazzName:v.clazzName||"",isTop:v.isTop?v.isTop:0,ext:safetyParseJson(v.ext),conversationType:v.conversationType,conversationKey:v.conversationKey,conversationInfo:{name:v.name||"",avatarUrl:((y=v==null?void 0:v.avatarUrl)==null?void 0:y.split(","))||["default"]},fromInfo:{fromId:v.fromId,fromName:v.fromName},targetId:v.targetId,unreadMessageNum:Math.max(0,v.unreadMessageNum),realUnreadMessageNum:Math.max(0,v.unreadMessageNum),latestMessage:{msg:v.latestMessage,type:v.latestMessageType,state:(v==null?void 0:v.latestMessageSendType)||"success"},latestMessageId:v.latestMessageId,latestSendTime:v.latestSendTime,draft:v.draft,draftTime:v.draftTime?v.draftTime:0,topTime:v.topTime?v.topTime:0,isNoDisturb:!!v.isNoDisturb,isSilent:!!v.isSilent,origin:v.origin?v.origin:""}})),this.conversationList=n,m&&this.unreadCountMap.size){console.log("[refreshConversation] unreadCountMap size:",this.unreadCountMap.size);let v=[];this.unreadCountMap.forEach((y,T)=>{v.push(this.handleSyncDotFromCache({conversationKey:T,timestamp:y.timestamp,messageIdInExt:y.messageId}))}),await Promise.all(v)}const l=await window.RendererHelper.getUserStore("updateConversationVersion");if(console.log("",l),!this.lockUpdateConversation&&!l){this.lockUpdateConversation=!0;const y=_.values(n).filter(I=>I.conversationType==ChatType.SINGLE).map(I=>String(I.conversationKey)),T=await window.RendererHelper.getUsersByTuids(y.join(","));if(T){let I={};T.forEach(g=>{g.uid&&g.puid&&(I[String(g.uid)]=String(g.puid),this.conversationList[g.uid]&&(this.conversationList[g.uid].puid=String(g.puid)))}),await window.MessageDbHelper.batchUpdateSinglePuid(I),window.RendererHelper.setUserStore("updateConversationVersion",1),console.log("puid",I),this.lockUpdateConversation=!1}}}catch(c){this.lockUpdateConversation=!1,console.error(c)}},async gatherConversation(a,m){var T,I,g;const{updateStore:n=!0,otherRecall:c=!1,isActive:l=!1,data:v={},mid:y=""}=m||{};if(l){const P=createActiveConversation(a,v,this.conversationList);return await this.updateConversationList(P,a,n),P}else{let P=[];if(y){const M=await window.MessageDbHelper.queryOneMessageById(y);if(M.success){const U={...JSON.parse(M.data.msgbody),...lodashExports.pick(M.data,["isread","isplay","unreadCount"])};P.push(U)}else{const U=await window.MessageDbHelper.queryLastMessageNotInviteTip(a);U.success&&P.push(U.data)}}else{const M=await window.MessageDbHelper.queryLastMessageNotInviteTip(a);M.success&&P.push(M.data)}if((P==null?void 0:P.length)>0){const M=await createConversation(P,this.conversationList,(T=this.chatTargetId)==null?void 0:T.toString(),c,this.fanList,this.curChatIdInBackend);return await this.updateConversationList(M,a,n),M}else if(((I=this.conversationList[a])==null?void 0:I.conversationType)==ChatType.SINGLE)this.chatTargetId==a&&(this.chatTargetId=0,router.push("/message/msgcover")),await this.deleteConversationItem(a);else if(((g=this.conversationList[a])==null?void 0:g.conversationType)==ChatType.GROUP){this.conversationList[a].latestMessage={msg:"",type:MessageType.TEXT,state:"success"},this.conversationList[a].isCare=!1,this.conversationList[a].isNewNotice=!1,this.conversationList[a].isNoDisturb=!1,this.conversationList[a].isSilent=!1,this.conversationList[a].isRemind=!1,this.conversationList[a].isReply=!1,this.conversationList[a].unreadMessageNum=Math.max(0,this.conversationList[a].unreadMessageNum-1),this.conversationList[a].realUnreadMessageNum=this.conversationList[a].unreadMessageNum;let M=_.cloneDeep(this.conversationList[a]);M.ext=JSON.stringify(M.ext),M.latestMessage="",console.log("",M),await window.MessageDbHelper.insertOrUpdateConversation(M)}else this.chatTargetId==a&&(this.chatTargetId=0,router.push("/message/msgcover")),await this.deleteConversationItem(a)}},async deleteConversationItem(a,m=!1){try{await window.MessageDbHelper.deleteConversationItem(a,m),delete this.conversationList[a],delete this.messageList[a]}catch(n){console.error(n)}},async destroyGroup(a){try{await window.MessageDbHelper.destroyGroup(a),this.conversationList[a]&&delete this.conversationList[a],this.messageList[a]&&delete this.messageList[a]}catch(m){console.log(m)}},async updateConversationList(a,m,n){let c=a[m];if(n){console.log("[store/message.ts] call updateConversationList");const v=sortConversation(_.assign(_.cloneDeep(this.conversationList),a));this.conversationList=v}else this.conversationList[m]&&(this.conversationList[m].realUnreadMessageNum=c.realUnreadMessageNum);let l={...c,unreadMessageNum:c.realUnreadMessageNum,fromId:c.fromInfo.fromId,latestMessageType:c.latestMessage.type,fromName:c.fromInfo.fromName,latestMessage:c.latestMessage.msg,latestMessageSendType:c.latestMessage.state,avatarUrl:c.conversationInfo.avatarUrl,name:c.conversationInfo.name,ext:JSON.stringify(c.ext),atMsgCounter:c.atMsgCounter,isRemind:c.isRemind,isReply:c.isReply,isCare:c.isCare,isNewNotice:c.isNewNotice,isNoDisturb:c.isNoDisturb,isSilent:c.isSilent,draft:c.draft};try{const v=await window.MessageDbHelper.insertOrUpdateConversation(_.cloneDeep(l));v!=null&&v.success?console.log("[updateConversationList] insertOrUpdateConversation success!"):console.log("[updateConversationList] insertOrUpdateConversation fail!")}catch(v){console.error(v)}},async updateConversationAvator(a,m){let n,c;if(Array.isArray(m)?(n=m,c=m.join(",")):(n=[m],c=m),this.conversationList[a]){this.conversationList[a].conversationInfo.avatarUrl=n;try{await window.MessageDbHelper.updateConversationAvator(a,c)}catch(l){console.log(l)}}},async updateSingleConversationPuid(a,m){if(this.conversationList[a]){this.conversationList[a].puid=m;try{await window.MessageDbHelper.updateSinglePuid(a,m)}catch(n){console.log(n)}}},async updateConversationName(a,m){if(this.conversationList[a]){this.conversationList[a].conversationInfo.name=m;try{this.updateConversationDataInDb(a,{name:m})}catch(n){console.log(n)}}},async getConversationDataIsRead(a){if(this.conversationList[a])try{const m=await window.MessageDbHelper.queryGroupIsReadAll(a);return console.log("",m),m.success?m.rows:void 0}catch(m){console.log(m);return}},async updateConversationDataInDb(a,m){if(this.conversationList[a])try{await window.MessageDbHelper.updateConversationData(a,m)}catch(n){console.log(n)}},updateConversationDataInMem(a,m){this.conversationList[a]&&(this.conversationList[a]={...this.conversationList[a],...m})},setLocalMsgAck(a){this.locakMsgAck=a},addLocalMsgAck(a){this.locakMsgAck.push(a),window.MessageDbHelper.insertMessageAck(a)},deleteLocalMsgAck(a,m){this.locakMsgAck=this.locakMsgAck.filter(n=>!(n.msgid==a&&n.acktype==m)),window.MessageDbHelper.deleteSingleAck(a,m).then(n=>{n!=null&&n.success&&console.log(""+(m==1?"":"")+"ack",a)})},async syncReadMsgCount(a){console.log("[store/message/syncReadMsgCount] call");const{conversationId:m,timestamp:n,messageId:c}=a;if(!n)return console.log("[store/message/syncReadMsgCount] timestamp is empty!"),!1;try{if(this.conversationList[m]&&n){const l=await window.MessageDbHelper.updateMessageSelfReadByTime(m,a.timestamp);if(l.success)return this.conversationList[m].unreadMessageNum=l.unReadNum,this.conversationList[m].realUnreadMessageNum=l.unReadNum,l.unReadNum==0?(this.clearAtStatus(m),this.clearReplyStatus(m),this.clearIsCareStatus(m)):console.log("[store/message/syncReadMsgCount] unReadNum",l==null?void 0:l.unReadNum),!0;console.log("[store/message/syncReadMsgCount] updateMessageSelfReadByTime failed!")}else{console.log("[store/message/syncReadMsgCount] not found conversation in memory! id:",a==null?void 0:a.conversationId);const l={timestamp:n,createTime:Date.now(),messageId:c};this.unreadCountMap.set(m,l)}}catch(l){console.log(l)}return!1},async handleSyncDotFromCache(a){const{conversationKey:m,timestamp:n,messageIdInExt:c}=a,l=this.conversationList[m];if(!l){console.log("[store/message/handleSyncDotFromCache] not found conversation in memory! id:",m);return}try{const v=await window.MessageDbHelper.updateMessageSelfReadByTime(m,n);v.success?(l.unreadMessageNum=v.unReadNum,l.realUnreadMessageNum=v.unReadNum,v.unReadNum==0&&(this.clearAtStatus(m),this.clearReplyStatus(m),this.clearIsCareStatus(m)),this.unreadCountMap.delete(m),this.deleteLocalMsgAck(c,LocalAckType.CMD_READ_ACK)):console.log("[store/message/handleSyncDotFromCache] updateMessageSelfReadByTime failed!")}catch(v){console.error(v)}},async updateMsgFolderInfo(a,m){for(let n of this.msgFolderList)if((n==null?void 0:n.id)==a){Object.assign(n,m);break}try{await window.MessageDbHelper.updateMsgFolder(a,m)}catch(n){console.error(n)}},async deleteMsgFolderInfo(a){this.msgFolderList=this.msgFolderList.filter(m=>m.id!=a),this.msgFolderConversations=this.msgFolderConversations.filter(m=>m.folderId!=a);try{await window.MessageDbHelper.deleteMsgFolder(a),await window.MessageDbHelper.deleteFolderConversation(a)}catch(m){console.error(m)}},async moveToSingleFolder(a){try{a.folderId=="0"?(this.msgFolderConversations=this.msgFolderConversations.filter(m=>m.msgId!=a.msgId),await window.MessageDbHelper.deleteSingleFolderConversation(a.msgId)):(this.msgFolderConversations=this.msgFolderConversations.filter(m=>m.msgId!=a.msgId),this.msgFolderConversations.push(a),await window.MessageDbHelper.insertSingleFolderConversation(a))}catch(m){console.error(m)}},async updateReplyConversationTop(a,m){const n=a?new Date().getTime():0,c=a?1:2;await this.updateTop(m,4,c,n)},async updateGroupConversationTop(a,m){const n=a?new Date().getTime():0,c=a?1:2;await this.updateTop(m,4,c,n)},async updateVerifyConversationTop(a,m){const n=a?new Date().getTime():0,c=a?1:2;await this.updateTop(m,4,c,n)},async updateCxofficialConversationTop(a,m){const n=a?new Date().getTime():0,c=a?1:2;await this.updateTop(m,4,c,n)},async updateConversationFolderTop(a,m){const n=m?new Date().getTime():0;for(let l of this.msgFolderList)if((l==null?void 0:l.id)==a){Object.assign(l,{isTop:m});break}const c=m?1:2;await this.updateTop(a,3,c,n)},async updateConversationTop(a,m,n){const c=m?new Date().getTime():0;this.conversationList[a].isTop=m,this.conversationList[a].topTime=c;const l=m?1:2;await this.updateTop(a,n,l,c)},deleteStoreMsg(a){this.messageList[a]&&delete this.messageList[a]},clearAtStatus(a){this.conversationList[a].isRemind=!1;try{window.MessageDbHelper.updateAtStatus(a,!1)}catch(m){console.error(m)}},clearReplyStatus(a){this.conversationList[a].isReply=!1;try{window.MessageDbHelper.updateReplyStatus(a,!1)}catch(m){console.error(m)}},clearIsCareStatus(a){this.conversationList[a].isCare=!1;try{window.MessageDbHelper.updateCareStatus(a,!1)}catch(m){console.error(m)}},clearIsNewNoticeStatus(a){this.conversationList[a].isNewNotice=!1;try{window.MessageDbHelper.updateNewNoticeStatus(a,!1)}catch(m){console.error(m)}},updateClazzName(a,m){this.conversationList[a].clazzName=m;try{window.MessageDbHelper.updateClazzName(a,m)}catch(n){console.error(n)}},updateDisturb(a,m){this.conversationList[a]&&(this.conversationList[a].isNoDisturb=m);try{window.MessageDbHelper.updateDisturb(a,m)}catch(n){console.error(n)}},updateDraft(a,m,n){this.conversationList[a]&&(this.conversationList[a].draft=m,this.conversationList[a].draftTime=n);try{window.MessageDbHelper.updateConversationDraft(a,m,n)}catch(c){console.error(c)}},updateRealUnreadNum(a){this.conversationList[a].unreadMessageNum=0,this.conversationList[a].realUnreadMessageNum=0;try{window.MessageDbHelper.updateUnreadNum(a,0)}catch(m){console.error(m)}},async clearUnreadNum(a){console.log(`[clearUnreadNum][key=${a}]`),this.conversationList[a].unreadMessageNum=0,this.conversationList[a].realUnreadMessageNum=0;try{await window.MessageDbHelper.updateUnreadNum(a,0)}catch(m){console.error(m)}},updateUnreadNum(a,m){this.conversationList[a].unreadMessageNum=m,this.conversationList[a].realUnreadMessageNum=m;try{window.MessageDbHelper.updateUnreadNum(a,m)}catch(n){console.error(n)}},async updateAudioPlayStatus(a,m){if(this.messageList[a]){const n=_.find(this.messageList[a],c=>c.id===m);n&&(n.isplay=1)}try{(await window.MessageDbHelper.updateAudioPlayStatus(a,m)).success&&console.log("")}catch(n){console.error(n)}},async updateSelfReadStatus(a,m=!0,n=""){if(m)this.messageList[a]&&this.messageList[a].forEach(c=>{c.isread=1});else if(this.messageList[a]){const c=_.find(this.messageList[a],l=>l.id===n);c&&(c.isread=1)}try{(await window.MessageDbHelper.updateMessageSelfRead(a,m,n)).success&&console.log("")}catch(c){console.error(c)}},async updateSingleMessageChannelStatus(a,m){if(this.messageList[a])for(const n of this.messageList[a])n.type!=MessageType.AUDIO&&n.time<=m&&n.time>utils.getSevenDaysAgo()&&isSendSuccessMessage(n.sendType)&&n.unreadCount!==0&&(n.unreadCount=0,console.log("[store/message.ts][updateSingleMessageChannelStatus] update message id:",n.id));else console.error("[store/message.ts][updateSingleMessageChannelStatus] messageList not found in memory!");try{(await window.MessageDbHelper.updateMessageOthterRead(a,!0,"",null,m)).success?console.log(""):console.error("[MessageDbHelper/updateMessageOthterRead] error")}catch(n){console.error(n)}},async updateSingleMessageStatus(a,m){try{if(await this.updateMessageStatus(a,!1,m),(await window.MessageDbHelper.updateSingleMessageOthterRead(a,m)).success&&this.messageList[a]){const c=_.find(this.messageList[a],l=>l.id==m);c&&this.messageList[a].forEach(l=>{l.time&&c.time&&l.time<=c.time&&l.time>utils.getSevenDaysAgo()&&l.type!=MessageType.AUDIO&&(l.unreadCount=0)})}}catch(n){console.error(n)}},async updateMessageStatus(a,m=!0,n="",c=null){if(m)this.messageList[a]&&this.messageList[a].forEach(l=>{l.type!=MessageType.AUDIO&&(l.unreadCount=0)});else if(this.messageList[a]){const l=_.find(this.messageList[a],v=>v.id===n);l&&(l.time>utils.getSevenDaysAgo()&&l.chatType=="singleChat"||l.chatType=="groupChat")&&(l.unreadCount=l.unreadCount&&l.unreadCount-1>=0?l.unreadCount-1:0,c&&(l.ext.readList&&l.ext.readList.length?l.ext.readList.push(c):l.ext.readList=[c]))}try{const l=await window.MessageDbHelper.updateMessageOthterRead(a,m,n,c);if(l.success&&(console.debug("",l),l.readList)){const v=_.find(this.messageList[a],y=>y.id===n);v&&(v.ext.readList=l.readList)}}catch(l){console.error(l)}},async createNewMessage(a){const m=setMessageKey(a,this.loginId);console.log("[message.ts][createNewMessage]",JSON.stringify(a)),a.from==this.loginId?(a.type===MessageType.IMAGE&&await window.MainWindowHelper.cacheMessageImage(a.url),a.from==a.to&&this.updateMsgValue({conversationKey:m,messageId:a.id,message:{imUrl:a.url,thumb:a.thumb}})):checkConversationOrigin(a),a.from==AffixConversationType.CXAI&&(a.msg=a.ext.cxai.choices[0].message.content,this.updateAllMessageRead(a.from)),await this.updateMessageList(a),await this.gatherConversation(m,{updateStore:a.onlineState===1})},async updateAllMessageRead(a){try{(await window.MessageDbHelper.updateAllMessageRead(a)).success&&this.messageList[a]&&this.messageList[a].forEach(n=>{n.type!=MessageType.AUDIO&&!["sending","upload","failed"].includes((n==null?void 0:n.sendType)??"")&&n.time>utils.getSevenDaysAgo()&&(n.unreadCount=0)})}catch(m){console.error(m)}},async addNewTips(a){const m=_.assign({},this.messageList),n=setMessageKey(a,this.loginId);if(!m[n])m[n]=[],m[n].push(a);else{if(m[n].some(l=>l.id==a.id))return;m[n].push(a),m[n]=_.uniqBy(m[n],"id")}this.messageList=m;let c={isSelf:a.from==this.loginId,msgid:a.id,time:a.time,conversationKey:n,msg:a.msg,isread:1,isplay:0,msgtype:a.type,senduid:a.from,msgbody:JSONbigString.stringify(a)};await window.MessageDbHelper.insertMessage(c)},async createNewTips(a){const{msg:m,from:n,timeStamp:c,chatType:l,to:v,ext:y,onlineState:T=1}=a,I={chatType:l,ext:{fromPuid:"-1",...y||{}},from:"-1",id:`-1${c}`,msg:m,onlineState:T,time:c,to:v,type:"tips"};await this.addNewTips(I)},async updateMessageGroupAnnounce(a,m){var n;if(this.chatTargetId==m){for(let c of this.messageList[m])if(((n=c.ext)==null?void 0:n.announceId)==a.ext.announceId){c.ext={...c.ext,...a.ext},a.ext.opType&&(c.ext.attachment.att_web.opType="delete");break}}await window.MessageDbHelper.updateMessageGroupAnnounceExt(m,a.ext)},async updateMessageList(a){a.isread=a.from==this.loginId?1:0,a.isplay=0;const m=_.assign({},this.messageList),n=setMessageKey(a,this.loginId);if(!m[n])m[n]=[],m[n].push(a);else{if(m[n].some(c=>c.id==a.id))return;m[n].push(a),m[n]=_.unionBy(m[n],"id")}this.messageList=m;try{let c={isSelf:a.from==this.loginId,msgid:a.id,time:a.time,conversationKey:n,msg:a.msg,isread:a.isread,isplay:a.isplay,msgtype:a.type,senduid:a.from,msgbody:JSONbigString.stringify(a)};const l=await window.MessageDbHelper.insertMessage(c);if(l.success){const v=_.find(this.messageList[n],y=>y.id===a.id);v&&(v.unreadCount=l.unreadCount,v.ext.groupMemberList=l.groupMemberList||[])}}catch(c){console.error(c)}},async batchInsertMsg(a,m){var n;try{let c=[],l=[];for(const y of m){if(y.from==this.loginId)if(y.chatType=="groupChat")if(((n=y==null?void 0:y.ext)==null?void 0:n.showRead)==1){if(!l.length){const T=await window.MessageDbHelper.queryGroupMembers(a);l=T.success?T.rows:[]}y.unreadCount=Math.max(l.length-1,0),y.ext.groupMemberList=_.uniqBy(l,"uid").map(T=>T.uid)}else y.unreadCount=0;else y.unreadCount=1;else y.unreadCount=0;c.push({msgid:y.id,time:y.time,conversationKey:a,msg:y.msg,isread:y.isread,isplay:y.isplay,msgtype:y.type,senduid:y.from,unreadCount:y.unreadCount,msgbody:JSONbigString.stringify(y)})}await window.MessageDbHelper.batchInsertMessage(c);const v=_.assign({},this.messageList);v[a]?(v[a].push(...m),v[a]=_.sortBy(_.unionBy(v[a],"id"),y=>y.time)):(v[a]=[],v[a].push(...m)),this.messageList=v}catch(c){console.error(c)}},getLastMessage(a){return window.MessageDbHelper.queryLastMessage(a)},getLastNotAudioMessage(a){return window.MessageDbHelper.queryLastNotAudioMessage(a)},async getOneMessageById(a){try{const m=await window.MessageDbHelper.queryOneMessageById(a);return m.success?m.data:void 0}catch(m){console.log(m);return}},getHistoryMessage(a,m=20,n="prev",c=!1,l){return new Promise(async(v,y)=>{if(a){const T={conversationKey:a,pageSize:m,lastValue:l,queryType:n};try{const I=await window.MainWindowHelper.loadDownloadList();window.MessageDbHelper.getHistoryMessage(T).then(async g=>{if(g.success){const P=g.rows;if(P.length){if(P.forEach(M=>{var L,W,F,w,G;const U={isread:M.isread,isplay:M.isplay,unreadCount:M.unreadCount||0};Object.assign(M,JSONbigString.parse(M.msgbody),U),M.isDownLoad=!1,M.downLoadState={};const x=(L=M==null?void 0:M.ext)==null?void 0:L.attachment;let H="";if(x!=null&&x.att_video&&(H=(W=x==null?void 0:x.att_video)==null?void 0:W.resid),x!=null&&x.att_clouddisk&&(H=((F=x==null?void 0:x.att_clouddisk)==null?void 0:F.resid)||((w=x==null?void 0:x.att_clouddisk)==null?void 0:w.objectId)),x!=null&&x.att_cloudFolder&&(H=(G=x==null?void 0:x.att_cloudFolder)==null?void 0:G.resid),H){const S=_.find(I,re=>re.resId==H||re.objectId==H);S&&(M.isDownLoad=!0,M.downLoadState=S)}}),this.updateHistoryMessage({listKey:a,historyMessage:P}),await nextTick(),c){const M=Date.now(),U=M-7*24*60*60*1e3,x=P.filter(H=>H.from==this.loginId&&H.unreadCount==1&&H.chatType==ChatType.SINGLE&&H.time<=U&&!utils.isSameDay(H==null?void 0:H.checkMsgReadTime));if(x!=null&&x.length){let H=x.map(L=>L.id);console.log("list",H),x.forEach(L=>{this.updateMsgValue({conversationKey:L.to,messageId:L.id,message:{checkMsgReadTime:M}})}),this.sendCMDMessage({chatType:ChatType.SINGLE,to:String(a),from:String(this.loginId),action:"CMD_CHECK_MESSAGE_READ_ACK",ext:{list:H}})}}this.conversationList[a]||await this.gatherConversation(a)}}v(g)})}catch(I){v({success:!1}),console.error(I)}}})},updateHistoryMessage(a){const{listKey:m,historyMessage:n}=a,c=_.assign({},this.messageList);c[m]?(c[m].unshift(...n),c[m]=_.orderBy(_.uniqBy(c[m],"id"),"time","asc")):(c[m]=[],c[m]=_.orderBy(_.uniqBy(n,"id"),"time","asc")),this.messageList=c},async delOrRecallMessage(a){var T;const{type:m,key:n,mid:c,isPcRecall:l,updateStore:v,message:y}=a;if(m==="recall"&&(this.messageList[n]||await this.getHistoryMessage(n,50),this.messageList[n]&&await this.updateMsgValue({conversationKey:n,messageId:c,message:{isRecall:!0,recallTimestamp:new Date().getTime(),isPcRecall:l}})),m==="otherRecall")if(y&&isValidString(y.ext.reason)){this.updateSendErrorState({id:y.ext.msgId,to:y.from});const I=(this.messageList[n]??[]).find(g=>g.id===y.ext.msgId);this.createNewTips({msg:y.ext.reason,to:y.from,timeStamp:Date.now(),chatType:y.chatType,onlineState:y.onlineState,from:y.to,ext:{recallWithReason:!0,mid:y.ext.msgId,msgType:I==null?void 0:I.type}})}else await this.updateMsgValue({conversationKey:n,messageId:c,message:{type:"tips",msg:"",recallTimestamp:new Date().getTime(),isPcRecall:l}});if(m==="deleteMsg"){if(this.messageList[n]){const I=this.messageList[n],g=_.findIndex(this.messageList[n],P=>P.id===c);g>=0?(I.splice(g,1),this.messageList[n]=_.assign([],I),console.log("[store/message.ts] delete message success")):(this.recallCmdMap.set(c,{timestamp:Date.now()}),console.log("[store/message.ts] delete message failed, append to recallCmdMap"))}try{await window.MessageDbHelper.delOneMessage(c),(T=this.messageList[n])!=null&&T.length?await this.gatherConversation(n,{updateStore:!0,otherRecall:!0}):(await this.getHistoryMessage(n,50),await this.gatherConversation(n,{updateStore:!0,otherRecall:!0}))}catch(I){console.error(I)}}},async recallMessage(a,m){const{mid:n,to:c,chatType:l,isPcRecall:v,updateStore:y,ext:T}=a;if(v)return new Promise((I,g)=>{const P={action:"REVOKE_FLAG",chatType:l,ext:{msgId:n,...T},from:this.loginId,id:n,onlineState:1,time:new Date().getTime(),to:c,type:"cmd"};console.log("",P),ProxyCreateWebIM$1({}).sendMsg(P).then(async()=>{var M;this.delOrRecallMessage({type:"recall",key:c,mid:n,isPcRecall:v,updateStore:y}),await this.gatherConversation(c,{updateStore:y}),I("OK"),m&&(m==null?void 0:m.chatType)==ChatType.GROUP&&((M=m==null?void 0:m.ext)!=null&&M.attachment)&&await this.updateChatAttachmen(m.to,m,!1)}).catch(M=>{g(M)})});await this.delOrRecallMessage({type:"recall",key:c,mid:n,isPcRecall:v,updateStore:y}),await this.gatherConversation(c,{updateStore:y})},async delMessage(a,m){if(!a&&!m)return;const n=this.messageList[m],c=_.findIndex(this.messageList[m],l=>l.id===a);n.splice(c,1),this.messageList[m]=_.assign([],n),await window.MessageDbHelper.delOneMessage(a),await this.gatherConversation(m,{updateStore:!0,otherRecall:!0})},async delChattingRecords(a){this.messageList[a]=[],this.conversationList[a].latestMessage.msg="";const m=this.conversationList[a];let n={...m,unreadMessageNum:m.realUnreadMessageNum,fromId:m.fromInfo.fromId,latestMessageType:m.latestMessage.type,fromName:m.fromInfo.fromName,latestMessage:m.latestMessage.msg,latestMessageSendType:m.latestMessage.state,avatarUrl:m.conversationInfo.avatarUrl,name:m.conversationInfo.name,ext:JSON.stringify(m.ext),atMsgCounter:m.atMsgCounter,isRemind:m.isRemind,isReply:m.isReply,isCare:m.isCare,isNewNotice:m.isNewNotice,isNoDisturb:m.isNoDisturb,isSilent:m.isSilent,draft:m.draft};try{await window.MessageDbHelper.insertOrUpdateConversation(_.cloneDeep(n)),await window.MessageDbHelper.delAllMessageRecord(a)}catch(c){console.error(c)}},outerSendMessage(a){return new Promise((m,n)=>{var c;if(a.type=="cmd"){let l={...a},v=ProxyCreateWebIM$1({}).createMsg(l);console.log("[outerSendMessage] action:",v==null?void 0:v.action),ProxyCreateWebIM$1({}).sendMsg(v).then(y=>{console.log("[outerSendMessage] send success! serverMsgId:",y==null?void 0:y.serverMsgId),m("OK")}).catch(y=>{n(y)})}else{const l=T=>{n(T)},v=createMessage.createOptions({msgType:a.type,msgOptions:a},l),y=ProxyCreateWebIM$1({}).createMsg(v);console.log(`[outerSendMessage] msg(0..16): ${(c=y==null?void 0:y.msg)==null?void 0:c.slice(0,16)}, type: ${y==null?void 0:y.type}`),ProxyCreateWebIM$1({}).sendMsg(y).then(T=>{console.log("[outerSendMessage] send success! serverMsgId:",T==null?void 0:T.serverMsgId),m("OK")}).catch(T=>{n(T)})}})},saveMsg(a){return new Promise(async(m,n)=>{var g,P;const c=M=>n(M);a.msgOptions.ext?(a.msgOptions.ext.fromPuid=String(this.puid),a.msgOptions.ext.em_apns_ext={em_huawei_push_badge_class:"com.chaoxing.mobile.activity.SplashActivity"}):a.msgOptions.ext={fromPuid:String(this.puid),em_apns_ext:{em_huawei_push_badge_class:"com.chaoxing.mobile.activity.SplashActivity"}};const l=a.msgOptions.chatType==="singleChat"?this.selfUserInfo.name:(P=(g=this.conversationListData[a.msgOptions.to])==null?void 0:g.conversationInfo)==null?void 0:P.name;l&&(a.msgOptions.ext.em_apns_ext.em_push_title=l);let v="";if(a.msgOptions.chatType!==ChatType.GROUP)v=a.msgOptions.msg;else{const M=a.msgOptions.from;let U=M;if(M==this.loginId)U=this.selfUserInfo.name;else{const x=await window.RendererHelper.getUsersByTuids(M);x&&x.length>0&&(U=x[0].name)}v=`${U}: ${a.msgOptions.msg}`}if(v&&a.msgOptions.msg&&(a.msgOptions.ext.em_apns_ext.em_push_content=v),a.msgOptions.chatType==ChatType.GROUP){const M=GroupAppStore(),U=M.getGroupsInfos.description?JSONbigString.parse(M.getGroupsInfos.description):{};((U==null?void 0:U.groupType)===103||U.showRead&&U.showRead==1)&&(a.msgOptions.ext?a.msgOptions.ext.showRead=1:a.msgOptions.ext={showRead:1})}const y=createMessage.createOptions(a,c),T=ProxyCreateWebIM$1({}).createMsg(y);a!=null&&a.isAtt&&(T.sendType="upload");const I=createMessage.createMsgBody({msg:T});console.log(`[saveMsg] msgBody: ${safetyToJson(I)}`),await this.updateMessageList(I),await this.gatherConversation(I.to,{mid:I.id}),m({options:y,msg:T,msgBody:I})})},sendShowTypeMessage(a,m,n,c){const{msg:l,isFailed:v,onAfterSend:y=()=>{}}=a,{questionData:T={},tempMessageId:I=String(Date.now())}=c??{};return new Promise(async(g,P)=>{var M,U;if(n){let x=_.cloneDeep(l),H=x.to,L=x.id;this.updateMsgValue({conversationKey:H,messageId:L,message:{sendType:(M=x.ext)!=null&&M.uploadId?"upload":"sending"}}),this.conversationList[H].latestMessage.state="sending";return}if(v){let x=_.cloneDeep(l);this.updateSendErrorState(x),P()}else if(l.from==l.to&&l.to==this.loginId)try{await this.sendMsgToSelf(l),g("OK")}catch{P("error")}else{let x,H=l.id,L;try{L=await ProxyCreateWebIM$1({}).sendMsg(l),y(L),console.log(`[sendShowTypeMessage] serverMsgId: ${L==null?void 0:L.serverMsgId}`),this.changeConnectType(!0),H=L==null?void 0:L.serverMsgId,x="success",await this.updateSendSuccessState(l,{immediateUpdateDb:!0}),g("OK")}catch(S){console.error("[sendShowTypeMessage] error",safetyToJson(S)),await this.updateSendErrorState(l,{immediateUpdateDb:!0}),P(S),x="failed",(S==null?void 0:S.type)==507?(this.changeConnectType(!0),this.createNewTips({msg:"",from:String(this.loginId),timeStamp:new Date().getTime(),chatType:ChatType.GROUP,to:l.to})):[510,32,39,16].includes(S==null?void 0:S.type)&&this.changeConnectType(!1)}let W=_.cloneDeep(l),F=W.to,w=W.id;W.id=H,W.sendType=x,L&&L.message&&(console.log("localMessageTime",W.time,"serverMessageTime",L.message.time),W.time=L.message.time);const G=createMessage.createMsgBody({msg:W});G.type==MessageType.IMAGE&&(G.imUrl=G.url,delete G.url),console.log(`[sendShowTypeMessage] _msgBody: ${safetyToJson(G)}`),this.updateMsgValue({conversationKey:F,messageId:w,message:{...G}}),G.chatType==ChatType.GROUP&&x=="success"&&((U=G==null?void 0:G.ext)!=null&&U.attachment)&&await this.updateChatAttachmen(G.to,G,!0),x=="success"&&(this.addMessageToWebIm(G),this.isAIMessage&&await this.sendMessageToGPT(l),m&&await this.sendMessageToZHKF(l,{questionMessageId:W.id,questionData:T,tempMessageId:I}))}})},async updateChatAttachmen(a,m,n){var v,y;let c={baseUrl:"https://im.chaoxing.com",url:"/apis/message/updateChatAttachment",getParams:{chat_id:a},postParams:{attach_info:JSON.stringify(n?{add:[{attachment:m.ext.attachment,attachmentType:(v=m.ext.attachment)==null?void 0:v.attachmentType,msgId:m.id,name:(y=this.selfUserInfo)==null?void 0:y.name,send_time:m.time,status:1,sync:0,title:getAttachTitle(m.ext.attachment),topTime:0,tuid:this.loginId}]}:{delete:[{msgId:m.id}]})},tokenSign:!0},l=await window.MainWindowHelper.genRequest(c);console.log("",l)},async sendMessageToZHKF(a,m){var T,I,g,P,M,U;const{questionMessageId:n,questionData:c,tempMessageId:l}=m,v=(T=a.ext.atToInfo)==null?void 0:T.filter(x=>x.role===3)[0],y=await queryRobotInfo(a.to,v.puid);if(y!==void 0)this.sendMessageToAiAgent(a,{robotInfo:y,questionMessageId:n,questionData:c,tempMessageId:l});else{let x=(I=a.ext.atToInfo)==null?void 0:I.filter(w=>w.role===3)[0].puid,H=JSON.stringify({content:a.msg.replace(/@[^]+/g,"")}),L=JSON.stringify([{name:(g=this.selfUserInfo)==null?void 0:g.name,uid:(P=this.selfUserInfo)==null?void 0:P.uid,puid:(M=this.selfUserInfo)==null?void 0:M.puid}]),W={baseUrl:"https://im.chaoxing.com",url:"/apis/robot/getAnswerByRobot",getParams:{userPuid:a.ext.fromPuid},postParams:{name:(U=this.selfUserInfo)==null?void 0:U.name,robotUid:x,questionContent:H,groupId:a.to,atToInfo:L},tokenSign:!0},F=await window.MainWindowHelper.genRequest(W);console.log("",F)}},sendMessageToAiAgent(a,m){const{robotInfo:n,questionMessageId:c,questionData:l,tempMessageId:v}=m,{robotId:y,robotUid:T,robotTuid:I}=n,{name:g,puid:P,uid:M}=this.selfUserInfo??{},U=[{name:g,uid:String(M),puid:String(P)}],x=createReply({...a,id:c}),H={chatRobotInfo:{robotId:y,robotUid:T,robotTuid:I,atToInfo:U,to:a.to,chatType:a.chatType===ChatType.GROUP?0:1,tempMessageId:v,questionMessageId:c,replyInfo:x},keepHtml:!0};window.RendererHelper.sseChat(a.msg.replace(/@[^]+/g,""),{tempMessageId:v,robotUid:T,robotId:y,to:a.to,chatType:a.chatType,extParams:H,from:I,replyInfo:x,questionData:l})},async sendMessageToGPT(a){let m="";if(a.url){const v=new URL(a.url);v.host="a1-vip6.easemob.com:80",m=v.toString().replace("http","https"),console.log("newUrl",m)}let n={model:"gpt-3.5-turbo",messages:[{role:"user",content:a.msg||""}]};n=JSON.stringify(n);let c={baseUrl:"https://gpt.chaoxing.com",url:"/openai/v1/chat/completions2",postParams:{openai:n,ext:JSON.stringify({image_url:m||"",image_text:a.msg||""})},getParams:{puid:this.selfUserInfo.puid,fid:this.selfUserInfo.fid,imUsername:this.selfUserInfo.uid,msgId:a.id,msgType:a.type=="txt"?1:2,chatType:a.chatType=="singleChat"?0:1,chatId:this.chatTargetId},tokenSign:!0,allParamSign:!0};const l=await window.MainWindowHelper.genRequest(c);console.log("GPT",l),l.status==0&&Toast({content:l.message,duration:2e3})},addMessageToWebIm(a){var n,c,l,v,y;let m={baseUrl:"https://im.chaoxing.com",url:"/apis/message/addMessage",getParams:{isGroup:a.chatType==ChatType.SINGLE?1:0,hxMsgId:a.id,tuid:a.from,chatManId:setMessageKey(a,this.loginId)},postParams:{content:a.msg||"",ext:JSONbigString.stringify(a.ext)},tokenSign:!0};((c=(n=a==null?void 0:a.ext)==null?void 0:n.attachment)==null?void 0:c.attachmentType)==29&&(m.postParams.videoUrl=((y=(v=(l=a==null?void 0:a.ext)==null?void 0:l.attachment)==null?void 0:v.att_video)==null?void 0:y.url)||""),a.type==MessageType.IMAGE&&(m.postParams.imgUrl=(a==null?void 0:a.thumb)||""),window.MainWindowHelper.genRequest(m).then(T=>{console.log(`[addMessageToWebIm] result: ${T==null?void 0:T.result}, msg: ${T==null?void 0:T.msg}`)})},sendReadMessage(a,m,n=""){return new Promise((c,l)=>{const v={chatType:ChatType.SINGLE,type:m,to:a};m=="read"&&(v.id=n);const y=ProxyCreateWebIM$1({}).createMsg(v);ProxyCreateWebIM$1({}).sendMsg(y).then(T=>{c("OK")}).catch(T=>{((T==null?void 0:T.type)==510||(T==null?void 0:T.type)==32||(T==null?void 0:T.type)==39||(T==null?void 0:T.type)==16)&&this.changeConnectType(!1),l(T)})})},sendCMDMessage(a,m=!1){return console.debug("[store/message.ts] sendCMDMessage ext:",a.ext),console.log("[store/message.ts] sendCMDMessage action:",a.action),new Promise((n,c)=>{const l={type:"cmd",...a},v=ProxyCreateWebIM$1({}).createMsg(l);console.log("[store/message.ts] sendCMDMessage",safetyToJson(v)),ProxyCreateWebIM$1({}).sendMsg(v).then(y=>{console.log(`[sendCMDMessage] send success! serverMsgId: ${y==null?void 0:y.serverMsgId}`),n(m?y:"OK")}).catch(y=>{((y==null?void 0:y.type)==510||(y==null?void 0:y.type)==32||(y==null?void 0:y.type)==39||(y==null?void 0:y.type)==16)&&this.changeConnectType(!1),c(y)})})},updateMsgValueMem(a){const{conversationKey:m,messageId:n,message:c}=a;if(!m||!n)return;let l;if(this.messageList[m])for(let v in this.messageList[m]){const y=this.messageList[m][v];if(y.id===n){this.messageList[m][v]=Object.assign(y,c),l=this.messageList[m][v];break}}return l},async updateMsgValue(a){const{messageId:m}=a,n=this.updateMsgValueMem(a);await window.MessageDbHelper.updateMsgBody(_.cloneDeep(n),m)},setAutoReconnectNumMax(a){this.autoReconnectNumMax=a},changeConnectType(a){a&&(this.autoReconnectNumMax=5,this.showConnectErrorBox=!0),this.connectOrNot=a},resetAtMsgCounter(a){this.conversationList[this.chatTargetId].atMsgCounter=0,window.MessageDbHelper.updateatMsgCounterStatus(a,0)},async sendMsgToSelf(a){console.log("[store/message.ts] call sendMsgToSelf");let m;try{if(a.type=="img"?m=await this.sendMsgImageToSelf(a):m=await this.sendMsgTextToSelf(a),m&&(m==null?void 0:m.result)==1){let n=_.cloneDeep(a);this.updateSendSuccessState(n);let c=n.to,l=n.id,v=m.data.data;n.id=v[n.to],n.sendType="success";const y=createMessage.createMsgBody({msg:n});y.type==MessageType.IMAGE&&(y.imUrl=y.url,delete y.url),this.updateMsgValue({conversationKey:c,messageId:l,message:{...y}})}else console.error("[store/message.ts] sendMsgToSelf error"),this.updateSendErrorState(a)}catch(n){console.error("[store/message.ts] sendMsgToSelf error:",n),this.updateSendErrorState(a)}},sendMsgTextToSelf(a){let m=JSON.stringify({type:"txt",msg:a.msg});return new Promise((n,c)=>{let l={baseUrl:"https://learn.chaoxing.com",url:"/apis/im/sendMsgForClent",getParams:{t:"1"},postParams:{type:"txt",msg:m,ext:JSON.stringify(a.ext)},genSign:!0,tokenSign:!0};window.MainWindowHelper.genRequest(l).then(v=>{n(v)}).catch(v=>{c(v)})})},async sendMsgImageToSelf(a){const m=await utils.blobToBase64(a.file.data);return new Promise((n,c)=>{let l={baseUrl:"https://learn.chaoxing.com",url:"/apis/im/sendMsgImage",getParams:{target_type:"users",fromuid:this.puid},postParams:{users:this.puid,ext:JSON.stringify(a.ext)},fileParms:{file:{fileName:`img_${new Date().getTime()}.png`,base64Data:m}},genSign:!0,tokenSign:!0};window.MainWindowHelper.genRequest(l).then(v=>{n(v)}).catch(v=>{c(v)})})},async handleCheckMsgReadReply(a){var c;const{ext:m}=a,n=setMessageKey(a,this.loginId);for(let l of m.list)l.readAcked==1&&((c=this.messageList[n])!=null&&c.length&&this.messageList[n].forEach(v=>{v.id==l.messageId&&(v.unreadCount=0)}),await this.updateMsgValue({conversationKey:n,messageId:l.messageId,message:{unreadCount:0}}))},async handleCheckMsgRead(a){const m=setMessageKey(a,this.loginId),{ext:n}=a;let c=await window.MessageDbHelper.queryMsgCheckRead(m,n.list);if(console.log("",c),c.success){let v=c.rows.map(y=>({messageId:y.id,readAcked:y.isread??-1}));console.log("checkRes",v),this.sendCMDMessage({chatType:ChatType.SINGLE,to:m,from:String(this.loginId),action:"CMD_CHECK_MESSAGE_READ_ACK_REPLY",ext:{list:v}})}},async updateSendErrorState(a,m){const{immediateUpdateDb:n=!1}=m??{};this.conversationList[a.to].latestMessage.state="failed",await this.updateMsgValue({conversationKey:a.to,messageId:a.id,message:{sendType:"failed"}}),n===!0?await this.updateConversationDataInDb(a.to,{latestMessageSendType:"success"}):a.to!=this.chatTargetId&&(console.log("failed",a.to,this.chatTargetId),await this.updateConversationDataInDb(a.to,{latestMessageSendType:"failed"}))},async updateSendSuccessState(a,m){const{immediateUpdateDb:n=!1}=m??{};this.conversationList[a.to].latestMessage.state="success",await this.updateMsgValue({conversationKey:a.to,messageId:a.id,message:{sendType:"success"}}),n===!0?await this.updateConversationDataInDb(a.to,{latestMessageSendType:"success"}):a.to!=this.chatTargetId&&(console.log("success",a.to,this.chatTargetId),await this.updateConversationDataInDb(a.to,{latestMessageSendType:"success"}))},async queryOldTopdata(){let a=[];const m=await window.MessageDbHelper.queryTopConversationData();console.log(" result",m),m.success&&m.rows.length>0&&(m.rows.forEach(c=>{delete c.id}),a.push(...m.rows),m.rows.forEach(async c=>{try{await window.MessageDbHelper.updateConversationTop(c.conversationKey,0,0)}catch(l){console.error(l)}}));const n=await window.MessageDbHelper.queryTopMsgFolders();if(console.log(" msgFolderList",n),n.success&&n.rows.length>0&&(a.push(...n.rows),n.rows.forEach(c=>{this.updateMsgFolderInfo(c.id,{isTop:0})})),this.verifyConversation.isTop==1){let c={...this.verifyConversation};a.push(c),this.verifyConversation.isTop=0,this.verifyConversation.topTime=0,console.log("this.verifyConversation",this.verifyConversation)}if(this.replyConversation.isTop==1){let c={...this.replyConversation};a.push(c),this.replyConversation.isTop=0,this.replyConversation.topTime=0}if(this.groupConversation.isTop==1){let c={...this.groupConversation};a.push(c),this.groupConversation.isTop=0,this.groupConversation.topTime=0}if(this.cxofficialConversation.isTop==1){let c={...this.cxofficialConversation};a.push(c),this.cxofficialConversation.isTop=0,this.cxofficialConversation.topTime=0}if(console.log("",a),a.length>0){let c=_.sortBy(a,[y=>"id"in y?-Math.max(y.latestSendTime||y.updateTime):-Math.max(y==null?void 0:y.latestSendTime,(y==null?void 0:y.draftTime)||0,(y==null?void 0:y.topTime)||0)]);console.log("",c),c.forEach(y=>{y.conversationKey in AffixConversationTypeToId&&(y.conversationKey=AffixConversationTypeToId[y.conversationKey])});let l=1,v=1;c.forEach(async y=>{var T,I,g;((T=y.id)==null?void 0:T.length)>4?l=3:((I=y.conversationKey)==null?void 0:I.length)>13?l=2:((g=y.conversationKey)==null?void 0:g.length)>7?l=1:l=4,await window.MessageDbHelper.insertOrUpdateTopConversation({sessionId:y.conversationKey||y.id,type:l,operateType:1,sort:v++,isSync:2})})}},async queryNewTopdataIsNoSync(){const a=await window.MessageDbHelper.queryTopConversationIsSync();if(console.log(" result",a),a.rows.reverse(),a.success&&a.rows.length>0){let m=await this.updateConversationIsTop(this.puid,JSON.stringify(a.rows));m&&m.result==1&&a.rows.forEach(async n=>{n.operateType==2?await window.MessageDbHelper.deleteNewTopConversation(n.sessionId):(n.isSync=1,await window.MessageDbHelper.updateGroupTopIsSync(n.sessionId))})}setTimeout(async()=>{await this.getConversationIsTop(this.puid)})},async updateTop(a,m,n,c){let l={sessionId:a,type:m,operateType:n,time:c,isSync:2};try{await window.MessageDbHelper.insertOrUpdateTopConversation(l);let v=await this.updateConversationIsTop(this.puid,JSON.stringify([l]));v&&(v==null?void 0:v.result)==1&&(n==2?await window.MessageDbHelper.deleteNewTopConversation(a):(l.isSync=1,await window.MessageDbHelper.insertOrUpdateTopConversation(l)))}catch(v){console.error(v)}},async updateConversationIsTop(a,m){return new Promise((n,c)=>{let l={baseUrl:"https://im.chaoxing.com",url:"/apis/message/updateSessionTop",getParams:{puid:a},postParams:{operateArrayStr:m},tokenSign:!0};window.MainWindowHelper.genRequest(l).then(async v=>{console.log("",v),await this.queryAllTopConversation(),n(v)}).catch(v=>{c(v)})})},async getConversationIsTop(a){let m={baseUrl:"https://im.chaoxing.com",url:"/apis/message/getSessionTopList",getParams:{puid:a},tokenSign:!0},n=await window.MainWindowHelper.genRequest(m);if(console.log("",n),n.result==1){if(await window.MessageDbHelper.deleteAllTopConversation(),n.data.length>0){n.data.forEach((l,v)=>{l.originalIndex=v}),n.data.sort((l,v)=>l.sort!==v.sort?l.sort-v.sort:l.insertTime!==v.insertTime?v.insertTime-l.insertTime:v.originalIndex-l.originalIndex),n.data.forEach(l=>{delete l.originalIndex});let c=n.data.map((l,v)=>({sessionId:l.sessionId,type:l.type,time:l.insertTime,operateType:1,isSync:1,sort:v+1}));for(let l of c)await window.MessageDbHelper.insertOrUpdateTopConversation(l)}await this.queryAllTopConversation()}},async queryAllTopConversation(){let a=1;const m=await window.MessageDbHelper.queryNewTopConversation();console.debug(" result",m),m.success&&(this.topConversation=m.rows,this.topConversation.length>0&&(this.topConversation.sort((n,c)=>{const l=n.sort!==void 0&&n.sort!==0,v=c.sort!==void 0&&c.sort!==0;return l&&!v?1:!l&&v?-1:l&&v?n.sort-c.sort:c.time-n.time}),this.topConversation.forEach(n=>{n.sort=a++,n.sessionId.length<4&&(n.sessionId=IdToAffixConversationType[n.sessionId]||n.sessionId)})))},async queryFolderConversation(a){try{const m=await window.MessageDbHelper.queryFolderConversation(a);return console.log("[store/message.ts][queryFolderConversation]",m.success),m}catch(m){console.log(m)}},setIsContactDbLoaded(a){this.isContactDbLoaded=a},sendWindowShakeMsg(a){const{to:m,from:n,ext:c}=a,l={to:m,from:n,type:"txt",msg:`[${t("message.windowShake")}]`,ext:buildWindowShakeMessageExt(c)},v=ProxyCreateWebIM$1().createMsg(l);return ProxyCreateWebIM$1().sendMsg(v)},getSingleChatFullName(a){var m,n;return(n=(m=this.conversationListData[a])==null?void 0:m.conversationInfo)==null?void 0:n.name},createWindowShakeTip(a){const{msg:m,ext:n={},to:c,from:l,timeStamp:v}=a;return this.addNewTips({onlineState:void 0,chatType:"singleChat",to:c,from:l,id:`-1${v}`,msg:m,ext:{fromPuid:n.fromPuid,...n??{}},type:"tips",time:v})},async getSilentModeForConversation(a){try{return await ProxyCreateWebIM$1().getSilentModeForConversation(a)}catch(m){console.error(":",m)}},getPuidByConversationKey(a){return Number(this.conversationListData[a].puid)},getConversationOrigin(a){var m;return(m=this.conversationList[a])==null?void 0:m.origin},updateConversationOrigin(a,m){return!m||!this.conversationList[a]?!1:(this.conversationList[a].origin=m,!0)},async deleteTempMessage(a,m){console.log("[message.ts] deleteTempMessage",a,m);const n={db:!1,memory:!1};return!a||!m?(console.warn("[message.ts] deleteTempMessage: conversationKey or messageId is empty"),n):(Array.isArray(this.messageList[a])&&lodashExports.remove(this.messageList[a],v=>v.id===m).length>0&&(n.memory=!0),(await window.MessageDbHelper.delOneMessage(m)).success?n.db=!0:console.error("[message.ts] deleteTempMessage: Failed to delete message from DB"),n)}}});export{defaultCover as $,queryGroupOwnerFromDb as A,isGroupChainMessage as B,CLEAR_MESSAGE_RED_DOT_TIME$1 as C,folderIcon as D,defaultCloud as E,defaultImg as F,GroupAppStore as G,defaultVideo as H,INIT_GROUP_NAME as I,JSONbigString as J,defaultIcon as K,defaultAudio as L,MessageAppStore as M,defaultPDF as N,defaultTXT as O,ProxyCreateWebIM$1 as P,defaultPPT as Q,ROBOT_MSG_CONTENT as R,SYNC_RED_DOT_CMD_MAX_AGE as S,defaultPDZ as T,defaultExcel as U,defaultExe as V,WebIM as W,defaultWord as X,defaultEpub as Y,purify as Z,renderAtt as _,isMyCares as a,renderFileSize as a0,ONLINE_FILE_STATUS as a1,extractFiles as a2,renderLongFileName as a3,isTipMessage as a4,defaultCover$1 as a5,getReplyContent as a6,ATTACHMENT_FILE as a7,saveAsFile as a8,saveAsVideo as a9,uploadFile as aA,FORWARD_PAGE_URL as aB,isServerRobot as aC,getGroupChainText as aD,TEXT_SEPARATOR as aE,HTML_SEPARATOR as aF,formatFrom as aG,getServerRobotMsg as aH,AttWeb as aI,isRobotRichTextResponse as aJ,createReply as aK,isRobotMessage as aL,forwardText as aM,isLocalRobot as aN,forwardAudio as aO,defaulPlayIcon as aP,defaultWebIcon as aQ,FILE_TYPE as aR,isSelfSend as aS,isCanAttForward as aa,forwardAtt as ab,downloadFile as ac,onClickOutside as ad,getAttachTitle as ae,forwardImg as af,copyAtt as ag,useDebounceFn as ah,getMyCurriculum as ai,getSycnClass as aj,addSyncClass as ak,getSyncClass as al,renderSpeed as am,formatRemainingTime as an,useLocalStorage as ao,uploadImg as ap,openSelectCollaborativeFileWindow as aq,buildWindowShakeMessageExt as ar,getMessageSelections as as,mergeForward as at,forwardOneByOne as au,isSendSuccessMessage as av,LetterLogo as aw,NoticeLogo as ax,onKeyStroke as ay,useEventListener as az,benzAMRRecorder as b,isAtMsg as c,isReplyMsg as d,createConversation as e,isWindowShakeMessage as f,getOriginInfo as g,hasOriginInfo as h,isNoDisturb as i,squareCourseInfo as j,handleLastMsgContent as k,RECALL_CMD_MAX_AGE as l,menuItemCreator as m,CHECK_CMD_CACHE_EXPIRE_INTERVAL as n,RobotStreamStatus as o,isRobotLLMResponse as p,isRobotIFrameResponse as q,isRobotMenuResponse as r,setMessageKey as s,isRobotTextResponse as t,useVirtualList as u,isJsonAnswer as v,isRobotJsonResponse as w,isRobotTaskFlowResponse as x,createReplyPcInfoCMDExt as y,getVideoUrl as z};
