import"./base-82955267.js";/* empty css                     */import{D as g}from"./index-d3d722e6.js";import{E as x}from"./index-853a0f6e.js";import{a as k,r as p,o as w,b as d,e as s,m as f,I as C,f as o,ao as P,l as _,F as U,g as V}from"./index-26603ea5.js";/* empty css                   */import"./index-7e6c4fb9.js";import"./vnode-45baa450.js";import"./index-12f9ba11.js";import"./aria-60e0cdc6.js";import"./index-952b158c.js";import"./icon-803f5cc0.js";import"./index-e5f0a9f0.js";import"./_baseGet-ad9634b7.js";import"./event-9519ab40.js";import"./index-15f48857.js";import"./index-57013d5d.js";import"./index-08289d2b.js";import"./use-global-config-c67545e0.js";import"./index-f81182f6.js";/* empty css                                                              */import"./index-9c66cebd.js";const D={class:"process_view"},S=s("div",{class:"process_top"},"CPU监视中心",-1),F={class:"process_content"},B=P('<div class="process_header"><div class="process_id">进程id</div><div class="process_name">进程名称</div><div class="process_type">进程类型</div><div class="process_cpu">CPU使用率</div><div class="process_memory">内存</div><div class="operate">操作</div></div>',1),E={class:"process_id"},I={class:"process_name"},N={class:"process_type"},$={class:"process_cpu"},A={class:"process_memory"},H=["onClick"],L={class:"process_bottom"},R=s("div",{class:"system"},[s("span",null,"系统信息："),s("span")],-1),T={class:"system_cpu"},z=s("span",null,"系统CPU参数：",-1),j={class:"system_cpu"},q=s("span",null,"CPU核心数：",-1),G={class:"memory_total"},J=s("span",null,"总内存：",-1),K={class:"memory_total_rate"},O=s("span",null,"app内存使用：",-1),Q={class:"memory_total_rate"},W=s("span",null,"app CPU使用率：",-1),X={class:"res"},gs=k({__name:"index",setup(Y){const n=p(!1),l=p({}),r=p([]),t=p({appVersion:"",arch:"",cpu:{},cpuCount:0,totalMemory:0,appMemory:0,appCpu:0});w(()=>{window.RendererHelper.on("appMetrics",i=>{console.debug("appMetrics:",i),r.value=i.proMetrics,t.value=i.sysInfo})});const M=i=>{n.value=!0;let a=r.value.filter(c=>c.pid===i);l.value=a[0],console.log(l.value)},b=()=>{window.RendererHelper.sendToMainProcess("_startCheckAppMetrics",5*60*1e3)};return(i,a)=>{var u,v,m,h,y;const c=x;return _(),d("div",D,[s("div",null,[s("button",{onClick:a[0]||(a[0]=e=>b())},"开启监控")]),S,s("div",F,[B,f(c,{ref:"atscrollbar","max-height":"300px"},{default:C(()=>[(_(!0),d(U,null,V(r.value,e=>(_(),d("div",{class:"process_body",key:e.pid},[s("div",E,o(e.pid),1),s("div",I,o(e.webTag),1),s("div",N,o(e.type),1),s("div",$,o(e.cpu.percentCPUUsage.toFixed(3)+"%"),1),s("div",A,o(Math.floor(e.memory.workingSetSize/1024)+"M"),1),s("div",{class:"operate",onClick:Z=>M(e.pid)},"查看详情",8,H)]))),128))]),_:1},512)]),s("div",L,[R,s("div",T,[z,s("span",null,o((u=t.value)==null?void 0:u.cpu),1)]),s("div",j,[q,s("span",null,o((v=t.value)==null?void 0:v.cpuCount),1)]),s("div",G,[J,s("span",null,o(Math.floor(((m=t.value)==null?void 0:m.totalMemory)/1024/1024)+"M"),1)]),s("div",K,[O,s("span",null,o(Math.floor(((h=t.value)==null?void 0:h.appMemory)/1024)+"M"),1)]),s("div",Q,[W,s("span",null,o(((y=t.value)==null?void 0:y.appCpu.toFixed(3))+"%"),1)])]),f(g,{visible:n.value,width:"536","bottom-border":!1,bottomVisible:!1,title:"详情",options:l.value,onClose:a[1]||(a[1]=e=>n.value=!1)},{default:C(()=>[s("div",X,[s("pre",null,""+o(l.value)+`
                `,1)])]),_:1},8,["visible","options"])])}}});export{gs as default};
