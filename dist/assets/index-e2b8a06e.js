import"./base-82955267.js";import{E as v}from"./el-button-bd85f610.js";import{a as w,u as g,c as h,r as s,o as S,h as n,b as y,m as d,e as p,f as c,I as M,p as x,l as f,J as I,_ as P,q as C}from"./index-26603ea5.js";import"./index-952b158c.js";import"./index-f81182f6.js";import"./use-global-config-c67545e0.js";import"./index-57013d5d.js";import"./index-e5f0a9f0.js";import"./_baseGet-ad9634b7.js";import"./icon-803f5cc0.js";import"./use-form-common-props-325f2441.js";import"./index-08289d2b.js";import"./constants-84857360.js";const k={key:0,class:"privacy-mask"},H={class:"title"},R={class:"content"},E=w({__name:"index",setup(T){const{t:r}=g(),l=h(()=>i.value!==!0&&o.value&&a.value),o=s(!1),a=s(!1),i=s(!1);function u(){window.RendererHelper.setTempStore("userExitedPrivacyProtection",!0)}return S(async()=>{try{o.value=await window.RendererHelper.getTempStore("rtcScreenShareContainMainWindow"),console.log("onMounted:isSharingMainWindow",o.value),window.RendererHelper.onStoreDataChanged("rtcScreenShareContainMainWindow",e=>{console.log("rtcScreenShareContainMainWindow changed:",e),o.value=e});const t=await window.RendererHelper.getTempStore("currentMenuItemId");console.log("onMounted:currentMenuItemId",t),a.value=t.id==="tab_message",window.RendererHelper.onStoreDataChanged("currentMenuItemId",e=>{console.log("currentMenuItemId changed:",e),e==="tab_message"&&(a.value=!0)}),i.value=await window.RendererHelper.getTempStore("userExitedPrivacyProtection")??!1,window.RendererHelper.onStoreDataChanged("userExitedPrivacyProtection",e=>{i.value=e}),window.RendererHelper.on("stopScreenShare",()=>{console.log("stopScreenShare"),window.RendererHelper.setTempStore("userExitedPrivacyProtection",!1)})}catch(t){console.error(t)}}),(t,e)=>{const m=P,_=v;return n(l)?(f(),y("div",k,[d(m,{"icon-class":"privacy-protection",width:"70px",height:"70px"}),p("div",H,c(n(r)("privacyMask.title")),1),p("div",R,c(n(r)("privacyMask.content")),1),d(_,{onClick:u,style:{"margin-top":"30px"},type:"primary"},{default:M(()=>[I(c(n(r)("privacyMask.exit")),1)]),_:1})])):x("",!0)}}});const K=C(E,[["__scopeId","data-v-7711308e"]]);export{K as default};
